function addLoadingClass(){bodyElement.addClass(loadingClass)}function removeBodyClasses(){bodyElement.removeClass(loadingClass),bodyElement.removeClass(errorClass)}function addErrorClass(){removeBodyClasses(),bodyElement.addClass(errorClass)}function isPromise(a){return isObject(a)&&isFunction(a.then)}function checkConfig(a){if(!isObject(a))throw new Error("Bootstrap configuration must be an object.");if(!isString(a.module))throw new Error("'config.module' must be a string.");if(a.resolve&&a.moduleResolves)throw new Error("Bootstrap configuration can contain either 'resolve' or 'moduleResolves' but not both");if(a.resolve&&!isObject(a.resolve))throw new Error("'config.resolve' must be an object.");if(a.bootstrapConfig&&!isObject(a.bootstrapConfig))throw new Error("'config.bootstrapConfig' must be an object.");if(a.moduleResolves&&!isArray(a.moduleResolves))throw new Error("'config.moduleResolves' must be an array.");if(forEach(a.moduleResolves,function(a){if(!a.module)throw new Error("A 'moduleResolve' configuration item must contain a 'module' name.");if(!isObject(a.resolve))throw new Error("'moduleResolve.resolve' must be an object.")}),angular.isDefined(a.onError)&&!isFunction(a.onError))throw new Error("'config.onError' must be a function.")}function provideRootElement(a,b){b=angular.element(b),a.unshift(["$provide",function(a){a.value("$rootElement",b)}])}function createInjector(a,b){var c=["ng"];return isString(a)?c.push(a):isArray(a)&&(c=c.concat(a)),provideRootElement(c,b),angular.injector(c,b)}function doBootstrap(a,b,c){var d=$q.defer();return angular.element(document).ready(function(){angular.bootstrap(a,[b],c),removeBodyClasses(),d.resolve(!0)}),d.promise}function bootstrap(a){function b(a,b,c){var d;if("UserProfile"!=b){if(l.push({name:b,moduleName:c||h}),!isFunction(a)&&!isArray(a))throw new Error("Resolve for '"+b+"' is not a valid dependency injection format.");if(d=e.instantiate(a),!isPromise(d))throw new Error("Resolve function for '"+b+"' must return a promise.");j.push(d)}else d=e.instantiate(a),k.push(d)}function c(a){return forEach(a,function(a,b){var c=a&&a.data?a.data:a,d=l[b].moduleName,e=l[b].name;angular.module(d).constant(e,c)}),doBootstrap(g,h,m)}function d(a){addErrorClass(),isFunction(f.onError)&&f.onError(a)}var e,f=a||{},g=f.element,h=f.module,i=f.injectorModules||[],j=[],k=[],l=[],m=f.bootstrapConfig;bodyElement=angular.element(document.body),addLoadingClass(),checkConfig(f),e=createInjector(i,g),$q=e.get("$q"),f.moduleResolves?forEach(f.moduleResolves,function(a,c){forEach(a.resolve,function(a,d){b(a,d,f.moduleResolves[c].module)})}):forEach(f.resolve,function(a,c){b(a,c)}),$q.all(j).then(c,d)}if(!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function c(a){var b="length"in a&&a.length,c=_.type(a);return"function"===c||_.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}function d(a,b,c){if(_.isFunction(b))return _.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return _.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(ha.test(b))return _.filter(b,a,c);b=_.filter(b,a)}return _.grep(a,function(a){return U.call(b,a)>=0!==c})}function e(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function f(a){var b=oa[a]={};return _.each(a.match(na)||[],function(a,c){b[c]=!0}),b}function g(){Z.removeEventListener("DOMContentLoaded",g,!1),a.removeEventListener("load",g,!1),_.ready()}function h(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=_.expando+h.uid++}function i(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(ua,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:ta.test(c)?_.parseJSON(c):c}catch(e){}sa.set(a,b,c)}else c=void 0;return c}function j(){return!0}function k(){return!1}function l(){try{return Z.activeElement}catch(a){}}function m(a,b){return _.nodeName(a,"table")&&_.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function n(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function o(a){var b=Ka.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function p(a,b){for(var c=0,d=a.length;d>c;c++)ra.set(a[c],"globalEval",!b||ra.get(b[c],"globalEval"))}function q(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(ra.hasData(a)&&(f=ra.access(a),g=ra.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)_.event.add(b,e,j[e][c])}sa.hasData(a)&&(h=sa.access(a),i=_.extend({},h),sa.set(b,i))}}function r(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&_.nodeName(a,b)?_.merge([a],c):c}function s(a,b){var c=b.nodeName.toLowerCase();"input"===c&&ya.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function t(b,c){var d,e=_(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:_.css(e[0],"display");return e.detach(),f}function u(a){var b=Z,c=Oa[a];return c||(c=t(a,b),"none"!==c&&c||(Na=(Na||_("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=Na[0].contentDocument,b.write(),b.close(),c=t(a,b),Na.detach()),Oa[a]=c),c}function v(a,b,c){var d,e,f,g,h=a.style;return c=c||Ra(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||_.contains(a.ownerDocument,a)||(g=_.style(a,b)),Qa.test(g)&&Pa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function w(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function x(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Xa.length;e--;)if(b=Xa[e]+c,b in a)return b;return d}function y(a,b,c){var d=Ta.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function z(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=_.css(a,c+wa[f],!0,e)),d?("content"===c&&(g-=_.css(a,"padding"+wa[f],!0,e)),"margin"!==c&&(g-=_.css(a,"border"+wa[f]+"Width",!0,e))):(g+=_.css(a,"padding"+wa[f],!0,e),"padding"!==c&&(g+=_.css(a,"border"+wa[f]+"Width",!0,e)));return g}function A(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ra(a),g="border-box"===_.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=v(a,b,f),(0>e||null==e)&&(e=a.style[b]),Qa.test(e))return e;d=g&&(Y.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+z(a,b,c||(g?"border":"content"),d,f)+"px"}function B(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=ra.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&xa(d)&&(f[g]=ra.access(d,"olddisplay",u(d.nodeName)))):(e=xa(d),"none"===c&&e||ra.set(d,"olddisplay",e?c:_.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function C(a,b,c,d,e){return new C.prototype.init(a,b,c,d,e)}function D(){return setTimeout(function(){Ya=void 0}),Ya=_.now()}function E(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=wa[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function F(a,b,c){for(var d,e=(cb[b]||[]).concat(cb["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function G(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},n=a.style,o=a.nodeType&&xa(a),p=ra.get(a,"fxshow");c.queue||(h=_._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,_.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],j=_.css(a,"display"),k="none"===j?ra.get(a,"olddisplay")||u(a.nodeName):j,"inline"===k&&"none"===_.css(a,"float")&&(n.display="inline-block")),c.overflow&&(n.overflow="hidden",l.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],$a.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(o?"hide":"show")){if("show"!==e||!p||void 0===p[d])continue;o=!0}m[d]=p&&p[d]||_.style(a,d)}else j=void 0;if(_.isEmptyObject(m))"inline"===("none"===j?u(a.nodeName):j)&&(n.display=j);else{p?"hidden"in p&&(o=p.hidden):p=ra.access(a,"fxshow",{}),f&&(p.hidden=!o),o?_(a).show():l.done(function(){_(a).hide()}),l.done(function(){var b;ra.remove(a,"fxshow");for(b in m)_.style(a,b,m[b])});for(d in m)g=F(o?p[d]:0,d,l),d in p||(p[d]=g.start,o&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function H(a,b){var c,d,e,f,g;for(c in a)if(d=_.camelCase(c),e=b[d],f=a[c],_.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=_.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function I(a,b,c){var d,e,f=0,g=bb.length,h=_.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Ya||D(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:_.extend({},b),opts:_.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:Ya||D(),duration:c.duration,tweens:[],createTween:function(b,c){var d=_.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(H(k,j.opts.specialEasing);g>f;f++)if(d=bb[f].call(j,a,k,j.opts))return d;return _.map(k,F,j),_.isFunction(j.opts.start)&&j.opts.start.call(a,j),_.fx.timer(_.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function J(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(na)||[];if(_.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function K(a,b,c,d){function e(h){var i;return f[h]=!0,_.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||g||f[j]?g?!(i=j):void 0:(b.dataTypes.unshift(j),e(j),!1)}),i}var f={},g=a===tb;return e(b.dataTypes[0])||!f["*"]&&e("*")}function L(a,b){var c,d,e=_.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&_.extend(!0,a,d),a}function M(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function N(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function O(a,b,c,d){var e;if(_.isArray(b))_.each(b,function(b,e){c||yb.test(a)?d(a,e):O(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==_.type(b))d(a,b);else for(e in b)O(a+"["+e+"]",b[e],c,d)}function P(a){return _.isWindow(a)?a:9===a.nodeType&&a.defaultView}var Q=[],R=Q.slice,S=Q.concat,T=Q.push,U=Q.indexOf,V={},W=V.toString,X=V.hasOwnProperty,Y={},Z=a.document,$="2.1.4",_=function(a,b){return new _.fn.init(a,b)},aa=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ba=/^-ms-/,ca=/-([\da-z])/gi,da=function(a,b){return b.toUpperCase()};_.fn=_.prototype={jquery:$,constructor:_,selector:"",length:0,toArray:function(){return R.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:R.call(this)},pushStack:function(a){var b=_.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return _.each(this,a,b)},map:function(a){return this.pushStack(_.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(R.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:T,sort:Q.sort,splice:Q.splice},_.extend=_.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||_.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(_.isPlainObject(d)||(e=_.isArray(d)))?(e?(e=!1,f=c&&_.isArray(c)?c:[]):f=c&&_.isPlainObject(c)?c:{},g[b]=_.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},_.extend({expando:"jQuery"+($+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===_.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!_.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"!==_.type(a)||a.nodeType||_.isWindow(a)?!1:a.constructor&&!X.call(a.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?V[W.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=_.trim(a),a&&(1===a.indexOf("use strict")?(b=Z.createElement("script"),b.text=a,Z.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(ba,"ms-").replace(ca,da)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,d){var e,f=0,g=a.length,h=c(a);if(d){if(h)for(;g>f&&(e=b.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(aa,"")},makeArray:function(a,b){var d=b||[];return null!=a&&(c(Object(a))?_.merge(d,"string"==typeof a?[a]:a):T.call(d,a)),d},inArray:function(a,b,c){return null==b?-1:U.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,d){var e,f=0,g=a.length,h=c(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,d),null!=e&&i.push(e);else for(f in a)e=b(a[f],f,d),null!=e&&i.push(e);return S.apply([],i)},guid:1,proxy:function(a,b){var c,d,e;return"string"==typeof b&&(c=a[b],b=a,a=c),_.isFunction(a)?(d=R.call(arguments,2),e=function(){return a.apply(b||this,d.concat(R.call(arguments)))},e.guid=a.guid=a.guid||_.guid++,e):void 0},now:Date.now,support:Y}),_.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){V["[object "+b+"]"]=b.toLowerCase()});var ea=function(a){function b(a,b,c,d){var e,f,g,h,i,j,l,n,o,p;if((b?b.ownerDocument||b:O)!==G&&F(b),b=b||G,c=c||[],h=b.nodeType,"string"!=typeof a||!a||1!==h&&9!==h&&11!==h)return c;if(!d&&I){if(11!==h&&(e=sa.exec(a)))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&M(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return $.apply(c,b.getElementsByTagName(a)),c;if((g=e[3])&&v.getElementsByClassName)return $.apply(c,b.getElementsByClassName(g)),c}if(v.qsa&&(!J||!J.test(a))){if(n=l=N,o=b,p=1!==h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=z(a),(l=b.getAttribute("id"))?n=l.replace(ua,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=ta.test(a)&&k(b.parentNode)||b,p=j.join(",")}if(p)try{return $.apply(c,o.querySelectorAll(p)),c}catch(q){}finally{l||b.removeAttribute("id")}}}return B(a.replace(ia,"$1"),b,c,d)}function c(){function a(c,d){return b.push(c+" ")>w.cacheLength&&delete a[b.shift()],a[c+" "]=d}var b=[];return a}function d(a){return a[N]=!0,a}function e(a){var b=G.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function f(a,b){for(var c=a.split("|"),d=a.length;d--;)w.attrHandle[c[d]]=b}function g(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||V)-(~a.sourceIndex||V);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function h(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function i(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function j(a){return d(function(b){return b=+b,d(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function k(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function l(){}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=Q++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[P,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[N]||(b[N]={}),(h=i[d])&&h[0]===P&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,c,d){for(var e=0,f=c.length;f>e;e++)b(a,c[e],d);return d}function q(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function r(a,b,c,e,f,g){return e&&!e[N]&&(e=r(e)),f&&!f[N]&&(f=r(f,g)),d(function(d,g,h,i){var j,k,l,m=[],n=[],o=g.length,r=d||p(b||"*",h.nodeType?[h]:h,[]),s=!a||!d&&b?r:q(r,m,a,h,i),t=c?f||(d?a:o||e)?[]:g:s;if(c&&c(s,t,h,i),e)for(j=q(t,n),e(j,[],h,i),k=j.length;k--;)(l=j[k])&&(t[n[k]]=!(s[n[k]]=l));if(d){if(f||a){if(f){for(j=[],k=t.length;k--;)(l=t[k])&&j.push(s[k]=l);f(null,t=[],j,i)}for(k=t.length;k--;)(l=t[k])&&(j=f?aa(d,l):m[k])>-1&&(d[j]=!(g[j]=l))}}else t=q(t===g?t.splice(o,t.length):t),f?f(null,g,t,i):$.apply(g,t)})}function s(a){for(var b,c,d,e=a.length,f=w.relative[a[0].type],g=f||w.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return aa(b,a)>-1},g,!0),k=[function(a,c,d){var e=!f&&(d||c!==C)||((b=c).nodeType?i(a,c,d):j(a,c,d));return b=null,e}];e>h;h++)if(c=w.relative[a[h].type])k=[n(o(k),c)];else{if(c=w.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!w.relative[a[d].type];d++);return r(h>1&&o(k),h>1&&m(a.slice(0,h-1).concat({value:" "===a[h-2].type?"*":""})).replace(ia,"$1"),c,d>h&&s(a.slice(h,d)),e>d&&s(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function t(a,c){var e=c.length>0,f=a.length>0,g=function(d,g,h,i,j){var k,l,m,n=0,o="0",p=d&&[],r=[],s=C,t=d||f&&w.find.TAG("*",j),u=P+=null==s?1:Math.random()||.1,v=t.length;for(j&&(C=g!==G&&g);o!==v&&null!=(k=t[o]);o++){if(f&&k){for(l=0;m=a[l++];)if(m(k,g,h)){i.push(k);break}j&&(P=u)}e&&((k=!m&&k)&&n--,d&&p.push(k))}if(n+=o,e&&o!==n){for(l=0;m=c[l++];)m(p,r,g,h);if(d){if(n>0)for(;o--;)p[o]||r[o]||(r[o]=Y.call(i));r=q(r)}$.apply(i,r),j&&!d&&r.length>0&&n+c.length>1&&b.uniqueSort(i)}return j&&(P=u,C=s),p};return e?d(g):g}var u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+1*new Date,O=a.document,P=0,Q=0,R=c(),S=c(),T=c(),U=function(a,b){return a===b&&(E=!0),0},V=1<<31,W={}.hasOwnProperty,X=[],Y=X.pop,Z=X.push,$=X.push,_=X.slice,aa=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},ba="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ca="[\\x20\\t\\r\\n\\f]",da="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ea=da.replace("w","w#"),fa="\\["+ca+"*("+da+")(?:"+ca+"*([*^$|!~]?=)"+ca+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ea+"))|)"+ca+"*\\]",ga=":("+da+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+fa+")*)|.*)\\)|)",ha=new RegExp(ca+"+","g"),ia=new RegExp("^"+ca+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ca+"+$","g"),ja=new RegExp("^"+ca+"*,"+ca+"*"),ka=new RegExp("^"+ca+"*([>+~]|"+ca+")"+ca+"*"),la=new RegExp("="+ca+"*([^\\]'\"]*?)"+ca+"*\\]","g"),ma=new RegExp(ga),na=new RegExp("^"+ea+"$"),oa={ID:new RegExp("^#("+da+")"),CLASS:new RegExp("^\\.("+da+")"),TAG:new RegExp("^("+da.replace("w","w*")+")"),ATTR:new RegExp("^"+fa),PSEUDO:new RegExp("^"+ga),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ca+"*(even|odd|(([+-]|)(\\d*)n|)"+ca+"*(?:([+-]|)"+ca+"*(\\d+)|))"+ca+"*\\)|)","i"),bool:new RegExp("^(?:"+ba+")$","i"),needsContext:new RegExp("^"+ca+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ca+"*((?:-\\d)?\\d*)"+ca+"*\\)|)(?=[^-]|$)","i")},pa=/^(?:input|select|textarea|button)$/i,qa=/^h\d$/i,ra=/^[^{]+\{\s*\[native \w/,sa=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ta=/[+~]/,ua=/'|\\/g,va=new RegExp("\\\\([\\da-f]{1,6}"+ca+"?|("+ca+")|.)","ig"),wa=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},xa=function(){F()};try{$.apply(X=_.call(O.childNodes),O.childNodes),X[O.childNodes.length].nodeType}catch(ya){$={apply:X.length?function(a,b){Z.apply(a,_.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}v=b.support={},y=b.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},F=b.setDocument=function(a){var b,c,d=a?a.ownerDocument||a:O;return d!==G&&9===d.nodeType&&d.documentElement?(G=d,H=d.documentElement,c=d.defaultView,c&&c!==c.top&&(c.addEventListener?c.addEventListener("unload",xa,!1):c.attachEvent&&c.attachEvent("onunload",xa)),I=!y(d),v.attributes=e(function(a){return a.className="i",!a.getAttribute("className")}),v.getElementsByTagName=e(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),v.getElementsByClassName=ra.test(d.getElementsByClassName),v.getById=e(function(a){return H.appendChild(a).id=N,!d.getElementsByName||!d.getElementsByName(N).length}),v.getById?(w.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&I){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){return a.getAttribute("id")===b}}):(delete w.find.ID,w.filter.ID=function(a){var b=a.replace(va,wa);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),w.find.TAG=v.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):v.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},w.find.CLASS=v.getElementsByClassName&&function(a,b){return I?b.getElementsByClassName(a):void 0},K=[],J=[],(v.qsa=ra.test(d.querySelectorAll))&&(e(function(a){H.appendChild(a).innerHTML="<a id='"+N+"'></a><select id='"+N+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&J.push("[*^$]="+ca+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||J.push("\\["+ca+"*(?:value|"+ba+")"),a.querySelectorAll("[id~="+N+"-]").length||J.push("~="),a.querySelectorAll(":checked").length||J.push(":checked"),a.querySelectorAll("a#"+N+"+*").length||J.push(".#.+[+~]")}),e(function(a){var b=d.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&J.push("name"+ca+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||J.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),J.push(",.*:")})),(v.matchesSelector=ra.test(L=H.matches||H.webkitMatchesSelector||H.mozMatchesSelector||H.oMatchesSelector||H.msMatchesSelector))&&e(function(a){v.disconnectedMatch=L.call(a,"div"),L.call(a,"[s!='']:x"),K.push("!=",ga)}),J=J.length&&new RegExp(J.join("|")),K=K.length&&new RegExp(K.join("|")),b=ra.test(H.compareDocumentPosition),M=b||ra.test(H.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},U=b?function(a,b){if(a===b)return E=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;return c?c:(c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&c||!v.sortDetached&&b.compareDocumentPosition(a)===c?a===d||a.ownerDocument===O&&M(O,a)?-1:b===d||b.ownerDocument===O&&M(O,b)?1:D?aa(D,a)-aa(D,b):0:4&c?-1:1)}:function(a,b){if(a===b)return E=!0,0;var c,e=0,f=a.parentNode,h=b.parentNode,i=[a],j=[b];if(!f||!h)return a===d?-1:b===d?1:f?-1:h?1:D?aa(D,a)-aa(D,b):0;if(f===h)return g(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?g(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},d):G},b.matches=function(a,c){return b(a,null,null,c)},b.matchesSelector=function(a,c){if((a.ownerDocument||a)!==G&&F(a),c=c.replace(la,"='$1']"),!(!v.matchesSelector||!I||K&&K.test(c)||J&&J.test(c)))try{var d=L.call(a,c);if(d||v.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return b(c,G,null,[a]).length>0},b.contains=function(a,b){return(a.ownerDocument||a)!==G&&F(a),M(a,b)},b.attr=function(a,b){(a.ownerDocument||a)!==G&&F(a);var c=w.attrHandle[b.toLowerCase()],d=c&&W.call(w.attrHandle,b.toLowerCase())?c(a,b,!I):void 0;return void 0!==d?d:v.attributes||!I?a.getAttribute(b):(d=a.getAttributeNode(b))&&d.specified?d.value:null},b.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},b.uniqueSort=function(a){var b,c=[],d=0,e=0;if(E=!v.detectDuplicates,D=!v.sortStable&&a.slice(0),a.sort(U),E){for(;b=a[e++];)b===a[e]&&(d=c.push(e));for(;d--;)a.splice(c[d],1)}return D=null,a},x=b.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=x(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d++];)c+=x(b);return c},w=b.selectors={cacheLength:50,createPseudo:d,match:oa,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(va,wa),a[3]=(a[3]||a[4]||a[5]||"").replace(va,wa),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return oa.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&ma.test(c)&&(b=z(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(va,wa).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=R[a+" "];return b||(b=new RegExp("(^|"+ca+")"+a+"("+ca+"|$)"))&&R(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,c,d){return function(e){var f=b.attr(e,a);return null==f?"!="===c:c?(f+="","="===c?f===d:"!="===c?f!==d:"^="===c?d&&0===f.indexOf(d):"*="===c?d&&f.indexOf(d)>-1:"$="===c?d&&f.slice(-d.length)===d:"~="===c?(" "+f.replace(ha," ")+" ").indexOf(d)>-1:"|="===c?f===d||f.slice(0,d.length+1)===d+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===P&&j[1],m=j[0]===P&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[P,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===P)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[P,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,c){var e,f=w.pseudos[a]||w.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);return f[N]?f(c):f.length>1?(e=[a,a,"",c],w.setFilters.hasOwnProperty(a.toLowerCase())?d(function(a,b){for(var d,e=f(a,c),g=e.length;g--;)d=aa(a,e[g]),a[d]=!(b[d]=e[g])}):function(a){return f(a,0,e)}):f}},pseudos:{not:d(function(a){var b=[],c=[],e=A(a.replace(ia,"$1"));return e[N]?d(function(a,b,c,d){for(var f,g=e(a,null,d,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,d,f){return b[0]=a,e(b,null,f,c),b[0]=null,!c.pop()}}),has:d(function(a){return function(c){return b(a,c).length>0}}),contains:d(function(a){return a=a.replace(va,wa),function(b){return(b.textContent||b.innerText||x(b)).indexOf(a)>-1}}),lang:d(function(a){return na.test(a||"")||b.error("unsupported lang: "+a),a=a.replace(va,wa).toLowerCase(),function(b){var c;do if(c=I?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===H},focus:function(a){return a===G.activeElement&&(!G.hasFocus||G.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!w.pseudos.empty(a)},header:function(a){return qa.test(a.nodeName)},input:function(a){return pa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:j(function(){return[0]}),last:j(function(a,b){return[b-1]}),eq:j(function(a,b,c){return[0>c?c+b:c]}),even:j(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:j(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:j(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:j(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},w.pseudos.nth=w.pseudos.eq;for(u in{radio:!0,checkbox:!0,file:!0,password:!0,
image:!0})w.pseudos[u]=h(u);for(u in{submit:!0,reset:!0})w.pseudos[u]=i(u);return l.prototype=w.filters=w.pseudos,w.setFilters=new l,z=b.tokenize=function(a,c){var d,e,f,g,h,i,j,k=S[a+" "];if(k)return c?0:k.slice(0);for(h=a,i=[],j=w.preFilter;h;){(!d||(e=ja.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),d=!1,(e=ka.exec(h))&&(d=e.shift(),f.push({value:d,type:e[0].replace(ia," ")}),h=h.slice(d.length));for(g in w.filter)!(e=oa[g].exec(h))||j[g]&&!(e=j[g](e))||(d=e.shift(),f.push({value:d,type:g,matches:e}),h=h.slice(d.length));if(!d)break}return c?h.length:h?b.error(a):S(a,i).slice(0)},A=b.compile=function(a,b){var c,d=[],e=[],f=T[a+" "];if(!f){for(b||(b=z(a)),c=b.length;c--;)f=s(b[c]),f[N]?d.push(f):e.push(f);f=T(a,t(e,d)),f.selector=a}return f},B=b.select=function(a,b,c,d){var e,f,g,h,i,j="function"==typeof a&&a,l=!d&&z(a=j.selector||a);if(c=c||[],1===l.length){if(f=l[0]=l[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&v.getById&&9===b.nodeType&&I&&w.relative[f[1].type]){if(b=(w.find.ID(g.matches[0].replace(va,wa),b)||[])[0],!b)return c;j&&(b=b.parentNode),a=a.slice(f.shift().value.length)}for(e=oa.needsContext.test(a)?0:f.length;e--&&(g=f[e],!w.relative[h=g.type]);)if((i=w.find[h])&&(d=i(g.matches[0].replace(va,wa),ta.test(f[0].type)&&k(b.parentNode)||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return $.apply(c,d),c;break}}return(j||A(a,l))(d,b,!I,c,ta.test(a)&&k(b.parentNode)||b),c},v.sortStable=N.split("").sort(U).join("")===N,v.detectDuplicates=!!E,F(),v.sortDetached=e(function(a){return 1&a.compareDocumentPosition(G.createElement("div"))}),e(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||f("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),v.attributes&&e(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||f("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),e(function(a){return null==a.getAttribute("disabled")})||f(ba,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),b}(a);_.find=ea,_.expr=ea.selectors,_.expr[":"]=_.expr.pseudos,_.unique=ea.uniqueSort,_.text=ea.getText,_.isXMLDoc=ea.isXML,_.contains=ea.contains;var fa=_.expr.match.needsContext,ga=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ha=/^.[^:#\[\.,]*$/;_.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?_.find.matchesSelector(d,a)?[d]:[]:_.find.matches(a,_.grep(b,function(a){return 1===a.nodeType}))},_.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(_(a).filter(function(){for(b=0;c>b;b++)if(_.contains(e[b],this))return!0}));for(b=0;c>b;b++)_.find(a,e[b],d);return d=this.pushStack(c>1?_.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(d(this,a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"==typeof a&&fa.test(a)?_(a):a||[],!1).length}});var ia,ja=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ka=_.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:ja.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||ia).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof _?b[0]:b,_.merge(this,_.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:Z,!0)),ga.test(c[1])&&_.isPlainObject(b))for(c in b)_.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=Z.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=Z,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):_.isFunction(a)?"undefined"!=typeof ia.ready?ia.ready(a):a(_):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),_.makeArray(a,this))};ka.prototype=_.fn,ia=_(Z);var la=/^(?:parents|prev(?:Until|All))/,ma={children:!0,contents:!0,next:!0,prev:!0};_.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&_(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),_.fn.extend({has:function(a){var b=_(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(_.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=fa.test(a)||"string"!=typeof a?_(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&_.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?_.unique(f):f)},index:function(a){return a?"string"==typeof a?U.call(_(a),this[0]):U.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(_.unique(_.merge(this.get(),_(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),_.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return _.dir(a,"parentNode")},parentsUntil:function(a,b,c){return _.dir(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return _.dir(a,"nextSibling")},prevAll:function(a){return _.dir(a,"previousSibling")},nextUntil:function(a,b,c){return _.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return _.dir(a,"previousSibling",c)},siblings:function(a){return _.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return _.sibling(a.firstChild)},contents:function(a){return a.contentDocument||_.merge([],a.childNodes)}},function(a,b){_.fn[a]=function(c,d){var e=_.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=_.filter(d,e)),this.length>1&&(ma[a]||_.unique(e),la.test(a)&&e.reverse()),this.pushStack(e)}});var na=/\S+/g,oa={};_.Callbacks=function(a){a="string"==typeof a?oa[a]||f(a):_.extend({},a);var b,c,d,e,g,h,i=[],j=!a.once&&[],k=function(f){for(b=a.memory&&f,c=!0,h=e||0,e=0,g=i.length,d=!0;i&&g>h;h++)if(i[h].apply(f[0],f[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,i&&(j?j.length&&k(j.shift()):b?i=[]:l.disable())},l={add:function(){if(i){var c=i.length;!function f(b){_.each(b,function(b,c){var d=_.type(c);"function"===d?a.unique&&l.has(c)||i.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),d?g=i.length:b&&(e=c,k(b))}return this},remove:function(){return i&&_.each(arguments,function(a,b){for(var c;(c=_.inArray(b,i,c))>-1;)i.splice(c,1),d&&(g>=c&&g--,h>=c&&h--)}),this},has:function(a){return a?_.inArray(a,i)>-1:!(!i||!i.length)},empty:function(){return i=[],g=0,this},disable:function(){return i=j=b=void 0,this},disabled:function(){return!i},lock:function(){return j=void 0,b||l.disable(),this},locked:function(){return!j},fireWith:function(a,b){return!i||c&&!j||(b=b||[],b=[a,b.slice?b.slice():b],d?j.push(b):k(b)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!c}};return l},_.extend({Deferred:function(a){var b=[["resolve","done",_.Callbacks("once memory"),"resolved"],["reject","fail",_.Callbacks("once memory"),"rejected"],["notify","progress",_.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return _.Deferred(function(c){_.each(b,function(b,f){var g=_.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&_.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?_.extend(a,d):d}},e={};return d.pipe=d.then,_.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=R.call(arguments),g=f.length,h=1!==g||a&&_.isFunction(a.promise)?g:0,i=1===h?a:_.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?R.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=new Array(g),c=new Array(g),d=new Array(g);g>e;e++)f[e]&&_.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}});var pa;_.fn.ready=function(a){return _.ready.promise().done(a),this},_.extend({isReady:!1,readyWait:1,holdReady:function(a){a?_.readyWait++:_.ready(!0)},ready:function(a){(a===!0?--_.readyWait:_.isReady)||(_.isReady=!0,a!==!0&&--_.readyWait>0||(pa.resolveWith(Z,[_]),_.fn.triggerHandler&&(_(Z).triggerHandler("ready"),_(Z).off("ready"))))}}),_.ready.promise=function(b){return pa||(pa=_.Deferred(),"complete"===Z.readyState?setTimeout(_.ready):(Z.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1))),pa.promise(b)},_.ready.promise();var qa=_.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===_.type(c)){e=!0;for(h in c)_.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,_.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(_(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};_.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},h.uid=1,h.accepts=_.acceptData,h.prototype={key:function(a){if(!h.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=h.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,_.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(_.isEmptyObject(f))_.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,_.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{_.isArray(b)?d=b.concat(b.map(_.camelCase)):(e=_.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(na)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!_.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var ra=new h,sa=new h,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ua=/([A-Z])/g;_.extend({hasData:function(a){return sa.hasData(a)||ra.hasData(a)},data:function(a,b,c){return sa.access(a,b,c)},removeData:function(a,b){sa.remove(a,b)},_data:function(a,b,c){return ra.access(a,b,c)},_removeData:function(a,b){ra.remove(a,b)}}),_.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=sa.get(f),1===f.nodeType&&!ra.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=_.camelCase(d.slice(5)),i(f,d,e[d])));ra.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){sa.set(this,a)}):qa(this,function(b){var c,d=_.camelCase(a);if(f&&void 0===b){if(c=sa.get(f,a),void 0!==c)return c;if(c=sa.get(f,d),void 0!==c)return c;if(c=i(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=sa.get(this,d);sa.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&sa.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.remove(this,a)})}}),_.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=ra.get(a,b),c&&(!d||_.isArray(c)?d=ra.access(a,b,_.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=_.queue(a,b),d=c.length,e=c.shift(),f=_._queueHooks(a,b),g=function(){_.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return ra.get(a,c)||ra.access(a,c,{empty:_.Callbacks("once memory").add(function(){ra.remove(a,[b+"queue",c])})})}}),_.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?_.queue(this[0],a):void 0===b?this:this.each(function(){var c=_.queue(this,a,b);_._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&_.dequeue(this,a)})},dequeue:function(a){return this.each(function(){_.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=_.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=ra.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var va=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,wa=["Top","Right","Bottom","Left"],xa=function(a,b){return a=b||a,"none"===_.css(a,"display")||!_.contains(a.ownerDocument,a)},ya=/^(?:checkbox|radio)$/i;!function(){var a=Z.createDocumentFragment(),b=a.appendChild(Z.createElement("div")),c=Z.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),Y.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",Y.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var za="undefined";Y.focusinBubbles="onfocusin"in a;var Aa=/^key/,Ba=/^(?:mouse|pointer|contextmenu)|click/,Ca=/^(?:focusinfocus|focusoutblur)$/,Da=/^([^.]*)(?:\.(.+)|)$/;_.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.get(a);if(q)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=_.guid++),(i=q.events)||(i=q.events={}),(g=q.handle)||(g=q.handle=function(b){return typeof _!==za&&_.event.triggered!==b.type?_.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(na)||[""],j=b.length;j--;)h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n&&(l=_.event.special[n]||{},n=(e?l.delegateType:l.bindType)||n,l=_.event.special[n]||{},k=_.extend({type:n,origType:p,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&_.expr.match.needsContext.test(e),namespace:o.join(".")},f),(m=i[n])||(m=i[n]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,o,g)!==!1||a.addEventListener&&a.addEventListener(n,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),_.event.global[n]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=ra.hasData(a)&&ra.get(a);if(q&&(i=q.events)){for(b=(b||"").match(na)||[""],j=b.length;j--;)if(h=Da.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=_.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=i[n]||[],h=h[2]&&new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&p!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||_.removeEvent(a,n,q.handle),delete i[n])}else for(n in i)_.event.remove(a,n+b[j],c,d,!0);_.isEmptyObject(i)&&(delete q.handle,ra.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,j,k,l,m=[d||Z],n=X.call(b,"type")?b.type:b,o=X.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||Z,3!==d.nodeType&&8!==d.nodeType&&!Ca.test(n+_.event.triggered)&&(n.indexOf(".")>=0&&(o=n.split("."),n=o.shift(),o.sort()),j=n.indexOf(":")<0&&"on"+n,b=b[_.expando]?b:new _.Event(n,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=o.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:_.makeArray(c,[b]),l=_.event.special[n]||{},e||!l.trigger||l.trigger.apply(d,c)!==!1)){if(!e&&!l.noBubble&&!_.isWindow(d)){for(i=l.delegateType||n,Ca.test(i+n)||(g=g.parentNode);g;g=g.parentNode)m.push(g),h=g;h===(d.ownerDocument||Z)&&m.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=m[f++])&&!b.isPropagationStopped();)b.type=f>1?i:l.bindType||n,k=(ra.get(g,"events")||{})[b.type]&&ra.get(g,"handle"),k&&k.apply(g,c),k=j&&g[j],k&&k.apply&&_.acceptData(g)&&(b.result=k.apply(g,c),b.result===!1&&b.preventDefault());return b.type=n,e||b.isDefaultPrevented()||l._default&&l._default.apply(m.pop(),c)!==!1||!_.acceptData(d)||j&&_.isFunction(d[n])&&!_.isWindow(d)&&(h=d[j],h&&(d[j]=null),_.event.triggered=n,d[n](),_.event.triggered=void 0,h&&(d[j]=h)),b.result}},dispatch:function(a){a=_.event.fix(a);var b,c,d,e,f,g=[],h=R.call(arguments),i=(ra.get(this,"events")||{})[a.type]||[],j=_.event.special[a.type]||{};if(h[0]=a,a.delegateTarget=this,!j.preDispatch||j.preDispatch.call(this,a)!==!1){for(g=_.event.handlers.call(this,a,i),b=0;(e=g[b++])&&!a.isPropagationStopped();)for(a.currentTarget=e.elem,c=0;(f=e.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(f.namespace))&&(a.handleObj=f,a.data=f.data,d=((_.event.special[f.origType]||{}).handle||f.handler).apply(e.elem,h),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return j.postDispatch&&j.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?_(e,this).index(i)>=0:_.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||Z,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[_.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ba.test(e)?this.mouseHooks:Aa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new _.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=Z),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==l()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===l()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&_.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return _.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=_.extend(new _.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?_.event.trigger(e,null,b):_.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},_.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},_.Event=function(a,b){return this instanceof _.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?j:k):this.type=a,b&&_.extend(this,b),this.timeStamp=a&&a.timeStamp||_.now(),void(this[_.expando]=!0)):new _.Event(a,b)},_.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=j,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},_.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){_.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!_.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),Y.focusinBubbles||_.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){_.event.simulate(b,a.target,_.event.fix(a),!0)};_.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=ra.access(d,b);e||d.addEventListener(a,c,!0),ra.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=ra.access(d,b)-1;e?ra.access(d,b,e):(d.removeEventListener(a,c,!0),ra.remove(d,b))}}}),_.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=k;else if(!d)return this;return 1===e&&(f=d,d=function(a){return _().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=_.guid++)),this.each(function(){_.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,_(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=k),this.each(function(){_.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){_.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?_.event.trigger(a,b,c,!0):void 0}});var Ea=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Fa=/<([\w:]+)/,Ga=/<|&#?\w+;/,Ha=/<(?:script|style|link)/i,Ia=/checked\s*(?:[^=]|=\s*.checked.)/i,Ja=/^$|\/(?:java|ecma)script/i,Ka=/^true\/(.*)/,La=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Ma={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Ma.optgroup=Ma.option,Ma.tbody=Ma.tfoot=Ma.colgroup=Ma.caption=Ma.thead,Ma.th=Ma.td,_.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=_.contains(a.ownerDocument,a);if(!(Y.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||_.isXMLDoc(a)))for(g=r(h),f=r(a),d=0,e=f.length;e>d;d++)s(f[d],g[d]);if(b)if(c)for(f=f||r(a),g=g||r(h),d=0,e=f.length;e>d;d++)q(f[d],g[d]);else q(a,h);return g=r(h,"script"),g.length>0&&p(g,!i&&r(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,n=a.length;n>m;m++)if(e=a[m],e||0===e)if("object"===_.type(e))_.merge(l,e.nodeType?[e]:e);else if(Ga.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(Fa.exec(e)||["",""])[1].toLowerCase(),h=Ma[g]||Ma._default,f.innerHTML=h[1]+e.replace(Ea,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;_.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===_.inArray(e,d))&&(i=_.contains(e.ownerDocument,e),f=r(k.appendChild(e),"script"),i&&p(f),c))for(j=0;e=f[j++];)Ja.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=_.event.special,g=0;void 0!==(c=a[g]);g++){if(_.acceptData(c)&&(e=c[ra.expando],e&&(b=ra.cache[e]))){if(b.events)for(d in b.events)f[d]?_.event.remove(c,d):_.removeEvent(c,d,b.handle);ra.cache[e]&&delete ra.cache[e]}delete sa.cache[c[sa.expando]]}}}),_.fn.extend({text:function(a){return qa(this,function(a){return void 0===a?_.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=m(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?_.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||_.cleanData(r(c)),c.parentNode&&(b&&_.contains(c.ownerDocument,c)&&p(r(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(_.cleanData(r(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return _.clone(this,a,b)})},html:function(a){return qa(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!Ha.test(a)&&!Ma[(Fa.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(Ea,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(_.cleanData(r(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,_.cleanData(r(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=S.apply([],a);var c,d,e,f,g,h,i=0,j=this.length,k=this,l=j-1,m=a[0],p=_.isFunction(m);if(p||j>1&&"string"==typeof m&&!Y.checkClone&&Ia.test(m))return this.each(function(c){var d=k.eq(c);p&&(a[0]=m.call(this,c,d.html())),d.domManip(a,b)});if(j&&(c=_.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(e=_.map(r(c,"script"),n),f=e.length;j>i;i++)g=c,i!==l&&(g=_.clone(g,!0,!0),f&&_.merge(e,r(g,"script"))),b.call(this[i],g,i);if(f)for(h=e[e.length-1].ownerDocument,_.map(e,o),i=0;f>i;i++)g=e[i],Ja.test(g.type||"")&&!ra.access(g,"globalEval")&&_.contains(h,g)&&(g.src?_._evalUrl&&_._evalUrl(g.src):_.globalEval(g.textContent.replace(La,"")))}return this}}),_.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){_.fn[a]=function(a){for(var c,d=[],e=_(a),f=e.length-1,g=0;f>=g;g++)c=g===f?this:this.clone(!0),_(e[g])[b](c),T.apply(d,c.get());return this.pushStack(d)}});var Na,Oa={},Pa=/^margin/,Qa=new RegExp("^("+va+")(?!px)[a-z%]+$","i"),Ra=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function b(){g.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",g.innerHTML="",e.appendChild(f);var b=a.getComputedStyle(g,null);c="1%"!==b.top,d="4px"===b.width,e.removeChild(f)}var c,d,e=Z.documentElement,f=Z.createElement("div"),g=Z.createElement("div");g.style&&(g.style.backgroundClip="content-box",g.cloneNode(!0).style.backgroundClip="",Y.clearCloneStyle="content-box"===g.style.backgroundClip,f.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",f.appendChild(g),a.getComputedStyle&&_.extend(Y,{pixelPosition:function(){return b(),c},boxSizingReliable:function(){return null==d&&b(),d},reliableMarginRight:function(){var b,c=g.appendChild(Z.createElement("div"));return c.style.cssText=g.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",g.style.width="1px",e.appendChild(f),b=!parseFloat(a.getComputedStyle(c,null).marginRight),e.removeChild(f),g.removeChild(c),b}}))}(),_.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var Sa=/^(none|table(?!-c[ea]).+)/,Ta=new RegExp("^("+va+")(.*)$","i"),Ua=new RegExp("^([+-])=("+va+")","i"),Va={position:"absolute",visibility:"hidden",display:"block"},Wa={letterSpacing:"0",fontWeight:"400"},Xa=["Webkit","O","Moz","ms"];_.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=v(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=_.camelCase(b),i=a.style;return b=_.cssProps[h]||(_.cssProps[h]=x(i,h)),g=_.cssHooks[b]||_.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ua.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(_.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||_.cssNumber[h]||(c+="px"),Y.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=_.camelCase(b);return b=_.cssProps[h]||(_.cssProps[h]=x(a.style,h)),g=_.cssHooks[b]||_.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=v(a,b,d)),"normal"===e&&b in Wa&&(e=Wa[b]),""===c||c?(f=parseFloat(e),c===!0||_.isNumeric(f)?f||0:e):e}}),_.each(["height","width"],function(a,b){_.cssHooks[b]={get:function(a,c,d){return c?Sa.test(_.css(a,"display"))&&0===a.offsetWidth?_.swap(a,Va,function(){return A(a,b,d)}):A(a,b,d):void 0},set:function(a,c,d){var e=d&&Ra(a);return y(a,c,d?z(a,b,d,"border-box"===_.css(a,"boxSizing",!1,e),e):0)}}}),_.cssHooks.marginRight=w(Y.reliableMarginRight,function(a,b){return b?_.swap(a,{display:"inline-block"},v,[a,"marginRight"]):void 0}),_.each({margin:"",padding:"",border:"Width"},function(a,b){_.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+wa[d]+b]=f[d]||f[d-2]||f[0];return e}},Pa.test(a)||(_.cssHooks[a+b].set=y)}),_.fn.extend({css:function(a,b){return qa(this,function(a,b,c){var d,e,f={},g=0;if(_.isArray(b)){for(d=Ra(a),e=b.length;e>g;g++)f[b[g]]=_.css(a,b[g],!1,d);return f}return void 0!==c?_.style(a,b,c):_.css(a,b)},a,b,arguments.length>1)},show:function(){return B(this,!0)},hide:function(){return B(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){xa(this)?_(this).show():_(this).hide()})}}),_.Tween=C,C.prototype={constructor:C,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(_.cssNumber[c]?"":"px")},cur:function(){var a=C.propHooks[this.prop];return a&&a.get?a.get(this):C.propHooks._default.get(this)},run:function(a){var b,c=C.propHooks[this.prop];return this.options.duration?this.pos=b=_.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):C.propHooks._default.set(this),this}},C.prototype.init.prototype=C.prototype,C.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=_.css(a.elem,a.prop,""),
b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){_.fx.step[a.prop]?_.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[_.cssProps[a.prop]]||_.cssHooks[a.prop])?_.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},C.propHooks.scrollTop=C.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},_.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},_.fx=C.prototype.init,_.fx.step={};var Ya,Za,$a=/^(?:toggle|show|hide)$/,_a=new RegExp("^(?:([+-])=|)("+va+")([a-z%]*)$","i"),ab=/queueHooks$/,bb=[G],cb={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=_a.exec(b),f=e&&e[3]||(_.cssNumber[a]?"":"px"),g=(_.cssNumber[a]||"px"!==f&&+d)&&_a.exec(_.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,_.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};_.Animation=_.extend(I,{tweener:function(a,b){_.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],cb[c]=cb[c]||[],cb[c].unshift(b)},prefilter:function(a,b){b?bb.unshift(a):bb.push(a)}}),_.speed=function(a,b,c){var d=a&&"object"==typeof a?_.extend({},a):{complete:c||!c&&b||_.isFunction(a)&&a,duration:a,easing:c&&b||b&&!_.isFunction(b)&&b};return d.duration=_.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in _.fx.speeds?_.fx.speeds[d.duration]:_.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){_.isFunction(d.old)&&d.old.call(this),d.queue&&_.dequeue(this,d.queue)},d},_.fn.extend({fadeTo:function(a,b,c,d){return this.filter(xa).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=_.isEmptyObject(a),f=_.speed(b,c,d),g=function(){var b=I(this,_.extend({},a),f);(e||ra.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=_.timers,g=ra.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&ab.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&_.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=ra.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=_.timers,g=d?d.length:0;for(c.finish=!0,_.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),_.each(["toggle","show","hide"],function(a,b){var c=_.fn[b];_.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(E(b,!0),a,d,e)}}),_.each({slideDown:E("show"),slideUp:E("hide"),slideToggle:E("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){_.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),_.timers=[],_.fx.tick=function(){var a,b=0,c=_.timers;for(Ya=_.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||_.fx.stop(),Ya=void 0},_.fx.timer=function(a){_.timers.push(a),a()?_.fx.start():_.timers.pop()},_.fx.interval=13,_.fx.start=function(){Za||(Za=setInterval(_.fx.tick,_.fx.interval))},_.fx.stop=function(){clearInterval(Za),Za=null},_.fx.speeds={slow:600,fast:200,_default:400},_.fn.delay=function(a,b){return a=_.fx?_.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=Z.createElement("input"),b=Z.createElement("select"),c=b.appendChild(Z.createElement("option"));a.type="checkbox",Y.checkOn=""!==a.value,Y.optSelected=c.selected,b.disabled=!0,Y.optDisabled=!c.disabled,a=Z.createElement("input"),a.value="t",a.type="radio",Y.radioValue="t"===a.value}();var db,eb,fb=_.expr.attrHandle;_.fn.extend({attr:function(a,b){return qa(this,_.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){_.removeAttr(this,a)})}}),_.extend({attr:function(a,b,c){var d,e,f=a.nodeType;return a&&3!==f&&8!==f&&2!==f?typeof a.getAttribute===za?_.prop(a,b,c):(1===f&&_.isXMLDoc(a)||(b=b.toLowerCase(),d=_.attrHooks[b]||(_.expr.match.bool.test(b)?eb:db)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=_.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void _.removeAttr(a,b)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(na);if(f&&1===a.nodeType)for(;c=f[e++];)d=_.propFix[c]||c,_.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!Y.radioValue&&"radio"===b&&_.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),eb={set:function(a,b,c){return b===!1?_.removeAttr(a,c):a.setAttribute(c,c),c}},_.each(_.expr.match.bool.source.match(/\w+/g),function(a,b){var c=fb[b]||_.find.attr;fb[b]=function(a,b,d){var e,f;return d||(f=fb[b],fb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,fb[b]=f),e}});var gb=/^(?:input|select|textarea|button)$/i;_.fn.extend({prop:function(a,b){return qa(this,_.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[_.propFix[a]||a]})}}),_.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;return a&&3!==g&&8!==g&&2!==g?(f=1!==g||!_.isXMLDoc(a),f&&(b=_.propFix[b]||b,e=_.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]):void 0},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||gb.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),Y.optSelected||(_.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),_.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){_.propFix[this.toLowerCase()]=this});var hb=/[\t\r\n\f]/g;_.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=_.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(_.isFunction(a))return this.each(function(b){_(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(na)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(hb," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?_.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(_.isFunction(a)?function(c){_(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=_(this),f=a.match(na)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===za||"boolean"===c)&&(this.className&&ra.set(this,"__className__",this.className),this.className=this.className||a===!1?"":ra.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(hb," ").indexOf(b)>=0)return!0;return!1}});var ib=/\r/g;_.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=_.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,_(this).val()):a,null==e?e="":"number"==typeof e?e+="":_.isArray(e)&&(e=_.map(e,function(a){return null==a?"":a+""})),b=_.valHooks[this.type]||_.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=_.valHooks[e.type]||_.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(ib,""):null==c?"":c)):void 0}}),_.extend({valHooks:{option:{get:function(a){var b=_.find.attr(a,"value");return null!=b?b:_.trim(_.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(Y.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&_.nodeName(c.parentNode,"optgroup"))){if(b=_(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=_.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=_.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),_.each(["radio","checkbox"],function(){_.valHooks[this]={set:function(a,b){return _.isArray(b)?a.checked=_.inArray(_(a).val(),b)>=0:void 0}},Y.checkOn||(_.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),_.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){_.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),_.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var jb=_.now(),kb=/\?/;_.parseJSON=function(a){return JSON.parse(a+"")},_.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&_.error("Invalid XML: "+a),b};var lb=/#.*$/,mb=/([?&])_=[^&]*/,nb=/^(.*?):[ \t]*([^\r\n]*)$/gm,ob=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,pb=/^(?:GET|HEAD)$/,qb=/^\/\//,rb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,sb={},tb={},ub="*/".concat("*"),vb=a.location.href,wb=rb.exec(vb.toLowerCase())||[];_.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:vb,type:"GET",isLocal:ob.test(wb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":_.parseJSON,"text xml":_.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?L(L(a,_.ajaxSettings),b):L(_.ajaxSettings,a)},ajaxPrefilter:J(sb),ajaxTransport:J(tb),ajax:function(a,b){function c(a,b,c,g){var i,k,r,s,u,w=b;2!==t&&(t=2,h&&clearTimeout(h),d=void 0,f=g||"",v.readyState=a>0?4:0,i=a>=200&&300>a||304===a,c&&(s=M(l,v,c)),s=N(l,s,v,i),i?(l.ifModified&&(u=v.getResponseHeader("Last-Modified"),u&&(_.lastModified[e]=u),u=v.getResponseHeader("etag"),u&&(_.etag[e]=u)),204===a||"HEAD"===l.type?w="nocontent":304===a?w="notmodified":(w=s.state,k=s.data,r=s.error,i=!r)):(r=w,(a||!w)&&(w="error",0>a&&(a=0))),v.status=a,v.statusText=(b||w)+"",i?o.resolveWith(m,[k,w,v]):o.rejectWith(m,[v,w,r]),v.statusCode(q),q=void 0,j&&n.trigger(i?"ajaxSuccess":"ajaxError",[v,l,i?k:r]),p.fireWith(m,[v,w]),j&&(n.trigger("ajaxComplete",[v,l]),--_.active||_.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var d,e,f,g,h,i,j,k,l=_.ajaxSetup({},b),m=l.context||l,n=l.context&&(m.nodeType||m.jquery)?_(m):_.event,o=_.Deferred(),p=_.Callbacks("once memory"),q=l.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!g)for(g={};b=nb.exec(f);)g[b[1].toLowerCase()]=b[2];b=g[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(l.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return d&&d.abort(b),c(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,l.url=((a||l.url||vb)+"").replace(lb,"").replace(qb,wb[1]+"//"),l.type=b.method||b.type||l.method||l.type,l.dataTypes=_.trim(l.dataType||"*").toLowerCase().match(na)||[""],null==l.crossDomain&&(i=rb.exec(l.url.toLowerCase()),l.crossDomain=!(!i||i[1]===wb[1]&&i[2]===wb[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(wb[3]||("http:"===wb[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=_.param(l.data,l.traditional)),K(sb,l,b,v),2===t)return v;j=_.event&&l.global,j&&0===_.active++&&_.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!pb.test(l.type),e=l.url,l.hasContent||(l.data&&(e=l.url+=(kb.test(e)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=mb.test(e)?e.replace(mb,"$1_="+jb++):e+(kb.test(e)?"&":"?")+"_="+jb++)),l.ifModified&&(_.lastModified[e]&&v.setRequestHeader("If-Modified-Since",_.lastModified[e]),_.etag[e]&&v.setRequestHeader("If-None-Match",_.etag[e])),(l.data&&l.hasContent&&l.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",l.contentType),v.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+ub+"; q=0.01":""):l.accepts["*"]);for(k in l.headers)v.setRequestHeader(k,l.headers[k]);if(l.beforeSend&&(l.beforeSend.call(m,v,l)===!1||2===t))return v.abort();u="abort";for(k in{success:1,error:1,complete:1})v[k](l[k]);if(d=K(tb,l,b,v)){v.readyState=1,j&&n.trigger("ajaxSend",[v,l]),l.async&&l.timeout>0&&(h=setTimeout(function(){v.abort("timeout")},l.timeout));try{t=1,d.send(r,c)}catch(w){if(!(2>t))throw w;c(-1,w)}}else c(-1,"No Transport");return v},getJSON:function(a,b,c){return _.get(a,b,c,"json")},getScript:function(a,b){return _.get(a,void 0,b,"script")}}),_.each(["get","post"],function(a,b){_[b]=function(a,c,d,e){return _.isFunction(c)&&(e=e||d,d=c,c=void 0),_.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),_._evalUrl=function(a){return _.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},_.fn.extend({wrapAll:function(a){var b;return _.isFunction(a)?this.each(function(b){_(this).wrapAll(a.call(this,b))}):(this[0]&&(b=_(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(_.isFunction(a)?function(b){_(this).wrapInner(a.call(this,b))}:function(){var b=_(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=_.isFunction(a);return this.each(function(c){_(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){_.nodeName(this,"body")||_(this).replaceWith(this.childNodes)}).end()}}),_.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},_.expr.filters.visible=function(a){return!_.expr.filters.hidden(a)};var xb=/%20/g,yb=/\[\]$/,zb=/\r?\n/g,Ab=/^(?:submit|button|image|reset|file)$/i,Bb=/^(?:input|select|textarea|keygen)/i;_.param=function(a,b){var c,d=[],e=function(a,b){b=_.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=_.ajaxSettings&&_.ajaxSettings.traditional),_.isArray(a)||a.jquery&&!_.isPlainObject(a))_.each(a,function(){e(this.name,this.value)});else for(c in a)O(c,a[c],b,e);return d.join("&").replace(xb,"+")},_.fn.extend({serialize:function(){return _.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=_.prop(this,"elements");return a?_.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!_(this).is(":disabled")&&Bb.test(this.nodeName)&&!Ab.test(a)&&(this.checked||!ya.test(a))}).map(function(a,b){var c=_(this).val();return null==c?null:_.isArray(c)?_.map(c,function(a){return{name:b.name,value:a.replace(zb,"\r\n")}}):{name:b.name,value:c.replace(zb,"\r\n")}}).get()}}),_.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Cb=0,Db={},Eb={0:200,1223:204},Fb=_.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Db)Db[a]()}),Y.cors=!!Fb&&"withCredentials"in Fb,Y.ajax=Fb=!!Fb,_.ajaxTransport(function(a){var b;return Y.cors||Fb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Cb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Db[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Eb[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Db[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),_.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return _.globalEval(a),a}}}),_.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),_.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=_("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),Z.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Gb=[],Hb=/(=)\?(?=&|$)|\?\?/;_.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Gb.pop()||_.expando+"_"+jb++;return this[a]=!0,a}}),_.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Hb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Hb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=_.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Hb,"$1"+e):b.jsonp!==!1&&(b.url+=(kb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||_.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Gb.push(e)),g&&_.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),_.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||Z;var d=ga.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=_.buildFragment([a],b,e),e&&e.length&&_(e).remove(),_.merge([],d.childNodes))};var Ib=_.fn.load;_.fn.load=function(a,b,c){if("string"!=typeof a&&Ib)return Ib.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=_.trim(a.slice(h)),a=a.slice(0,h)),_.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&_.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?_("<div>").append(_.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},_.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){_.fn[b]=function(a){return this.on(b,a)}}),_.expr.filters.animated=function(a){return _.grep(_.timers,function(b){return a===b.elem}).length};var Jb=a.document.documentElement;_.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=_.css(a,"position"),l=_(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=_.css(a,"top"),i=_.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),_.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},_.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){_.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,_.contains(b,d)?(typeof d.getBoundingClientRect!==za&&(e=d.getBoundingClientRect()),c=P(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===_.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),_.nodeName(a[0],"html")||(d=a.offset()),d.top+=_.css(a[0],"borderTopWidth",!0),d.left+=_.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-_.css(c,"marginTop",!0),left:b.left-d.left-_.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Jb;a&&!_.nodeName(a,"html")&&"static"===_.css(a,"position");)a=a.offsetParent;return a||Jb})}}),_.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;_.fn[b]=function(e){return qa(this,function(b,e,f){var g=P(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),_.each(["top","left"],function(a,b){_.cssHooks[b]=w(Y.pixelPosition,function(a,c){return c?(c=v(a,b),Qa.test(c)?_(a).position()[b]+"px":c):void 0})}),_.each({Height:"height",Width:"width"},function(a,b){_.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){_.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return qa(this,function(b,c,d){var e;return _.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?_.css(b,c,g):_.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),_.fn.size=function(){return this.length},_.fn.andSelf=_.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return _});var Kb=a.jQuery,Lb=a.$;return _.noConflict=function(b){return a.$===_&&(a.$=Lb),b&&a.jQuery===_&&(a.jQuery=Kb),_},typeof b===za&&(a.jQuery=a.$=_),_}),function(a,b,c){"use strict";function d(a,b){return b=b||Error,function(){var c,d,e=2,f=arguments,g=f[0],h="["+(a?a+":":"")+g+"] ",i=f[1];for(h+=i.replace(/\{\d+\}/g,function(a){var b=+a.slice(1,-1),c=b+e;return c<f.length?ua(f[c]):a}),h+="\nhttp://errors.angularjs.org/1.5.0-rc.2/"+(a?a+"/":"")+g,d=e,c="?";d<f.length;d++,c="&")h+=c+"p"+(d-e)+"="+encodeURIComponent(ua(f[d]));return new b(h)}}function e(a){if(null==a||C(a))return!1;if(Td(a)||x(a)||Id&&a instanceof Id)return!0;var b="length"in Object(a)&&a.length;return y(b)&&(b>=0&&(b-1 in a||a instanceof Array)||"function"==typeof a.item)}function f(a,b,c){var d,g;if(a)if(A(a))for(d in a)"prototype"==d||"length"==d||"name"==d||a.hasOwnProperty&&!a.hasOwnProperty(d)||b.call(c,a[d],d,a);else if(Td(a)||e(a)){var h="object"!=typeof a;for(d=0,g=a.length;g>d;d++)(h||d in a)&&b.call(c,a[d],d,a)}else if(a.forEach&&a.forEach!==f)a.forEach(b,c,a);else if(w(a))for(d in a)b.call(c,a[d],d,a);else if("function"==typeof a.hasOwnProperty)for(d in a)a.hasOwnProperty(d)&&b.call(c,a[d],d,a);else for(d in a)Cd.call(a,d)&&b.call(c,a[d],d,a);return a}function g(a,b,c){for(var d=Object.keys(a).sort(),e=0;e<d.length;e++)b.call(c,a[d[e]],d[e]);return d}function h(a){return function(b,c){a(c,b)}}function i(){return++Sd}function j(a,b){b?a.$$hashKey=b:delete a.$$hashKey}function k(a,b,c){for(var d=a.$$hashKey,e=0,f=b.length;f>e;++e){var g=b[e];if(v(g)||A(g))for(var h=Object.keys(g),i=0,l=h.length;l>i;i++){var m=h[i],n=g[m];c&&v(n)?z(n)?a[m]=new Date(n.valueOf()):B(n)?a[m]=new RegExp(n):n.nodeName?a[m]=n.cloneNode(!0):L(n)?a[m]=n.clone():(v(a[m])||(a[m]=Td(n)?[]:{}),k(a[m],[n],!0)):a[m]=n}}return j(a,d),a}function l(a){return k(a,Ld.call(arguments,1),!1)}function m(a){return k(a,Ld.call(arguments,1),!0)}function n(a){return parseInt(a,10)}function o(a,b){return l(Object.create(a),b)}function p(){}function q(a){return a}function r(a){return function(){return a}}function s(a){return A(a.toString)&&a.toString!==Od}function t(a){return"undefined"==typeof a}function u(a){return"undefined"!=typeof a}function v(a){return null!==a&&"object"==typeof a}function w(a){return null!==a&&"object"==typeof a&&!Pd(a)}function x(a){return"string"==typeof a}function y(a){return"number"==typeof a}function z(a){return"[object Date]"===Od.call(a)}function A(a){return"function"==typeof a}function B(a){return"[object RegExp]"===Od.call(a)}function C(a){return a&&a.window===a}function D(a){return a&&a.$evalAsync&&a.$watch}function E(a){return"[object File]"===Od.call(a)}function F(a){return"[object FormData]"===Od.call(a)}function G(a){return"[object Blob]"===Od.call(a)}function H(a){return"boolean"==typeof a}function I(a){return a&&A(a.then)}function J(a){return a&&y(a.length)&&Ud.test(Od.call(a))}function K(a){return"[object ArrayBuffer]"===Od.call(a)}function L(a){return!(!a||!(a.nodeName||a.prop&&a.attr&&a.find))}function M(a){var b,c={},d=a.split(",");for(b=0;b<d.length;b++)c[d[b]]=!0;return c}function N(a){return Dd(a.nodeName||a[0]&&a[0].nodeName)}function O(a,b){var c=a.indexOf(b);return c>=0&&a.splice(c,1),c}function P(a,b){function d(a,b){var c,d=b.$$hashKey;if(Td(a))for(var f=0,g=a.length;g>f;f++)b.push(e(a[f]));else if(w(a))for(c in a)b[c]=e(a[c]);else if(a&&"function"==typeof a.hasOwnProperty)for(c in a)a.hasOwnProperty(c)&&(b[c]=e(a[c]));else for(c in a)Cd.call(a,c)&&(b[c]=e(a[c]));return j(b,d),b}function e(a){if(!v(a))return a;var b=h.indexOf(a);if(-1!==b)return i[b];if(C(a)||D(a))throw Qd("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var e=!1,f=g(a);return f===c&&(f=Td(a)?[]:Object.create(Pd(a)),e=!0),h.push(a),i.push(f),e?d(a,f):f}function g(a){switch(Od.call(a)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new a.constructor(e(a.buffer));case"[object ArrayBuffer]":if(!a.slice){var b=new ArrayBuffer(a.byteLength);return new Uint8Array(b).set(new Uint8Array(a)),b}return a.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new a.constructor(a.valueOf());case"[object RegExp]":var c=new RegExp(a.source,a.toString().match(/[^\/]*$/)[0]);return c.lastIndex=a.lastIndex,c}return A(a.cloneNode)?a.cloneNode(!0):void 0}var h=[],i=[];if(b){if(J(b)||K(b))throw Qd("cpta","Can't copy! TypedArray destination cannot be mutated.");if(a===b)throw Qd("cpi","Can't copy! Source and destination are identical.");return Td(b)?b.length=0:f(b,function(a,c){"$$hashKey"!==c&&delete b[c]}),h.push(a),i.push(b),d(a,b)}return e(a)}function Q(a,b){if(Td(a)){b=b||[];for(var c=0,d=a.length;d>c;c++)b[c]=a[c]}else if(v(a)){b=b||{};for(var e in a)("$"!==e.charAt(0)||"$"!==e.charAt(1))&&(b[e]=a[e])}return b||a}function R(a,b){if(a===b)return!0;if(null===a||null===b)return!1;if(a!==a&&b!==b)return!0;var c,d,e,f=typeof a,g=typeof b;if(f==g&&"object"==f){if(!Td(a)){if(z(a))return z(b)?R(a.getTime(),b.getTime()):!1;if(B(a))return B(b)?a.toString()==b.toString():!1;if(D(a)||D(b)||C(a)||C(b)||Td(b)||z(b)||B(b))return!1;e=ra();for(d in a)if("$"!==d.charAt(0)&&!A(a[d])){if(!R(a[d],b[d]))return!1;e[d]=!0}for(d in b)if(!(d in e)&&"$"!==d.charAt(0)&&u(b[d])&&!A(b[d]))return!1;return!0}if(!Td(b))return!1;if((c=a.length)==b.length){for(d=0;c>d;d++)if(!R(a[d],b[d]))return!1;return!0}}return!1}function S(a,b,c){return a.concat(Ld.call(b,c))}function T(a,b){return Ld.call(a,b||0)}function U(a,b){var c=arguments.length>2?T(arguments,2):[];return!A(b)||b instanceof RegExp?b:c.length?function(){return arguments.length?b.apply(a,S(c,arguments,0)):b.apply(a,c)}:function(){return arguments.length?b.apply(a,arguments):b.call(a)}}function V(a,d){var e=d;return"string"==typeof a&&"$"===a.charAt(0)&&"$"===a.charAt(1)?e=c:C(d)?e="$WINDOW":d&&b===d?e="$DOCUMENT":D(d)&&(e="$SCOPE"),e}function W(a,b){return"undefined"==typeof a?c:(y(b)||(b=b?2:null),JSON.stringify(a,V,b))}function X(a){return x(a)?JSON.parse(a):a}function Y(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function Z(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function $(a,b,c){c=c?-1:1;var d=Y(b,a.getTimezoneOffset());return Z(a,c*(d-a.getTimezoneOffset()))}function _(a){a=Id(a).clone();try{a.empty()}catch(b){}var c=Id("<div>").append(a).html();try{return a[0].nodeType===ce?Dd(c):c.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(a,b){return"<"+Dd(b)})}catch(b){return Dd(c)}}function aa(a){try{return decodeURIComponent(a)}catch(b){}}function ba(a){var b={};return f((a||"").split("&"),function(a){var c,d,e;a&&(d=a=a.replace(/\+/g,"%20"),c=a.indexOf("="),-1!==c&&(d=a.substring(0,c),e=a.substring(c+1)),d=aa(d),u(d)&&(e=u(e)?aa(e):!0,Cd.call(b,d)?Td(b[d])?b[d].push(e):b[d]=[b[d],e]:b[d]=e))}),b}function ca(a){var b=[];return f(a,function(a,c){Td(a)?f(a,function(a){b.push(ea(c,!0)+(a===!0?"":"="+ea(a,!0)))}):b.push(ea(c,!0)+(a===!0?"":"="+ea(a,!0)))}),b.length?b.join("&"):""}function da(a){return ea(a,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function ea(a,b){return encodeURIComponent(a).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,b?"%20":"+")}function fa(a,b){var c,d,e=Zd.length;for(d=0;e>d;++d)if(c=Zd[d]+b,x(c=a.getAttribute(c)))return c;return null}function ga(a,b){var c,d,e={};f(Zd,function(b){var e=b+"app";!c&&a.hasAttribute&&a.hasAttribute(e)&&(c=a,d=a.getAttribute(e))}),f(Zd,function(b){var e,f=b+"app";!c&&(e=a.querySelector("["+f.replace(":","\\:")+"]"))&&(c=e,d=e.getAttribute(f))}),c&&(e.strictDi=null!==fa(c,"strict-di"),b(c,d?[d]:[],e))}function ha(c,d,e){v(e)||(e={});var g={strictDi:!1};e=l(g,e);var h=function(){if(c=Id(c),c.injector()){var a=c[0]===b?"document":_(c);throw Qd("btstrpd","App Already Bootstrapped with this Element '{0}'",a.replace(/</,"&lt;").replace(/>/,"&gt;"))}d=d||[],d.unshift(["$provide",function(a){a.value("$rootElement",c)}]),e.debugInfoEnabled&&d.push(["$compileProvider",function(a){a.debugInfoEnabled(!0)}]),d.unshift("ng");var f=eb(d,e.strictDi);return f.invoke(["$rootScope","$rootElement","$compile","$injector",function(a,b,c,d){a.$apply(function(){b.data("$injector",d),c(b)(a)})}]),f},i=/^NG_ENABLE_DEBUG_INFO!/,j=/^NG_DEFER_BOOTSTRAP!/;return a&&i.test(a.name)&&(e.debugInfoEnabled=!0,a.name=a.name.replace(i,"")),a&&!j.test(a.name)?h():(a.name=a.name.replace(j,""),Rd.resumeBootstrap=function(a){return f(a,function(a){d.push(a)}),h()},void(A(Rd.resumeDeferredBootstrap)&&Rd.resumeDeferredBootstrap()))}function ia(){a.name="NG_ENABLE_DEBUG_INFO!"+a.name,a.location.reload()}function ja(a){var b=Rd.element(a).injector();if(!b)throw Qd("test","no injector found for element argument to getTestability");return b.get("$$testability")}function ka(a,b){return b=b||"_",a.replace($d,function(a,c){return(c?b:"")+a.toLowerCase()})}function la(){var b;if(!_d){var d=Yd();Jd=t(d)?a.jQuery:d?a[d]:c,Jd&&Jd.fn.on?(Id=Jd,l(Jd.fn,{scope:ve.scope,isolateScope:ve.isolateScope,controller:ve.controller,injector:ve.injector,inheritedData:ve.inheritedData
}),b=Jd.cleanData,Jd.cleanData=function(a){for(var c,d,e=0;null!=(d=a[e]);e++)c=Jd._data(d,"events"),c&&c.$destroy&&Jd(d).triggerHandler("$destroy");b(a)}):Id=Fa,Rd.element=Id,_d=!0}}function ma(a,b,c){if(!a)throw Qd("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function na(a,b,c){return c&&Td(a)&&(a=a[a.length-1]),ma(A(a),b,"not a function, got "+(a&&"object"==typeof a?a.constructor.name||"Object":typeof a)),a}function oa(a,b){if("hasOwnProperty"===a)throw Qd("badname","hasOwnProperty is not a valid {0} name",b)}function pa(a,b,c){if(!b)return a;for(var d,e=b.split("."),f=a,g=e.length,h=0;g>h;h++)d=e[h],a&&(a=(f=a)[d]);return!c&&A(a)?U(f,a):a}function qa(a){for(var b,c=a[0],d=a[a.length-1],e=1;c!==d&&(c=c.nextSibling);e++)(b||a[e]!==c)&&(b||(b=Id(Ld.call(a,0,e))),b.push(c));return b||a}function ra(){return Object.create(null)}function sa(a){function b(a,b,c){return a[b]||(a[b]=c())}var c=d("$injector"),e=d("ng"),f=b(a,"angular",Object);return f.$$minErr=f.$$minErr||d,b(f,"module",function(){var a={};return function(d,f,g){var h=function(a,b){if("hasOwnProperty"===a)throw e("badname","hasOwnProperty is not a valid {0} name",b)};return h(d,"module"),f&&a.hasOwnProperty(d)&&(a[d]=null),b(a,d,function(){function a(a,b,c,d){return d||(d=e),function(){return d[c||"push"]([a,b,arguments]),k}}function b(a,b){return function(c,f){return f&&A(f)&&(f.$$moduleName=d),e.push([a,b,arguments]),k}}if(!f)throw c("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",d);var e=[],h=[],i=[],j=a("$injector","invoke","push",h),k={_invokeQueue:e,_configBlocks:h,_runBlocks:i,requires:f,name:d,provider:b("$provide","provider"),factory:b("$provide","factory"),service:b("$provide","service"),value:a("$provide","value"),constant:a("$provide","constant","unshift"),decorator:b("$provide","decorator"),animation:b("$animateProvider","register"),filter:b("$filterProvider","register"),controller:b("$controllerProvider","register"),directive:b("$compileProvider","directive"),component:b("$compileProvider","component"),config:j,run:function(a){return i.push(a),this}};return g&&j(g),k})}})}function ta(a){var b=[];return JSON.stringify(a,function(a,c){if(c=V(a,c),v(c)){if(b.indexOf(c)>=0)return"...";b.push(c)}return c})}function ua(a){return"function"==typeof a?a.toString().replace(/ \{[\s\S]*$/,""):t(a)?"undefined":"string"!=typeof a?ta(a):a}function va(b){l(b,{bootstrap:ha,copy:P,extend:l,merge:m,equals:R,element:Id,forEach:f,injector:eb,noop:p,bind:U,toJson:W,fromJson:X,identity:q,isUndefined:t,isDefined:u,isString:x,isFunction:A,isObject:v,isNumber:y,isElement:L,isArray:Td,version:ge,isDate:z,lowercase:Dd,uppercase:Ed,callbacks:{counter:0},getTestability:ja,$$minErr:d,$$csp:Xd,reloadWithDebugInfo:ia}),(Kd=sa(a))("ng",["ngLocale"],["$provide",function(a){a.provider({$$sanitizeUri:wc}),a.provider("$compile",ob).directive({a:Bf,input:Sf,textarea:Sf,form:Gf,script:Ng,select:Qg,style:Sg,option:Rg,ngBind:Vf,ngBindHtml:Xf,ngBindTemplate:Wf,ngClass:Zf,ngClassEven:_f,ngClassOdd:$f,ngCloak:ag,ngController:bg,ngForm:Hf,ngHide:Gg,ngIf:eg,ngInclude:fg,ngInit:hg,ngNonBindable:xg,ngPluralize:Bg,ngRepeat:Cg,ngShow:Fg,ngStyle:Hg,ngSwitch:Ig,ngSwitchWhen:Jg,ngSwitchDefault:Kg,ngOptions:Ag,ngTransclude:Mg,ngModel:ug,ngList:ig,ngChange:Yf,pattern:Ug,ngPattern:Ug,required:Tg,ngRequired:Tg,minlength:Wg,ngMinlength:Wg,maxlength:Vg,ngMaxlength:Vg,ngValue:Uf,ngModelOptions:wg}).directive({ngInclude:gg}).directive(Cf).directive(cg),a.provider({$anchorScroll:fb,$animate:Le,$animateCss:Oe,$$animateJs:Je,$$animateQueue:Ke,$$AnimateRunner:Ne,$$animateAsyncRun:Me,$browser:lb,$cacheFactory:mb,$controller:tb,$document:ub,$exceptionHandler:vb,$filter:Kc,$$forceReflow:Te,$interpolate:Jb,$interval:Kb,$http:Fb,$httpParamSerializer:xb,$httpParamSerializerJQLike:yb,$httpBackend:Hb,$xhrFactory:Gb,$location:Yb,$log:Zb,$parse:qc,$rootScope:vc,$q:rc,$$q:sc,$sce:Ac,$sceDelegate:zc,$sniffer:Bc,$templateCache:nb,$templateRequest:Cc,$$testability:Dc,$timeout:Ec,$window:Hc,$$rAF:uc,$$jqLite:$a,$$HashMap:ze,$$cookieReader:Jc})}])}function wa(){return++ie}function xa(a){return a.replace(le,function(a,b,c,d){return d?c.toUpperCase():c}).replace(me,"Moz$1")}function ya(a){return!qe.test(a)}function za(a){var b=a.nodeType;return b===ae||!b||b===ee}function Aa(a){for(var b in he[a.ng339])return!0;return!1}function Ba(a){for(var b=0,c=a.length;c>b;b++)Ja(a[b])}function Ca(a,b){var c,d,e,g,h=b.createDocumentFragment(),i=[];if(ya(a))i.push(b.createTextNode(a));else{for(c=c||h.appendChild(b.createElement("div")),d=(re.exec(a)||["",""])[1].toLowerCase(),e=te[d]||te._default,c.innerHTML=e[1]+a.replace(se,"<$1></$2>")+e[2],g=e[0];g--;)c=c.lastChild;i=S(i,c.childNodes),c=h.firstChild,c.textContent=""}return h.textContent="",h.innerHTML="",f(i,function(a){h.appendChild(a)}),h}function Da(a,c){c=c||b;var d;return(d=pe.exec(a))?[c.createElement(d[1])]:(d=Ca(a,c))?d.childNodes:[]}function Ea(a,b){var c=a.parentNode;c&&c.replaceChild(b,a),b.appendChild(a)}function Fa(a){if(a instanceof Fa)return a;var b;if(x(a)&&(a=Vd(a),b=!0),!(this instanceof Fa)){if(b&&"<"!=a.charAt(0))throw oe("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new Fa(a)}b?Pa(this,Da(a)):Pa(this,a)}function Ga(a){return a.cloneNode(!0)}function Ha(a,b){if(b||Ja(a),a.querySelectorAll)for(var c=a.querySelectorAll("*"),d=0,e=c.length;e>d;d++)Ja(c[d])}function Ia(a,b,c,d){if(u(d))throw oe("offargs","jqLite#off() does not support the `selector` argument");var e=Ka(a),g=e&&e.events,h=e&&e.handle;if(h)if(b){var i=function(b){var d=g[b];u(c)&&O(d||[],c),u(c)&&d&&d.length>0||(ke(a,b,h),delete g[b])};f(b.split(" "),function(a){i(a),ne[a]&&i(ne[a])})}else for(b in g)"$destroy"!==b&&ke(a,b,h),delete g[b]}function Ja(a,b){var d=a.ng339,e=d&&he[d];if(e){if(b)return void delete e.data[b];e.handle&&(e.events.$destroy&&e.handle({},"$destroy"),Ia(a)),delete he[d],a.ng339=c}}function Ka(a,b){var d=a.ng339,e=d&&he[d];return b&&!e&&(a.ng339=d=wa(),e=he[d]={events:{},data:{},handle:c}),e}function La(a,b,c){if(za(a)){var d=u(c),e=!d&&b&&!v(b),f=!b,g=Ka(a,!e),h=g&&g.data;if(d)h[b]=c;else{if(f)return h;if(e)return h&&h[b];l(h,b)}}}function Ma(a,b){return a.getAttribute?(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+b+" ")>-1:!1}function Na(a,b){b&&a.setAttribute&&f(b.split(" "),function(b){a.setAttribute("class",Vd((" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Vd(b)+" "," ")))})}function Oa(a,b){if(b&&a.setAttribute){var c=(" "+(a.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");f(b.split(" "),function(a){a=Vd(a),-1===c.indexOf(" "+a+" ")&&(c+=a+" ")}),a.setAttribute("class",Vd(c))}}function Pa(a,b){if(b)if(b.nodeType)a[a.length++]=b;else{var c=b.length;if("number"==typeof c&&b.window!==b){if(c)for(var d=0;c>d;d++)a[a.length++]=b[d]}else a[a.length++]=b}}function Qa(a,b){return Ra(a,"$"+(b||"ngController")+"Controller")}function Ra(a,b,c){a.nodeType==ee&&(a=a.documentElement);for(var d=Td(b)?b:[b];a;){for(var e=0,f=d.length;f>e;e++)if(u(c=Id.data(a,d[e])))return c;a=a.parentNode||a.nodeType===fe&&a.host}}function Sa(a){for(Ha(a,!0);a.firstChild;)a.removeChild(a.firstChild)}function Ta(a,b){b||Ha(a);var c=a.parentNode;c&&c.removeChild(a)}function Ua(b,c){c=c||a,"complete"===c.document.readyState?c.setTimeout(b):Id(c).on("load",b)}function Va(a,b){var c=we[b.toLowerCase()];return c&&xe[N(a)]&&c}function Wa(a){return ye[a]}function Xa(a,b){var c=function(c,d){c.isDefaultPrevented=function(){return c.defaultPrevented};var e=b[d||c.type],f=e?e.length:0;if(f){if(t(c.immediatePropagationStopped)){var g=c.stopImmediatePropagation;c.stopImmediatePropagation=function(){c.immediatePropagationStopped=!0,c.stopPropagation&&c.stopPropagation(),g&&g.call(c)}}c.isImmediatePropagationStopped=function(){return c.immediatePropagationStopped===!0};var h=e.specialHandlerWrapper||Ya;f>1&&(e=Q(e));for(var i=0;f>i;i++)c.isImmediatePropagationStopped()||h(a,c,e[i])}};return c.elem=a,c}function Ya(a,b,c){c.call(a,b)}function Za(a,b,c){var d=b.relatedTarget;(!d||d!==a&&!ue.call(a,d))&&c.call(a,b)}function $a(){this.$get=function(){return l(Fa,{hasClass:function(a,b){return a.attr&&(a=a[0]),Ma(a,b)},addClass:function(a,b){return a.attr&&(a=a[0]),Oa(a,b)},removeClass:function(a,b){return a.attr&&(a=a[0]),Na(a,b)}})}}function _a(a,b){var c=a&&a.$$hashKey;if(c)return"function"==typeof c&&(c=a.$$hashKey()),c;var d=typeof a;return c="function"==d||"object"==d&&null!==a?a.$$hashKey=d+":"+(b||i)():d+":"+a}function ab(a,b){if(b){var c=0;this.nextUid=function(){return++c}}f(a,this.put,this)}function bb(a){var b=a.toString().replace(Ee,""),c=b.match(Ae)||b.match(Be);return c}function cb(a){var b=bb(a);return b?"function("+(b[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function db(a,b,c){var d,e,g;if("function"==typeof a){if(!(d=a.$inject)){if(d=[],a.length){if(b)throw x(c)&&c||(c=a.name||cb(a)),Fe("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",c);e=bb(a),f(e[1].split(Ce),function(a){a.replace(De,function(a,b,c){d.push(c)})})}a.$inject=d}}else Td(a)?(g=a.length-1,na(a[g],"fn"),d=a.slice(0,g)):na(a,"fn",!0);return d}function eb(a,b){function d(a){return function(b,c){return v(b)?void f(b,h(a)):a(b,c)}}function e(a,b){if(oa(a,"service"),(A(b)||Td(b))&&(b=y.instantiate(b)),!b.$get)throw Fe("pget","Provider '{0}' must define $get factory method.",a);return w[a+q]=b}function g(a,b){return function(){var c=C.invoke(b,this);if(t(c))throw Fe("undef","Provider '{0}' must return a value from $get factory method.",a);return c}}function i(a,b,c){return e(a,{$get:c!==!1?g(a,b):b})}function j(a,b){return i(a,["$injector",function(a){return a.instantiate(b)}])}function k(a,b){return i(a,r(b),!1)}function l(a,b){oa(a,"constant"),w[a]=b,z[a]=b}function m(a,b){var c=y.get(a+q),d=c.$get;c.$get=function(){var a=C.invoke(d,c);return C.invoke(b,null,{$delegate:a})}}function n(a){ma(t(a)||Td(a),"modulesToLoad","not an array");var b,c=[];return f(a,function(a){function d(a){var b,c;for(b=0,c=a.length;c>b;b++){var d=a[b],e=y.get(d[0]);e[d[1]].apply(e,d[2])}}if(!u.get(a)){u.put(a,!0);try{x(a)?(b=Kd(a),c=c.concat(n(b.requires)).concat(b._runBlocks),d(b._invokeQueue),d(b._configBlocks)):A(a)?c.push(y.invoke(a)):Td(a)?c.push(y.invoke(a)):na(a,"module")}catch(e){throw Td(a)&&(a=a[a.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Fe("modulerr","Failed to instantiate module {0} due to:\n{1}",a,e.stack||e.message||e)}}}),c}function o(a,c){function d(b,d){if(a.hasOwnProperty(b)){if(a[b]===p)throw Fe("cdep","Circular dependency found: {0}",b+" <- "+s.join(" <- "));return a[b]}try{return s.unshift(b),a[b]=p,a[b]=c(b,d)}catch(e){throw a[b]===p&&delete a[b],e}finally{s.shift()}}function e(a,c,e){for(var f=[],g=eb.$$annotate(a,b,e),h=0,i=g.length;i>h;h++){var j=g[h];if("string"!=typeof j)throw Fe("itkn","Incorrect injection token! Expected service name as string, got {0}",j);f.push(c&&c.hasOwnProperty(j)?c[j]:d(j,e))}return f}function f(a){return 11>=Hd?!1:"function"==typeof a&&/^(?:class\s|constructor\()/.test(Function.prototype.toString.call(a))}function g(a,b,c,d){"string"==typeof c&&(d=c,c=null);var g=e(a,c,d);return Td(a)&&(a=a[a.length-1]),f(a)?(g.unshift(null),new(Function.prototype.bind.apply(a,g))):a.apply(b,g)}function h(a,b,c){var d=Td(a)?a[a.length-1]:a,f=e(a,b,c);return f.unshift(null),new(Function.prototype.bind.apply(d,f))}return{invoke:g,instantiate:h,get:d,annotate:eb.$$annotate,has:function(b){return w.hasOwnProperty(b+q)||a.hasOwnProperty(b)}}}b=b===!0;var p={},q="Provider",s=[],u=new ab([],!0),w={$provide:{provider:d(e),factory:d(i),service:d(j),value:d(k),constant:d(l),decorator:m}},y=w.$injector=o(w,function(a,b){throw Rd.isString(b)&&s.push(b),Fe("unpr","Unknown provider: {0}",s.join(" <- "))}),z={},B=o(z,function(a,b){var d=y.get(a+q,b);return C.invoke(d.$get,d,c,a)}),C=B;w["$injector"+q]={$get:r(B)};var D=n(a);return C=B.get("$injector"),C.strictDi=b,f(D,function(a){a&&C.invoke(a)}),C}function fb(){var a=!0;this.disableAutoScrolling=function(){a=!1},this.$get=["$window","$location","$rootScope",function(b,c,d){function e(a){var b=null;return Array.prototype.some.call(a,function(a){return"a"===N(a)?(b=a,!0):void 0}),b}function f(){var a=h.yOffset;if(A(a))a=a();else if(L(a)){var c=a[0],d=b.getComputedStyle(c);a="fixed"!==d.position?0:c.getBoundingClientRect().bottom}else y(a)||(a=0);return a}function g(a){if(a){a.scrollIntoView();var c=f();if(c){var d=a.getBoundingClientRect().top;b.scrollBy(0,d-c)}}else b.scrollTo(0,0)}function h(a){a=x(a)?a:c.hash();var b;a?(b=i.getElementById(a))?g(b):(b=e(i.getElementsByName(a)))?g(b):"top"===a&&g(null):g(null)}var i=b.document;return a&&d.$watch(function(){return c.hash()},function(a,b){(a!==b||""!==a)&&Ua(function(){d.$evalAsync(h)})}),h}]}function gb(a,b){return a||b?a?b?(Td(a)&&(a=a.join(" ")),Td(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function hb(a){for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType===He)return c}}function ib(a){x(a)&&(a=a.split(" "));var b=ra();return f(a,function(a){a.length&&(b[a]=!0)}),b}function jb(a){return v(a)?a:{}}function kb(a,b,c,d){function e(a){try{a.apply(null,T(arguments,1))}finally{if(s--,0===s)for(;u.length;)try{u.pop()()}catch(b){c.error(b)}}}function g(a){var b=a.indexOf("#");return-1===b?"":a.substr(b)}function h(){z=null,j(),k()}function i(){try{return n.state}catch(a){}}function j(){v=i(),v=t(v)?null:v,R(v,C)&&(v=C),C=v}function k(){(x!==l.url()||w!==v)&&(x=l.url(),w=v,f(A,function(a){a(l.url(),v)}))}var l=this,m=(b[0],a.location),n=a.history,o=a.setTimeout,q=a.clearTimeout,r={};l.isMock=!1;var s=0,u=[];l.$$completeOutstandingRequest=e,l.$$incOutstandingRequestCount=function(){s++},l.notifyWhenNoOutstandingRequests=function(a){0===s?a():u.push(a)};var v,w,x=m.href,y=b.find("base"),z=null;j(),w=v,l.url=function(b,c,e){if(t(e)&&(e=null),m!==a.location&&(m=a.location),n!==a.history&&(n=a.history),b){var f=w===e;if(x===b&&(!d.history||f))return l;var h=x&&Pb(x)===Pb(b);return x=b,w=e,!d.history||h&&f?((!h||z)&&(z=b),c?m.replace(b):h?m.hash=g(b):m.href=b,m.href!==b&&(z=b)):(n[c?"replaceState":"pushState"](e,"",b),j(),w=v),l}return z||m.href.replace(/%27/g,"'")},l.state=function(){return v};var A=[],B=!1,C=null;l.onUrlChange=function(b){return B||(d.history&&Id(a).on("popstate",h),Id(a).on("hashchange",h),B=!0),A.push(b),b},l.$$applicationDestroyed=function(){Id(a).off("hashchange popstate",h)},l.$$checkUrlChange=k,l.baseHref=function(){var a=y.attr("href");return a?a.replace(/^(https?\:)?\/\/[^\/]*/,""):""},l.defer=function(a,b){var c;return s++,c=o(function(){delete r[c],e(a)},b||0),r[c]=!0,c},l.defer.cancel=function(a){return r[a]?(delete r[a],q(a),e(p),!0):!1}}function lb(){this.$get=["$window","$log","$sniffer","$document",function(a,b,c,d){return new kb(a,d,b,c)}]}function mb(){this.$get=function(){function a(a,c){function e(a){a!=m&&(n?n==a&&(n=a.n):n=a,f(a.n,a.p),f(a,m),m=a,m.n=null)}function f(a,b){a!=b&&(a&&(a.p=b),b&&(b.n=a))}if(a in b)throw d("$cacheFactory")("iid","CacheId '{0}' is already taken!",a);var g=0,h=l({},c,{id:a}),i=ra(),j=c&&c.capacity||Number.MAX_VALUE,k=ra(),m=null,n=null;return b[a]={put:function(a,b){if(!t(b)){if(j<Number.MAX_VALUE){var c=k[a]||(k[a]={key:a});e(c)}return a in i||g++,i[a]=b,g>j&&this.remove(n.key),b}},get:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;e(b)}return i[a]},remove:function(a){if(j<Number.MAX_VALUE){var b=k[a];if(!b)return;b==m&&(m=b.p),b==n&&(n=b.n),f(b.n,b.p),delete k[a]}a in i&&(delete i[a],g--)},removeAll:function(){i=ra(),g=0,k=ra(),m=n=null},destroy:function(){i=null,h=null,k=null,delete b[a]},info:function(){return l({},h,{size:g})}}}var b={};return a.info=function(){var a={};return f(b,function(b,c){a[c]=b.info()}),a},a.get=function(a){return b[a]},a}}function nb(){this.$get=["$cacheFactory",function(a){return a("templates")}]}function ob(a,d){function e(a,b,c){var d=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,e={};return f(a,function(a,f){var g=a.match(d);if(!g)throw Pe("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",b,f,a,c?"controller bindings definition":"isolate scope definition");e[f]={mode:g[1][0],collection:"*"===g[2],optional:"?"===g[3],attrName:g[4]||f}}),e}function g(a,b){var c={isolateScope:null,bindToController:null};if(v(a.scope)&&(a.bindToController===!0?(c.bindToController=e(a.scope,b,!0),c.isolateScope={}):c.isolateScope=e(a.scope,b,!1)),v(a.bindToController)&&(c.bindToController=e(a.bindToController,b,!0)),v(c.bindToController)){var d=a.controller,f=a.controllerAs;if(!d)throw Pe("noctrl","Cannot bind to controller without directive '{0}'s controller.",b);if(!sb(d,f))throw Pe("noident","Cannot bind to controller without identifier for directive '{0}'.",b)}return c}function i(a){var b=a.charAt(0);if(!b||b!==Dd(b))throw Pe("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",a);if(a!==a.trim())throw Pe("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",a)}var j={},k="Directive",m=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,n=/(([\w\-]+)(?:\:([^;]+))?;?)/,s=M("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,y=/^(on[a-z]+|formaction)$/;this.directive=function B(b,c){return oa(b,"directive"),x(b)?(i(b),ma(c,"directiveFactory"),j.hasOwnProperty(b)||(j[b]=[],a.factory(b+k,["$injector","$exceptionHandler",function(a,c){var d=[];return f(j[b],function(e,f){try{var h=a.invoke(e);A(h)?h={compile:r(h)}:!h.compile&&h.link&&(h.compile=r(h.link)),h.priority=h.priority||0,h.index=f,h.name=h.name||b,h.require=h.require||h.controller&&h.name,h.restrict=h.restrict||"EA";var i=h.$$bindings=g(h,h.name);v(i.isolateScope)&&(h.$$isolateBindings=i.isolateScope),h.$$moduleName=e.$$moduleName,d.push(h)}catch(j){c(j)}}),d}])),j[b].push(c)):f(b,h(B)),this},this.component=function(a,b){function c(a){function c(b){return A(b)||Td(b)?function(c,d){return a.invoke(b,this,{$element:c,$attrs:d})}:b}var e=b.template||b.templateUrl?b.template:"";return{controller:d,controllerAs:sb(b.controller)||b.controllerAs||"$ctrl",template:c(e),templateUrl:c(b.templateUrl),transclude:b.transclude,scope:{},bindToController:b.bindings||{},restrict:"E",require:b.require}}var d=b.controller||function(){};return f(b,function(a,b){"$"===b.charAt(0)&&(c[b]=a)}),c.$inject=["$injector"],this.directive(a,c)},this.aHrefSanitizationWhitelist=function(a){return u(a)?(d.aHrefSanitizationWhitelist(a),this):d.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(d.imgSrcSanitizationWhitelist(a),this):d.imgSrcSanitizationWhitelist()};var z=!0;this.debugInfoEnabled=function(a){return u(a)?(z=a,this):z},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(a,d,e,g,h,i,r,u,B,C){function E(a,b,c){ja.innerHTML="<span "+b+">";var d=ja.firstChild.attributes,e=d[0];d.removeNamedItem(e.name),e.value=c,a.attributes.setNamedItem(e)}function F(a,b){try{a.addClass(b)}catch(c){}}function G(a,c,d,e,f){a instanceof Id||(a=Id(a));for(var g=/\S+/,h=0,i=a.length;i>h;h++){var j=a[h];j.nodeType===ce&&j.nodeValue.match(g)&&Ea(j,a[h]=b.createElement("span"))}var k=J(a,c,a,d,e,f);G.$$addScopeClass(a);var l=null;return function(b,c,d){ma(b,"scope"),f&&f.needsNewScope&&(b=b.$parent.$new()),d=d||{};var e=d.parentBoundTranscludeFn,g=d.transcludeControllers,h=d.futureParentElement;e&&e.$$boundTransclude&&(e=e.$$boundTransclude),l||(l=I(h));var i;if(i="html"!==l?Id(ba(l,Id("<div>").append(a).html())):c?ve.clone.call(a):a,g)for(var j in g)i.data("$"+j+"Controller",g[j].instance);return G.$$addScopeInfo(i,b),c&&c(i,b),k&&k(b,i,i,e),i}}function I(a){var b=a&&a[0];return b&&"foreignobject"!==N(b)&&Od.call(b).match(/SVG/)?"svg":"html"}function J(a,b,d,e,f,g){function h(a,d,e,f){var g,h,i,j,k,l,m,n,q;if(o){var r=d.length;for(q=new Array(r),k=0;k<p.length;k+=3)m=p[k],q[m]=d[m]}else q=d;for(k=0,l=p.length;l>k;)i=q[p[k++]],g=p[k++],h=p[k++],g?(g.scope?(j=a.$new(),G.$$addScopeInfo(Id(i),j)):j=a,n=g.transcludeOnThisElement?K(a,g.transclude,f):!g.templateOnThisElement&&f?f:!f&&b?K(a,b):null,g(h,j,i,e,n)):h&&h(a,i.childNodes,c,f)}for(var i,j,k,l,m,n,o,p=[],q=0;q<a.length;q++)i=new la,j=L(a[q],[],i,0===q?e:c,f),k=j.length?S(j,a[q],i,b,d,null,[],[],g):null,k&&k.scope&&G.$$addScopeClass(i.$$element),m=k&&k.terminal||!(l=a[q].childNodes)||!l.length?null:J(l,k?(k.transcludeOnThisElement||!k.templateOnThisElement)&&k.transclude:b),(k||m)&&(p.push(q,k,m),n=!0,o=o||k),g=null;return n?h:null}function K(a,b,c){var d=function(d,e,f,g,h){return d||(d=a.$new(!1,h),d.$$transcluded=!0),b(d,e,{parentBoundTranscludeFn:c,transcludeControllers:f,futureParentElement:g})},e=d.$$slots=ra();for(var f in b.$$slots)b.$$slots[f]?e[f]=K(a,b.$$slots[f],c):e[f]=null;return d}function L(a,b,c,d,e){var f,g,h=a.nodeType,i=c.$attr;switch(h){case ae:V(b,pb(N(a)),"E",d,e);for(var j,k,l,o,p,q,r=a.attributes,s=0,t=r&&r.length;t>s;s++){var u=!1,w=!1;j=r[s],k=j.name,p=Vd(j.value),o=pb(k),(q=qa.test(o))&&(k=k.replace(Qe,"").substr(8).replace(/_(.)/g,function(a,b){return b.toUpperCase()}));var y=o.match(sa);y&&W(y[1])&&(u=k,w=k.substr(0,k.length-5)+"end",k=k.substr(0,k.length-6)),l=pb(k.toLowerCase()),i[l]=k,(q||!c.hasOwnProperty(l))&&(c[l]=p,Va(a,l)&&(c[l]=!0)),da(a,b,p,l,q),V(b,l,"A",d,e,u,w)}if(g=a.className,v(g)&&(g=g.animVal),x(g)&&""!==g)for(;f=n.exec(g);)l=pb(f[2]),V(b,l,"C",d,e)&&(c[l]=Vd(f[3])),g=g.substr(f.index+f[0].length);break;case ce:if(11===Hd)for(;a.parentNode&&a.nextSibling&&a.nextSibling.nodeType===ce;)a.nodeValue=a.nodeValue+a.nextSibling.nodeValue,a.parentNode.removeChild(a.nextSibling);aa(b,a.nodeValue);break;case de:try{f=m.exec(a.nodeValue),f&&(l=pb(f[1]),V(b,l,"M",d,e)&&(c[l]=Vd(f[2])))}catch(z){}}return b.sort(Z),b}function M(a,b,c){var d=[],e=0;if(b&&a.hasAttribute&&a.hasAttribute(b)){do{if(!a)throw Pe("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",b,c);a.nodeType==ae&&(a.hasAttribute(b)&&e++,a.hasAttribute(c)&&e--),d.push(a),a=a.nextSibling}while(e>0)}else d.push(a);return Id(d)}function P(a,b,c){return function(d,e,f,g,h){return e=M(e[0],b,c),a(d,e,f,g,h)}}function Q(a,b,c,d,e,f){if(a)return G(b,c,d,e,f);var g;return function(){return g||(g=G(b,c,d,e,f),b=c=f=null),g.apply(this,arguments)}}function S(a,d,g,h,j,k,m,n,o){function p(a,b,c,d){a&&(c&&(a=P(a,c,d)),a.require=u.require,a.directiveName=y,(I===u||u.$$isolateScope)&&(a=fa(a,{isolateScope:!0})),m.push(a)),b&&(c&&(b=P(b,c,d)),b.require=u.require,b.directiveName=y,(I===u||u.$$isolateScope)&&(b=fa(b,{isolateScope:!0})),n.push(b))}function q(a,b,c,d){var e;if(x(b)){var g=b.match(w),h=b.substring(g[0].length),i=g[1]||g[3],j="?"===g[2];if("^^"===i?c=c.parent():(e=d&&d[h],e=e&&e.instance),!e){var k="$"+h+"Controller";e=i?c.inheritedData(k):c.data(k)}if(!e&&!j)throw Pe("ctreq","Controller '{0}', required by directive '{1}', can't be found!",h,a)}else if(Td(b)){e=[];for(var l=0,m=b.length;m>l;l++)e[l]=q(a,b[l],c,d)}else v(b)&&(e={},f(b,function(b,f){e[f]=q(a,b,c,d)}));return e||null}function r(a,b,c,d,e,f){var g=ra();for(var h in d){var j=d[h],k={$scope:j===I||j.$$isolateScope?e:f,$element:a,$attrs:b,$transclude:c},l=j.controller;"@"==l&&(l=b[j.name]);var m=i(l,k,!0,j.controllerAs);g[j.name]=m,S||a.data("$"+j.name+"Controller",m.instance)}return g}function s(a,b,e,h,i){function j(a,b,d,e){var f;if(D(a)||(e=d,d=b,b=a,a=c),S&&(f=w),d||(d=S?y.parent():y),!e)return i(a,b,f,d,O);var g=i.$$slots[e];if(g)return g(a,b,f,d,O);if(t(g))throw Pe("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',e,_(y))}var k,o,p,s,u,w,x,y,z,B,C;d===e?(z=g,y=g.$$element):(y=Id(e),z=new la(y,g)),u=b,I?s=b.$new(!0):F&&(u=b.$parent),i&&(x=j,x.$$boundTransclude=i,x.isSlotFilled=function(a){return!!i.$$slots[a]}),H&&(w=r(y,z,x,H,s,b)),I&&(G.$$addScopeInfo(y,s,!0,!(J&&(J===I||J===I.$$originalDirective))),G.$$addScopeClass(y,!0),s.$$isolateBindings=I.$$isolateBindings,B=ha(b,z,s,s.$$isolateBindings,I),B&&s.$on("$destroy",B));for(var E in w){var K=H[E],L=w[E],M=K.$$bindings.bindToController;L.identifier&&M&&(C=ha(u,z,L.instance,M,K));var N=L();N!==L.instance&&(L.instance=N,y.data("$"+K.name+"Controller",N),C&&C(),C=ha(u,z,L.instance,M,K))}for(f(H,function(a,b){var c=a.require;a.bindToController&&!Td(c)&&v(c)&&l(w[b].instance,q(b,c,y,w))}),f(w,function(a){A(a.instance.$onInit)&&a.instance.$onInit()}),k=0,o=m.length;o>k;k++)p=m[k],ga(p,p.isolateScope?s:b,y,z,p.require&&q(p.directiveName,p.require,y,w),x);var O=b;for(I&&(I.template||null===I.templateUrl)&&(O=s),a&&a(O,e.childNodes,c,i),k=n.length-1;k>=0;k--)p=n[k],ga(p,p.isolateScope?s:b,y,z,p.require&&q(p.directiveName,p.require,y,w),x)}o=o||{};for(var u,y,z,B,C,E=-Number.MAX_VALUE,F=o.newScopeDirective,H=o.controllerDirectives,I=o.newIsolateScopeDirective,J=o.templateDirective,K=o.nonTlbTranscludeDirective,O=!1,R=!1,S=o.hasElementTranscludeDirective,V=g.$$element=Id(d),W=k,Z=h,aa=!1,ca=!1,da=0,ia=a.length;ia>da;da++){u=a[da];var ja=u.$$start,ka=u.$$end;if(ja&&(V=M(d,ja,ka)),z=c,E>u.priority)break;if((C=u.scope)&&(u.templateUrl||(v(C)?($("new/isolated scope",I||F,u,V),I=u):$("new/isolated scope",I,u,V)),F=F||u),y=u.name,!aa&&(u.replace&&(u.templateUrl||u.template)||u.transclude&&!u.$$tlb)){for(var ma,na=da+1;ma=a[na++];)if(ma.transclude&&!ma.$$tlb||ma.replace&&(ma.templateUrl||ma.template)){ca=!0;break}aa=!0}if(!u.templateUrl&&u.controller&&(C=u.controller,H=H||ra(),$("'"+y+"' controller",H[y],u,V),H[y]=u),C=u.transclude)if(O=!0,u.$$tlb||($("transclusion",K,u,V),K=u),"element"==C)S=!0,E=u.priority,z=V,V=g.$$element=Id(b.createComment(" "+y+": "+g[y]+" ")),d=V[0],ea(j,T(z),d),Z=Q(ca,z,h,E,W&&W.name,{nonTlbTranscludeDirective:K});else{var oa=ra();if(z=Id(Ga(d)).contents(),v(C)){z=[];var qa=ra(),sa=ra();f(C,function(a,b){var c="?"===a.charAt(0);a=c?a.substring(1):a,qa[a]=b,oa[b]=null,sa[b]=c}),f(V.contents(),function(a){var b=qa[pb(N(a))];b?(sa[b]=!0,oa[b]=oa[b]||[],oa[b].push(a)):z.push(a)}),f(sa,function(a,b){if(!a)throw Pe("reqslot","Required transclusion slot `{0}` was not filled.",b)});for(var ta in oa)oa[ta]&&(oa[ta]=Q(ca,oa[ta],h))}V.empty(),Z=Q(ca,z,h,c,c,{needsNewScope:u.$$isolateScope||u.$$newScope}),Z.$$slots=oa}if(u.template)if(R=!0,$("template",J,u,V),J=u,C=A(u.template)?u.template(V,g):u.template,C=pa(C),u.replace){if(W=u,z=ya(C)?[]:rb(ba(u.templateNamespace,Vd(C))),d=z[0],1!=z.length||d.nodeType!==ae)throw Pe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");ea(j,V,d);var ua={$attr:{}},va=L(d,[],ua),wa=a.splice(da+1,a.length-(da+1));(I||F)&&U(va,I,F),a=a.concat(va).concat(wa),X(g,ua),ia=a.length}else V.html(C);if(u.templateUrl)R=!0,$("template",J,u,V),J=u,u.replace&&(W=u),s=Y(a.splice(da,a.length-da),V,g,j,O&&Z,m,n,{controllerDirectives:H,newScopeDirective:F!==u&&F,newIsolateScopeDirective:I,templateDirective:J,nonTlbTranscludeDirective:K}),ia=a.length;else if(u.compile)try{B=u.compile(V,g,Z),A(B)?p(null,B,ja,ka):B&&p(B.pre,B.post,ja,ka)}catch(xa){e(xa,_(V))}u.terminal&&(s.terminal=!0,E=Math.max(E,u.priority))}return s.scope=F&&F.scope===!0,s.transcludeOnThisElement=O,s.templateOnThisElement=R,s.transclude=Z,o.hasElementTranscludeDirective=S,s}function U(a,b,c){for(var d=0,e=a.length;e>d;d++)a[d]=o(a[d],{$$isolateScope:b,$$newScope:c})}function V(b,c,d,f,g,h,i){if(c===g)return null;var l=null;if(j.hasOwnProperty(c))for(var m,n=a.get(c+k),p=0,q=n.length;q>p;p++)try{m=n[p],(t(f)||f>m.priority)&&-1!=m.restrict.indexOf(d)&&(h&&(m=o(m,{$$start:h,$$end:i})),b.push(m),l=m)}catch(r){e(r)}return l}function W(b){if(j.hasOwnProperty(b))for(var c,d=a.get(b+k),e=0,f=d.length;f>e;e++)if(c=d[e],c.multiElement)return!0;return!1}function X(a,b){var c=b.$attr,d=a.$attr,e=a.$$element;f(a,function(d,e){"$"!=e.charAt(0)&&(b[e]&&b[e]!==d&&(d+=("style"===e?";":" ")+b[e]),a.$set(e,d,!0,c[e]))}),f(b,function(b,f){"class"==f?(F(e,b),a["class"]=(a["class"]?a["class"]+" ":"")+b):"style"==f?(e.attr("style",e.attr("style")+";"+b),a.style=(a.style?a.style+";":"")+b):"$"==f.charAt(0)||a.hasOwnProperty(f)||(a[f]=b,d[f]=c[f])})}function Y(a,b,c,d,e,h,i,j){var k,l,m=[],n=b[0],p=a.shift(),q=o(p,{templateUrl:null,transclude:null,replace:null,$$originalDirective:p}),r=A(p.templateUrl)?p.templateUrl(b,c):p.templateUrl,s=p.templateNamespace;return b.empty(),g(r).then(function(g){var o,t,u,w;if(g=pa(g),p.replace){if(u=ya(g)?[]:rb(ba(s,Vd(g))),o=u[0],1!=u.length||o.nodeType!==ae)throw Pe("tplrt","Template for directive '{0}' must have exactly one root element. {1}",p.name,r);t={$attr:{}},ea(d,b,o);var x=L(o,[],t);v(p.scope)&&U(x,!0),a=x.concat(a),X(c,t)}else o=n,b.html(g);for(a.unshift(q),k=S(a,o,c,e,b,p,h,i,j),f(d,function(a,c){a==o&&(d[c]=b[0])}),l=J(b[0].childNodes,e);m.length;){var y=m.shift(),z=m.shift(),A=m.shift(),B=m.shift(),C=b[0];if(!y.$$destroyed){if(z!==n){var D=z.className;j.hasElementTranscludeDirective&&p.replace||(C=Ga(o)),ea(A,Id(z),C),F(Id(C),D)}w=k.transcludeOnThisElement?K(y,k.transclude,B):B,k(l,y,C,d,w)}}m=null}),function(a,b,c,d,e){var f=e;b.$$destroyed||(m?m.push(b,c,d,f):(k.transcludeOnThisElement&&(f=K(b,k.transclude,e)),k(l,b,c,d,f)))}}function Z(a,b){var c=b.priority-a.priority;return 0!==c?c:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function $(a,b,c,d){function e(a){return a?" (module: "+a+")":""}if(b)throw Pe("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",b.name,e(b.$$moduleName),c.name,e(c.$$moduleName),a,_(d))}function aa(a,b){var c=d(b,!0);c&&a.push({priority:0,compile:function(a){var b=a.parent(),d=!!b.length;return d&&G.$$addBindingClass(b),function(a,b){var e=b.parent();d||G.$$addBindingClass(e),G.$$addBindingInfo(e,c.expressions),a.$watch(c,function(a){b[0].nodeValue=a})}}})}function ba(a,c){switch(a=Dd(a||"html")){case"svg":case"math":var d=b.createElement("div");return d.innerHTML="<"+a+">"+c+"</"+a+">",d.childNodes[0].childNodes;default:return c}}function ca(a,b){if("srcdoc"==b)return u.HTML;var c=N(a);return"xlinkHref"==b||"form"==c&&"action"==b||"img"!=c&&("src"==b||"ngSrc"==b)?u.RESOURCE_URL:void 0}function da(a,b,c,e,f){var g=ca(a,e);f=s[e]||f;var h=d(c,!0,g,f);if(h){if("multiple"===e&&"select"===N(a))throw Pe("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",_(a));b.push({priority:100,compile:function(){return{pre:function(a,b,i){var j=i.$$observers||(i.$$observers=ra());if(y.test(e))throw Pe("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var k=i[e];k!==c&&(h=k&&d(k,!0,g,f),c=k),h&&(i[e]=h(a),(j[e]||(j[e]=[])).$$inter=!0,(i.$$observers&&i.$$observers[e].$$scope||a).$watch(h,function(a,b){"class"===e&&a!=b?i.$updateClass(a,b):i.$set(e,a)}))}}}})}}function ea(a,c,d){var e,f,g=c[0],h=c.length,i=g.parentNode;if(a)for(e=0,f=a.length;f>e;e++)if(a[e]==g){a[e++]=d;for(var j=e,k=j+h-1,l=a.length;l>j;j++,k++)l>k?a[j]=a[k]:delete a[j];a.length-=h-1,a.context===g&&(a.context=d);break}i&&i.replaceChild(d,g);var m=b.createDocumentFragment();for(e=0;h>e;e++)m.appendChild(c[e]);for(Id.hasData(g)&&(Id.data(d,Id.data(g)),Id(g).off("$destroy")),Id.cleanData(m.querySelectorAll("*")),e=1;h>e;e++)delete c[e];c[0]=d,c.length=1}function fa(a,b){return l(function(){return a.apply(null,arguments)},a,b)}function ga(a,b,c,d,f,g){try{a(b,c,d,f,g)}catch(h){e(h,_(c))}}function ha(a,b,c,e,g){var i=[];return f(e,function(e,f){var j,k,l,m,n=e.attrName,o=e.optional,q=e.mode;switch(q){case"@":o||Cd.call(b,n)||(c[f]=b[n]=void 0),b.$observe(n,function(a){x(a)&&(c[f]=a)}),b.$$observers[n].$$scope=a,j=b[n],x(j)?c[f]=d(j)(a):H(j)&&(c[f]=j);break;case"=":if(!Cd.call(b,n)){if(o)break;b[n]=void 0}if(o&&!b[n])break;k=h(b[n]),m=k.literal?R:function(a,b){return a===b||a!==a&&b!==b},l=k.assign||function(){throw j=c[f]=k(a),Pe("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",b[n],n,g.name);
},j=c[f]=k(a);var r=function(b){return m(b,c[f])||(m(b,j)?l(a,b=c[f]):c[f]=b),j=b};r.$stateful=!0;var s;s=e.collection?a.$watchCollection(b[n],r):a.$watch(h(b[n],r),null,k.literal),i.push(s);break;case"&":if(k=b.hasOwnProperty(n)?h(b[n]):p,k===p&&o)break;c[f]=function(b){return k(a,b)}}}),i.length&&function(){for(var a=0,b=i.length;b>a;++a)i[a]()}}var ia=/^\w/,ja=b.createElement("div"),la=function(a,b){if(b){var c,d,e,f=Object.keys(b);for(c=0,d=f.length;d>c;c++)e=f[c],this[e]=b[e]}else this.$attr={};this.$$element=a};la.prototype={$normalize:pb,$addClass:function(a){a&&a.length>0&&B.addClass(this.$$element,a)},$removeClass:function(a){a&&a.length>0&&B.removeClass(this.$$element,a)},$updateClass:function(a,b){var c=qb(a,b);c&&c.length&&B.addClass(this.$$element,c);var d=qb(b,a);d&&d.length&&B.removeClass(this.$$element,d)},$set:function(a,b,c,d){var g,h=this.$$element[0],i=Va(h,a),j=Wa(a),k=a;if(i?(this.$$element.prop(a,b),d=i):j&&(this[j]=b,k=j),this[a]=b,d?this.$attr[a]=d:(d=this.$attr[a],d||(this.$attr[a]=d=ka(a,"-"))),g=N(this.$$element),"a"===g&&("href"===a||"xlinkHref"===a)||"img"===g&&"src"===a)this[a]=b=C(b,"src"===a);else if("img"===g&&"srcset"===a){for(var l="",m=Vd(b),n=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,o=/\s/.test(m)?n:/(,)/,p=m.split(o),q=Math.floor(p.length/2),r=0;q>r;r++){var s=2*r;l+=C(Vd(p[s]),!0),l+=" "+Vd(p[s+1])}var u=Vd(p[2*r]).split(/\s/);l+=C(Vd(u[0]),!0),2===u.length&&(l+=" "+Vd(u[1])),this[a]=b=l}c!==!1&&(null===b||t(b)?this.$$element.removeAttr(d):ia.test(d)?this.$$element.attr(d,b):E(this.$$element[0],d,b));var v=this.$$observers;v&&f(v[k],function(a){try{a(b)}catch(c){e(c)}})},$observe:function(a,b){var c=this,d=c.$$observers||(c.$$observers=ra()),e=d[a]||(d[a]=[]);return e.push(b),r.$evalAsync(function(){e.$$inter||!c.hasOwnProperty(a)||t(c[a])||b(c[a])}),function(){O(e,b)}}};var na=d.startSymbol(),oa=d.endSymbol(),pa="{{"==na&&"}}"==oa?q:function(a){return a.replace(/\{\{/g,na).replace(/}}/g,oa)},qa=/^ngAttr[A-Z]/,sa=/^(.+)Start$/;return G.$$addBindingInfo=z?function(a,b){var c=a.data("$binding")||[];Td(b)?c=c.concat(b):c.push(b),a.data("$binding",c)}:p,G.$$addBindingClass=z?function(a){F(a,"ng-binding")}:p,G.$$addScopeInfo=z?function(a,b,c,d){var e=c?d?"$isolateScopeNoTemplate":"$isolateScope":"$scope";a.data(e,b)}:p,G.$$addScopeClass=z?function(a,b){F(a,b?"ng-isolate-scope":"ng-scope")}:p,G}]}function pb(a){return xa(a.replace(Qe,""))}function qb(a,b){var c="",d=a.split(/\s+/),e=b.split(/\s+/);a:for(var f=0;f<d.length;f++){for(var g=d[f],h=0;h<e.length;h++)if(g==e[h])continue a;c+=(c.length>0?" ":"")+g}return c}function rb(a){a=Id(a);var b=a.length;if(1>=b)return a;for(;b--;){var c=a[b];c.nodeType===de&&Md.call(a,b,1)}return a}function sb(a,b){if(b&&x(b))return b;if(x(a)){var c=Se.exec(a);if(c)return c[3]}}function tb(){var a={},b=!1;this.register=function(b,c){oa(b,"controller"),v(b)?l(a,b):a[b]=c},this.allowGlobals=function(){b=!0},this.$get=["$injector","$window",function(e,f){function g(a,b,c,e){if(!a||!v(a.$scope))throw d("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",e,b);a.$scope[b]=c}return function(d,h,i,j){var k,m,n,o;if(i=i===!0,j&&x(j)&&(o=j),x(d)){if(m=d.match(Se),!m)throw Re("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",d);n=m[1],o=o||m[3],d=a.hasOwnProperty(n)?a[n]:pa(h.$scope,n,!0)||(b?pa(f,n,!0):c),na(d,n,!0)}if(i){var p=(Td(d)?d[d.length-1]:d).prototype;k=Object.create(p||null),o&&g(h,o,k,n||d.name);var q;return q=l(function(){var a=e.invoke(d,k,h,n);return a!==k&&(v(a)||A(a))&&(k=a,o&&g(h,o,k,n||d.name)),k},{instance:k,identifier:o})}return k=e.instantiate(d,h,n),o&&g(h,o,k,n||d.name),k}}]}function ub(){this.$get=["$window",function(a){return Id(a.document)}]}function vb(){this.$get=["$log",function(a){return function(b,c){a.error.apply(a,arguments)}}]}function wb(a){return v(a)?z(a)?a.toISOString():W(a):a}function xb(){this.$get=function(){return function(a){if(!a)return"";var b=[];return g(a,function(a,c){null===a||t(a)||(Td(a)?f(a,function(a,d){b.push(ea(c)+"="+ea(wb(a)))}):b.push(ea(c)+"="+ea(wb(a))))}),b.join("&")}}}function yb(){this.$get=function(){return function(a){function b(a,d,e){null===a||t(a)||(Td(a)?f(a,function(a,c){b(a,d+"["+(v(a)?c:"")+"]")}):v(a)&&!z(a)?g(a,function(a,c){b(a,d+(e?"":"[")+c+(e?"":"]"))}):c.push(ea(d)+"="+ea(wb(a))))}if(!a)return"";var c=[];return b(a,"",!0),c.join("&")}}}function zb(a,b){if(x(a)){var c=a.replace(Ye,"").trim();if(c){var d=b("Content-Type");(d&&0===d.indexOf(Ue)||Ab(c))&&(a=X(c))}}return a}function Ab(a){var b=a.match(We);return b&&Xe[b[0]].test(a)}function Bb(a){function b(a,b){a&&(d[a]=d[a]?d[a]+", "+b:b)}var c,d=ra();return x(a)?f(a.split("\n"),function(a){c=a.indexOf(":"),b(Dd(Vd(a.substr(0,c))),Vd(a.substr(c+1)))}):v(a)&&f(a,function(a,c){b(Dd(c),Vd(a))}),d}function Cb(a){var b;return function(c){if(b||(b=Bb(a)),c){var d=b[Dd(c)];return void 0===d&&(d=null),d}return b}}function Db(a,b,c,d){return A(d)?d(a,b,c):(f(d,function(d){a=d(a,b,c)}),a)}function Eb(a){return a>=200&&300>a}function Fb(){var a=this.defaults={transformResponse:[zb],transformRequest:[function(a){return!v(a)||E(a)||G(a)||F(a)?a:W(a)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:Q(Ve),put:Q(Ve),patch:Q(Ve)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},b=!1;this.useApplyAsync=function(a){return u(a)?(b=!!a,this):b};var e=!0;this.useLegacyPromiseExtensions=function(a){return u(a)?(e=!!a,this):e};var g=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(h,i,j,k,m,n){function o(b){function g(a){var b=l({},a);return b.data=Db(a.data,a.headers,a.status,j.transformResponse),Eb(a.status)?b:m.reject(b)}function h(a,b){var c,d={};return f(a,function(a,e){A(a)?(c=a(b),null!=c&&(d[e]=c)):d[e]=a}),d}function i(b){var c,d,e,f=a.headers,g=l({},b.headers);f=l({},f.common,f[Dd(b.method)]);a:for(c in f){d=Dd(c);for(e in g)if(Dd(e)===d)continue a;g[c]=f[c]}return h(g,Q(b))}if(!v(b))throw d("$http")("badreq","Http request configuration must be an object.  Received: {0}",b);if(!x(b.url))throw d("$http")("badreq","Http request configuration url must be a string.  Received: {0}",b.url);var j=l({method:"get",transformRequest:a.transformRequest,transformResponse:a.transformResponse,paramSerializer:a.paramSerializer},b);j.headers=i(b),j.method=Ed(j.method),j.paramSerializer=x(j.paramSerializer)?n.get(j.paramSerializer):j.paramSerializer;var k=function(b){var d=b.headers,e=Db(b.data,Cb(d),c,b.transformRequest);return t(e)&&f(d,function(a,b){"content-type"===Dd(b)&&delete d[b]}),t(b.withCredentials)&&!t(a.withCredentials)&&(b.withCredentials=a.withCredentials),r(b,e).then(g,g)},o=[k,c],p=m.when(j);for(f(y,function(a){(a.request||a.requestError)&&o.unshift(a.request,a.requestError),(a.response||a.responseError)&&o.push(a.response,a.responseError)});o.length;){var q=o.shift(),s=o.shift();p=p.then(q,s)}return e?(p.success=function(a){return na(a,"fn"),p.then(function(b){a(b.data,b.status,b.headers,j)}),p},p.error=function(a){return na(a,"fn"),p.then(null,function(b){a(b.data,b.status,b.headers,j)}),p}):(p.success=$e("success"),p.error=$e("error")),p}function p(a){f(arguments,function(a){o[a]=function(b,c){return o(l({},c||{},{method:a,url:b}))}})}function q(a){f(arguments,function(a){o[a]=function(b,c,d){return o(l({},d||{},{method:a,url:b,data:c}))}})}function r(d,e){function f(a,c,d,e){function f(){g(c,a,d,e)}n&&(Eb(a)?n.put(y,[a,c,Bb(d),e]):n.remove(y)),b?k.$applyAsync(f):(f(),k.$$phase||k.$apply())}function g(a,b,c,e){b=b>=-1?b:0,(Eb(b)?q.resolve:q.reject)({data:a,status:b,headers:Cb(c),config:d,statusText:e})}function j(a){g(a.data,a.status,Q(a.headers()),a.statusText)}function l(){var a=o.pendingRequests.indexOf(d);-1!==a&&o.pendingRequests.splice(a,1)}var n,p,q=m.defer(),r=q.promise,x=d.headers,y=s(d.url,d.paramSerializer(d.params));if(o.pendingRequests.push(d),r.then(l,l),!d.cache&&!a.cache||d.cache===!1||"GET"!==d.method&&"JSONP"!==d.method||(n=v(d.cache)?d.cache:v(a.cache)?a.cache:w),n&&(p=n.get(y),u(p)?I(p)?p.then(j,j):Td(p)?g(p[1],p[0],Q(p[2]),p[3]):g(p,200,{},"OK"):n.put(y,r)),t(p)){var z=Gc(d.url)?i()[d.xsrfCookieName||a.xsrfCookieName]:c;z&&(x[d.xsrfHeaderName||a.xsrfHeaderName]=z),h(d.method,y,e,f,x,d.timeout,d.withCredentials,d.responseType)}return r}function s(a,b){return b.length>0&&(a+=(-1==a.indexOf("?")?"?":"&")+b),a}var w=j("$http");a.paramSerializer=x(a.paramSerializer)?n.get(a.paramSerializer):a.paramSerializer;var y=[];return f(g,function(a){y.unshift(x(a)?n.get(a):n.invoke(a))}),o.pendingRequests=[],p("get","delete","head","jsonp"),q("post","put","patch"),o.defaults=a,o}]}function Gb(){this.$get=function(){return function(){return new a.XMLHttpRequest}}}function Hb(){this.$get=["$browser","$window","$document","$xhrFactory",function(a,b,c,d){return Ib(a,d,a.defer,b.angular.callbacks,c[0])}]}function Ib(a,b,c,d,e){function g(a,b,c){var f=e.createElement("script"),g=null;return f.type="text/javascript",f.src=a,f.async=!0,g=function(a){ke(f,"load",g),ke(f,"error",g),e.body.removeChild(f),f=null;var h=-1,i="unknown";a&&("load"!==a.type||d[b].called||(a={type:"error"}),i=a.type,h="error"===a.type?404:200),c&&c(h,i)},je(f,"load",g),je(f,"error",g),e.body.appendChild(f),g}return function(e,h,i,j,k,l,m,n){function o(){s&&s(),v&&v.abort()}function q(b,d,e,f,g){u(y)&&c.cancel(y),s=v=null,b(d,e,f,g),a.$$completeOutstandingRequest(p)}if(a.$$incOutstandingRequestCount(),h=h||a.url(),"jsonp"==Dd(e)){var r="_"+(d.counter++).toString(36);d[r]=function(a){d[r].data=a,d[r].called=!0};var s=g(h.replace("JSON_CALLBACK","angular.callbacks."+r),r,function(a,b){q(j,a,d[r].data,"",b),d[r]=p})}else{var v=b(e,h);v.open(e,h,!0),f(k,function(a,b){u(a)&&v.setRequestHeader(b,a)}),v.onload=function(){var a=v.statusText||"",b="response"in v?v.response:v.responseText,c=1223===v.status?204:v.status;0===c&&(c=b?200:"file"==Fc(h).protocol?404:0),q(j,c,b,v.getAllResponseHeaders(),a)};var w=function(){q(j,-1,null,null,"")};if(v.onerror=w,v.onabort=w,m&&(v.withCredentials=!0),n)try{v.responseType=n}catch(x){if("json"!==n)throw x}v.send(t(i)?null:i)}if(l>0)var y=c(o,l);else I(l)&&l.then(o)}}function Jb(){var a="{{",b="}}";this.startSymbol=function(b){return b?(a=b,this):a},this.endSymbol=function(a){return a?(b=a,this):b},this.$get=["$parse","$exceptionHandler","$sce",function(c,d,e){function f(a){return"\\\\\\"+a}function g(c){return c.replace(n,a).replace(o,b)}function h(a){if(null==a)return"";switch(typeof a){case"string":break;case"number":a=""+a;break;default:a=W(a)}return a}function i(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function j(f,j,n,o){function p(a){try{return a=G(a),o&&!u(a)?a:h(a)}catch(b){d(_e.interr(f,b))}}if(!f.length||-1===f.indexOf(a)){var q;if(!j){var s=g(f);q=r(s),q.exp=f,q.expressions=[],q.$$watchDelegate=i}return q}o=!!o;for(var v,w,x,y=0,z=[],B=[],C=f.length,D=[],E=[];C>y;){if(-1==(v=f.indexOf(a,y))||-1==(w=f.indexOf(b,v+k))){y!==C&&D.push(g(f.substring(y)));break}y!==v&&D.push(g(f.substring(y,v))),x=f.substring(v+k,w),z.push(x),B.push(c(x,p)),y=w+m,E.push(D.length),D.push("")}if(n&&D.length>1&&_e.throwNoconcat(f),!j||z.length){var F=function(a){for(var b=0,c=z.length;c>b;b++){if(o&&t(a[b]))return;D[E[b]]=a[b]}return D.join("")},G=function(a){return n?e.getTrusted(n,a):e.valueOf(a)};return l(function(a){var b=0,c=z.length,e=new Array(c);try{for(;c>b;b++)e[b]=B[b](a);return F(e)}catch(g){d(_e.interr(f,g))}},{exp:f,expressions:z,$$watchDelegate:function(a,b){var c;return a.$watchGroup(B,function(d,e){var f=F(d);A(b)&&b.call(this,f,d!==e?c:f,a),c=f})}})}}var k=a.length,m=b.length,n=new RegExp(a.replace(/./g,f),"g"),o=new RegExp(b.replace(/./g,f),"g");return j.startSymbol=function(){return a},j.endSymbol=function(){return b},j}]}function Kb(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(a,b,c,d,e){function f(f,h,i,j){function k(){l?f.apply(null,m):f(p)}var l=arguments.length>4,m=l?T(arguments,4):[],n=b.setInterval,o=b.clearInterval,p=0,q=u(j)&&!j,r=(q?d:c).defer(),s=r.promise;return i=u(i)?i:0,s.$$intervalId=n(function(){q?e.defer(k):a.$evalAsync(k),r.notify(p++),i>0&&p>=i&&(r.resolve(p),o(s.$$intervalId),delete g[s.$$intervalId]),q||a.$apply()},h),g[s.$$intervalId]=r,s}var g={};return f.cancel=function(a){return a&&a.$$intervalId in g?(g[a.$$intervalId].reject("canceled"),b.clearInterval(a.$$intervalId),delete g[a.$$intervalId],!0):!1},f}]}function Lb(a){for(var b=a.split("/"),c=b.length;c--;)b[c]=da(b[c]);return b.join("/")}function Mb(a,b){var c=Fc(a);b.$$protocol=c.protocol,b.$$host=c.hostname,b.$$port=n(c.port)||bf[c.protocol]||null}function Nb(a,b){var c="/"!==a.charAt(0);c&&(a="/"+a);var d=Fc(a);b.$$path=decodeURIComponent(c&&"/"===d.pathname.charAt(0)?d.pathname.substring(1):d.pathname),b.$$search=ba(d.search),b.$$hash=decodeURIComponent(d.hash),b.$$path&&"/"!=b.$$path.charAt(0)&&(b.$$path="/"+b.$$path)}function Ob(a,b){return 0===b.indexOf(a)?b.substr(a.length):void 0}function Pb(a){var b=a.indexOf("#");return-1==b?a:a.substr(0,b)}function Qb(a){return a.replace(/(#.+)|#$/,"$1")}function Rb(a){return a.substr(0,Pb(a).lastIndexOf("/")+1)}function Sb(a){return a.substring(0,a.indexOf("/",a.indexOf("//")+2))}function Tb(a,b,c){this.$$html5=!0,c=c||"",Mb(a,this),this.$$parse=function(a){var c=Ob(b,a);if(!x(c))throw cf("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',a,b);Nb(c,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var a=ca(this.$$search),c=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(a?"?"+a:"")+c,this.$$absUrl=b+this.$$url.substr(1)},this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g,h;return u(f=Ob(a,d))?(g=f,h=u(f=Ob(c,f))?b+(Ob("/",f)||f):a+g):u(f=Ob(b,d))?h=b+f:b==d+"/"&&(h=b),h&&this.$$parse(h),!!h}}function Ub(a,b,c){Mb(a,this),this.$$parse=function(d){function e(a,b,c){var d,e=/^\/[A-Z]:(\/.*)/;return 0===b.indexOf(c)&&(b=b.replace(c,"")),e.exec(b)?a:(d=e.exec(a),d?d[1]:a)}var f,g=Ob(a,d)||Ob(b,d);t(g)||"#"!==g.charAt(0)?this.$$html5?f=g:(f="",t(g)&&(a=d,this.replace())):(f=Ob(c,g),t(f)&&(f=g)),Nb(f,this),this.$$path=e(this.$$path,f,a),this.$$compose()},this.$$compose=function(){var b=ca(this.$$search),d=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+(this.$$url?c+this.$$url:"")},this.$$parseLinkUrl=function(b,c){return Pb(a)==Pb(b)?(this.$$parse(b),!0):!1}}function Vb(a,b,c){this.$$html5=!0,Ub.apply(this,arguments),this.$$parseLinkUrl=function(d,e){if(e&&"#"===e[0])return this.hash(e.slice(1)),!0;var f,g;return a==Pb(d)?f=d:(g=Ob(b,d))?f=a+c+g:b===d+"/"&&(f=b),f&&this.$$parse(f),!!f},this.$$compose=function(){var b=ca(this.$$search),d=this.$$hash?"#"+da(this.$$hash):"";this.$$url=Lb(this.$$path)+(b?"?"+b:"")+d,this.$$absUrl=a+c+this.$$url}}function Wb(a){return function(){return this[a]}}function Xb(a,b){return function(c){return t(c)?this[a]:(this[a]=b(c),this.$$compose(),this)}}function Yb(){var a="",b={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(b){return u(b)?(a=b,this):a},this.html5Mode=function(a){return H(a)?(b.enabled=a,this):v(a)?(H(a.enabled)&&(b.enabled=a.enabled),H(a.requireBase)&&(b.requireBase=a.requireBase),H(a.rewriteLinks)&&(b.rewriteLinks=a.rewriteLinks),this):b},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(c,d,e,f,g){function h(a,b,c){var e=j.url(),f=j.$$state;try{d.url(a,b,c),j.$$state=d.state()}catch(g){throw j.url(e),j.$$state=f,g}}function i(a,b){c.$broadcast("$locationChangeSuccess",j.absUrl(),a,j.$$state,b)}var j,k,l,m=d.baseHref(),n=d.url();if(b.enabled){if(!m&&b.requireBase)throw cf("nobase","$location in HTML5 mode requires a <base> tag to be present!");l=Sb(n)+(m||"/"),k=e.history?Tb:Vb}else l=Pb(n),k=Ub;var o=Rb(l);j=new k(l,o,"#"+a),j.$$parseLinkUrl(n,n),j.$$state=d.state();var p=/^\s*(javascript|mailto):/i;f.on("click",function(a){if(b.rewriteLinks&&!a.ctrlKey&&!a.metaKey&&!a.shiftKey&&2!=a.which&&2!=a.button){for(var e=Id(a.target);"a"!==N(e[0]);)if(e[0]===f[0]||!(e=e.parent())[0])return;var h=e.prop("href"),i=e.attr("href")||e.attr("xlink:href");v(h)&&"[object SVGAnimatedString]"===h.toString()&&(h=Fc(h.animVal).href),p.test(h)||!h||e.attr("target")||a.isDefaultPrevented()||j.$$parseLinkUrl(h,i)&&(a.preventDefault(),j.absUrl()!=d.url()&&(c.$apply(),g.angular["ff-684208-preventDefault"]=!0))}}),Qb(j.absUrl())!=Qb(n)&&d.url(j.absUrl(),!0);var q=!0;return d.onUrlChange(function(a,b){return t(Ob(o,a))?void(g.location.href=a):(c.$evalAsync(function(){var d,e=j.absUrl(),f=j.$$state;a=Qb(a),j.$$parse(a),j.$$state=b,d=c.$broadcast("$locationChangeStart",a,e,b,f).defaultPrevented,j.absUrl()===a&&(d?(j.$$parse(e),j.$$state=f,h(e,!1,f)):(q=!1,i(e,f)))}),void(c.$$phase||c.$digest()))}),c.$watch(function(){var a=Qb(d.url()),b=Qb(j.absUrl()),f=d.state(),g=j.$$replace,k=a!==b||j.$$html5&&e.history&&f!==j.$$state;(q||k)&&(q=!1,c.$evalAsync(function(){var b=j.absUrl(),d=c.$broadcast("$locationChangeStart",b,a,j.$$state,f).defaultPrevented;j.absUrl()===b&&(d?(j.$$parse(a),j.$$state=f):(k&&h(b,g,f===j.$$state?null:j.$$state),i(a,f)))})),j.$$replace=!1}),j}]}function Zb(){var a=!0,b=this;this.debugEnabled=function(b){return u(b)?(a=b,this):a},this.$get=["$window",function(c){function d(a){return a instanceof Error&&(a.stack?a=a.message&&-1===a.stack.indexOf(a.message)?"Error: "+a.message+"\n"+a.stack:a.stack:a.sourceURL&&(a=a.message+"\n"+a.sourceURL+":"+a.line)),a}function e(a){var b=c.console||{},e=b[a]||b.log||p,g=!1;try{g=!!e.apply}catch(h){}return g?function(){var a=[];return f(arguments,function(b){a.push(d(b))}),e.apply(b,a)}:function(a,b){e(a,null==b?"":b)}}return{log:e("log"),info:e("info"),warn:e("warn"),error:e("error"),debug:function(){var c=e("debug");return function(){a&&c.apply(b,arguments)}}()}}]}function $b(a,b){if("__defineGetter__"===a||"__defineSetter__"===a||"__lookupGetter__"===a||"__lookupSetter__"===a||"__proto__"===a)throw ef("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",b);return a}function _b(a){return a+""}function ac(a,b){if(a){if(a.constructor===a)throw ef("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a.window===a)throw ef("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",b);if(a.children&&(a.nodeName||a.prop&&a.attr&&a.find))throw ef("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",b);if(a===Object)throw ef("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",b)}return a}function bc(a,b){if(a){if(a.constructor===a)throw ef("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",b);if(a===ff||a===gf||a===hf)throw ef("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",b)}}function cc(a,b){if(a&&(a===0..constructor||a===(!1).constructor||a==="".constructor||a==={}.constructor||a===[].constructor||a===Function.constructor))throw ef("isecaf","Assigning to a constructor is disallowed! Expression: {0}",b)}function dc(a,b){return"undefined"!=typeof a?a:b}function ec(a,b){return"undefined"==typeof a?b:"undefined"==typeof b?a:a+b}function fc(a,b){var c=a(b);return!c.$stateful}function gc(a,b){var c,d;switch(a.type){case mf.Program:c=!0,f(a.body,function(a){gc(a.expression,b),c=c&&a.expression.constant}),a.constant=c;break;case mf.Literal:a.constant=!0,a.toWatch=[];break;case mf.UnaryExpression:gc(a.argument,b),a.constant=a.argument.constant,a.toWatch=a.argument.toWatch;break;case mf.BinaryExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.left.toWatch.concat(a.right.toWatch);break;case mf.LogicalExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=a.constant?[]:[a];break;case mf.ConditionalExpression:gc(a.test,b),gc(a.alternate,b),gc(a.consequent,b),a.constant=a.test.constant&&a.alternate.constant&&a.consequent.constant,a.toWatch=a.constant?[]:[a];break;case mf.Identifier:a.constant=!1,a.toWatch=[a];break;case mf.MemberExpression:gc(a.object,b),a.computed&&gc(a.property,b),a.constant=a.object.constant&&(!a.computed||a.property.constant),a.toWatch=[a];break;case mf.CallExpression:c=a.filter?fc(b,a.callee.name):!1,d=[],f(a.arguments,function(a){gc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=a.filter&&fc(b,a.callee.name)?d:[a];break;case mf.AssignmentExpression:gc(a.left,b),gc(a.right,b),a.constant=a.left.constant&&a.right.constant,a.toWatch=[a];break;case mf.ArrayExpression:c=!0,d=[],f(a.elements,function(a){gc(a,b),c=c&&a.constant,a.constant||d.push.apply(d,a.toWatch)}),a.constant=c,a.toWatch=d;break;case mf.ObjectExpression:c=!0,d=[],f(a.properties,function(a){gc(a.value,b),c=c&&a.value.constant,a.value.constant||d.push.apply(d,a.value.toWatch)}),a.constant=c,a.toWatch=d;break;case mf.ThisExpression:a.constant=!1,a.toWatch=[];break;case mf.LocalsExpression:a.constant=!1,a.toWatch=[]}}function hc(a){if(1==a.length){var b=a[0].expression,d=b.toWatch;return 1!==d.length?d:d[0]!==b?d:c}}function ic(a){return a.type===mf.Identifier||a.type===mf.MemberExpression}function jc(a){return 1===a.body.length&&ic(a.body[0].expression)?{type:mf.AssignmentExpression,left:a.body[0].expression,right:{type:mf.NGValueParameter},operator:"="}:void 0}function kc(a){return 0===a.body.length||1===a.body.length&&(a.body[0].expression.type===mf.Literal||a.body[0].expression.type===mf.ArrayExpression||a.body[0].expression.type===mf.ObjectExpression)}function lc(a){return a.constant}function mc(a,b){this.astBuilder=a,this.$filter=b}function nc(a,b){this.astBuilder=a,this.$filter=b}function oc(a){return"constructor"==a}function pc(a){return A(a.valueOf)?a.valueOf():of.call(a)}function qc(){var a=ra(),b=ra();this.$get=["$filter",function(d){function e(c,e,f){var h,n,s;switch(f=f||r,typeof c){case"string":c=c.trim(),s=c;var t=f?b:a;if(h=t[s],!h){":"===c.charAt(0)&&":"===c.charAt(1)&&(n=!0,c=c.substring(2));var u=f?q:o,v=new lf(u),w=new nf(v,d,u);h=w.parse(c),h.constant?h.$$watchDelegate=l:n?h.$$watchDelegate=h.literal?k:j:h.inputs&&(h.$$watchDelegate=i),f&&(h=g(h)),t[s]=h}return m(h,e);case"function":return m(c,e);default:return m(p,e)}}function g(a){function b(b,c,d,e){var f=r;r=!0;try{return a(b,c,d,e)}finally{r=f}}if(!a)return a;b.$$watchDelegate=a.$$watchDelegate,b.assign=g(a.assign),b.constant=a.constant,b.literal=a.literal;for(var c=0;a.inputs&&c<a.inputs.length;++c)a.inputs[c]=g(a.inputs[c]);return b}function h(a,b){return null==a||null==b?a===b:"object"==typeof a&&(a=pc(a),"object"==typeof a)?!1:a===b||a!==a&&b!==b}function i(a,b,d,e,f){var g,i=e.inputs;if(1===i.length){var j=h;return i=i[0],a.$watch(function(a){var b=i(a);return h(b,j)||(g=e(a,c,c,[b]),j=b&&pc(b)),g},b,d,f)}for(var k=[],l=[],m=0,n=i.length;n>m;m++)k[m]=h,l[m]=null;return a.$watch(function(a){for(var b=!1,d=0,f=i.length;f>d;d++){var j=i[d](a);(b||(b=!h(j,k[d])))&&(l[d]=j,k[d]=j&&pc(j))}return b&&(g=e(a,c,c,l)),g},b,d,f)}function j(a,b,c,d){var e,f;return e=a.$watch(function(a){return d(a)},function(a,c,d){f=a,A(b)&&b.apply(this,arguments),u(a)&&d.$$postDigest(function(){u(f)&&e()})},c)}function k(a,b,c,d){function e(a){var b=!0;return f(a,function(a){u(a)||(b=!1)}),b}var g,h;return g=a.$watch(function(a){return d(a)},function(a,c,d){h=a,A(b)&&b.call(this,a,c,d),e(a)&&d.$$postDigest(function(){e(h)&&g()})},c)}function l(a,b,c,d){var e;return e=a.$watch(function(a){return e(),d(a)},b,c)}function m(a,b){if(!b)return a;var c=a.$$watchDelegate,d=!1,e=c!==k&&c!==j,f=e?function(c,e,f,g){var h=d&&g?g[0]:a(c,e,f,g);return b(h,c,e)}:function(c,d,e,f){var g=a(c,d,e,f),h=b(g,c,d);return u(g)?h:g};return a.$$watchDelegate&&a.$$watchDelegate!==i?f.$$watchDelegate=a.$$watchDelegate:b.$stateful||(f.$$watchDelegate=i,d=!a.inputs,f.inputs=a.inputs?a.inputs:[a]),f}var n=Xd().noUnsafeEval,o={csp:n,expensiveChecks:!1},q={csp:n,expensiveChecks:!0},r=!1;return e.$$runningExpensiveChecks=function(){return r},e}]}function rc(){this.$get=["$rootScope","$exceptionHandler",function(a,b){return tc(function(b){a.$evalAsync(b)},b)}]}function sc(){this.$get=["$browser","$exceptionHandler",function(a,b){return tc(function(b){a.defer(b)},b)}]}function tc(a,b){function e(){this.$$state={status:0}}function g(a,b){return function(c){b.call(a,c)}}function h(a){var d,e,f;f=a.pending,a.processScheduled=!1,a.pending=c;for(var g=0,h=f.length;h>g;++g){e=f[g][0],d=f[g][a.status];try{A(d)?e.resolve(d(a.value)):1===a.status?e.resolve(a.value):e.reject(a.value)}catch(i){e.reject(i),b(i)}}}function i(b){!b.processScheduled&&b.pending&&(b.processScheduled=!0,a(function(){h(b)}))}function j(){this.promise=new e}function k(a){var b=new j,c=0,d=Td(a)?[]:{};return f(a,function(a,e){c++,r(a).then(function(a){d.hasOwnProperty(e)||(d[e]=a,--c||b.resolve(d))},function(a){d.hasOwnProperty(e)||b.reject(a)})}),0===c&&b.resolve(d),b.promise}var m=d("$q",TypeError),n=function(){var a=new j;return a.resolve=g(a,a.resolve),a.reject=g(a,a.reject),a.notify=g(a,a.notify),a};l(e.prototype,{then:function(a,b,c){if(t(a)&&t(b)&&t(c))return this;var d=new j;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([d,a,b,c]),this.$$state.status>0&&i(this.$$state),d.promise},"catch":function(a){return this.then(null,a)},"finally":function(a,b){return this.then(function(b){return q(b,!0,a)},function(b){return q(b,!1,a)},b)}}),l(j.prototype,{resolve:function(a){this.promise.$$state.status||(a===this.promise?this.$$reject(m("qcycle","Expected promise to be resolved with value other than itself '{0}'",a)):this.$$resolve(a))},$$resolve:function(a){function c(a){h||(h=!0,f.$$resolve(a))}function d(a){h||(h=!0,f.$$reject(a))}var e,f=this,h=!1;try{(v(a)||A(a))&&(e=a&&a.then),A(e)?(this.promise.$$state.status=-1,e.call(a,c,d,g(this,this.notify))):(this.promise.$$state.value=a,this.promise.$$state.status=1,i(this.promise.$$state))}catch(j){d(j),b(j)}},reject:function(a){this.promise.$$state.status||this.$$reject(a)},$$reject:function(a){this.promise.$$state.value=a,this.promise.$$state.status=2,i(this.promise.$$state)},notify:function(c){var d=this.promise.$$state.pending;this.promise.$$state.status<=0&&d&&d.length&&a(function(){for(var a,e,f=0,g=d.length;g>f;f++){e=d[f][0],a=d[f][3];try{e.notify(A(a)?a(c):c)}catch(h){b(h)}}})}});var o=function(a){var b=new j;return b.reject(a),b.promise},p=function(a,b){var c=new j;return b?c.resolve(a):c.reject(a),c.promise},q=function(a,b,c){var d=null;try{A(c)&&(d=c())}catch(e){return p(e,!1)}return I(d)?d.then(function(){return p(a,b)},function(a){return p(a,!1)}):p(a,b)},r=function(a,b,c,d){var e=new j;return e.resolve(a),e.promise.then(b,c,d)},s=r,u=function(a){function b(a){d.resolve(a)}function c(a){d.reject(a)}if(!A(a))throw m("norslvr","Expected resolverFn, got '{0}'",a);var d=new j;return a(b,c),d.promise};return u.prototype=e.prototype,u.defer=n,u.reject=o,u.when=r,u.resolve=s,u.all=k,u}function uc(){this.$get=["$window","$timeout",function(a,b){var c=a.requestAnimationFrame||a.webkitRequestAnimationFrame,d=a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame,e=!!c,f=e?function(a){var b=c(a);return function(){d(b)}}:function(a){var c=b(a,16.66,!1);return function(){b.cancel(c)}};return f.supported=e,f}]}function vc(){function a(a){function b(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=i(),this.$$ChildScope=null}return b.prototype=a,b}var b=10,c=d("$rootScope"),g=null,h=null;this.digestTtl=function(a){return arguments.length&&(b=a),b},this.$get=["$exceptionHandler","$parse","$browser",function(d,j,k){function l(a){a.currentScope.$$destroyed=!0}function m(a){9===Hd&&(a.$$childHead&&m(a.$$childHead),a.$$nextSibling&&m(a.$$nextSibling)),a.$parent=a.$$nextSibling=a.$$prevSibling=a.$$childHead=a.$$childTail=a.$root=a.$$watchers=null}function n(){this.$id=i(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function o(a){if(y.$$phase)throw c("inprog","{0} already in progress",y.$$phase);y.$$phase=a}function q(){y.$$phase=null}function r(a,b){do a.$$watchersCount+=b;while(a=a.$parent)}function s(a,b,c){do a.$$listenerCount[c]-=b,0===a.$$listenerCount[c]&&delete a.$$listenerCount[c];while(a=a.$parent)}function u(){}function w(){for(;C.length;)try{C.shift()()}catch(a){d(a)}h=null}function x(){null===h&&(h=k.defer(function(){y.$apply(w)}))}n.prototype={constructor:n,$new:function(b,c){var d;return c=c||this,b?(d=new n,d.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=a(this)),d=new this.$$ChildScope),d.$parent=c,d.$$prevSibling=c.$$childTail,c.$$childHead?(c.$$childTail.$$nextSibling=d,c.$$childTail=d):c.$$childHead=c.$$childTail=d,(b||c!=this)&&d.$on("$destroy",l),d},$watch:function(a,b,c,d){var e=j(a);if(e.$$watchDelegate)return e.$$watchDelegate(this,b,c,e,a);var f=this,h=f.$$watchers,i={fn:b,last:u,get:e,exp:d||a,eq:!!c};return g=null,A(b)||(i.fn=p),h||(h=f.$$watchers=[]),h.unshift(i),r(this,1),function(){O(h,i)>=0&&r(f,-1),g=null}},$watchGroup:function(a,b){function c(){i=!1,j?(j=!1,b(e,e,h)):b(e,d,h)}var d=new Array(a.length),e=new Array(a.length),g=[],h=this,i=!1,j=!0;if(!a.length){var k=!0;return h.$evalAsync(function(){k&&b(e,e,h)}),function(){k=!1}}return 1===a.length?this.$watch(a[0],function(a,c,f){e[0]=a,d[0]=c,b(e,a===c?e:d,f)}):(f(a,function(a,b){var f=h.$watch(a,function(a,f){e[b]=a,d[b]=f,i||(i=!0,h.$evalAsync(c))});g.push(f)}),function(){for(;g.length;)g.shift()()})},$watchCollection:function(a,b){function c(a){f=a;var b,c,d,h,i;if(!t(f)){if(v(f))if(e(f)){g!==n&&(g=n,q=g.length=0,l++),b=f.length,q!==b&&(l++,g.length=q=b);for(var j=0;b>j;j++)i=g[j],h=f[j],d=i!==i&&h!==h,d||i===h||(l++,g[j]=h)}else{g!==o&&(g=o={},q=0,l++),b=0;for(c in f)Cd.call(f,c)&&(b++,h=f[c],i=g[c],c in g?(d=i!==i&&h!==h,d||i===h||(l++,g[c]=h)):(q++,g[c]=h,l++));if(q>b){l++;for(c in g)Cd.call(f,c)||(q--,delete g[c])}}else g!==f&&(g=f,l++);return l}}function d(){if(p?(p=!1,b(f,f,i)):b(f,h,i),k)if(v(f))if(e(f)){h=new Array(f.length);for(var a=0;a<f.length;a++)h[a]=f[a]}else{h={};for(var c in f)Cd.call(f,c)&&(h[c]=f[c])}else h=f}c.$stateful=!0;var f,g,h,i=this,k=b.length>1,l=0,m=j(a,c),n=[],o={},p=!0,q=0;return this.$watch(m,d)},$digest:function(){var a,e,f,i,j,l,m,n,p,r,s=b,t=this,v=[];o("$digest"),k.$$checkUrlChange(),this===y&&null!==h&&(k.defer.cancel(h),w()),g=null;do{for(l=!1,n=t;z.length;){try{r=z.shift(),r.scope.$eval(r.expression,r.locals)}catch(x){d(x)}g=null}a:do{if(i=n.$$watchers)for(j=i.length;j--;)try{if(a=i[j])if((e=a.get(n))===(f=a.last)||(a.eq?R(e,f):"number"==typeof e&&"number"==typeof f&&isNaN(e)&&isNaN(f))){if(a===g){l=!1;break a}}else l=!0,g=a,a.last=a.eq?P(e,null):e,a.fn(e,f===u?e:f,n),5>s&&(p=4-s,v[p]||(v[p]=[]),v[p].push({msg:A(a.exp)?"fn: "+(a.exp.name||a.exp.toString()):a.exp,newVal:e,oldVal:f}))}catch(x){d(x)}if(!(m=n.$$watchersCount&&n.$$childHead||n!==t&&n.$$nextSibling))for(;n!==t&&!(m=n.$$nextSibling);)n=n.$parent}while(n=m);if((l||z.length)&&!s--)throw q(),c("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",b,v)}while(l||z.length);for(q();B.length;)try{B.shift()()}catch(x){d(x)}},$destroy:function(){if(!this.$$destroyed){var a=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===y&&k.$$applicationDestroyed(),r(this,-this.$$watchersCount);for(var b in this.$$listenerCount)s(this,this.$$listenerCount[b],b);a&&a.$$childHead==this&&(a.$$childHead=this.$$nextSibling),a&&a.$$childTail==this&&(a.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),
this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,m(this)}},$eval:function(a,b){return j(a)(this,b)},$evalAsync:function(a,b){y.$$phase||z.length||k.defer(function(){z.length&&y.$digest()}),z.push({scope:this,expression:j(a),locals:b})},$$postDigest:function(a){B.push(a)},$apply:function(a){try{o("$apply");try{return this.$eval(a)}finally{q()}}catch(b){d(b)}finally{try{y.$digest()}catch(b){throw d(b),b}}},$applyAsync:function(a){function b(){c.$eval(a)}var c=this;a&&C.push(b),a=j(a),x()},$on:function(a,b){var c=this.$$listeners[a];c||(this.$$listeners[a]=c=[]),c.push(b);var d=this;do d.$$listenerCount[a]||(d.$$listenerCount[a]=0),d.$$listenerCount[a]++;while(d=d.$parent);var e=this;return function(){var d=c.indexOf(b);-1!==d&&(c[d]=null,s(e,1,a))}},$emit:function(a,b){var c,e,f,g=[],h=this,i=!1,j={name:a,targetScope:h,stopPropagation:function(){i=!0},preventDefault:function(){j.defaultPrevented=!0},defaultPrevented:!1},k=S([j],arguments,1);do{for(c=h.$$listeners[a]||g,j.currentScope=h,e=0,f=c.length;f>e;e++)if(c[e])try{c[e].apply(null,k)}catch(l){d(l)}else c.splice(e,1),e--,f--;if(i)return j.currentScope=null,j;h=h.$parent}while(h);return j.currentScope=null,j},$broadcast:function(a,b){var c=this,e=c,f=c,g={name:a,targetScope:c,preventDefault:function(){g.defaultPrevented=!0},defaultPrevented:!1};if(!c.$$listenerCount[a])return g;for(var h,i,j,k=S([g],arguments,1);e=f;){for(g.currentScope=e,h=e.$$listeners[a]||[],i=0,j=h.length;j>i;i++)if(h[i])try{h[i].apply(null,k)}catch(l){d(l)}else h.splice(i,1),i--,j--;if(!(f=e.$$listenerCount[a]&&e.$$childHead||e!==c&&e.$$nextSibling))for(;e!==c&&!(f=e.$$nextSibling);)e=e.$parent}return g.currentScope=null,g}};var y=new n,z=y.$$asyncQueue=[],B=y.$$postDigestQueue=[],C=y.$$applyAsyncQueue=[];return y}]}function wc(){var a=/^\s*(https?|ftp|mailto|tel|file):/,b=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(b){return u(b)?(a=b,this):a},this.imgSrcSanitizationWhitelist=function(a){return u(a)?(b=a,this):b},this.$get=function(){return function(c,d){var e,f=d?b:a;return e=Fc(c).href,""===e||e.match(f)?c:"unsafe:"+e}}}function xc(a){if("self"===a)return a;if(x(a)){if(a.indexOf("***")>-1)throw pf("iwcard","Illegal sequence *** in string matcher.  String: {0}",a);return a=Wd(a).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+a+"$")}if(B(a))return new RegExp("^"+a.source+"$");throw pf("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function yc(a){var b=[];return u(a)&&f(a,function(a){b.push(xc(a))}),b}function zc(){this.SCE_CONTEXTS=qf;var a=["self"],b=[];this.resourceUrlWhitelist=function(b){return arguments.length&&(a=yc(b)),a},this.resourceUrlBlacklist=function(a){return arguments.length&&(b=yc(a)),b},this.$get=["$injector",function(c){function d(a,b){return"self"===a?Gc(b):!!a.exec(b.href)}function e(c){var e,f,g=Fc(c.toString()),h=!1;for(e=0,f=a.length;f>e;e++)if(d(a[e],g)){h=!0;break}if(h)for(e=0,f=b.length;f>e;e++)if(d(b[e],g)){h=!1;break}return h}function f(a){var b=function(a){this.$$unwrapTrustedValue=function(){return a}};return a&&(b.prototype=new a),b.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},b.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},b}function g(a,b){var c=l.hasOwnProperty(a)?l[a]:null;if(!c)throw pf("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",a,b);if(null===b||t(b)||""===b)return b;if("string"!=typeof b)throw pf("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",a);return new c(b)}function h(a){return a instanceof k?a.$$unwrapTrustedValue():a}function i(a,b){if(null===b||t(b)||""===b)return b;var c=l.hasOwnProperty(a)?l[a]:null;if(c&&b instanceof c)return b.$$unwrapTrustedValue();if(a===qf.RESOURCE_URL){if(e(b))return b;throw pf("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",b.toString())}if(a===qf.HTML)return j(b);throw pf("unsafe","Attempting to use an unsafe value in a safe context.")}var j=function(a){throw pf("unsafe","Attempting to use an unsafe value in a safe context.")};c.has("$sanitize")&&(j=c.get("$sanitize"));var k=f(),l={};return l[qf.HTML]=f(k),l[qf.CSS]=f(k),l[qf.URL]=f(k),l[qf.JS]=f(k),l[qf.RESOURCE_URL]=f(l[qf.URL]),{trustAs:g,getTrusted:i,valueOf:h}}]}function Ac(){var a=!0;this.enabled=function(b){return arguments.length&&(a=!!b),a},this.$get=["$parse","$sceDelegate",function(b,c){if(a&&8>Hd)throw pf("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var d=Q(qf);d.isEnabled=function(){return a},d.trustAs=c.trustAs,d.getTrusted=c.getTrusted,d.valueOf=c.valueOf,a||(d.trustAs=d.getTrusted=function(a,b){return b},d.valueOf=q),d.parseAs=function(a,c){var e=b(c);return e.literal&&e.constant?e:b(c,function(b){return d.getTrusted(a,b)})};var e=d.parseAs,g=d.getTrusted,h=d.trustAs;return f(qf,function(a,b){var c=Dd(b);d[xa("parse_as_"+c)]=function(b){return e(a,b)},d[xa("get_trusted_"+c)]=function(b){return g(a,b)},d[xa("trust_as_"+c)]=function(b){return h(a,b)}}),d}]}function Bc(){this.$get=["$window","$document",function(a,b){var c,d,e={},f=n((/android (\d+)/.exec(Dd((a.navigator||{}).userAgent))||[])[1]),g=/Boxee/i.test((a.navigator||{}).userAgent),h=b[0]||{},i=/^(Moz|webkit|ms)(?=[A-Z])/,j=h.body&&h.body.style,k=!1,l=!1;if(j){for(var m in j)if(d=i.exec(m)){c=d[0],c=c.substr(0,1).toUpperCase()+c.substr(1);break}c||(c="WebkitOpacity"in j&&"webkit"),k=!!("transition"in j||c+"Transition"in j),l=!!("animation"in j||c+"Animation"in j),!f||k&&l||(k=x(j.webkitTransition),l=x(j.webkitAnimation))}return{history:!(!a.history||!a.history.pushState||4>f||g),hasEvent:function(a){if("input"===a&&11>=Hd)return!1;if(t(e[a])){var b=h.createElement("div");e[a]="on"+a in b}return e[a]},csp:Xd(),vendorPrefix:c,transitions:k,animations:l,android:f}}]}function Cc(){var a;this.httpOptions=function(b){return b?(a=b,this):a},this.$get=["$templateCache","$http","$q","$sce",function(b,c,d,e){function f(g,h){function i(a){if(!h)throw Pe("tpload","Failed to load template: {0} (HTTP status: {1} {2})",g,a.status,a.statusText);return d.reject(a)}f.totalPendingRequests++,x(g)&&b.get(g)||(g=e.getTrustedResourceUrl(g));var j=c.defaults&&c.defaults.transformResponse;return Td(j)?j=j.filter(function(a){return a!==zb}):j===zb&&(j=null),c.get(g,l({cache:b,transformResponse:j},a))["finally"](function(){f.totalPendingRequests--}).then(function(a){return b.put(g,a.data),a.data},i)}return f.totalPendingRequests=0,f}]}function Dc(){this.$get=["$rootScope","$browser","$location",function(a,b,c){var d={};return d.findBindings=function(a,b,c){var d=a.getElementsByClassName("ng-binding"),e=[];return f(d,function(a){var d=Rd.element(a).data("$binding");d&&f(d,function(d){if(c){var f=new RegExp("(^|\\s)"+Wd(b)+"(\\s|\\||$)");f.test(d)&&e.push(a)}else-1!=d.indexOf(b)&&e.push(a)})}),e},d.findModels=function(a,b,c){for(var d=["ng-","data-ng-","ng\\:"],e=0;e<d.length;++e){var f=c?"=":"*=",g="["+d[e]+"model"+f+'"'+b+'"]',h=a.querySelectorAll(g);if(h.length)return h}},d.getLocation=function(){return c.url()},d.setLocation=function(b){b!==c.url()&&(c.url(b),a.$digest())},d.whenStable=function(a){b.notifyWhenNoOutstandingRequests(a)},d}]}function Ec(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(a,b,c,d,e){function f(f,h,i){A(f)||(i=h,h=f,f=p);var j,k=T(arguments,3),l=u(i)&&!i,m=(l?d:c).defer(),n=m.promise;return j=b.defer(function(){try{m.resolve(f.apply(null,k))}catch(b){m.reject(b),e(b)}finally{delete g[n.$$timeoutId]}l||a.$apply()},h),n.$$timeoutId=j,g[j]=m,n}var g={};return f.cancel=function(a){return a&&a.$$timeoutId in g?(g[a.$$timeoutId].reject("canceled"),delete g[a.$$timeoutId],b.defer.cancel(a.$$timeoutId)):!1},f}]}function Fc(a){var b=a;return Hd&&(rf.setAttribute("href",b),b=rf.href),rf.setAttribute("href",b),{href:rf.href,protocol:rf.protocol?rf.protocol.replace(/:$/,""):"",host:rf.host,search:rf.search?rf.search.replace(/^\?/,""):"",hash:rf.hash?rf.hash.replace(/^#/,""):"",hostname:rf.hostname,port:rf.port,pathname:"/"===rf.pathname.charAt(0)?rf.pathname:"/"+rf.pathname}}function Gc(a){var b=x(a)?Fc(a):a;return b.protocol===sf.protocol&&b.host===sf.host}function Hc(){this.$get=r(a)}function Ic(a){function b(a){try{return decodeURIComponent(a)}catch(b){return a}}var c=a[0]||{},d={},e="";return function(){var a,f,g,h,i,j=c.cookie||"";if(j!==e)for(e=j,a=e.split("; "),d={},g=0;g<a.length;g++)f=a[g],h=f.indexOf("="),h>0&&(i=b(f.substring(0,h)),t(d[i])&&(d[i]=b(f.substring(h+1))));return d}}function Jc(){this.$get=Ic}function Kc(a){function b(d,e){if(v(d)){var g={};return f(d,function(a,c){g[c]=b(c,a)}),g}return a.factory(d+c,e)}var c="Filter";this.register=b,this.$get=["$injector",function(a){return function(b){return a.get(b+c)}}],b("currency",Pc),b("date",cd),b("filter",Lc),b("json",dd),b("limitTo",ed),b("lowercase",zf),b("number",Qc),b("orderBy",fd),b("uppercase",Af)}function Lc(){return function(a,b,c){if(!e(a)){if(null==a)return a;throw d("filter")("notarray","Expected array but received: {0}",a)}var f,g,h=Oc(b);switch(h){case"function":f=b;break;case"boolean":case"null":case"number":case"string":g=!0;case"object":f=Mc(b,c,g);break;default:return a}return Array.prototype.filter.call(a,f)}}function Mc(a,b,c){var d,e=v(a)&&"$"in a;return b===!0?b=R:A(b)||(b=function(a,b){return t(a)?!1:null===a||null===b?a===b:v(b)||v(a)&&!s(a)?!1:(a=Dd(""+a),b=Dd(""+b),-1!==a.indexOf(b))}),d=function(d){return e&&!v(d)?Nc(d,a.$,b,!1):Nc(d,a,b,c)}}function Nc(a,b,c,d,e){var f=Oc(a),g=Oc(b);if("string"===g&&"!"===b.charAt(0))return!Nc(a,b.substring(1),c,d);if(Td(a))return a.some(function(a){return Nc(a,b,c,d)});switch(f){case"object":var h;if(d){for(h in a)if("$"!==h.charAt(0)&&Nc(a[h],b,c,!0))return!0;return e?!1:Nc(a,b,c,!1)}if("object"===g){for(h in b){var i=b[h];if(!A(i)&&!t(i)){var j="$"===h,k=j?a:a[h];if(!Nc(k,i,c,j,j))return!1}}return!0}return c(a,b);case"function":return!1;default:return c(a,b)}}function Oc(a){return null===a?"null":typeof a}function Pc(a){var b=a.NUMBER_FORMATS;return function(a,c,d){return t(c)&&(c=b.CURRENCY_SYM),t(d)&&(d=b.PATTERNS[1].maxFrac),null==a?a:Tc(a,b.PATTERNS[1],b.GROUP_SEP,b.DECIMAL_SEP,d).replace(/\u00A4/g,c)}}function Qc(a){var b=a.NUMBER_FORMATS;return function(a,c){return null==a?a:Tc(a,b.PATTERNS[0],b.GROUP_SEP,b.DECIMAL_SEP,c)}}function Rc(a){var b,c,d,e,f,g=0;for((c=a.indexOf(uf))>-1&&(a=a.replace(uf,"")),(d=a.search(/e/i))>0?(0>c&&(c=d),c+=+a.slice(d+1),a=a.substring(0,d)):0>c&&(c=a.length),d=0;a.charAt(d)==vf;d++);if(d==(f=a.length))b=[0],c=1;else{for(f--;a.charAt(f)==vf;)f--;for(c-=d,b=[],e=0;f>=d;d++,e++)b[e]=+a.charAt(d)}return c>tf&&(b=b.splice(0,tf-1),g=c-1,c=1),{d:b,e:g,i:c}}function Sc(a,b,c,d){var e=a.d,f=e.length-a.i;b=t(b)?Math.min(Math.max(c,f),d):+b;var g=b+a.i,h=e[g];if(g>0)e.splice(g);else{a.i=1,e.length=g=b+1;for(var i=0;g>i;i++)e[i]=0}for(h>=5&&e[g-1]++;b>f;f++)e.push(0);var j=e.reduceRight(function(a,b,c,d){return b+=a,d[c]=b%10,Math.floor(b/10)},0);j&&(e.unshift(j),a.i++)}function Tc(a,b,c,d,e){if(!x(a)&&!y(a)||isNaN(a))return"";var f,g=!isFinite(a),h=!1,i=Math.abs(a)+"",j="";if(g)j="";else{f=Rc(i),Sc(f,e,b.minFrac,b.maxFrac);var k=f.d,l=f.i,m=f.e,n=[];for(h=k.reduce(function(a,b){return a&&!b},!0);0>l;)k.unshift(0),l++;l>0?n=k.splice(l):(n=k,k=[0]);var o=[];for(k.length>b.lgSize&&o.unshift(k.splice(-b.lgSize).join(""));k.length>b.gSize;)o.unshift(k.splice(-b.gSize).join(""));k.length&&o.unshift(k.join("")),j=o.join(c),n.length&&(j+=d+n.join("")),m&&(j+="e+"+m)}return 0>a&&!h?b.negPre+j+b.negSuf:b.posPre+j+b.posSuf}function Uc(a,b,c){var d="";for(0>a&&(d="-",a=-a),a=""+a;a.length<b;)a=vf+a;return c&&(a=a.substr(a.length-b)),d+a}function Vc(a,b,c,d){return c=c||0,function(e){var f=e["get"+a]();return(c>0||f>-c)&&(f+=c),0===f&&-12==c&&(f=12),Uc(f,b,d)}}function Wc(a,b){return function(c,d){var e=c["get"+a](),f=Ed(b?"SHORT"+a:a);return d[f][e]}}function Xc(a,b,c){var d=-1*c,e=d>=0?"+":"";return e+=Uc(Math[d>0?"floor":"ceil"](d/60),2)+Uc(Math.abs(d%60),2)}function Yc(a){var b=new Date(a,0,1).getDay();return new Date(a,0,(4>=b?5:12)-b)}function Zc(a){return new Date(a.getFullYear(),a.getMonth(),a.getDate()+(4-a.getDay()))}function $c(a){return function(b){var c=Yc(b.getFullYear()),d=Zc(b),e=+d-+c,f=1+Math.round(e/6048e5);return Uc(f,a)}}function _c(a,b){return a.getHours()<12?b.AMPMS[0]:b.AMPMS[1]}function ad(a,b){return a.getFullYear()<=0?b.ERAS[0]:b.ERAS[1]}function bd(a,b){return a.getFullYear()<=0?b.ERANAMES[0]:b.ERANAMES[1]}function cd(a){function b(a){var b;if(b=a.match(c)){var d=new Date(0),e=0,f=0,g=b[8]?d.setUTCFullYear:d.setFullYear,h=b[8]?d.setUTCHours:d.setHours;b[9]&&(e=n(b[9]+b[10]),f=n(b[9]+b[11])),g.call(d,n(b[1]),n(b[2])-1,n(b[3]));var i=n(b[4]||0)-e,j=n(b[5]||0)-f,k=n(b[6]||0),l=Math.round(1e3*parseFloat("0."+(b[7]||0)));return h.call(d,i,j,k,l),d}return a}var c=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(c,d,e){var g,h,i="",j=[];if(d=d||"mediumDate",d=a.DATETIME_FORMATS[d]||d,x(c)&&(c=yf.test(c)?n(c):b(c)),y(c)&&(c=new Date(c)),!z(c)||!isFinite(c.getTime()))return c;for(;d;)h=xf.exec(d),h?(j=S(j,h,1),d=j.pop()):(j.push(d),d=null);var k=c.getTimezoneOffset();return e&&(k=Y(e,c.getTimezoneOffset()),c=$(c,e,!0)),f(j,function(b){g=wf[b],i+=g?g(c,a.DATETIME_FORMATS,k):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),i}}function dd(){return function(a,b){return t(b)&&(b=2),W(a,b)}}function ed(){return function(a,b,c){return b=Math.abs(Number(b))===1/0?Number(b):n(b),isNaN(b)?a:(y(a)&&(a=a.toString()),Td(a)||x(a)?(c=!c||isNaN(c)?0:n(c),c=0>c?Math.max(0,a.length+c):c,b>=0?a.slice(c,c+b):0===c?a.slice(b,a.length):a.slice(Math.max(0,c+b),c)):a)}}function fd(a){function b(b,c){return c=c?-1:1,b.map(function(b){var d=1,e=q;if(A(b))e=b;else if(x(b)&&(("+"==b.charAt(0)||"-"==b.charAt(0))&&(d="-"==b.charAt(0)?-1:1,b=b.substring(1)),""!==b&&(e=a(b),e.constant))){var f=e();e=function(a){return a[f]}}return{get:e,descending:d*c}})}function c(a){switch(typeof a){case"number":case"boolean":case"string":return!0;default:return!1}}function f(a,b){return"function"==typeof a.valueOf&&(a=a.valueOf(),c(a))?a:s(a)&&(a=a.toString(),c(a))?a:b}function g(a,b){var c=typeof a;return null===a?(c="string",a="null"):"string"===c?a=a.toLowerCase():"object"===c&&(a=f(a,b)),{value:a,type:c}}function h(a,b){var c=0;return a.type===b.type?a.value!==b.value&&(c=a.value<b.value?-1:1):c=a.type<b.type?-1:1,c}return function(a,c,f){function i(a,b){return{value:a,predicateValues:k.map(function(c){return g(c.get(a),b)})}}function j(a,b){for(var c=0,d=0,e=k.length;e>d&&!(c=h(a.predicateValues[d],b.predicateValues[d])*k[d].descending);++d);return c}if(null==a)return a;if(!e(a))throw d("orderBy")("notarray","Expected array but received: {0}",a);Td(c)||(c=[c]),0===c.length&&(c=["+"]);var k=b(c,f);k.push({get:function(){return{}},descending:f?-1:1});var l=Array.prototype.map.call(a,i);return l.sort(j),a=l.map(function(a){return a.value})}}function gd(a){return A(a)&&(a={link:a}),a.restrict=a.restrict||"AC",r(a)}function hd(a,b){a.$name=b}function id(a,b,d,e,g){var h=this,i=[];h.$error={},h.$$success={},h.$pending=c,h.$name=g(b.name||b.ngForm||"")(d),h.$dirty=!1,h.$pristine=!0,h.$valid=!0,h.$invalid=!1,h.$submitted=!1,h.$$parentForm=Df,h.$rollbackViewValue=function(){f(i,function(a){a.$rollbackViewValue()})},h.$commitViewValue=function(){f(i,function(a){a.$commitViewValue()})},h.$addControl=function(a){oa(a.$name,"input"),i.push(a),a.$name&&(h[a.$name]=a),a.$$parentForm=h},h.$$renameControl=function(a,b){var c=a.$name;h[c]===a&&delete h[c],h[b]=a,a.$name=b},h.$removeControl=function(a){a.$name&&h[a.$name]===a&&delete h[a.$name],f(h.$pending,function(b,c){h.$setValidity(c,null,a)}),f(h.$error,function(b,c){h.$setValidity(c,null,a)}),f(h.$$success,function(b,c){h.$setValidity(c,null,a)}),O(i,a),a.$$parentForm=Df},xd({ctrl:this,$element:a,set:function(a,b,c){var d=a[b];if(d){var e=d.indexOf(c);-1===e&&d.push(c)}else a[b]=[c]},unset:function(a,b,c){var d=a[b];d&&(O(d,c),0===d.length&&delete a[b])},$animate:e}),h.$setDirty=function(){e.removeClass(a,lg),e.addClass(a,mg),h.$dirty=!0,h.$pristine=!1,h.$$parentForm.$setDirty()},h.$setPristine=function(){e.setClass(a,lg,mg+" "+Ef),h.$dirty=!1,h.$pristine=!0,h.$submitted=!1,f(i,function(a){a.$setPristine()})},h.$setUntouched=function(){f(i,function(a){a.$setUntouched()})},h.$setSubmitted=function(){e.addClass(a,Ef),h.$submitted=!0,h.$$parentForm.$setSubmitted()}}function jd(a){a.$formatters.push(function(b){return a.$isEmpty(b)?b:b.toString()})}function kd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d)}function ld(a,b,c,d,e,f){var g=Dd(b[0].type);if(!e.android){var h=!1;b.on("compositionstart",function(a){h=!0}),b.on("compositionend",function(){h=!1,i()})}var i=function(a){if(j&&(f.defer.cancel(j),j=null),!h){var e=b.val(),i=a&&a.type;"password"===g||c.ngTrim&&"false"===c.ngTrim||(e=Vd(e)),(d.$viewValue!==e||""===e&&d.$$hasNativeValidators)&&d.$setViewValue(e,i)}};if(e.hasEvent("input"))b.on("input",i);else{var j,k=function(a,b,c){j||(j=f.defer(function(){j=null,b&&b.value===c||i(a)}))};b.on("keydown",function(a){var b=a.keyCode;91===b||b>15&&19>b||b>=37&&40>=b||k(a,this,this.value)}),e.hasEvent("paste")&&b.on("paste cut",k)}b.on("change",i),d.$render=function(){var a=d.$isEmpty(d.$viewValue)?"":d.$viewValue;b.val()!==a&&b.val(a)}}function md(a,b){if(z(a))return a;if(x(a)){Of.lastIndex=0;var c=Of.exec(a);if(c){var d=+c[1],e=+c[2],f=0,g=0,h=0,i=0,j=Yc(d),k=7*(e-1);return b&&(f=b.getHours(),g=b.getMinutes(),h=b.getSeconds(),i=b.getMilliseconds()),new Date(d,0,j.getDate()+k,f,g,h,i)}}return NaN}function nd(a,b){return function(c,d){var e,g;if(z(c))return c;if(x(c)){if('"'==c.charAt(0)&&'"'==c.charAt(c.length-1)&&(c=c.substring(1,c.length-1)),If.test(c))return new Date(c);if(a.lastIndex=0,e=a.exec(c))return e.shift(),g=d?{yyyy:d.getFullYear(),MM:d.getMonth()+1,dd:d.getDate(),HH:d.getHours(),mm:d.getMinutes(),ss:d.getSeconds(),sss:d.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},f(e,function(a,c){c<b.length&&(g[b[c]]=+a)}),new Date(g.yyyy,g.MM-1,g.dd,g.HH,g.mm,g.ss||0,1e3*g.sss||0)}return NaN}}function od(a,b,d,e){return function(f,g,h,i,j,k,l){function m(a){return a&&!(a.getTime&&a.getTime()!==a.getTime())}function n(a){return u(a)&&!z(a)?d(a)||c:a}pd(f,g,h,i),ld(f,g,h,i,j,k);var o,p=i&&i.$options&&i.$options.timezone;if(i.$$parserName=a,i.$parsers.push(function(a){if(i.$isEmpty(a))return null;if(b.test(a)){var e=d(a,o);return p&&(e=$(e,p)),e}return c}),i.$formatters.push(function(a){if(a&&!z(a))throw sg("datefmt","Expected `{0}` to be a date",a);return m(a)?(o=a,o&&p&&(o=$(o,p,!0)),l("date")(a,e,p)):(o=null,"")}),u(h.min)||h.ngMin){var q;i.$validators.min=function(a){return!m(a)||t(q)||d(a)>=q},h.$observe("min",function(a){q=n(a),i.$validate()})}if(u(h.max)||h.ngMax){var r;i.$validators.max=function(a){return!m(a)||t(r)||d(a)<=r},h.$observe("max",function(a){r=n(a),i.$validate()})}}}function pd(a,b,d,e){var f=b[0],g=e.$$hasNativeValidators=v(f.validity);g&&e.$parsers.push(function(a){var d=b.prop(Bd)||{};return d.badInput||d.typeMismatch?c:a})}function qd(a,b,d,e,f,g){if(pd(a,b,d,e),ld(a,b,d,e,f,g),e.$$parserName="number",e.$parsers.push(function(a){return e.$isEmpty(a)?null:Lf.test(a)?parseFloat(a):c}),e.$formatters.push(function(a){if(!e.$isEmpty(a)){if(!y(a))throw sg("numfmt","Expected `{0}` to be a number",a);a=a.toString()}return a}),u(d.min)||d.ngMin){var h;e.$validators.min=function(a){return e.$isEmpty(a)||t(h)||a>=h},d.$observe("min",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),h=y(a)&&!isNaN(a)?a:c,e.$validate()})}if(u(d.max)||d.ngMax){var i;e.$validators.max=function(a){return e.$isEmpty(a)||t(i)||i>=a},d.$observe("max",function(a){u(a)&&!y(a)&&(a=parseFloat(a,10)),i=y(a)&&!isNaN(a)?a:c,e.$validate()})}}function rd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="url",d.$validators.url=function(a,b){var c=a||b;return d.$isEmpty(c)||Jf.test(c)}}function sd(a,b,c,d,e,f){ld(a,b,c,d,e,f),jd(d),d.$$parserName="email",d.$validators.email=function(a,b){var c=a||b;return d.$isEmpty(c)||Kf.test(c)}}function td(a,b,c,d){t(c.name)&&b.attr("name",i());var e=function(a){b[0].checked&&d.$setViewValue(c.value,a&&a.type)};b.on("click",e),d.$render=function(){var a=c.value;b[0].checked=a==d.$viewValue},c.$observe("value",d.$render)}function ud(a,b,c,d,e){var f;if(u(d)){if(f=a(d),!f.constant)throw sg("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",c,d);return f(b)}return e}function vd(a,b,c,d,e,f,g,h){var i=ud(h,a,"ngTrueValue",c.ngTrueValue,!0),j=ud(h,a,"ngFalseValue",c.ngFalseValue,!1),k=function(a){d.$setViewValue(b[0].checked,a&&a.type)};b.on("click",k),d.$render=function(){b[0].checked=d.$viewValue},d.$isEmpty=function(a){return a===!1},d.$formatters.push(function(a){return R(a,i)}),d.$parsers.push(function(a){return a?i:j})}function wd(a,b){return a="ngClass"+a,["$animate",function(c){function d(a,b){var c=[];a:for(var d=0;d<a.length;d++){for(var e=a[d],f=0;f<b.length;f++)if(e==b[f])continue a;c.push(e)}return c}function e(a){var b=[];return Td(a)?(f(a,function(a){b=b.concat(e(a))}),b):x(a)?a.split(" "):v(a)?(f(a,function(a,c){a&&(b=b.concat(c.split(" ")))}),b):a}return{restrict:"AC",link:function(g,h,i){function j(a){var b=l(a,1);i.$addClass(b)}function k(a){var b=l(a,-1);i.$removeClass(b)}function l(a,b){var c=h.data("$classCounts")||ra(),d=[];return f(a,function(a){(b>0||c[a])&&(c[a]=(c[a]||0)+b,c[a]===+(b>0)&&d.push(a))}),h.data("$classCounts",c),d.join(" ")}function m(a,b){var e=d(b,a),f=d(a,b);e=l(e,1),f=l(f,-1),e&&e.length&&c.addClass(h,e),f&&f.length&&c.removeClass(h,f)}function n(a){if(b===!0||g.$index%2===b){var c=e(a||[]);if(o){if(!R(a,o)){var d=e(o);m(d,c)}}else j(c)}o=Q(a)}var o;g.$watch(i[a],n,!0),i.$observe("class",function(b){n(g.$eval(i[a]))}),"ngClass"!==a&&g.$watch("$index",function(c,d){var f=1&c;if(f!==(1&d)){var h=e(g.$eval(i[a]));f===b?j(h):k(h)}})}}}]}function xd(a){function b(a,b,i){t(b)?d("$pending",a,i):e("$pending",a,i),H(b)?b?(l(h.$error,a,i),k(h.$$success,a,i)):(k(h.$error,a,i),l(h.$$success,a,i)):(l(h.$error,a,i),l(h.$$success,a,i)),h.$pending?(f(pg,!0),h.$valid=h.$invalid=c,g("",null)):(f(pg,!1),h.$valid=yd(h.$error),h.$invalid=!h.$valid,g("",h.$valid));var j;j=h.$pending&&h.$pending[a]?c:h.$error[a]?!1:h.$$success[a]?!0:null,g(a,j),h.$$parentForm.$setValidity(a,j,h)}function d(a,b,c){h[a]||(h[a]={}),k(h[a],b,c)}function e(a,b,d){h[a]&&l(h[a],b,d),yd(h[a])&&(h[a]=c)}function f(a,b){b&&!j[a]?(m.addClass(i,a),j[a]=!0):!b&&j[a]&&(m.removeClass(i,a),j[a]=!1)}function g(a,b){a=a?"-"+ka(a,"-"):"",f(jg+a,b===!0),f(kg+a,b===!1)}var h=a.ctrl,i=a.$element,j={},k=a.set,l=a.unset,m=a.$animate;j[kg]=!(j[jg]=i.hasClass(jg)),h.$setValidity=b}function yd(a){if(a)for(var b in a)if(a.hasOwnProperty(b))return!1;return!0}function zd(a){a[0].hasAttribute("selected")&&(a[0].selected=!0)}var Ad=/^\/(.+)\/([a-z]*)$/,Bd="validity",Cd=Object.prototype.hasOwnProperty,Dd=function(a){return x(a)?a.toLowerCase():a},Ed=function(a){return x(a)?a.toUpperCase():a},Fd=function(a){return x(a)?a.replace(/[A-Z]/g,function(a){return String.fromCharCode(32|a.charCodeAt(0))}):a},Gd=function(a){return x(a)?a.replace(/[a-z]/g,function(a){return String.fromCharCode(-33&a.charCodeAt(0))}):a};"i"!=="I".toLowerCase()&&(Dd=Fd,Ed=Gd);var Hd,Id,Jd,Kd,Ld=[].slice,Md=[].splice,Nd=[].push,Od=Object.prototype.toString,Pd=Object.getPrototypeOf,Qd=d("ng"),Rd=a.angular||(a.angular={}),Sd=0;Hd=b.documentMode,p.$inject=[],q.$inject=[];var Td=Array.isArray,Ud=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array\]$/,Vd=function(a){return x(a)?a.trim():a},Wd=function(a){return a.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Xd=function(){function a(){try{return new Function(""),!1}catch(a){return!0}}if(!u(Xd.rules)){var c=b.querySelector("[ng-csp]")||b.querySelector("[data-ng-csp]");if(c){var d=c.getAttribute("ng-csp")||c.getAttribute("data-ng-csp");Xd.rules={noUnsafeEval:!d||-1!==d.indexOf("no-unsafe-eval"),noInlineStyle:!d||-1!==d.indexOf("no-inline-style")}}else Xd.rules={noUnsafeEval:a(),noInlineStyle:!1}}return Xd.rules},Yd=function(){if(u(Yd.name_))return Yd.name_;var a,c,d,e,f=Zd.length;for(c=0;f>c;++c)if(d=Zd[c],a=b.querySelector("["+d.replace(":","\\:")+"jq]")){e=a.getAttribute(d+"jq");break}return Yd.name_=e},Zd=["ng-","data-ng-","ng:","x-ng-"],$d=/[A-Z]/g,_d=!1,ae=1,be=2,ce=3,de=8,ee=9,fe=11,ge={full:"1.5.0-rc.2",major:1,minor:5,dot:0,codeName:"controller-requisition"};Fa.expando="ng339";var he=Fa.cache={},ie=1,je=function(a,b,c){a.addEventListener(b,c,!1)},ke=function(a,b,c){a.removeEventListener(b,c,!1)};Fa._data=function(a){return this.cache[a[this.expando]]||{}};var le=/([\:\-\_]+(.))/g,me=/^moz([A-Z])/,ne={mouseleave:"mouseout",mouseenter:"mouseover"},oe=d("jqLite"),pe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,qe=/<|&#?\w+;/,re=/<([\w:-]+)/,se=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,te={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};te.optgroup=te.option,te.tbody=te.tfoot=te.colgroup=te.caption=te.thead,te.th=te.td;var ue=Node.prototype.contains||function(a){return!!(16&this.compareDocumentPosition(a))},ve=Fa.prototype={ready:function(c){function d(){e||(e=!0,c())}var e=!1;"complete"===b.readyState?setTimeout(d):(this.on("DOMContentLoaded",d),Fa(a).on("load",d))},toString:function(){var a=[];return f(this,function(b){a.push(""+b)}),"["+a.join(", ")+"]"},eq:function(a){return Id(a>=0?this[a]:this[this.length+a])},length:0,push:Nd,sort:[].sort,splice:[].splice},we={};f("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(a){we[Dd(a)]=a});var xe={};f("input,select,option,textarea,button,form,details".split(","),function(a){xe[a]=!0});var ye={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};f({data:La,removeData:Ja,hasData:Aa,cleanData:Ba},function(a,b){Fa[b]=a}),f({data:La,inheritedData:Ra,scope:function(a){return Id.data(a,"$scope")||Ra(a.parentNode||a,["$isolateScope","$scope"])},isolateScope:function(a){return Id.data(a,"$isolateScope")||Id.data(a,"$isolateScopeNoTemplate")},controller:Qa,injector:function(a){return Ra(a,"$injector")},removeAttr:function(a,b){a.removeAttribute(b)},hasClass:Ma,css:function(a,b,c){return b=xa(b),u(c)?void(a.style[b]=c):a.style[b]},attr:function(a,b,d){var e=a.nodeType;if(e!==ce&&e!==be&&e!==de){var f=Dd(b);if(we[f]){if(!u(d))return a[b]||(a.attributes.getNamedItem(b)||p).specified?f:c;d?(a[b]=!0,a.setAttribute(b,f)):(a[b]=!1,a.removeAttribute(f))}else if(u(d))a.setAttribute(b,d);else if(a.getAttribute){var g=a.getAttribute(b,2);return null===g?c:g}}},prop:function(a,b,c){return u(c)?void(a[b]=c):a[b]},text:function(){function a(a,b){if(t(b)){var c=a.nodeType;return c===ae||c===ce?a.textContent:""}a.textContent=b}return a.$dv="",a}(),val:function(a,b){if(t(b)){if(a.multiple&&"select"===N(a)){var c=[];return f(a.options,function(a){a.selected&&c.push(a.value||a.text)}),0===c.length?null:c}return a.value}a.value=b},html:function(a,b){return t(b)?a.innerHTML:(Ha(a,!0),void(a.innerHTML=b))},empty:Sa},function(a,b){Fa.prototype[b]=function(b,c){var d,e,f=this.length;if(a!==Sa&&t(2==a.length&&a!==Ma&&a!==Qa?b:c)){if(v(b)){for(d=0;f>d;d++)if(a===La)a(this[d],b);else for(e in b)a(this[d],e,b[e]);return this}for(var g=a.$dv,h=t(g)?Math.min(f,1):f,i=0;h>i;i++){var j=a(this[i],b,c);g=g?g+j:j}return g}for(d=0;f>d;d++)a(this[d],b,c);return this}}),f({removeData:Ja,on:function(a,b,d,e){if(u(e))throw oe("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(za(a)){var f=Ka(a,!0),g=f.events,h=f.handle;h||(h=f.handle=Xa(a,g));for(var i=b.indexOf(" ")>=0?b.split(" "):[b],j=i.length,k=function(b,c,e){var f=g[b];f||(f=g[b]=[],f.specialHandlerWrapper=c,"$destroy"===b||e||je(a,b,h)),f.push(d)};j--;)b=i[j],ne[b]?(k(ne[b],Za),k(b,c,!0)):k(b)}},off:Ia,one:function(a,b,c){a=Id(a),a.on(b,function d(){a.off(b,c),a.off(b,d)}),a.on(b,c)},replaceWith:function(a,b){var c,d=a.parentNode;Ha(a),f(new Fa(b),function(b){c?d.insertBefore(b,c.nextSibling):d.replaceChild(b,a),c=b})},children:function(a){var b=[];return f(a.childNodes,function(a){a.nodeType===ae&&b.push(a)}),b},contents:function(a){return a.contentDocument||a.childNodes||[]},append:function(a,b){var c=a.nodeType;if(c===ae||c===fe){b=new Fa(b);for(var d=0,e=b.length;e>d;d++){var f=b[d];a.appendChild(f)}}},prepend:function(a,b){if(a.nodeType===ae){var c=a.firstChild;f(new Fa(b),function(b){a.insertBefore(b,c)})}},wrap:function(a,b){Ea(a,Id(b).eq(0).clone()[0])},remove:Ta,detach:function(a){Ta(a,!0)},after:function(a,b){var c=a,d=a.parentNode;b=new Fa(b);for(var e=0,f=b.length;f>e;e++){var g=b[e];d.insertBefore(g,c.nextSibling),c=g}},addClass:Oa,removeClass:Na,toggleClass:function(a,b,c){b&&f(b.split(" "),function(b){var d=c;t(d)&&(d=!Ma(a,b)),(d?Oa:Na)(a,b)})},parent:function(a){var b=a.parentNode;return b&&b.nodeType!==fe?b:null},next:function(a){return a.nextElementSibling},find:function(a,b){return a.getElementsByTagName?a.getElementsByTagName(b):[]},clone:Ga,triggerHandler:function(a,b,c){var d,e,g,h=b.type||b,i=Ka(a),j=i&&i.events,k=j&&j[h];k&&(d={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:p,type:h,target:a},b.type&&(d=l(d,b)),e=Q(k),g=c?[d].concat(c):[d],f(e,function(b){d.isImmediatePropagationStopped()||b.apply(a,g)}))}},function(a,b){Fa.prototype[b]=function(b,c,d){for(var e,f=0,g=this.length;g>f;f++)t(e)?(e=a(this[f],b,c,d),u(e)&&(e=Id(e))):Pa(e,a(this[f],b,c,d));return u(e)?e:this},Fa.prototype.bind=Fa.prototype.on,Fa.prototype.unbind=Fa.prototype.off}),ab.prototype={put:function(a,b){this[_a(a,this.nextUid)]=b},get:function(a){return this[_a(a,this.nextUid)]},remove:function(a){var b=this[a=_a(a,this.nextUid)];return delete this[a],b}};var ze=[function(){this.$get=[function(){return ab}]}],Ae=/^([^\(]+?)=>/,Be=/^[^\(]*\(\s*([^\)]*)\)/m,Ce=/,/,De=/^\s*(_?)(\S+?)\1\s*$/,Ee=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Fe=d("$injector");eb.$$annotate=db;var Ge=d("$animate"),He=1,Ie="ng-animate",Je=function(){this.$get=function(){}},Ke=function(){var a=new ab,b=[];this.$get=["$$AnimateRunner","$rootScope",function(c,d){function e(a,b,c){var d=!1;return b&&(b=x(b)?b.split(" "):Td(b)?b:[],f(b,function(b){b&&(d=!0,a[b]=c)})),d}function g(){f(b,function(b){var c=a.get(b);if(c){var d=ib(b.attr("class")),e="",g="";f(c,function(a,b){var c=!!d[b];a!==c&&(a?e+=(e.length?" ":"")+b:g+=(g.length?" ":"")+b)}),f(b,function(a){e&&Oa(a,e),g&&Na(a,g)}),a.remove(b)}}),b.length=0}function h(c,f,h){var i=a.get(c)||{},j=e(i,f,!0),k=e(i,h,!1);(j||k)&&(a.put(c,i),b.push(c),1===b.length&&d.$$postDigest(g))}return{enabled:p,on:p,off:p,pin:p,push:function(a,b,d,e){e&&e(),d=d||{},d.from&&a.css(d.from),d.to&&a.css(d.to),(d.addClass||d.removeClass)&&h(a,d.addClass,d.removeClass);var f=new c;return f.complete(),f}}}]},Le=["$provide",function(a){var b=this;this.$$registeredAnimations=Object.create(null),this.register=function(c,d){if(c&&"."!==c.charAt(0))throw Ge("notcsel","Expecting class selector starting with '.' got '{0}'.",c);var e=c+"-animation";b.$$registeredAnimations[c.substr(1)]=e,
a.factory(e,d)},this.classNameFilter=function(a){if(1===arguments.length&&(this.$$classNameFilter=a instanceof RegExp?a:null,this.$$classNameFilter)){var b=new RegExp("(\\s+|\\/)"+Ie+"(\\s+|\\/)");if(b.test(this.$$classNameFilter.toString()))throw Ge("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Ie)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(a){function b(a,b,c){if(c){var d=hb(c);!d||d.parentNode||d.previousElementSibling||(c=null)}c?c.after(a):b.prepend(a)}return{on:a.on,off:a.off,pin:a.pin,enabled:a.enabled,cancel:function(a){a.end&&a.end()},enter:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"enter",jb(f))},move:function(c,d,e,f){return d=d&&Id(d),e=e&&Id(e),d=d||e.parent(),b(c,d,e),a.push(c,"move",jb(f))},leave:function(b,c){return a.push(b,"leave",jb(c),function(){b.remove()})},addClass:function(b,c,d){return d=jb(d),d.addClass=gb(d.addclass,c),a.push(b,"addClass",d)},removeClass:function(b,c,d){return d=jb(d),d.removeClass=gb(d.removeClass,c),a.push(b,"removeClass",d)},setClass:function(b,c,d,e){return e=jb(e),e.addClass=gb(e.addClass,c),e.removeClass=gb(e.removeClass,d),a.push(b,"setClass",e)},animate:function(b,c,d,e,f){return f=jb(f),f.from=f.from?l(f.from,c):c,f.to=f.to?l(f.to,d):d,e=e||"ng-inline-animate",f.tempClasses=gb(f.tempClasses,e),a.push(b,"animate",f)}}}]}],Me=function(){this.$get=["$$rAF",function(a){function b(b){c.push(b),c.length>1||a(function(){for(var a=0;a<c.length;a++)c[a]();c=[]})}var c=[];return function(){var a=!1;return b(function(){a=!0}),function(c){a?c():b(c)}}}]},Ne=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(a,b,c,d,e){function g(a){this.setHost(a);var b=c(),f=function(a){e(a,0,!1)};this._doneCallbacks=[],this._tick=function(a){var c=d[0];c&&c.hidden?f(a):b(a)},this._state=0}var h=0,i=1,j=2;return g.chain=function(a,b){function c(){return d===a.length?void b(!0):void a[d](function(a){return a===!1?void b(!1):(d++,void c())})}var d=0;c()},g.all=function(a,b){function c(c){e=e&&c,++d===a.length&&b(e)}var d=0,e=!0;f(a,function(a){a.done(c)})},g.prototype={setHost:function(a){this.host=a||{}},done:function(a){this._state===j?a():this._doneCallbacks.push(a)},progress:p,getPromise:function(){if(!this.promise){var b=this;this.promise=a(function(a,c){b.done(function(b){b===!1?c():a()})})}return this.promise},then:function(a,b){return this.getPromise().then(a,b)},"catch":function(a){return this.getPromise()["catch"](a)},"finally":function(a){return this.getPromise()["finally"](a)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(a){var b=this;b._state===h&&(b._state=i,b._tick(function(){b._resolve(a)}))},_resolve:function(a){this._state!==j&&(f(this._doneCallbacks,function(b){b(a)}),this._doneCallbacks.length=0,this._state=j)}},g}]},Oe=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,b,c){return function(b,d){function e(){return a(function(){f(),h||i.complete(),h=!0}),i}function f(){g.addClass&&(b.addClass(g.addClass),g.addClass=null),g.removeClass&&(b.removeClass(g.removeClass),g.removeClass=null),g.to&&(b.css(g.to),g.to=null)}var g=d||{};g.$$prepared||(g=P(g)),g.cleanupStyles&&(g.from=g.to=null),g.from&&(b.css(g.from),g.from=null);var h,i=new c;return{start:e,end:e}}}]},Pe=d("$compile");ob.$inject=["$provide","$$sanitizeUriProvider"];var Qe=/^((?:x|data)[\:\-_])/i,Re=d("$controller"),Se=/^(\S+)(\s+as\s+([\w$]+))?$/,Te=function(){this.$get=["$document",function(a){return function(b){return b?!b.nodeType&&b instanceof Id&&(b=b[0]):b=a[0].body,b.offsetWidth+1}}]},Ue="application/json",Ve={"Content-Type":Ue+";charset=utf-8"},We=/^\[|^\{(?!\{)/,Xe={"[":/]$/,"{":/}$/},Ye=/^\)\]\}',?\n/,Ze=d("$http"),$e=function(a){return function(){throw Ze("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",a)}},_e=Rd.$interpolateMinErr=d("$interpolate");_e.throwNoconcat=function(a){throw _e("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",a)},_e.interr=function(a,b){return _e("interr","Can't interpolate: {0}\n{1}",a,b.toString())};var af=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,bf={http:80,https:443,ftp:21},cf=d("$location"),df={$$html5:!1,$$replace:!1,absUrl:Wb("$$absUrl"),url:function(a){if(t(a))return this.$$url;var b=af.exec(a);return(b[1]||""===a)&&this.path(decodeURIComponent(b[1])),(b[2]||b[1]||""===a)&&this.search(b[3]||""),this.hash(b[5]||""),this},protocol:Wb("$$protocol"),host:Wb("$$host"),port:Wb("$$port"),path:Xb("$$path",function(a){return a=null!==a?a.toString():"","/"==a.charAt(0)?a:"/"+a}),search:function(a,b){switch(arguments.length){case 0:return this.$$search;case 1:if(x(a)||y(a))a=a.toString(),this.$$search=ba(a);else{if(!v(a))throw cf("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");a=P(a,{}),f(a,function(b,c){null==b&&delete a[c]}),this.$$search=a}break;default:t(b)||null===b?delete this.$$search[a]:this.$$search[a]=b}return this.$$compose(),this},hash:Xb("$$hash",function(a){return null!==a?a.toString():""}),replace:function(){return this.$$replace=!0,this}};f([Vb,Ub,Tb],function(a){a.prototype=Object.create(df),a.prototype.state=function(b){if(!arguments.length)return this.$$state;if(a!==Tb||!this.$$html5)throw cf("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=t(b)?null:b,this}});var ef=d("$parse"),ff=Function.prototype.call,gf=Function.prototype.apply,hf=Function.prototype.bind,jf=ra();f("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(a){jf[a]=!0});var kf={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},lf=function(a){this.options=a};lf.prototype={constructor:lf,lex:function(a){for(this.text=a,this.index=0,this.tokens=[];this.index<this.text.length;){var b=this.text.charAt(this.index);if('"'===b||"'"===b)this.readString(b);else if(this.isNumber(b)||"."===b&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(b))this.readIdent();else if(this.is(b,"(){}[].,;:?"))this.tokens.push({index:this.index,text:b}),this.index++;else if(this.isWhitespace(b))this.index++;else{var c=b+this.peek(),d=c+this.peek(2),e=jf[b],f=jf[c],g=jf[d];if(e||f||g){var h=g?d:f?c:b;this.tokens.push({index:this.index,text:h,operator:!0}),this.index+=h.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(a,b){return-1!==b.indexOf(a)},peek:function(a){var b=a||1;return this.index+b<this.text.length?this.text.charAt(this.index+b):!1},isNumber:function(a){return a>="0"&&"9">=a&&"string"==typeof a},isWhitespace:function(a){return" "===a||"\r"===a||"	"===a||"\n"===a||""===a||""===a},isIdent:function(a){return a>="a"&&"z">=a||a>="A"&&"Z">=a||"_"===a||"$"===a},isExpOperator:function(a){return"-"===a||"+"===a||this.isNumber(a)},throwError:function(a,b,c){c=c||this.index;var d=u(b)?"s "+b+"-"+this.index+" ["+this.text.substring(b,c)+"]":" "+c;throw ef("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",a,d,this.text)},readNumber:function(){for(var a="",b=this.index;this.index<this.text.length;){var c=Dd(this.text.charAt(this.index));if("."==c||this.isNumber(c))a+=c;else{var d=this.peek();if("e"==c&&this.isExpOperator(d))a+=c;else if(this.isExpOperator(c)&&d&&this.isNumber(d)&&"e"==a.charAt(a.length-1))a+=c;else{if(!this.isExpOperator(c)||d&&this.isNumber(d)||"e"!=a.charAt(a.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:b,text:a,constant:!0,value:Number(a)})},readIdent:function(){for(var a=this.index;this.index<this.text.length;){var b=this.text.charAt(this.index);if(!this.isIdent(b)&&!this.isNumber(b))break;this.index++}this.tokens.push({index:a,text:this.text.slice(a,this.index),identifier:!0})},readString:function(a){var b=this.index;this.index++;for(var c="",d=a,e=!1;this.index<this.text.length;){var f=this.text.charAt(this.index);if(d+=f,e){if("u"===f){var g=this.text.substring(this.index+1,this.index+5);g.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+g+"]"),this.index+=4,c+=String.fromCharCode(parseInt(g,16))}else{var h=kf[f];c+=h||f}e=!1}else if("\\"===f)e=!0;else{if(f===a)return this.index++,void this.tokens.push({index:b,text:d,constant:!0,value:c});c+=f}this.index++}this.throwError("Unterminated quote",b)}};var mf=function(a,b){this.lexer=a,this.options=b};mf.Program="Program",mf.ExpressionStatement="ExpressionStatement",mf.AssignmentExpression="AssignmentExpression",mf.ConditionalExpression="ConditionalExpression",mf.LogicalExpression="LogicalExpression",mf.BinaryExpression="BinaryExpression",mf.UnaryExpression="UnaryExpression",mf.CallExpression="CallExpression",mf.MemberExpression="MemberExpression",mf.Identifier="Identifier",mf.Literal="Literal",mf.ArrayExpression="ArrayExpression",mf.Property="Property",mf.ObjectExpression="ObjectExpression",mf.ThisExpression="ThisExpression",mf.LocalsExpression="LocalsExpression",mf.NGValueParameter="NGValueParameter",mf.prototype={ast:function(a){this.text=a,this.tokens=this.lexer.lex(a);var b=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),b},program:function(){for(var a=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&a.push(this.expressionStatement()),!this.expect(";"))return{type:mf.Program,body:a}},expressionStatement:function(){return{type:mf.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var a,b=this.expression();a=this.expect("|");)b=this.filter(b);return b},expression:function(){return this.assignment()},assignment:function(){var a=this.ternary();return this.expect("=")&&(a={type:mf.AssignmentExpression,left:a,right:this.assignment(),operator:"="}),a},ternary:function(){var a,b,c=this.logicalOR();return this.expect("?")&&(a=this.expression(),this.consume(":"))?(b=this.expression(),{type:mf.ConditionalExpression,test:c,alternate:a,consequent:b}):c},logicalOR:function(){for(var a=this.logicalAND();this.expect("||");)a={type:mf.LogicalExpression,operator:"||",left:a,right:this.logicalAND()};return a},logicalAND:function(){for(var a=this.equality();this.expect("&&");)a={type:mf.LogicalExpression,operator:"&&",left:a,right:this.equality()};return a},equality:function(){for(var a,b=this.relational();a=this.expect("==","!=","===","!==");)b={type:mf.BinaryExpression,operator:a.text,left:b,right:this.relational()};return b},relational:function(){for(var a,b=this.additive();a=this.expect("<",">","<=",">=");)b={type:mf.BinaryExpression,operator:a.text,left:b,right:this.additive()};return b},additive:function(){for(var a,b=this.multiplicative();a=this.expect("+","-");)b={type:mf.BinaryExpression,operator:a.text,left:b,right:this.multiplicative()};return b},multiplicative:function(){for(var a,b=this.unary();a=this.expect("*","/","%");)b={type:mf.BinaryExpression,operator:a.text,left:b,right:this.unary()};return b},unary:function(){var a;return(a=this.expect("+","-","!"))?{type:mf.UnaryExpression,operator:a.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var a;this.expect("(")?(a=this.filterChain(),this.consume(")")):this.expect("[")?a=this.arrayDeclaration():this.expect("{")?a=this.object():this.constants.hasOwnProperty(this.peek().text)?a=P(this.constants[this.consume().text]):this.peek().identifier?a=this.identifier():this.peek().constant?a=this.constant():this.throwError("not a primary expression",this.peek());for(var b;b=this.expect("(","[",".");)"("===b.text?(a={type:mf.CallExpression,callee:a,arguments:this.parseArguments()},this.consume(")")):"["===b.text?(a={type:mf.MemberExpression,object:a,property:this.expression(),computed:!0},this.consume("]")):"."===b.text?a={type:mf.MemberExpression,object:a,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return a},filter:function(a){for(var b=[a],c={type:mf.CallExpression,callee:this.identifier(),arguments:b,filter:!0};this.expect(":");)b.push(this.expression());return c},parseArguments:function(){var a=[];if(")"!==this.peekToken().text)do a.push(this.expression());while(this.expect(","));return a},identifier:function(){var a=this.consume();return a.identifier||this.throwError("is not a valid identifier",a),{type:mf.Identifier,name:a.text}},constant:function(){return{type:mf.Literal,value:this.consume().value}},arrayDeclaration:function(){var a=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;a.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:mf.ArrayExpression,elements:a}},object:function(){var a,b=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;a={type:mf.Property,kind:"init"},this.peek().constant?a.key=this.constant():this.peek().identifier?a.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),a.value=this.expression(),b.push(a)}while(this.expect(","));return this.consume("}"),{type:mf.ObjectExpression,properties:b}},throwError:function(a,b){throw ef("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",b.text,a,b.index+1,this.text,this.text.substring(b.index))},consume:function(a){if(0===this.tokens.length)throw ef("ueoe","Unexpected end of expression: {0}",this.text);var b=this.expect(a);return b||this.throwError("is unexpected, expecting ["+a+"]",this.peek()),b},peekToken:function(){if(0===this.tokens.length)throw ef("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(a,b,c,d){return this.peekAhead(0,a,b,c,d)},peekAhead:function(a,b,c,d,e){if(this.tokens.length>a){var f=this.tokens[a],g=f.text;if(g===b||g===c||g===d||g===e||!b&&!c&&!d&&!e)return f}return!1},expect:function(a,b,c,d){var e=this.peek(a,b,c,d);return e?(this.tokens.shift(),e):!1},constants:{"true":{type:mf.Literal,value:!0},"false":{type:mf.Literal,value:!1},"null":{type:mf.Literal,value:null},undefined:{type:mf.Literal,value:c},"this":{type:mf.ThisExpression},$locals:{type:mf.LocalsExpression}}},mc.prototype={compile:function(a,b){var d=this,e=this.astBuilder.ast(a);this.state={nextId:0,filters:{},expensiveChecks:b,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},gc(e,d.$filter);var g,h="";if(this.stage="assign",g=jc(e)){this.state.computing="assign";var i=this.nextId();this.recurse(g,i),this.return_(i),h="fn.assign="+this.generateFunction("assign","s,v,l")}var j=hc(e.body);d.stage="inputs",f(j,function(a,b){var c="fn"+b;d.state[c]={vars:[],body:[],own:{}},d.state.computing=c;var e=d.nextId();d.recurse(a,e),d.return_(e),d.state.inputs.push(c),a.watchId=b}),this.state.computing="fn",this.stage="main",this.recurse(e);var k='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+h+this.watchFns()+"return fn;",l=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",k)(this.$filter,$b,ac,bc,_b,cc,dc,ec,a);return this.state=this.stage=c,l.literal=kc(e),l.constant=lc(e),l},USE:"use",STRICT:"strict",watchFns:function(){var a=[],b=this.state.inputs,c=this;return f(b,function(b){a.push("var "+b+"="+c.generateFunction(b,"s"))}),b.length&&a.push("fn.inputs=["+b.join(",")+"];"),a.join("")},generateFunction:function(a,b){return"function("+b+"){"+this.varsPrefix(a)+this.body(a)+"};"},filterPrefix:function(){var a=[],b=this;return f(this.state.filters,function(c,d){a.push(c+"=$filter("+b.escape(d)+")")}),a.length?"var "+a.join(",")+";":""},varsPrefix:function(a){return this.state[a].vars.length?"var "+this.state[a].vars.join(",")+";":""},body:function(a){return this.state[a].body.join("")},recurse:function(a,b,d,e,g,h){var i,j,k,l,m=this;if(e=e||p,!h&&u(a.watchId))return b=b||this.nextId(),void this.if_("i",this.lazyAssign(b,this.computedMember("i",a.watchId)),this.lazyRecurse(a,b,d,e,g,!0));switch(a.type){case mf.Program:f(a.body,function(b,d){m.recurse(b.expression,c,c,function(a){j=a}),d!==a.body.length-1?m.current().body.push(j,";"):m.return_(j)});break;case mf.Literal:l=this.escape(a.value),this.assign(b,l),e(l);break;case mf.UnaryExpression:this.recurse(a.argument,c,c,function(a){j=a}),l=a.operator+"("+this.ifDefined(j,0)+")",this.assign(b,l),e(l);break;case mf.BinaryExpression:this.recurse(a.left,c,c,function(a){i=a}),this.recurse(a.right,c,c,function(a){j=a}),l="+"===a.operator?this.plus(i,j):"-"===a.operator?this.ifDefined(i,0)+a.operator+this.ifDefined(j,0):"("+i+")"+a.operator+"("+j+")",this.assign(b,l),e(l);break;case mf.LogicalExpression:b=b||this.nextId(),m.recurse(a.left,b),m.if_("&&"===a.operator?b:m.not(b),m.lazyRecurse(a.right,b)),e(b);break;case mf.ConditionalExpression:b=b||this.nextId(),m.recurse(a.test,b),m.if_(b,m.lazyRecurse(a.alternate,b),m.lazyRecurse(a.consequent,b)),e(b);break;case mf.Identifier:b=b||this.nextId(),d&&(d.context="inputs"===m.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",a.name)+"?l:s"),d.computed=!1,d.name=a.name),$b(a.name),m.if_("inputs"===m.stage||m.not(m.getHasOwnProperty("l",a.name)),function(){m.if_("inputs"===m.stage||"s",function(){g&&1!==g&&m.if_(m.not(m.nonComputedMember("s",a.name)),m.lazyAssign(m.nonComputedMember("s",a.name),"{}")),m.assign(b,m.nonComputedMember("s",a.name))})},b&&m.lazyAssign(b,m.nonComputedMember("l",a.name))),(m.state.expensiveChecks||oc(a.name))&&m.addEnsureSafeObject(b),e(b);break;case mf.MemberExpression:i=d&&(d.context=this.nextId())||this.nextId(),b=b||this.nextId(),m.recurse(a.object,i,c,function(){m.if_(m.notNull(i),function(){g&&1!==g&&m.addEnsureSafeAssignContext(i),a.computed?(j=m.nextId(),m.recurse(a.property,j),m.getStringValue(j),m.addEnsureSafeMemberName(j),g&&1!==g&&m.if_(m.not(m.computedMember(i,j)),m.lazyAssign(m.computedMember(i,j),"{}")),l=m.ensureSafeObject(m.computedMember(i,j)),m.assign(b,l),d&&(d.computed=!0,d.name=j)):($b(a.property.name),g&&1!==g&&m.if_(m.not(m.nonComputedMember(i,a.property.name)),m.lazyAssign(m.nonComputedMember(i,a.property.name),"{}")),l=m.nonComputedMember(i,a.property.name),(m.state.expensiveChecks||oc(a.property.name))&&(l=m.ensureSafeObject(l)),m.assign(b,l),d&&(d.computed=!1,d.name=a.property.name))},function(){m.assign(b,"undefined")}),e(b)},!!g);break;case mf.CallExpression:b=b||this.nextId(),a.filter?(j=m.filter(a.callee.name),k=[],f(a.arguments,function(a){var b=m.nextId();m.recurse(a,b),k.push(b)}),l=j+"("+k.join(",")+")",m.assign(b,l),e(b)):(j=m.nextId(),i={},k=[],m.recurse(a.callee,j,i,function(){m.if_(m.notNull(j),function(){m.addEnsureSafeFunction(j),f(a.arguments,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(m.ensureSafeObject(a))})}),i.name?(m.state.expensiveChecks||m.addEnsureSafeObject(i.context),l=m.member(i.context,i.name,i.computed)+"("+k.join(",")+")"):l=j+"("+k.join(",")+")",l=m.ensureSafeObject(l),m.assign(b,l)},function(){m.assign(b,"undefined")}),e(b)}));break;case mf.AssignmentExpression:if(j=this.nextId(),i={},!ic(a.left))throw ef("lval","Trying to assign a value to a non l-value");this.recurse(a.left,c,i,function(){m.if_(m.notNull(i.context),function(){m.recurse(a.right,j),m.addEnsureSafeObject(m.member(i.context,i.name,i.computed)),m.addEnsureSafeAssignContext(i.context),l=m.member(i.context,i.name,i.computed)+a.operator+j,m.assign(b,l),e(b||l)})},1);break;case mf.ArrayExpression:k=[],f(a.elements,function(a){m.recurse(a,m.nextId(),c,function(a){k.push(a)})}),l="["+k.join(",")+"]",this.assign(b,l),e(l);break;case mf.ObjectExpression:k=[],f(a.properties,function(a){m.recurse(a.value,m.nextId(),c,function(b){k.push(m.escape(a.key.type===mf.Identifier?a.key.name:""+a.key.value)+":"+b)})}),l="{"+k.join(",")+"}",this.assign(b,l),e(l);break;case mf.ThisExpression:this.assign(b,"s"),e("s");break;case mf.LocalsExpression:this.assign(b,"l"),e("l");break;case mf.NGValueParameter:this.assign(b,"v"),e("v")}},getHasOwnProperty:function(a,b){var c=a+"."+b,d=this.current().own;return d.hasOwnProperty(c)||(d[c]=this.nextId(!1,a+"&&("+this.escape(b)+" in "+a+")")),d[c]},assign:function(a,b){return a?(this.current().body.push(a,"=",b,";"),a):void 0},filter:function(a){return this.state.filters.hasOwnProperty(a)||(this.state.filters[a]=this.nextId(!0)),this.state.filters[a]},ifDefined:function(a,b){return"ifDefined("+a+","+this.escape(b)+")"},plus:function(a,b){return"plus("+a+","+b+")"},return_:function(a){this.current().body.push("return ",a,";")},if_:function(a,b,c){if(a===!0)b();else{var d=this.current().body;d.push("if(",a,"){"),b(),d.push("}"),c&&(d.push("else{"),c(),d.push("}"))}},not:function(a){return"!("+a+")"},notNull:function(a){return a+"!=null"},nonComputedMember:function(a,b){return a+"."+b},computedMember:function(a,b){return a+"["+b+"]"},member:function(a,b,c){return c?this.computedMember(a,b):this.nonComputedMember(a,b)},addEnsureSafeObject:function(a){this.current().body.push(this.ensureSafeObject(a),";")},addEnsureSafeMemberName:function(a){this.current().body.push(this.ensureSafeMemberName(a),";")},addEnsureSafeFunction:function(a){this.current().body.push(this.ensureSafeFunction(a),";")},addEnsureSafeAssignContext:function(a){this.current().body.push(this.ensureSafeAssignContext(a),";")},ensureSafeObject:function(a){return"ensureSafeObject("+a+",text)"},ensureSafeMemberName:function(a){return"ensureSafeMemberName("+a+",text)"},ensureSafeFunction:function(a){return"ensureSafeFunction("+a+",text)"},getStringValue:function(a){this.assign(a,"getStringValue("+a+")")},ensureSafeAssignContext:function(a){return"ensureSafeAssignContext("+a+",text)"},lazyRecurse:function(a,b,c,d,e,f){var g=this;return function(){g.recurse(a,b,c,d,e,f)}},lazyAssign:function(a,b){var c=this;return function(){c.assign(a,b)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)},escape:function(a){if(x(a))return"'"+a.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(y(a))return a.toString();if(a===!0)return"true";if(a===!1)return"false";if(null===a)return"null";if("undefined"==typeof a)return"undefined";throw ef("esc","IMPOSSIBLE")},nextId:function(a,b){var c="v"+this.state.nextId++;return a||this.current().vars.push(c+(b?"="+b:"")),c},current:function(){return this.state[this.state.computing]}},nc.prototype={compile:function(a,b){var c=this,d=this.astBuilder.ast(a);this.expression=a,this.expensiveChecks=b,gc(d,c.$filter);var e,g;(e=jc(d))&&(g=this.recurse(e));var h,i=hc(d.body);i&&(h=[],f(i,function(a,b){var d=c.recurse(a);a.input=d,h.push(d),a.watchId=b}));var j=[];f(d.body,function(a){j.push(c.recurse(a.expression))});var k=0===d.body.length?function(){}:1===d.body.length?j[0]:function(a,b){var c;return f(j,function(d){c=d(a,b)}),c};return g&&(k.assign=function(a,b,c){return g(a,c,b)}),h&&(k.inputs=h),k.literal=kc(d),k.constant=lc(d),k},recurse:function(a,b,d){var e,g,h,i=this;if(a.input)return this.inputs(a.input,a.watchId);switch(a.type){case mf.Literal:return this.value(a.value,b);case mf.UnaryExpression:return g=this.recurse(a.argument),this["unary"+a.operator](g,b);case mf.BinaryExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case mf.LogicalExpression:return e=this.recurse(a.left),g=this.recurse(a.right),this["binary"+a.operator](e,g,b);case mf.ConditionalExpression:return this["ternary?:"](this.recurse(a.test),this.recurse(a.alternate),this.recurse(a.consequent),b);case mf.Identifier:return $b(a.name,i.expression),i.identifier(a.name,i.expensiveChecks||oc(a.name),b,d,i.expression);case mf.MemberExpression:return e=this.recurse(a.object,!1,!!d),a.computed||($b(a.property.name,i.expression),g=a.property.name),a.computed&&(g=this.recurse(a.property)),a.computed?this.computedMember(e,g,b,d,i.expression):this.nonComputedMember(e,g,i.expensiveChecks,b,d,i.expression);case mf.CallExpression:return h=[],f(a.arguments,function(a){h.push(i.recurse(a))}),a.filter&&(g=this.$filter(a.callee.name)),a.filter||(g=this.recurse(a.callee,!0)),a.filter?function(a,d,e,f){for(var i=[],j=0;j<h.length;++j)i.push(h[j](a,d,e,f));var k=g.apply(c,i,f);return b?{context:c,name:c,value:k}:k}:function(a,c,d,e){var f,j=g(a,c,d,e);if(null!=j.value){ac(j.context,i.expression),bc(j.value,i.expression);for(var k=[],l=0;l<h.length;++l)k.push(ac(h[l](a,c,d,e),i.expression));f=ac(j.value.apply(j.context,k),i.expression)}return b?{value:f}:f};case mf.AssignmentExpression:return e=this.recurse(a.left,!0,1),g=this.recurse(a.right),function(a,c,d,f){var h=e(a,c,d,f),j=g(a,c,d,f);return ac(h.value,i.expression),cc(h.context),h.context[h.name]=j,b?{value:j}:j};case mf.ArrayExpression:return h=[],f(a.elements,function(a){h.push(i.recurse(a))}),function(a,c,d,e){for(var f=[],g=0;g<h.length;++g)f.push(h[g](a,c,d,e));return b?{value:f}:f};case mf.ObjectExpression:return h=[],f(a.properties,function(a){h.push({key:a.key.type===mf.Identifier?a.key.name:""+a.key.value,value:i.recurse(a.value)})}),function(a,c,d,e){for(var f={},g=0;g<h.length;++g)f[h[g].key]=h[g].value(a,c,d,e);return b?{value:f}:f};case mf.ThisExpression:return function(a){return b?{value:a}:a};case mf.LocalsExpression:return function(a,c){return b?{value:c}:c};case mf.NGValueParameter:return function(a,c,d,e){return b?{value:d}:d}}},"unary+":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?+g:0,b?{value:g}:g}},"unary-":function(a,b){return function(c,d,e,f){var g=a(c,d,e,f);return g=u(g)?-g:0,b?{value:g}:g}},"unary!":function(a,b){return function(c,d,e,f){var g=!a(c,d,e,f);return b?{value:g}:g}},"binary+":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=ec(h,i);return c?{value:j}:j}},"binary-":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g),i=b(d,e,f,g),j=(u(h)?h:0)-(u(i)?i:0);return c?{value:j}:j}},"binary*":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)*b(d,e,f,g);return c?{value:h}:h}},"binary/":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)/b(d,e,f,g);return c?{value:h}:h}},"binary%":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)%b(d,e,f,g);return c?{value:h}:h}},"binary===":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)===b(d,e,f,g);return c?{value:h}:h}},"binary!==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!==b(d,e,f,g);return c?{value:h}:h}},"binary==":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)==b(d,e,f,g);return c?{value:h}:h}},"binary!=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)!=b(d,e,f,g);return c?{value:h}:h}},"binary<":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<b(d,e,f,g);return c?{value:h}:h}},"binary>":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>b(d,e,f,g);return c?{value:h}:h}},"binary<=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)<=b(d,e,f,g);return c?{value:h}:h}},"binary>=":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)>=b(d,e,f,g);return c?{value:h}:h}},"binary&&":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)&&b(d,e,f,g);return c?{value:h}:h}},"binary||":function(a,b,c){return function(d,e,f,g){var h=a(d,e,f,g)||b(d,e,f,g);return c?{value:h}:h}},"ternary?:":function(a,b,c,d){return function(e,f,g,h){var i=a(e,f,g,h)?b(e,f,g,h):c(e,f,g,h);return d?{value:i}:i}},value:function(a,b){return function(){return b?{context:c,name:c,value:a}:a}},identifier:function(a,b,d,e,f){return function(g,h,i,j){var k=h&&a in h?h:g;e&&1!==e&&k&&!k[a]&&(k[a]={});var l=k?k[a]:c;return b&&ac(l,f),d?{context:k,name:a,value:l}:l}},computedMember:function(a,b,c,d,e){return function(f,g,h,i){var j,k,l=a(f,g,h,i);return null!=l&&(j=b(f,g,h,i),j=_b(j),$b(j,e),d&&1!==d&&(cc(l),l&&!l[j]&&(l[j]={})),k=l[j],ac(k,e)),c?{context:l,name:j,value:k}:k}},nonComputedMember:function(a,b,d,e,f,g){return function(h,i,j,k){var l=a(h,i,j,k);f&&1!==f&&(cc(l),l&&!l[b]&&(l[b]={}));var m=null!=l?l[b]:c;return(d||oc(b))&&ac(m,g),e?{context:l,name:b,value:m}:m}},inputs:function(a,b){return function(c,d,e,f){return f?f[b]:a(c,d,e)}}};var nf=function(a,b,c){this.lexer=a,this.$filter=b,this.options=c,this.ast=new mf(this.lexer),this.astCompiler=c.csp?new nc(this.ast,b):new mc(this.ast,b)};nf.prototype={constructor:nf,parse:function(a){return this.astCompiler.compile(a,this.options.expensiveChecks)}};var of=Object.prototype.valueOf,pf=d("$sce"),qf={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Pe=d("$compile"),rf=b.createElement("a"),sf=Fc(a.location.href);Ic.$inject=["$document"],Kc.$inject=["$provide"];var tf=22,uf=".",vf="0";Pc.$inject=["$locale"],Qc.$inject=["$locale"];var wf={yyyy:Vc("FullYear",4),yy:Vc("FullYear",2,0,!0),y:Vc("FullYear",1),MMMM:Wc("Month"),MMM:Wc("Month",!0),MM:Vc("Month",2,1),M:Vc("Month",1,1),dd:Vc("Date",2),d:Vc("Date",1),HH:Vc("Hours",2),H:Vc("Hours",1),hh:Vc("Hours",2,-12),h:Vc("Hours",1,-12),mm:Vc("Minutes",2),m:Vc("Minutes",1),ss:Vc("Seconds",2),s:Vc("Seconds",1),sss:Vc("Milliseconds",3),EEEE:Wc("Day"),EEE:Wc("Day",!0),a:_c,Z:Xc,ww:$c(2),w:$c(1),G:ad,GG:ad,GGG:ad,GGGG:bd},xf=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,yf=/^\-?\d+$/;cd.$inject=["$locale"];var zf=r(Dd),Af=r(Ed);fd.$inject=["$parse"];var Bf=r({restrict:"E",compile:function(a,b){return b.href||b.xlinkHref?void 0:function(a,b){if("a"===b[0].nodeName.toLowerCase()){var c="[object SVGAnimatedString]"===Od.call(b.prop("href"))?"xlink:href":"href";b.on("click",function(a){b.attr(c)||a.preventDefault()})}}}}),Cf={};f(we,function(a,b){function c(a,c,e){a.$watch(e[d],function(a){e.$set(b,!!a)})}if("multiple"!=a){var d=pb("ng-"+b),e=c;"checked"===a&&(e=function(a,b,e){e.ngModel!==e[d]&&c(a,b,e)}),Cf[d]=function(){return{restrict:"A",priority:100,link:e}}}}),f(ye,function(a,b){Cf[b]=function(){return{priority:100,link:function(a,c,d){if("ngPattern"===b&&"/"==d.ngPattern.charAt(0)){var e=d.ngPattern.match(Ad);if(e)return void d.$set("ngPattern",new RegExp(e[1],e[2]))}a.$watch(d[b],function(a){d.$set(b,a)})}}}}),f(["src","srcset","href"],function(a){var b=pb("ng-"+a);Cf[b]=function(){return{priority:99,link:function(c,d,e){var f=a,g=a;"href"===a&&"[object SVGAnimatedString]"===Od.call(d.prop("href"))&&(g="xlinkHref",e.$attr[g]="xlink:href",f=null),e.$observe(b,function(b){return b?(e.$set(g,b),void(Hd&&f&&d.prop(f,e[g]))):void("href"===a&&e.$set(g,null))})}}}});var Df={$addControl:p,$$renameControl:hd,$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p},Ef="ng-submitted";id.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Ff=function(a){return["$timeout","$parse",function(b,d){function e(a){return""===a?d('this[""]').assign:d(a).assign||p}var f={name:"form",restrict:a?"EAC":"E",require:["form","^^?form"],controller:id,compile:function(d,f){d.addClass(lg).addClass(jg);var g=f.name?"name":a&&f.ngForm?"ngForm":!1;return{pre:function(a,d,f,h){var i=h[0];if(!("action"in f)){var j=function(b){a.$apply(function(){i.$commitViewValue(),i.$setSubmitted()}),b.preventDefault()};je(d[0],"submit",j),d.on("$destroy",function(){b(function(){ke(d[0],"submit",j)},0,!1)})}var k=h[1]||i.$$parentForm;k.$addControl(i);var m=g?e(i.$name):p;g&&(m(a,i),f.$observe(g,function(b){i.$name!==b&&(m(a,c),i.$$parentForm.$$renameControl(i,b),(m=e(i.$name))(a,i))})),d.on("$destroy",function(){i.$$parentForm.$removeControl(i),m(a,c),l(i,Df)})}}}};return f}]},Gf=Ff(),Hf=Ff(!0),If=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,Jf=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:\/?#]+|\[[a-f\d:]+\])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Kf=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,Lf=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Mf=/^(\d{4})-(\d{2})-(\d{2})$/,Nf=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Of=/^(\d{4})-W(\d\d)$/,Pf=/^(\d{4})-(\d\d)$/,Qf=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Rf={
text:kd,date:od("date",Mf,nd(Mf,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":od("datetimelocal",Nf,nd(Nf,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:od("time",Qf,nd(Qf,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:od("week",Of,md,"yyyy-Www"),month:od("month",Pf,nd(Pf,["yyyy","MM"]),"yyyy-MM"),number:qd,url:rd,email:sd,radio:td,checkbox:vd,hidden:p,button:p,submit:p,reset:p,file:p},Sf=["$browser","$sniffer","$filter","$parse",function(a,b,c,d){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,f,g,h){h[0]&&(Rf[Dd(g.type)]||Rf.text)(e,f,g,h[0],b,a,c,d)}}}}],Tf=/^(true|false|\d+)$/,Uf=function(){return{restrict:"A",priority:100,compile:function(a,b){return Tf.test(b.ngValue)?function(a,b,c){c.$set("value",a.$eval(c.ngValue))}:function(a,b,c){a.$watch(c.ngValue,function(a){c.$set("value",a)})}}}},Vf=["$compile",function(a){return{restrict:"AC",compile:function(b){return a.$$addBindingClass(b),function(b,c,d){a.$$addBindingInfo(c,d.ngBind),c=c[0],b.$watch(d.ngBind,function(a){c.textContent=t(a)?"":a})}}}}],Wf=["$interpolate","$compile",function(a,b){return{compile:function(c){return b.$$addBindingClass(c),function(c,d,e){var f=a(d.attr(e.$attr.ngBindTemplate));b.$$addBindingInfo(d,f.expressions),d=d[0],e.$observe("ngBindTemplate",function(a){d.textContent=t(a)?"":a})}}}}],Xf=["$sce","$parse","$compile",function(a,b,c){return{restrict:"A",compile:function(d,e){var f=b(e.ngBindHtml),g=b(e.ngBindHtml,function(a){return(a||"").toString()});return c.$$addBindingClass(d),function(b,d,e){c.$$addBindingInfo(d,e.ngBindHtml),b.$watch(g,function(){d.html(a.getTrustedHtml(f(b))||"")})}}}}],Yf=r({restrict:"A",require:"ngModel",link:function(a,b,c,d){d.$viewChangeListeners.push(function(){a.$eval(c.ngChange)})}}),Zf=wd("",!0),$f=wd("Odd",0),_f=wd("Even",1),ag=gd({compile:function(a,b){b.$set("ngCloak",c),a.removeClass("ng-cloak")}}),bg=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],cg={},dg={blur:!0,focus:!0};f("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(a){var b=pb("ng-"+a);cg[b]=["$parse","$rootScope",function(c,d){return{restrict:"A",compile:function(e,f){var g=c(f[b],null,!0);return function(b,c){c.on(a,function(c){var e=function(){g(b,{$event:c})};dg[a]&&d.$$phase?b.$evalAsync(e):b.$apply(e)})}}}}]});var eg=["$animate",function(a){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(c,d,e,f,g){var h,i,j;c.$watch(e.ngIf,function(c){c?i||g(function(c,f){i=f,c[c.length++]=b.createComment(" end ngIf: "+e.ngIf+" "),h={clone:c},a.enter(c,d.parent(),d)}):(j&&(j.remove(),j=null),i&&(i.$destroy(),i=null),h&&(j=qa(h.clone),a.leave(j).then(function(){j=null}),h=null))})}}}],fg=["$templateRequest","$anchorScroll","$animate",function(a,b,c){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Rd.noop,compile:function(d,e){var f=e.ngInclude||e.src,g=e.onload||"",h=e.autoscroll;return function(d,e,i,j,k){var l,m,n,o=0,p=function(){m&&(m.remove(),m=null),l&&(l.$destroy(),l=null),n&&(c.leave(n).then(function(){m=null}),m=n,n=null)};d.$watch(f,function(f){var i=function(){!u(h)||h&&!d.$eval(h)||b()},m=++o;f?(a(f,!0).then(function(a){if(!d.$$destroyed&&m===o){var b=d.$new();j.template=a;var h=k(b,function(a){p(),c.enter(a,null,e).then(i)});l=b,n=h,l.$emit("$includeContentLoaded",f),d.$eval(g)}},function(){d.$$destroyed||m===o&&(p(),d.$emit("$includeContentError",f))}),d.$emit("$includeContentRequested",f)):(p(),j.template=null)})}}}}],gg=["$compile",function(a){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(c,d,e,f){return Od.call(d[0]).match(/SVG/)?(d.empty(),void a(Ca(f.template,b).childNodes)(c,function(a){d.append(a)},{futureParentElement:d})):(d.html(f.template),void a(d.contents())(c))}}}],hg=gd({priority:450,compile:function(){return{pre:function(a,b,c){a.$eval(c.ngInit)}}}}),ig=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(a,b,d,e){var g=b.attr(d.$attr.ngList)||", ",h="false"!==d.ngTrim,i=h?Vd(g):g,j=function(a){if(!t(a)){var b=[];return a&&f(a.split(i),function(a){a&&b.push(h?Vd(a):a)}),b}};e.$parsers.push(j),e.$formatters.push(function(a){return Td(a)?a.join(g):c}),e.$isEmpty=function(a){return!a||!a.length}}}},jg="ng-valid",kg="ng-invalid",lg="ng-pristine",mg="ng-dirty",ng="ng-untouched",og="ng-touched",pg="ng-pending",qg="ng-empty",rg="ng-not-empty",sg=d("ngModel"),tg=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(a,b,d,e,g,h,i,j,k,l){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=c,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=c,this.$name=l(d.name||"",!1)(a),this.$$parentForm=Df;var m,n=g(d.ngModel),o=n.assign,q=n,r=o,s=null,v=this;this.$$setOptions=function(a){if(v.$options=a,a&&a.getterSetter){var b=g(d.ngModel+"()"),c=g(d.ngModel+"($$$p)");q=function(a){var c=n(a);return A(c)&&(c=b(a)),c},r=function(a,b){A(n(a))?c(a,{$$$p:v.$modelValue}):o(a,v.$modelValue)}}else if(!n.assign)throw sg("nonassign","Expression '{0}' is non-assignable. Element: {1}",d.ngModel,_(e))},this.$render=p,this.$isEmpty=function(a){return t(a)||""===a||null===a||a!==a},this.$$updateEmptyClasses=function(a){v.$isEmpty(a)?(h.removeClass(e,rg),h.addClass(e,qg)):(h.removeClass(e,qg),h.addClass(e,rg))};var w=0;xd({ctrl:this,$element:e,set:function(a,b){a[b]=!0},unset:function(a,b){delete a[b]},$animate:h}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,h.removeClass(e,mg),h.addClass(e,lg)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,h.removeClass(e,lg),h.addClass(e,mg),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,h.setClass(e,ng,og)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,h.setClass(e,og,ng)},this.$rollbackViewValue=function(){i.cancel(s),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!y(v.$modelValue)||!isNaN(v.$modelValue)){var a=v.$$lastCommittedViewValue,b=v.$$rawModelValue,d=v.$valid,e=v.$modelValue,f=v.$options&&v.$options.allowInvalid;v.$$runValidators(b,a,function(a){f||d===a||(v.$modelValue=a?b:c,v.$modelValue!==e&&v.$$writeModelToScope())})}},this.$$runValidators=function(a,b,d){function e(){var a=v.$$parserName||"parse";return t(m)?(i(a,null),!0):(m||(f(v.$validators,function(a,b){i(b,null)}),f(v.$asyncValidators,function(a,b){i(b,null)})),i(a,m),m)}function g(){var c=!0;return f(v.$validators,function(d,e){var f=d(a,b);c=c&&f,i(e,f)}),c?!0:(f(v.$asyncValidators,function(a,b){i(b,null)}),!1)}function h(){var d=[],e=!0;f(v.$asyncValidators,function(f,g){var h=f(a,b);if(!I(h))throw sg("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",h);i(g,c),d.push(h.then(function(){i(g,!0)},function(a){e=!1,i(g,!1)}))}),d.length?k.all(d).then(function(){j(e)},p):j(!0)}function i(a,b){l===w&&v.$setValidity(a,b)}function j(a){l===w&&d(a)}w++;var l=w;return e()&&g()?void h():void j(!1)},this.$commitViewValue=function(){var a=v.$viewValue;i.cancel(s),(v.$$lastCommittedViewValue!==a||""===a&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(a),v.$$lastCommittedViewValue=a,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function b(){v.$modelValue!==g&&v.$$writeModelToScope()}var d=v.$$lastCommittedViewValue,e=d;if(m=t(e)?c:!0)for(var f=0;f<v.$parsers.length;f++)if(e=v.$parsers[f](e),t(e)){m=!1;break}y(v.$modelValue)&&isNaN(v.$modelValue)&&(v.$modelValue=q(a));var g=v.$modelValue,h=v.$options&&v.$options.allowInvalid;v.$$rawModelValue=e,h&&(v.$modelValue=e,b()),v.$$runValidators(e,v.$$lastCommittedViewValue,function(a){h||(v.$modelValue=a?e:c,b())})},this.$$writeModelToScope=function(){r(a,v.$modelValue),f(v.$viewChangeListeners,function(a){try{a()}catch(c){b(c)}})},this.$setViewValue=function(a,b){v.$viewValue=a,(!v.$options||v.$options.updateOnDefault)&&v.$$debounceViewValueCommit(b)},this.$$debounceViewValueCommit=function(b){var c,d=0,e=v.$options;e&&u(e.debounce)&&(c=e.debounce,y(c)?d=c:y(c[b])?d=c[b]:y(c["default"])&&(d=c["default"])),i.cancel(s),d?s=i(function(){v.$commitViewValue()},d):j.$$phase?v.$commitViewValue():a.$apply(function(){v.$commitViewValue()})},a.$watch(function(){var b=q(a);if(b!==v.$modelValue&&(v.$modelValue===v.$modelValue||b===b)){v.$modelValue=v.$$rawModelValue=b,m=c;for(var d=v.$formatters,e=d.length,f=b;e--;)f=d[e](f);v.$viewValue!==f&&(v.$$updateEmptyClasses(f),v.$viewValue=v.$$lastCommittedViewValue=f,v.$render(),v.$$runValidators(b,f,p))}return b})}],ug=["$rootScope",function(a){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:tg,priority:1,compile:function(b){return b.addClass(lg).addClass(ng).addClass(jg),{pre:function(a,b,c,d){var e=d[0],f=d[1]||e.$$parentForm;e.$$setOptions(d[2]&&d[2].$options),f.$addControl(e),c.$observe("name",function(a){e.$name!==a&&e.$$parentForm.$$renameControl(e,a)}),a.$on("$destroy",function(){e.$$parentForm.$removeControl(e)})},post:function(b,c,d,e){var f=e[0];f.$options&&f.$options.updateOn&&c.on(f.$options.updateOn,function(a){f.$$debounceViewValueCommit(a&&a.type)}),c.on("blur",function(c){f.$touched||(a.$$phase?b.$evalAsync(f.$setTouched):b.$apply(f.$setTouched))})}}}}}],vg=/(\s+|^)default(\s+|$)/,wg=function(){return{restrict:"A",controller:["$scope","$attrs",function(a,b){var c=this;this.$options=P(a.$eval(b.ngModelOptions)),u(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=Vd(this.$options.updateOn.replace(vg,function(){return c.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},xg=gd({terminal:!0,priority:1e3}),yg=d("ngOptions"),zg=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,Ag=["$compile","$parse",function(a,c){function d(a,b,d){function f(a,b,c,d,e){this.selectValue=a,this.viewValue=b,this.label=c,this.group=d,this.disabled=e}function g(a){var b;if(!j&&e(a))b=a;else{b=[];for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&b.push(c)}return b}var h=a.match(zg);if(!h)throw yg("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",a,_(b));var i=h[5]||h[7],j=h[6],k=/ as /.test(h[0])&&h[1],l=h[9],m=c(h[2]?h[1]:i),n=k&&c(k),o=n||m,p=l&&c(l),q=l?function(a,b){return p(d,b)}:function(a){return _a(a)},r=function(a,b){return q(a,x(a,b))},s=c(h[2]||h[1]),t=c(h[3]||""),u=c(h[4]||""),v=c(h[8]),w={},x=j?function(a,b){return w[j]=b,w[i]=a,w}:function(a){return w[i]=a,w};return{trackBy:l,getTrackByValue:r,getWatchables:c(v,function(a){var b=[];a=a||[];for(var c=g(a),e=c.length,f=0;e>f;f++){var i=a===c?f:c[f],j=(a[i],x(a[i],i)),k=q(a[i],j);if(b.push(k),h[2]||h[1]){var l=s(d,j);b.push(l)}if(h[4]){var m=u(d,j);b.push(m)}}return b}),getOptions:function(){for(var a=[],b={},c=v(d)||[],e=g(c),h=e.length,i=0;h>i;i++){var j=c===e?i:e[i],k=c[j],m=x(k,j),n=o(d,m),p=q(n,m),w=s(d,m),y=t(d,m),z=u(d,m),A=new f(p,n,w,y,z);a.push(A),b[p]=A}return{items:a,selectValueMap:b,getOptionFromViewValue:function(a){return b[r(a)]},getViewValueFromOption:function(a){return l?Rd.copy(a.viewValue):a.viewValue}}}}}function g(b,c,e,g){function j(a,b){a.element=b,b.disabled=a.disabled,a.label!==b.label&&(b.label=a.label,b.textContent=a.label),a.value!==b.value&&(b.value=a.selectValue)}function k(a,b,c,d){var e;return b&&Dd(b.nodeName)===c?e=b:(e=d.cloneNode(!1),b?a.insertBefore(e,b):a.appendChild(e)),e}function l(a){for(var b;a;)b=a.nextSibling,Ta(a),a=b}function m(a){var b=o&&o[0],c=x&&x[0];if(b||c)for(;a&&(a===b||a===c||a.nodeType===de||"option"===N(a)&&""===a.value);)a=a.nextSibling;return a}function n(){var a=y&&p.readValue();y=z.getOptions();var b={},d=c[0].firstChild;if(w&&c.prepend(o),d=m(d),y.items.forEach(function(a){var e,f,g;u(a.group)?(e=b[a.group],e||(f=k(c[0],d,"optgroup",i),d=f.nextSibling,f.label=a.group,e=b[a.group]={groupElement:f,currentOptionElement:f.firstChild}),g=k(e.groupElement,e.currentOptionElement,"option",h),j(a,g),e.currentOptionElement=g.nextSibling):(g=k(c[0],d,"option",h),j(a,g),d=g.nextSibling)}),Object.keys(b).forEach(function(a){l(b[a].currentOptionElement)}),l(d),q.$render(),!q.$isEmpty(a)){var e=p.readValue(),f=z.trackBy||r;(f?R(a,e):a===e)||(q.$setViewValue(e),q.$render())}}for(var o,p=g[0],q=g[1],r=e.multiple,s=0,t=c.children(),v=t.length;v>s;s++)if(""===t[s].value){o=t.eq(s);break}var w=!!o,x=Id(h.cloneNode(!1));x.val("?");var y,z=d(e.ngOptions,c,b),A=function(){w||c.prepend(o),c.val(""),o.prop("selected",!0),o.attr("selected",!0)},B=function(){w||o.remove()},C=function(){c.prepend(x),c.val("?"),x.prop("selected",!0),x.attr("selected",!0)},D=function(){x.remove()};r?(q.$isEmpty=function(a){return!a||0===a.length},p.writeValue=function(a){y.items.forEach(function(a){a.element.selected=!1}),a&&a.forEach(function(a){var b=y.getOptionFromViewValue(a);b&&!b.disabled&&(b.element.selected=!0)})},p.readValue=function(){var a=c.val()||[],b=[];return f(a,function(a){var c=y.selectValueMap[a];c&&!c.disabled&&b.push(y.getViewValueFromOption(c))}),b},z.trackBy&&b.$watchCollection(function(){return Td(q.$viewValue)?q.$viewValue.map(function(a){return z.getTrackByValue(a)}):void 0},function(){q.$render()})):(p.writeValue=function(a){var b=y.getOptionFromViewValue(a);b&&!b.disabled?c[0].value!==b.selectValue&&(D(),B(),c[0].value=b.selectValue,b.element.selected=!0,b.element.setAttribute("selected","selected")):null===a||w?(D(),A()):(B(),C())},p.readValue=function(){var a=y.selectValueMap[c.val()];return a&&!a.disabled?(B(),D(),y.getViewValueFromOption(a)):null},z.trackBy&&b.$watch(function(){return z.getTrackByValue(q.$viewValue)},function(){q.$render()})),w?(o.remove(),a(o)(b),o.removeClass("ng-scope")):o=Id(h.cloneNode(!1)),n(),b.$watchCollection(z.getWatchables,n)}var h=b.createElement("option"),i=b.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(a,b,c,d){d[0].registerOption=p},post:g}}}],Bg=["$locale","$interpolate","$log",function(a,b,c){var d=/{}/g,e=/^when(Minus)?(.+)$/;return{link:function(g,h,i){function j(a){h.text(a||"")}var k,l=i.count,m=i.$attr.when&&h.attr(i.$attr.when),n=i.offset||0,o=g.$eval(m)||{},q={},r=b.startSymbol(),s=b.endSymbol(),u=r+l+"-"+n+s,v=Rd.noop;f(i,function(a,b){var c=e.exec(b);if(c){var d=(c[1]?"-":"")+Dd(c[2]);o[d]=h.attr(i.$attr[b])}}),f(o,function(a,c){q[c]=b(a.replace(d,u))}),g.$watch(l,function(b){var d=parseFloat(b),e=isNaN(d);if(e||d in o||(d=a.pluralCat(d-n)),d!==k&&!(e&&y(k)&&isNaN(k))){v();var f=q[d];t(f)?(null!=b&&c.debug("ngPluralize: no rule defined for '"+d+"' in "+m),v=p,j()):v=g.$watch(f,j),k=d}})}}}],Cg=["$parse","$animate",function(a,g){var h="$$NG_REMOVED",i=d("ngRepeat"),j=function(a,b,c,d,e,f,g){a[c]=d,e&&(a[e]=f),a.$index=b,a.$first=0===b,a.$last=b===g-1,a.$middle=!(a.$first||a.$last),a.$odd=!(a.$even=0===(1&b))},k=function(a){return a.clone[0]},l=function(a){return a.clone[a.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(d,m){var n=m.ngRepeat,o=b.createComment(" end ngRepeat: "+n+" "),p=n.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!p)throw i("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",n);var q=p[1],r=p[2],s=p[3],t=p[4];if(p=q.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!p)throw i("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",q);var u=p[3]||p[1],v=p[2];if(s&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(s)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(s)))throw i("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",s);var w,x,y,z,A={$id:_a};return t?w=a(t):(y=function(a,b){return _a(b)},z=function(a){return a}),function(a,b,d,m,p){w&&(x=function(b,c,d){return v&&(A[v]=b),A[u]=c,A.$index=d,w(a,A)});var q=ra();a.$watchCollection(r,function(d){var m,r,t,w,A,B,C,D,E,F,G,H,I=b[0],J=ra();if(s&&(a[s]=d),e(d))E=d,D=x||y;else{D=x||z,E=[];for(var K in d)Cd.call(d,K)&&"$"!==K.charAt(0)&&E.push(K)}for(w=E.length,G=new Array(w),m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],C=D(A,B,m),q[C])F=q[C],delete q[C],J[C]=F,G[m]=F;else{if(J[C])throw f(G,function(a){a&&a.scope&&(q[a.id]=a)}),i("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",n,C,B);G[m]={id:C,scope:c,clone:c},J[C]=!0}for(var L in q){if(F=q[L],H=qa(F.clone),g.leave(H),H[0].parentNode)for(m=0,r=H.length;r>m;m++)H[m][h]=!0;F.scope.$destroy()}for(m=0;w>m;m++)if(A=d===E?m:E[m],B=d[A],F=G[m],F.scope){t=I;do t=t.nextSibling;while(t&&t[h]);k(F)!=t&&g.move(qa(F.clone),null,Id(I)),I=l(F),j(F.scope,m,u,B,v,A,w)}else p(function(a,b){F.scope=b;var c=o.cloneNode(!1);a[a.length++]=c,g.enter(a,null,Id(I)),I=c,F.clone=a,J[F.id]=F,j(F.scope,m,u,B,v,A,w)});q=J})}}}}],Dg="ng-hide",Eg="ng-hide-animate",Fg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngShow,function(b){a[b?"removeClass":"addClass"](c,Dg,{tempClasses:Eg})})}}}],Gg=["$animate",function(a){return{restrict:"A",multiElement:!0,link:function(b,c,d){b.$watch(d.ngHide,function(b){a[b?"addClass":"removeClass"](c,Dg,{tempClasses:Eg})})}}}],Hg=gd(function(a,b,c){a.$watch(c.ngStyle,function(a,c){c&&a!==c&&f(c,function(a,c){b.css(c,"")}),a&&b.css(a)},!0)}),Ig=["$animate",function(a){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(c,d,e,g){var h=e.ngSwitch||e.on,i=[],j=[],k=[],l=[],m=function(a,b){return function(){a.splice(b,1)}};c.$watch(h,function(c){var d,e;for(d=0,e=k.length;e>d;++d)a.cancel(k[d]);for(k.length=0,d=0,e=l.length;e>d;++d){var h=qa(j[d].clone);l[d].$destroy();var n=k[d]=a.leave(h);n.then(m(k,d))}j.length=0,l.length=0,(i=g.cases["!"+c]||g.cases["?"])&&f(i,function(c){c.transclude(function(d,e){l.push(e);var f=c.element;d[d.length++]=b.createComment(" end ngSwitchWhen: ");var g={clone:d};j.push(g),a.enter(d,f.parent(),f)})})})}}}],Jg=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["!"+c.ngSwitchWhen]=d.cases["!"+c.ngSwitchWhen]||[],d.cases["!"+c.ngSwitchWhen].push({transclude:e,element:b})}}),Kg=gd({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(a,b,c,d,e){d.cases["?"]=d.cases["?"]||[],d.cases["?"].push({transclude:e,element:b})}}),Lg=d("ngTransclude"),Mg=gd({restrict:"EAC",link:function(a,b,c,d,e){function f(a){a.length&&(b.empty(),b.append(a))}if(c.ngTransclude===c.$attr.ngTransclude&&(c.ngTransclude=""),!e)throw Lg("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",_(b));var g=c.ngTransclude||c.ngTranscludeSlot;e(f,null,g)}}),Ng=["$templateCache",function(a){return{restrict:"E",terminal:!0,compile:function(b,c){if("text/ng-template"==c.type){var d=c.id,e=b[0].text;a.put(d,e)}}}}],Og={$setViewValue:p,$render:p},Pg=["$element","$scope","$attrs",function(a,d,e){var f=this,g=new ab;f.ngModelCtrl=Og,f.unknownOption=Id(b.createElement("option")),f.renderUnknownOption=function(b){var c="? "+_a(b)+" ?";f.unknownOption.val(c),a.prepend(f.unknownOption),a.val(c)},d.$on("$destroy",function(){f.renderUnknownOption=p}),f.removeUnknownOption=function(){f.unknownOption.parent()&&f.unknownOption.remove()},f.readValue=function(){return f.removeUnknownOption(),a.val()},f.writeValue=function(b){f.hasOption(b)?(f.removeUnknownOption(),a.val(b),""===b&&f.emptyOption.prop("selected",!0)):null==b&&f.emptyOption?(f.removeUnknownOption(),a.val("")):f.renderUnknownOption(b)},f.addOption=function(a,b){oa(a,'"option value"'),""===a&&(f.emptyOption=b);var c=g.get(a)||0;g.put(a,c+1),f.ngModelCtrl.$render(),zd(b)},f.removeOption=function(a){var b=g.get(a);b&&(1===b?(g.remove(a),""===a&&(f.emptyOption=c)):g.put(a,b-1))},f.hasOption=function(a){return!!g.get(a)},f.registerOption=function(a,b,c,d,e){if(d){var g;c.$observe("value",function(a){u(g)&&f.removeOption(g),g=a,f.addOption(a,b)})}else e?a.$watch(e,function(a,d){c.$set("value",a),d!==a&&f.removeOption(d),f.addOption(a,b)}):f.addOption(c.value,b);b.on("$destroy",function(){f.removeOption(c.value),f.ngModelCtrl.$render()})}}],Qg=function(){function a(a,b,c,d){var e=d[1];if(e){var g=d[0];if(g.ngModelCtrl=e,b.on("change",function(){a.$apply(function(){e.$setViewValue(g.readValue())})}),c.multiple){g.readValue=function(){var a=[];return f(b.find("option"),function(b){b.selected&&a.push(b.value)}),a},g.writeValue=function(a){var c=new ab(a);f(b.find("option"),function(a){a.selected=u(c.get(a.value))})};var h,i=NaN;a.$watch(function(){i!==e.$viewValue||R(h,e.$viewValue)||(h=Q(e.$viewValue),e.$render()),i=e.$viewValue}),e.$isEmpty=function(a){return!a||0===a.length}}}}function b(a,b,c,d){var e=d[1];if(e){var f=d[0];e.$render=function(){f.writeValue(e.$viewValue)}}}return{restrict:"E",require:["select","?ngModel"],controller:Pg,priority:1,link:{pre:a,post:b}}},Rg=["$interpolate",function(a){return{restrict:"E",priority:100,compile:function(b,c){if(u(c.value))var d=a(c.value,!0);else{var e=a(b.text(),!0);e||c.$set("value",b.text())}return function(a,b,c){var f="$selectController",g=b.parent(),h=g.data(f)||g.parent().data(f);h&&h.registerOption(a,b,c,d,e)}}}}],Sg=r({restrict:"E",terminal:!1}),Tg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){d&&(c.required=!0,d.$validators.required=function(a,b){return!c.required||!d.$isEmpty(b)},c.$observe("required",function(){d.$validate()}))}}},Ug=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,e,f){if(f){var g,h=e.ngPattern||e.pattern;e.$observe("pattern",function(a){if(x(a)&&a.length>0&&(a=new RegExp("^"+a+"$")),a&&!a.test)throw d("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",h,a,_(b));g=a||c,f.$validate()}),f.$validators.pattern=function(a,b){return f.$isEmpty(b)||t(g)||g.test(b)}}}}},Vg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=-1;c.$observe("maxlength",function(a){var b=n(a);e=isNaN(b)?-1:b,d.$validate()}),d.$validators.maxlength=function(a,b){return 0>e||d.$isEmpty(b)||b.length<=e}}}}},Wg=function(){return{restrict:"A",require:"?ngModel",link:function(a,b,c,d){if(d){var e=0;c.$observe("minlength",function(a){e=n(a)||0,d.$validate()}),d.$validators.minlength=function(a,b){return d.$isEmpty(b)||b.length>=e}}}}};return a.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(la(),va(Rd),Rd.module("ngLocale",[],["$provide",function(a){function b(a){a+="";var b=a.indexOf(".");return-1==b?0:a.length-b-1}function d(a,d){var e=d;c===e&&(e=Math.min(b(a),3));var f=Math.pow(10,e),g=(a*f|0)%f;return{v:e,f:g}}var e={ZERO:"zero",ONE:"one",TWO:"two",FEW:"few",MANY:"many",OTHER:"other"};a.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(a,b){var c=0|a,f=d(a,b);return 1==c&&0==f.v?e.ONE:e.OTHER}})}]),void Id(b).ready(function(){ga(b,ha)}))}(window,document),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(a){"use strict";var b=a.fn.jquery.split(" ")[0].split(".");if(b[0]<2&&b[1]<9||1==b[0]&&9==b[1]&&b[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]};return!1}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one("bsTransitionEnd",function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b(),a.support.transition&&(a.event.special.bsTransitionEnd={bindType:a.support.transition.end,delegateType:a.support.transition.end,handle:function(b){return a(b.target).is(this)?b.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var c=a(this),e=c.data("bs.alert");e||c.data("bs.alert",e=new d(this)),"string"==typeof b&&e[b].call(c)})}var c='[data-dismiss="alert"]',d=function(b){a(b).on("click",c,this.close)};d.VERSION="3.3.4",d.TRANSITION_DURATION=150,d.prototype.close=function(b){function c(){g.detach().trigger("closed.bs.alert").remove()}var e=a(this),f=e.attr("data-target");f||(f=e.attr("href"),f=f&&f.replace(/.*(?=#[^\s]*$)/,""));var g=a(f);b&&b.preventDefault(),g.length||(g=e.closest(".alert")),g.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(g.removeClass("in"),a.support.transition&&g.hasClass("fade")?g.one("bsTransitionEnd",c).emulateTransitionEnd(d.TRANSITION_DURATION):c())};var e=a.fn.alert;a.fn.alert=b,a.fn.alert.Constructor=d,a.fn.alert.noConflict=function(){return a.fn.alert=e,this},a(document).on("click.bs.alert.data-api",c,d.prototype.close)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof b&&b;e||d.data("bs.button",e=new c(this,f)),"toggle"==b?e.toggle():b&&e.setState(b)})}var c=function(b,d){this.$element=a(b),this.options=a.extend({},c.DEFAULTS,d),this.isLoading=!1};c.VERSION="3.3.4",c.DEFAULTS={loadingText:"loading..."},c.prototype.setState=function(b){var c="disabled",d=this.$element,e=d.is("input")?"val":"html",f=d.data();b+="Text",null==f.resetText&&d.data("resetText",d[e]()),setTimeout(a.proxy(function(){d[e](null==f[b]?this.options[b]:f[b]),"loadingText"==b?(this.isLoading=!0,d.addClass(c).attr(c,c)):this.isLoading&&(this.isLoading=!1,d.removeClass(c).removeAttr(c))},this),0)},c.prototype.toggle=function(){var a=!0,b=this.$element.closest('[data-toggle="buttons"]');if(b.length){var c=this.$element.find("input");"radio"==c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?a=!1:b.find(".active").removeClass("active")),a&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));a&&this.$element.toggleClass("active")};var d=a.fn.button;a.fn.button=b,a.fn.button.Constructor=c,a.fn.button.noConflict=function(){return a.fn.button=d,this},a(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(c){var d=a(c.target);d.hasClass("btn")||(d=d.closest(".btn")),b.call(d,"toggle"),c.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(b){a(b.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(b.type))})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},c.DEFAULTS,d.data(),"object"==typeof b&&b),g="string"==typeof b?b:f.slide;e||d.data("bs.carousel",e=new c(this,f)),"number"==typeof b?e.to(b):g?e[g]():f.interval&&e.pause().cycle()})}var c=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",a.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",a.proxy(this.pause,this)).on("mouseleave.bs.carousel",a.proxy(this.cycle,this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=600,c.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},c.prototype.keydown=function(a){if(!/input|textarea/i.test(a.target.tagName)){switch(a.which){case 37:this.prev();break;case 39:this.next();break;default:return}a.preventDefault()}},c.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},c.prototype.getItemIndex=function(a){return this.$items=a.parent().children(".item"),this.$items.index(a||this.$active)},c.prototype.getItemForDirection=function(a,b){var c=this.getItemIndex(b),d="prev"==a&&0===c||"next"==a&&c==this.$items.length-1;if(d&&!this.options.wrap)return b;var e="prev"==a?-1:1,f=(c+e)%this.$items.length;return this.$items.eq(f)},c.prototype.to=function(a){var b=this,c=this.getItemIndex(this.$active=this.$element.find(".item.active"));return a>this.$items.length-1||0>a?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){b.to(a)}):c==a?this.pause().cycle():this.slide(a>c?"next":"prev",this.$items.eq(a))},c.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},c.prototype.next=function(){return this.sliding?void 0:this.slide("next")},c.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},c.prototype.slide=function(b,d){var e=this.$element.find(".item.active"),f=d||this.getItemForDirection(b,e),g=this.interval,h="next"==b?"left":"right",i=this;if(f.hasClass("active"))return this.sliding=!1;var j=f[0],k=a.Event("slide.bs.carousel",{relatedTarget:j,direction:h});if(this.$element.trigger(k),!k.isDefaultPrevented()){if(this.sliding=!0,g&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var l=a(this.$indicators.children()[this.getItemIndex(f)]);l&&l.addClass("active")}var m=a.Event("slid.bs.carousel",{relatedTarget:j,direction:h});return a.support.transition&&this.$element.hasClass("slide")?(f.addClass(b),f[0].offsetWidth,e.addClass(h),f.addClass(h),e.one("bsTransitionEnd",function(){f.removeClass([b,h].join(" ")).addClass("active"),e.removeClass(["active",h].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger(m)},0)}).emulateTransitionEnd(c.TRANSITION_DURATION)):(e.removeClass("active"),
f.addClass("active"),this.sliding=!1,this.$element.trigger(m)),g&&this.cycle(),this}};var d=a.fn.carousel;a.fn.carousel=b,a.fn.carousel.Constructor=c,a.fn.carousel.noConflict=function(){return a.fn.carousel=d,this};var e=function(c){var d,e=a(this),f=a(e.attr("data-target")||(d=e.attr("href"))&&d.replace(/.*(?=#[^\s]+$)/,""));if(f.hasClass("carousel")){var g=a.extend({},f.data(),e.data()),h=e.attr("data-slide-to");h&&(g.interval=!1),b.call(f,g),h&&f.data("bs.carousel").to(h),c.preventDefault()}};a(document).on("click.bs.carousel.data-api","[data-slide]",e).on("click.bs.carousel.data-api","[data-slide-to]",e),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var c=a(this);b.call(c,c.data())})})}(jQuery),+function(a){"use strict";function b(b){var c,d=b.attr("data-target")||(c=b.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"");return a(d)}function c(b){return this.each(function(){var c=a(this),e=c.data("bs.collapse"),f=a.extend({},d.DEFAULTS,c.data(),"object"==typeof b&&b);!e&&f.toggle&&/show|hide/.test(b)&&(f.toggle=!1),e||c.data("bs.collapse",e=new d(this,f)),"string"==typeof b&&e[b]()})}var d=function(b,c){this.$element=a(b),this.options=a.extend({},d.DEFAULTS,c),this.$trigger=a('[data-toggle="collapse"][href="#'+b.id+'"],[data-toggle="collapse"][data-target="#'+b.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};d.VERSION="3.3.4",d.TRANSITION_DURATION=350,d.DEFAULTS={toggle:!0},d.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},d.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b,e=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(e&&e.length&&(b=e.data("bs.collapse"),b&&b.transitioning))){var f=a.Event("show.bs.collapse");if(this.$element.trigger(f),!f.isDefaultPrevented()){e&&e.length&&(c.call(e,"hide"),b||e.data("bs.collapse",null));var g=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[g](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var h=function(){this.$element.removeClass("collapsing").addClass("collapse in")[g](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return h.call(this);var i=a.camelCase(["scroll",g].join("-"));this.$element.one("bsTransitionEnd",a.proxy(h,this)).emulateTransitionEnd(d.TRANSITION_DURATION)[g](this.$element[0][i])}}}},d.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var e=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return a.support.transition?void this.$element[c](0).one("bsTransitionEnd",a.proxy(e,this)).emulateTransitionEnd(d.TRANSITION_DURATION):e.call(this)}}},d.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},d.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(c,d){var e=a(d);this.addAriaAndCollapsedClass(b(e),e)},this)).end()},d.prototype.addAriaAndCollapsedClass=function(a,b){var c=a.hasClass("in");a.attr("aria-expanded",c),b.toggleClass("collapsed",!c).attr("aria-expanded",c)};var e=a.fn.collapse;a.fn.collapse=c,a.fn.collapse.Constructor=d,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(d){var e=a(this);e.attr("data-target")||d.preventDefault();var f=b(e),g=f.data("bs.collapse"),h=g?"toggle":e.data();c.call(f,h)})}(jQuery),+function(a){"use strict";function b(b){b&&3===b.which||(a(e).remove(),a(f).each(function(){var d=a(this),e=c(d),f={relatedTarget:this};e.hasClass("open")&&(e.trigger(b=a.Event("hide.bs.dropdown",f)),b.isDefaultPrevented()||(d.attr("aria-expanded","false"),e.removeClass("open").trigger("hidden.bs.dropdown",f)))}))}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#[A-Za-z]/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}function d(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new g(this)),"string"==typeof b&&d[b].call(c)})}var e=".dropdown-backdrop",f='[data-toggle="dropdown"]',g=function(b){a(b).on("click.bs.dropdown",this.toggle)};g.VERSION="3.3.4",g.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){"ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b);var h={relatedTarget:this};if(f.trigger(d=a.Event("show.bs.dropdown",h)),d.isDefaultPrevented())return;e.trigger("focus").attr("aria-expanded","true"),f.toggleClass("open").trigger("shown.bs.dropdown",h)}return!1}},g.prototype.keydown=function(b){if(/(38|40|27|32)/.test(b.which)&&!/input|textarea/i.test(b.target.tagName)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var e=c(d),g=e.hasClass("open");if(!g&&27!=b.which||g&&27==b.which)return 27==b.which&&e.find(f).trigger("focus"),d.trigger("click");var h=" li:not(.disabled):visible a",i=e.find('[role="menu"]'+h+', [role="listbox"]'+h);if(i.length){var j=i.index(b.target);38==b.which&&j>0&&j--,40==b.which&&j<i.length-1&&j++,~j||(j=0),i.eq(j).trigger("focus")}}}};var h=a.fn.dropdown;a.fn.dropdown=d,a.fn.dropdown.Constructor=g,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=h,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",f,g.prototype.toggle).on("keydown.bs.dropdown.data-api",f,g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',g.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',g.prototype.keydown)}(jQuery),+function(a){"use strict";function b(b,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},c.DEFAULTS,e.data(),"object"==typeof b&&b);f||e.data("bs.modal",f=new c(this,g)),"string"==typeof b?f[b](d):g.show&&f.show(d)})}var c=function(b,c){this.options=c,this.$body=a(document.body),this.$element=a(b),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,a.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};c.VERSION="3.3.4",c.TRANSITION_DURATION=300,c.BACKDROP_TRANSITION_DURATION=150,c.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},c.prototype.toggle=function(a){return this.isShown?this.hide():this.show(a)},c.prototype.show=function(b){var d=this,e=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){d.$element.one("mouseup.dismiss.bs.modal",function(b){a(b.target).is(d.$element)&&(d.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=a.support.transition&&d.$element.hasClass("fade");d.$element.parent().length||d.$element.appendTo(d.$body),d.$element.show().scrollTop(0),d.adjustDialog(),e&&d.$element[0].offsetWidth,d.$element.addClass("in").attr("aria-hidden",!1),d.enforceFocus();var f=a.Event("shown.bs.modal",{relatedTarget:b});e?d.$dialog.one("bsTransitionEnd",function(){d.$element.trigger("focus").trigger(f)}).emulateTransitionEnd(c.TRANSITION_DURATION):d.$element.trigger("focus").trigger(f)}))},c.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",a.proxy(this.hideModal,this)).emulateTransitionEnd(c.TRANSITION_DURATION):this.hideModal())},c.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.trigger("focus")},this))},c.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},c.prototype.resize=function(){this.isShown?a(window).on("resize.bs.modal",a.proxy(this.handleUpdate,this)):a(window).off("resize.bs.modal")},c.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.$body.removeClass("modal-open"),a.resetAdjustments(),a.resetScrollbar(),a.$element.trigger("hidden.bs.modal")})},c.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},c.prototype.backdrop=function(b){var d=this,e=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var f=a.support.transition&&e;if(this.$backdrop=a('<div class="modal-backdrop '+e+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",a.proxy(function(a){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),f&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;f?this.$backdrop.one("bsTransitionEnd",b).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):b()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var g=function(){d.removeBackdrop(),b&&b()};a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",g).emulateTransitionEnd(c.BACKDROP_TRANSITION_DURATION):g()}else b&&b()},c.prototype.handleUpdate=function(){this.adjustDialog()},c.prototype.adjustDialog=function(){var a=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&a?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!a?this.scrollbarWidth:""})},c.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},c.prototype.checkScrollbar=function(){var a=window.innerWidth;if(!a){var b=document.documentElement.getBoundingClientRect();a=b.right-Math.abs(b.left)}this.bodyIsOverflowing=document.body.clientWidth<a,this.scrollbarWidth=this.measureScrollbar()},c.prototype.setScrollbar=function(){var a=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",a+this.scrollbarWidth)},c.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},c.prototype.measureScrollbar=function(){var a=document.createElement("div");a.className="modal-scrollbar-measure",this.$body.append(a);var b=a.offsetWidth-a.clientWidth;return this.$body[0].removeChild(a),b};var d=a.fn.modal;a.fn.modal=b,a.fn.modal.Constructor=c,a.fn.modal.noConflict=function(){return a.fn.modal=d,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(c){var d=a(this),e=d.attr("href"),f=a(d.attr("data-target")||e&&e.replace(/.*(?=#[^\s]+$)/,"")),g=f.data("bs.modal")?"toggle":a.extend({remote:!/#/.test(e)&&e},f.data(),d.data());d.is("a")&&c.preventDefault(),f.one("show.bs.modal",function(a){a.isDefaultPrevented()||f.one("hidden.bs.modal",function(){d.is(":visible")&&d.trigger("focus")})}),b.call(f,g,this)})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.tooltip",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.init("tooltip",a,b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},c.prototype.init=function(b,c,d){if(this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d),this.$viewport=this.options.viewport&&a(this.options.viewport.selector||this.options.viewport),this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focusin",i="hover"==g?"mouseleave":"focusout";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},c.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},c.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c&&c.$tip&&c.$tip.is(":visible")?void(c.hoverState="in"):(c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show())},c.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget).data("bs."+this.type);return c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c)),clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},c.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(b);var d=a.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(b.isDefaultPrevented()||!d)return;var e=this,f=this.tip(),g=this.getUID(this.type);this.setContent(),f.attr("id",g),this.$element.attr("aria-describedby",g),this.options.animation&&f.addClass("fade");var h="function"==typeof this.options.placement?this.options.placement.call(this,f[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,j=i.test(h);j&&(h=h.replace(i,"")||"top"),f.detach().css({top:0,left:0,display:"block"}).addClass(h).data("bs."+this.type,this),this.options.container?f.appendTo(this.options.container):f.insertAfter(this.$element);var k=this.getPosition(),l=f[0].offsetWidth,m=f[0].offsetHeight;if(j){var n=h,o=this.options.container?a(this.options.container):this.$element.parent(),p=this.getPosition(o);h="bottom"==h&&k.bottom+m>p.bottom?"top":"top"==h&&k.top-m<p.top?"bottom":"right"==h&&k.right+l>p.width?"left":"left"==h&&k.left-l<p.left?"right":h,f.removeClass(n).addClass(h)}var q=this.getCalculatedOffset(h,k,l,m);this.applyPlacement(q,h);var r=function(){var a=e.hoverState;e.$element.trigger("shown.bs."+e.type),e.hoverState=null,"out"==a&&e.leave(e)};a.support.transition&&this.$tip.hasClass("fade")?f.one("bsTransitionEnd",r).emulateTransitionEnd(c.TRANSITION_DURATION):r()}},c.prototype.applyPlacement=function(b,c){var d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),b.top=b.top+g,b.left=b.left+h,a.offset.setOffset(d[0],a.extend({using:function(a){d.css({top:Math.round(a.top),left:Math.round(a.left)})}},b),0),d.addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;"top"==c&&j!=f&&(b.top=b.top+f-j);var k=this.getViewportAdjustedDelta(c,b,i,j);k.left?b.left+=k.left:b.top+=k.top;var l=/top|bottom/.test(c),m=l?2*k.left-e+i:2*k.top-f+j,n=l?"offsetWidth":"offsetHeight";d.offset(b),this.replaceArrow(m,d[0][n],l)},c.prototype.replaceArrow=function(a,b,c){this.arrow().css(c?"left":"top",50*(1-a/b)+"%").css(c?"top":"left","")},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},c.prototype.hide=function(b){function d(){"in"!=e.hoverState&&f.detach(),e.$element.removeAttr("aria-describedby").trigger("hidden.bs."+e.type),b&&b()}var e=this,f=a(this.$tip),g=a.Event("hide.bs."+this.type);return this.$element.trigger(g),g.isDefaultPrevented()?void 0:(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one("bsTransitionEnd",d).emulateTransitionEnd(c.TRANSITION_DURATION):d(),this.hoverState=null,this)},c.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},c.prototype.hasContent=function(){return this.getTitle()},c.prototype.getPosition=function(b){b=b||this.$element;var c=b[0],d="BODY"==c.tagName,e=c.getBoundingClientRect();null==e.width&&(e=a.extend({},e,{width:e.right-e.left,height:e.bottom-e.top}));var f=d?{top:0,left:0}:b.offset(),g={scroll:d?document.documentElement.scrollTop||document.body.scrollTop:b.scrollTop()},h=d?{width:a(window).width(),height:a(window).height()}:null;return a.extend({},e,g,h,f)},c.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},c.prototype.getViewportAdjustedDelta=function(a,b,c,d){var e={top:0,left:0};if(!this.$viewport)return e;var f=this.options.viewport&&this.options.viewport.padding||0,g=this.getPosition(this.$viewport);if(/right|left/.test(a)){var h=b.top-f-g.scroll,i=b.top+f-g.scroll+d;h<g.top?e.top=g.top-h:i>g.top+g.height&&(e.top=g.top+g.height-i)}else{var j=b.left-f,k=b.left+f+c;j<g.left?e.left=g.left-j:k>g.width&&(e.left=g.left+g.width-k)}return e},c.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},c.prototype.getUID=function(a){do a+=~~(1e6*Math.random());while(document.getElementById(a));return a},c.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},c.prototype.enable=function(){this.enabled=!0},c.prototype.disable=function(){this.enabled=!1},c.prototype.toggleEnabled=function(){this.enabled=!this.enabled},c.prototype.toggle=function(b){var c=this;b&&(c=a(b.currentTarget).data("bs."+this.type),c||(c=new this.constructor(b.currentTarget,this.getDelegateOptions()),a(b.currentTarget).data("bs."+this.type,c))),c.tip().hasClass("in")?c.leave(c):c.enter(c)},c.prototype.destroy=function(){var a=this;clearTimeout(this.timeout),this.hide(function(){a.$element.off("."+a.type).removeData("bs."+a.type)})};var d=a.fn.tooltip;a.fn.tooltip=b,a.fn.tooltip.Constructor=c,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=d,this}}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof b&&b;(e||!/destroy|hide/.test(b))&&(e||d.data("bs.popover",e=new c(this,f)),"string"==typeof b&&e[b]())})}var c=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");c.VERSION="3.3.4",c.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),c.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),c.prototype.constructor=c,c.prototype.getDefaults=function(){return c.DEFAULTS},c.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof c?"html":"append":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},c.prototype.hasContent=function(){return this.getTitle()||this.getContent()},c.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},c.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var d=a.fn.popover;a.fn.popover=b,a.fn.popover.Constructor=c,a.fn.popover.noConflict=function(){return a.fn.popover=d,this}}(jQuery),+function(a){"use strict";function b(c,d){this.$body=a(document.body),this.$scrollElement=a(a(c).is(document.body)?window:c),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",a.proxy(this.process,this)),this.refresh(),this.process()}function c(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})}b.VERSION="3.3.4",b.DEFAULTS={offset:10},b.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},b.prototype.refresh=function(){var b=this,c="offset",d=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),a.isWindow(this.$scrollElement[0])||(c="position",d=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var b=a(this),e=b.data("target")||b.attr("href"),f=/^#./.test(e)&&a(e);return f&&f.length&&f.is(":visible")&&[[f[c]().top+d,e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){b.offsets.push(this[0]),b.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.getScrollHeight(),d=this.options.offset+c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(this.scrollHeight!=c&&this.refresh(),b>=d)return g!=(a=f[f.length-1])&&this.activate(a);if(g&&b<e[0])return this.activeTarget=null,this.clear();for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(void 0===e[a+1]||b<e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,this.clear();var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")},b.prototype.clear=function(){a(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var d=a.fn.scrollspy;a.fn.scrollspy=c,a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=d,this},a(window).on("load.bs.scrollspy.data-api",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);c.call(b,b.data())})})}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new c(this)),"string"==typeof b&&e[b]()})}var c=function(b){this.element=a(b)};c.VERSION="3.3.4",c.TRANSITION_DURATION=150,c.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a"),f=a.Event("hide.bs.tab",{relatedTarget:b[0]}),g=a.Event("show.bs.tab",{relatedTarget:e[0]});if(e.trigger(f),b.trigger(g),!g.isDefaultPrevented()&&!f.isDefaultPrevented()){var h=a(d);this.activate(b.closest("li"),c),this.activate(h,h.parent(),function(){e.trigger({type:"hidden.bs.tab",relatedTarget:b[0]}),b.trigger({type:"shown.bs.tab",relatedTarget:e[0]})})}}},c.prototype.activate=function(b,d,e){function f(){g.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),b.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),h?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu").length&&b.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),e&&e()}var g=d.find("> .active"),h=e&&a.support.transition&&(g.length&&g.hasClass("fade")||!!d.find("> .fade").length);g.length&&h?g.one("bsTransitionEnd",f).emulateTransitionEnd(c.TRANSITION_DURATION):f(),g.removeClass("in")};var d=a.fn.tab;a.fn.tab=b,a.fn.tab.Constructor=c,a.fn.tab.noConflict=function(){return a.fn.tab=d,this};var e=function(c){c.preventDefault(),b.call(a(this),"show")};a(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',e).on("click.bs.tab.data-api",'[data-toggle="pill"]',e)}(jQuery),+function(a){"use strict";function b(b){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof b&&b;e||d.data("bs.affix",e=new c(this,f)),"string"==typeof b&&e[b]()})}var c=function(b,d){this.options=a.extend({},c.DEFAULTS,d),this.$target=a(this.options.target).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(b),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};c.VERSION="3.3.4",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(a,b,c,d){var e=this.$target.scrollTop(),f=this.$element.offset(),g=this.$target.height();if(null!=c&&"top"==this.affixed)return c>e?"top":!1;if("bottom"==this.affixed)return null!=c?e+this.unpin<=f.top?!1:"bottom":a-d>=e+g?!1:"bottom";var h=null==this.affixed,i=h?e:f.top,j=h?g:b;return null!=c&&c>=e?"top":null!=d&&i+j>=a-d?"bottom":!1},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var a=this.$target.scrollTop(),b=this.$element.offset();return this.pinnedOffset=b.top-a},c.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var b=this.$element.height(),d=this.options.offset,e=d.top,f=d.bottom,g=a(document.body).height();"object"!=typeof d&&(f=e=d),"function"==typeof e&&(e=d.top(this.$element)),"function"==typeof f&&(f=d.bottom(this.$element));var h=this.getState(g,b,e,f);if(this.affixed!=h){null!=this.unpin&&this.$element.css("top","");var i="affix"+(h?"-"+h:""),j=a.Event(i+".bs.affix");if(this.$element.trigger(j),j.isDefaultPrevented())return;this.affixed=h,this.unpin="bottom"==h?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(i).trigger(i.replace("affix","affixed")+".bs.affix")}"bottom"==h&&this.$element.offset({top:g-b-f})}};var d=a.fn.affix;a.fn.affix=b,a.fn.affix.Constructor=c,a.fn.affix.noConflict=function(){return a.fn.affix=d,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var c=a(this),d=c.data();d.offset=d.offset||{},null!=d.offsetBottom&&(d.offset.bottom=d.offsetBottom),null!=d.offsetTop&&(d.offset.top=d.offsetTop),b.call(c,d)})})}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(a){return{link:function(b,c,d){function e(){c.removeClass("collapse").addClass("collapsing"),a.addClass(c,"in",{to:{height:c[0].scrollHeight+"px"}}).then(f)}function f(){c.removeClass("collapsing"),c.css({height:"auto"})}function g(){c.css({height:c[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing"),a.removeClass(c,"in",{to:{height:"0"}}).then(h)}function h(){c.css({height:"0"}),c.removeClass("collapsing"),c.addClass("collapse")}b.$watch(d.collapse,function(a){a?g():e()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.accordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b,this.close=a.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(a){return{require:"alert",link:function(b,c,d,e){a(function(){e.close()},parseInt(d.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){
return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){var d=b.hasClass(e.activeClass);(!d||angular.isDefined(c.uncheckable))&&a.$apply(function(){f.$setViewValue(d?null:a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$interval","$animate",function(a,b,c){function d(a){if(angular.isUndefined(k[a].index))return k[a];var b;for(k.length,b=0;b<k.length;++b)if(k[b].index==a)return k[b]}function e(){f();var c=+a.interval;!isNaN(c)&&c>0&&(h=b(g,c))}function f(){h&&(b.cancel(h),h=null)}function g(){var b=+a.interval;i&&!isNaN(b)&&b>0?a.next():a.pause()}var h,i,j=this,k=j.slides=a.slides=[],l=-1;j.currentSlide=null;var m=!1;j.select=a.select=function(b,d){function f(){m||(angular.extend(b,{direction:d,active:!0}),angular.extend(j.currentSlide||{},{direction:d,active:!1}),c.enabled()&&!a.noTransition&&b.$element&&(a.$currentTransition=!0,b.$element.one("$animate:close",function(){a.$currentTransition=null})),j.currentSlide=b,l=g,e())}var g=j.indexOfSlide(b);void 0===d&&(d=g>j.getCurrentIndex()?"next":"prev"),b&&b!==j.currentSlide&&f()},a.$on("$destroy",function(){m=!0}),j.getCurrentIndex=function(){return j.currentSlide&&angular.isDefined(j.currentSlide.index)?+j.currentSlide.index:l},j.indexOfSlide=function(a){return angular.isDefined(a.index)?+a.index:k.indexOf(a)},a.next=function(){var b=(j.getCurrentIndex()+1)%k.length;return a.$currentTransition?void 0:j.select(d(b),"next")},a.prev=function(){var b=j.getCurrentIndex()-1<0?k.length-1:j.getCurrentIndex()-1;return a.$currentTransition?void 0:j.select(d(b),"prev")},a.isActive=function(a){return j.currentSlide===a},a.$watch("interval",e),a.$on("$destroy",f),a.play=function(){i||(i=!0,e())},a.pause=function(){a.noPause||(i=!1,f())},j.addSlide=function(b,c){b.$element=c,k.push(b),1===k.length||b.active?(j.select(k[k.length-1]),1==k.length&&a.play()):b.active=!1},j.removeSlide=function(a){angular.isDefined(a.index)&&k.sort(function(a,b){return+a.index>+b.index});var b=k.indexOf(a);k.splice(b,1),k.length>0&&a.active?j.select(b>=k.length?k[b-1]:k[b]):l>b&&l--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)}),a.$watch("active",function(b){b&&d.select(a)})}}}).animation(".item",["$animate",function(a){return{beforeAddClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return b.addClass(f),a.addClass(b,g).then(function(){e||b.removeClass(g+" "+f),d()}),function(){e=!0}}d()},beforeRemoveClass:function(b,c,d){if("active"==c&&b.parent()&&!b.parent().scope().noTransition){var e=!1,f=b.isolateScope().direction,g="next"==f?"left":"right";return a.addClass(b,g).then(function(){e||b.removeClass(g),d()}),function(){e=!0}}d()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(a,b){function c(a){var c=[],d=a.split("");return angular.forEach(f,function(b,e){var f=a.indexOf(e);if(f>-1){a=a.split(""),d[f]="("+b.regex+")",a[f]="$";for(var g=f+1,h=f+e.length;h>g;g++)d[g]="",a[g]="$";a=a.join(""),c.push({index:f,apply:b.apply})}}),{regex:new RegExp("^"+d.join("")+"$"),map:b(c,"index")}}function d(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}var e=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var f={yyyy:{regex:"\\d{4}",apply:function(a){this.year=+a}},yy:{regex:"\\d{2}",apply:function(a){this.year=+a+2e3}},y:{regex:"\\d{1,4}",apply:function(a){this.year=+a}},MMMM:{regex:a.DATETIME_FORMATS.MONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.MONTH.indexOf(b)}},MMM:{regex:a.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(b){this.month=a.DATETIME_FORMATS.SHORTMONTH.indexOf(b)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1}},M:{regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a}},EEEE:{regex:a.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:a.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a}},H:{regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a}},mm:{regex:"[0-5][0-9]",apply:function(a){this.minutes=+a}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a}},sss:{regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a}},ss:{regex:"[0-5][0-9]",apply:function(a){this.seconds=+a}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a}}};this.parse=function(b,f,g){if(!angular.isString(b)||!f)return b;f=a.DATETIME_FORMATS[f]||f,f=f.replace(e,"\\$&"),this.parsers[f]||(this.parsers[f]=c(f));var h=this.parsers[f],i=h.regex,j=h.map,k=b.match(i);if(k&&k.length){var l,m;l=g?{year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:{year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0};for(var n=1,o=k.length;o>n;n++){var p=j[n-1];p.apply&&p.apply.call(l,k[n])}return d(l.year,l.month,l.date)&&(m=new Date(l.year,l.month,l.date,l.hours,l.minutes,l.seconds,l.milliseconds||0)),m}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].documentElement.scrollLeft)}},positionElements:function(a,b,c,d){var e,f,g,h,i=c.split("-"),j=i[0],k=i[1]||"center";e=d?this.offset(a):this.position(a),f=b.prop("offsetWidth"),g=b.prop("offsetHeight");var l={center:function(){return e.left+e.width/2-f/2},left:function(){return e.left},right:function(){return e.left+e.width}},m={center:function(){return e.top+e.height/2-g/2},top:function(){return e.top},bottom:function(){return e.top+e.height}};switch(j){case"right":h={top:m[k](),left:l[j]()};break;case"left":h={top:m[k](),left:e.left-f};break;case"bottom":h={top:m[j](),left:l[k]()};break;default:h={top:e.top-g,left:l[k]()}}return h}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(a,b,c,d,e,f,g,h){var i=this,j={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange","shortcutPropagation"],function(c,e){i[c]=angular.isDefined(b[c])?8>e?d(b[c])(a.$parent):a.$parent.$eval(b[c]):h[c]}),angular.forEach(["minDate","maxDate"],function(d){b[d]?a.$parent.$watch(c(b[d]),function(a){i[d]=a?new Date(a):null,i.refreshView()}):i[d]=h[d]?new Date(h[d]):null}),a.datepickerMode=a.datepickerMode||h.datepickerMode,a.maxMode=i.maxMode,a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(b.initDate)?(this.activeDate=a.$parent.$eval(b.initDate)||new Date,a.$parent.$watch(b.initDate,function(a){a&&(j.$isEmpty(j.$modelValue)||j.$invalid)&&(i.activeDate=a,i.refreshView())})):this.activeDate=new Date,a.isActive=function(b){return 0===i.compare(b.date,i.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){j=a,j.$render=function(){i.render()}},this.render=function(){if(j.$viewValue){var a=new Date(j.$viewValue),b=!isNaN(a);b?this.activeDate=a:f.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),j.$setValidity("date",b)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var a=j.$viewValue?new Date(j.$viewValue):null;j.$setValidity("date-disabled",!a||this.element&&!this.isDisabled(a))}},this.createDateObject=function(a,b){var c=j.$viewValue?new Date(j.$viewValue):null;return{date:a,label:g(a,b),selected:c&&0===this.compare(a,c),disabled:this.isDisabled(a),current:0===this.compare(a,new Date),customClass:this.customClass(a)}},this.isDisabled=function(c){return this.minDate&&this.compare(c,this.minDate)<0||this.maxDate&&this.compare(c,this.maxDate)>0||b.dateDisabled&&a.dateDisabled({date:c,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===i.minMode){var c=j.$viewValue?new Date(j.$viewValue):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),j.$setViewValue(c),j.$render()}else i.activeDate=b,a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)-1]},a.move=function(a){var b=i.activeDate.getFullYear()+a*(i.step.years||0),c=i.activeDate.getMonth()+a*(i.step.months||0);i.activeDate.setFullYear(b,c,1),i.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===i.maxMode&&1===b||a.datepickerMode===i.minMode&&-1===b||(a.datepickerMode=i.modes[i.modes.indexOf(a.datepickerMode)+b])},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var k=function(){e(function(){i.element[0].focus()},0,!1)};a.$on("datepicker.focus",k),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey)if(b.preventDefault(),i.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(i.isDisabled(i.activeDate))return;a.select(i.activeDate),k()}else!b.ctrlKey||"up"!==c&&"down"!==c?(i.handleKeyDown(c,b),i.refreshView()):(a.toggleMode("up"===c?1:-1),k())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f)}}}).directive("daypicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(b,c,d,e){function f(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?i[b]:29}function g(a,b){var c=new Array(b),d=new Date(a),e=0;for(d.setHours(12);b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}b.showWeeks=e.showWeeks,e.step={months:1},e.element=c;var i=[31,28,31,30,31,30,31,31,30,31,30,31];e._refreshView=function(){var c=e.activeDate.getFullYear(),d=e.activeDate.getMonth(),f=new Date(c,d,1),i=e.startingDay-f.getDay(),j=i>0?7-i:-i,k=new Date(f);j>0&&k.setDate(-j+1);for(var l=g(k,42),m=0;42>m;m++)l[m]=angular.extend(e.createDateObject(l[m],e.formatDay),{secondary:l[m].getMonth()!==d,uid:b.uniqueId+"-"+m});b.labels=new Array(7);for(var n=0;7>n;n++)b.labels[n]={abbr:a(l[n].date,e.formatDayHeader),full:a(l[n].date,"EEEE")};if(b.title=a(e.activeDate,e.formatDayTitle),b.rows=e.split(l,7),b.showWeeks){b.weekNumbers=[];for(var o=(11-e.startingDay)%7,p=b.rows.length,q=0;p>q;q++)b.weekNumbers.push(h(b.rows[q][o].date))}},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},e.handleKeyDown=function(a){var b=e.activeDate.getDate();if("left"===a)b-=1;else if("up"===a)b-=7;else if("right"===a)b+=1;else if("down"===a)b+=7;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getMonth()+("pageup"===a?-1:1);e.activeDate.setMonth(c,1),b=Math.min(f(e.activeDate.getFullYear(),e.activeDate.getMonth()),b)}else"home"===a?b=1:"end"===a&&(b=f(e.activeDate.getFullYear(),e.activeDate.getMonth()));e.activeDate.setDate(b)},e.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(b,c,d,e){e.step={years:1},e.element=c,e._refreshView=function(){for(var c=new Array(12),d=e.activeDate.getFullYear(),f=0;12>f;f++)c[f]=angular.extend(e.createDateObject(new Date(d,f,1),e.formatMonth),{uid:b.uniqueId+"-"+f});b.title=a(e.activeDate,e.formatMonthTitle),b.rows=e.split(c,3)},e.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},e.handleKeyDown=function(a){var b=e.activeDate.getMonth();if("left"===a)b-=1;else if("up"===a)b-=3;else if("right"===a)b+=1;else if("down"===a)b+=3;else if("pageup"===a||"pagedown"===a){var c=e.activeDate.getFullYear()+("pageup"===a?-1:1);e.activeDate.setFullYear(c)}else"home"===a?b=0:"end"===a&&(b=11);e.activeDate.setMonth(b)},e.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(a,b,c,d){function e(a){return parseInt((a-1)/f,10)*f+1}var f=d.yearRange;d.step={years:f},d.element=b,d._refreshView=function(){for(var b=new Array(f),c=0,g=e(d.activeDate.getFullYear());f>c;c++)b[c]=angular.extend(d.createDateObject(new Date(g+c,0,1),d.formatYear),{uid:a.uniqueId+"-"+c});a.title=[b[0].label,b[f-1].label].join(" - "),a.rows=d.split(b,5)},d.compare=function(a,b){return a.getFullYear()-b.getFullYear()},d.handleKeyDown=function(a){var b=d.activeDate.getFullYear();"left"===a?b-=1:"up"===a?b-=5:"right"===a?b+=1:"down"===a?b+=5:"pageup"===a||"pagedown"===a?b+=("pageup"===a?-1:1)*d.step.years:"home"===a?b=e(d.activeDate.getFullYear()):"end"===a&&(b=e(d.activeDate.getFullYear())+f-1),d.activeDate.setFullYear(b)},d.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(a,b,c,d,e,f,g){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(h,i,j,k){function l(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a){if(angular.isNumber(a)&&(a=new Date(a)),a){if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=f.parse(a,o,h.date)||new Date(a);return isNaN(b)?void 0:b}return void 0}return null}function n(a,b){var c=a||b;if(angular.isNumber(c)&&(c=new Date(c)),c){if(angular.isDate(c)&&!isNaN(c))return!0;if(angular.isString(c)){var d=f.parse(c,o)||new Date(c);return!isNaN(d)}return!1}return!0}var o,p=angular.isDefined(j.closeOnDateSelection)?h.$parent.$eval(j.closeOnDateSelection):g.closeOnDateSelection,q=angular.isDefined(j.datepickerAppendToBody)?h.$parent.$eval(j.datepickerAppendToBody):g.appendToBody;h.showButtonBar=angular.isDefined(j.showButtonBar)?h.$parent.$eval(j.showButtonBar):g.showButtonBar,h.getText=function(a){return h[a+"Text"]||g[a+"Text"]};var r=!1;if(g.html5Types[j.type]?(o=g.html5Types[j.type],r=!0):(o=j.datepickerPopup||g.datepickerPopup,j.$observe("datepickerPopup",function(a){var b=a||g.datepickerPopup;if(b!==o&&(o=b,k.$modelValue=null,!o))throw new Error("datepickerPopup must have a date format specified.")})),!o)throw new Error("datepickerPopup must have a date format specified.");if(r&&j.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var s=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");s.attr({"ng-model":"date","ng-change":"dateSelection()"});var t=angular.element(s.children()[0]);if(r&&"month"==j.type&&(t.attr("datepicker-mode",'"month"'),t.attr("min-mode","month")),j.datepickerOptions){var u=h.$parent.$eval(j.datepickerOptions);u.initDate&&(h.initDate=u.initDate,t.attr("init-date","initDate"),delete u.initDate),angular.forEach(u,function(a,b){t.attr(l(b),a)})}h.watchData={},angular.forEach(["minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(a){if(j[a]){var c=b(j[a]);if(h.$parent.$watch(c,function(b){h.watchData[a]=b}),t.attr(l(a),"watchData."+a),"datepickerMode"===a){var d=c.assign;h.$watch("watchData."+a,function(a,b){a!==b&&d(h.$parent,a)})}}}),j.dateDisabled&&t.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),j.showWeeks&&t.attr("show-weeks",j.showWeeks),j.customClass&&t.attr("custom-class","customClass({ date: date, mode: mode })"),r?k.$formatters.push(function(a){return h.date=a,a}):(k.$$parserName="date",k.$validators.date=n,k.$parsers.unshift(m),k.$formatters.push(function(a){return h.date=a,k.$isEmpty(a)?a:e(a,o)})),h.dateSelection=function(a){angular.isDefined(a)&&(h.date=a);var b=h.date?e(h.date,o):"";i.val(b),k.$setViewValue(b),p&&(h.isOpen=!1,i[0].focus())},k.$viewChangeListeners.push(function(){h.date=f.parse(k.$viewValue,o,h.date)||new Date(k.$viewValue)});var v=function(a){h.isOpen&&a.target!==i[0]&&h.$apply(function(){h.isOpen=!1})},w=function(a){h.keydown(a)};i.bind("keydown",w),h.keydown=function(a){27===a.which?(a.preventDefault(),h.isOpen&&a.stopPropagation(),h.close()):40!==a.which||h.isOpen||(h.isOpen=!0)},h.$watch("isOpen",function(a){a?(h.$broadcast("datepicker.focus"),h.position=q?d.offset(i):d.position(i),h.position.top=h.position.top+i.prop("offsetHeight"),c.bind("click",v)):c.unbind("click",v)}),h.select=function(a){if("today"===a){var b=new Date;angular.isDate(h.date)?(a=new Date(h.date),a.setFullYear(b.getFullYear(),b.getMonth(),b.getDate())):a=new Date(b.setHours(0,0,0,0))}h.dateSelection(a)},h.close=function(){h.isOpen=!1,i[0].focus()};var x=a(s)(h);s.remove(),q?c.find("body").append(x):i.after(x),h.$on("$destroy",function(){x.remove(),i.unbind("keydown",w),c.unbind("click",v)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(a,b){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.bind("click",d),a.bind("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.unbind("click",d),a.unbind("keydown",e))};var d=function(a){if(c&&(!a||"disabled"!==c.getAutoClose())){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which&&(c.focusToggleElement(),d())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document",function(a,b,c,d,e,f,g,h){var i,j=this,k=a.$new(),l=d.openClass,m=angular.noop,n=b.onToggle?c(b.onToggle):angular.noop,o=!1;this.init=function(d){j.$element=d,b.isOpen&&(i=c(b.isOpen),m=i.assign,a.$watch(i,function(a){k.isOpen=!!a})),o=angular.isDefined(b.dropdownAppendToBody),o&&j.dropdownMenu&&(h.find("body").append(j.dropdownMenu),d.on("$destroy",function(){j.dropdownMenu.remove()}))},this.toggle=function(a){return k.isOpen=arguments.length?!!a:!k.isOpen},this.isOpen=function(){return k.isOpen},k.getToggleElement=function(){return j.toggleElement},k.getAutoClose=function(){return b.autoClose||"always"},k.getElement=function(){return j.$element},k.focusToggleElement=function(){j.toggleElement&&j.toggleElement[0].focus()},k.$watch("isOpen",function(b,c){if(o&&j.dropdownMenu){var d=g.positionElements(j.$element,j.dropdownMenu,"bottom-left",!0);j.dropdownMenu.css({top:d.top+"px",left:d.left+"px",display:b?"block":"none"})}f[b?"addClass":"removeClass"](j.$element,l),b?(k.focusToggleElement(),e.open(k)):e.close(k),m(a,b),angular.isDefined(b)&&b!==c&&n(a,{open:!!b})}),a.$on("$locationChangeSuccess",function(){k.isOpen=!1}),a.$on("$destroy",function(){k.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(a,b,c,d){d.init(b)}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(a,b,c,d){d&&(d.dropdownMenu=b)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(a,b,c,d){if(d){d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$timeout",function(a){function b(b){b.animate=!1,a(function(){b.animate=!0})}return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(a,c){return a.addClass(c.backdropClass),b}}}]).directive("modalWindow",["$modalStack","$q",function(a,b){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"template/modal/window.html"},link:function(c,d,e){d.addClass(e.windowClass||""),c.size=e.size,c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},c.$isRendered=!0;var f=b.defer();e.$observe("modalRender",function(a){"true"==a&&f.resolve()}),f.promise.then(function(){c.animate=!0;var b=d[0].querySelectorAll("[autofocus]");b.length?b[0].focus():d[0].focus();var e=a.getTop();e&&a.modalRendered(e.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d,e,f){function g(){for(var a=-1,b=o.keys(),c=0;c<b.length;c++)o.get(b[c]).value.backdrop&&(a=c);return a}function h(a){var b=c.find("body").eq(0),d=o.get(a).value;o.remove(a),j(d.modalDomEl,d.modalScope,function(){b.toggleClass(n,o.length()>0),i()})}function i(){if(l&&-1==g()){var a=m;j(l,m,function(){a=null}),l=void 0,m=void 0}}function j(c,d,f){function g(){g.done||(g.done=!0,c.remove(),d.$destroy(),f&&f())}d.animate=!1,c.attr("modal-animation")&&a.enabled()?c.one("$animate:close",function(){e.$evalAsync(g)}):b(g)}function k(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var l,m,n="modal-open",o=f.createNew(),p={};return e.$watch(g,function(a){m&&(m.index=a)}),c.bind("keydown",function(a){var b;27===a.which&&(b=o.top(),b&&b.value.keyboard&&(a.preventDefault(),e.$apply(function(){p.dismiss(b.key,"escape key press")})))}),p.open=function(a,b){var f=c[0].activeElement;o.add(a,{deferred:b.deferred,renderDeferred:b.renderDeferred,modalScope:b.scope,backdrop:b.backdrop,keyboard:b.keyboard});var h=c.find("body").eq(0),i=g();if(i>=0&&!l){m=e.$new(!0),m.index=i;var j=angular.element('<div modal-backdrop="modal-backdrop"></div>');j.attr("backdrop-class",b.backdropClass),b.animation&&j.attr("modal-animation","true"),l=d(j)(m),h.append(l)}var k=angular.element('<div modal-window="modal-window"></div>');k.attr({"template-url":b.windowTemplateUrl,"window-class":b.windowClass,size:b.size,index:o.length()-1,animate:"animate"}).html(b.content),b.animation&&k.attr("modal-animation","true");var p=d(k)(b.scope);o.top().value.modalDomEl=p,o.top().value.modalOpener=f,h.append(p),h.addClass(n)},p.close=function(a,b){var c=o.get(a);return c&&k(c,b,!0)?(c.value.deferred.resolve(b),h(a),c.value.modalOpener.focus(),!0):!c},p.dismiss=function(a,b){var c=o.get(a);return c&&k(c,b,!1)?(c.value.deferred.reject(b),h(a),c.value.modalOpener.focus(),!0):!c},p.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},p.getTop=function(){return o.top()},p.modalRendered=function(a){var b=o.get(a);b&&b.value.renderDeferred.resolve()},p}]).provider("$modal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(b,c,d,e,f,g){function h(a){return a.template?d.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}function i(a){var c=[];return angular.forEach(a,function(a){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var j={};return j.open=function(b){var e=d.defer(),j=d.defer(),k=d.defer(),l={result:e.promise,opened:j.promise,rendered:k.promise,close:function(a){return g.close(l,a)},dismiss:function(a){return g.dismiss(l,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var m=d.all([h(b)].concat(i(b.resolve)));return m.then(function(a){var d=(b.scope||c).$new();d.$close=l.close,d.$dismiss=l.dismiss;var h,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=l,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),h=f(b.controller,i),b.controllerAs&&(d[b.controllerAs]=h)),g.open(l,{scope:d,deferred:e,renderDeferred:k,content:a[0],animation:b.animation,backdrop:b.backdrop,keyboard:b.keyboard,backdropClass:b.backdropClass,windowClass:b.windowClass,windowTemplateUrl:b.windowTemplateUrl,size:b.size})},function(a){e.reject(a)}),m.then(function(){j.resolve(!0)},function(a){j.reject(a)}),l},j}]};return a}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(a,b,c){var d=this,e={$setViewValue:angular.noop},f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(g,h){e=g,this.config=h,e.$render=function(){d.render()},b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){d.itemsPerPage=parseInt(b,10),a.totalPages=d.calculateTotalPages()}):this.itemsPerPage=h.itemsPerPage,a.$watch("totalItems",function(){a.totalPages=d.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),a.page>b?a.selectPage(b):e.$render()})},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.render=function(){a.page=parseInt(e.$viewValue,10)||1},a.selectPage=function(b,c){a.page!==b&&b>0&&b<=a.totalPages&&(c&&c.target&&c.target.blur(),e.$setViewValue(b),e.$render())},a.getText=function(b){return a[b+"Text"]||d.config[b+"Text"]},a.noPrevious=function(){return 1===a.page},a.noNext=function(){return a.page===a.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(c,d,e,f){function g(a,b,c){return{number:a,text:b,active:c}}function h(a,b){var c=[],d=1,e=b,f=angular.isDefined(k)&&b>k;f&&(l?(d=Math.max(a-Math.floor(k/2),1),e=d+k-1,e>b&&(e=b,d=e-k+1)):(d=(Math.ceil(a/k)-1)*k+1,e=Math.min(d+k-1,b)));for(var h=d;e>=h;h++){var i=g(h,h,h===a);c.push(i)}if(f&&!l){if(d>1){var j=g(d-1,"...",!1);c.unshift(j)}if(b>e){var m=g(e+1,"...",!1);c.push(m)}}return c}var i=f[0],j=f[1];if(j){var k=angular.isDefined(e.maxSize)?c.$parent.$eval(e.maxSize):b.maxSize,l=angular.isDefined(e.rotate)?c.$parent.$eval(e.rotate):b.rotate;c.boundaryLinks=angular.isDefined(e.boundaryLinks)?c.$parent.$eval(e.boundaryLinks):b.boundaryLinks,c.directionLinks=angular.isDefined(e.directionLinks)?c.$parent.$eval(e.directionLinks):b.directionLinks,i.init(j,b),e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){k=parseInt(a,10),i.render()});var m=i.render;i.render=function(){m(),c.page>0&&c.page<=c.totalPages&&(c.pages=h(c.page,c.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&(b.align=angular.isDefined(d.align)?b.$parent.$eval(d.align):a.align,f.init(g,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},c={
mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(e,f,g,h,i,j){return function(e,k,l,m){function n(a){var b=a||m.trigger||l,d=c[b]||b;return{show:b,hide:d}}m=angular.extend({},b,d,m);var o=a(e),p=j.startSymbol(),q=j.endSymbol(),r="<div "+o+'-popup title="'+p+"title"+q+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+p+"content"+q+'" ')+'placement="'+p+"placement"+q+'" popup-class="'+p+"popupClass"+q+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var a=f(r);return function(b,c,d){function f(){E.isOpen?l():j()}function j(){(!D||b.$eval(d[k+"Enable"]))&&(s(),E.popupDelay?A||(A=g(o,E.popupDelay,!1),A.then(function(a){a()})):o()())}function l(){b.$apply(function(){p()})}function o(){return A=null,z&&(g.cancel(z),z=null),(m.useContentExp?E.contentExp():E.content)?(q(),x.css({top:0,left:0,display:"block"}),E.$digest(),F(),E.isOpen=!0,E.$apply(),F):angular.noop}function p(){E.isOpen=!1,g.cancel(A),A=null,E.animation?z||(z=g(r,500)):r()}function q(){x&&r(),y=E.$new(),x=a(y,function(a){B?h.find("body").append(a):c.after(a)}),y.$watch(function(){g(F,0,!1)}),m.useContentExp&&y.$watch("contentExp()",function(a){!a&&E.isOpen&&p()})}function r(){z=null,x&&(x.remove(),x=null),y&&(y.$destroy(),y=null)}function s(){t(),u(),v()}function t(){E.popupClass=d[k+"Class"]}function u(){var a=d[k+"Placement"];E.placement=angular.isDefined(a)?a:m.placement}function v(){var a=d[k+"PopupDelay"],b=parseInt(a,10);E.popupDelay=isNaN(b)?m.popupDelay:b}function w(){var a=d[k+"Trigger"];G(),C=n(a),C.show===C.hide?c.bind(C.show,f):(c.bind(C.show,j),c.bind(C.hide,l))}var x,y,z,A,B=angular.isDefined(m.appendToBody)?m.appendToBody:!1,C=n(void 0),D=angular.isDefined(d[k+"Enable"]),E=b.$new(!0),F=function(){if(x){var a=i.positionElements(c,x,E.placement,B);a.top+="px",a.left+="px",x.css(a)}};E.origScope=b,E.isOpen=!1,E.contentExp=function(){return b.$eval(d[e])},m.useContentExp||d.$observe(e,function(a){E.content=a,!a&&E.isOpen&&p()}),d.$observe("disabled",function(a){a&&E.isOpen&&p()}),d.$observe(k+"Title",function(a){E.title=a});var G=function(){c.unbind(C.show,j),c.unbind(C.hide,l)};w();var H=b.$eval(d[k+"Animation"]);E.animation=angular.isDefined(H)?!!H:m.animation;var I=b.$eval(d[k+"AppendToBody"]);B=angular.isDefined(I)?I:B,B&&b.$on("$locationChangeSuccess",function(){E.isOpen&&p()}),b.$on("$destroy",function(){g.cancel(z),g.cancel(A),G(),r(),E=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.tooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(a,b,c){a.placement&&b.addClass(a.placement),a.popupClass&&b.addClass(a.popupClass),a.animation()&&b.addClass(c.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(a){return a("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(a){return a("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(a,b,c){return b||c.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(a){return a("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(a,b,c){var d=this,e=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=angular.isDefined(a.max)?a.max:c.max,this.addBar=function(b,c){e||c.css({transition:"none"}),this.bars.push(b),b.$watch("value",function(c){b.percent=+(100*c/a.max).toFixed(2)}),b.$on("$destroy",function(){c=null,d.removeBar(b)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(a,b,c){var d={$setViewValue:angular.noop};this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(f)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff},a[b]);return a},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[];b.select=function(a){angular.forEach(c,function(b){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,a.onSelect()},b.addTab=function(a){c.push(a),1===c.length&&a.active!==!1?a.active=!0:a.active?b.select(a):a.active=!1},b.removeTab=function(a){var e=c.indexOf(a);if(a.active&&c.length>1&&!d){var f=e==c.length-1?e-1:e+1;b.select(c[f])}c.splice(e,1)};var d;a.$on("$destroy",function(){d=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1}}}).directive("tab",["$parse","$log",function(a,b){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(c,d,e){return function(c,d,f,g){c.$watch("active",function(a){a&&g.select(c)}),c.disabled=!1,f.disable&&c.$parent.$watch(a(f.disable),function(a){c.disabled=!!a}),f.disabled&&(b.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),c.$parent.$watch(a(f.disabled),function(a){c.disabled=!!a})),c.select=function(){c.disabled||(c.active=!0)},g.addTab(c),c.$on("$destroy",function(){g.removeTab(c)}),c.$transcludeFn=e}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(a,b,c,d,e,f){function g(){var b=parseInt(a.hours,10),c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===p[1]&&(b+=12)),b):void 0}function h(){var b=parseInt(a.minutes,10);return b>=0&&60>b?b:void 0}function i(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function j(a){k(),o.$setViewValue(new Date(n)),l(a)}function k(){o.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1}function l(b){var c=n.getHours(),d=n.getMinutes();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:i(c),"m"!==b&&(a.minutes=i(d)),a.meridian=n.getHours()<12?p[0]:p[1]}function m(a){var b=new Date(n.getTime()+6e4*a);n.setHours(b.getHours(),b.getMinutes()),j()}var n=new Date,o={$setViewValue:angular.noop},p=angular.isDefined(b.meridians)?a.$parent.$eval(b.meridians):f.meridians||e.DATETIME_FORMATS.AMPMS;this.init=function(c,d){o=c,o.$render=this.render,o.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),g=d.eq(1),h=angular.isDefined(b.mousewheel)?a.$parent.$eval(b.mousewheel):f.mousewheel;h&&this.setupMousewheelEvents(e,g);var i=angular.isDefined(b.arrowkeys)?a.$parent.$eval(b.arrowkeys):f.arrowkeys;i&&this.setupArrowkeyEvents(e,g),a.readonlyInput=angular.isDefined(b.readonlyInput)?a.$parent.$eval(b.readonlyInput):f.readonlyInput,this.setupInputEvents(e,g)};var q=f.hourStep;b.hourStep&&a.$parent.$watch(c(b.hourStep),function(a){q=parseInt(a,10)});var r=f.minuteStep;b.minuteStep&&a.$parent.$watch(c(b.minuteStep),function(a){r=parseInt(a,10)}),a.showMeridian=f.showMeridian,b.showMeridian&&a.$parent.$watch(c(b.showMeridian),function(b){if(a.showMeridian=!!b,o.$error.time){var c=g(),d=h();angular.isDefined(c)&&angular.isDefined(d)&&(n.setHours(c),j())}else l()}),this.setupMousewheelEvents=function(b,c){var d=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){a.$apply(d(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c){b.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply())}),c.bind("keydown",function(b){38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply())})},this.setupInputEvents=function(b,c){if(a.readonlyInput)return a.updateHours=angular.noop,void(a.updateMinutes=angular.noop);var d=function(b,c){o.$setViewValue(null),o.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c)};a.updateHours=function(){var a=g();angular.isDefined(a)?(n.setHours(a),j("h")):d(!0)},b.bind("blur",function(){!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=i(a.hours)})}),a.updateMinutes=function(){var a=h();angular.isDefined(a)?(n.setMinutes(a),j("m")):d(void 0,!0)},c.bind("blur",function(){!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=i(a.minutes)})})},this.render=function(){var a=o.$viewValue;isNaN(a)?(o.$setValidity("time",!1),d.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(n=a),k(),l())},a.incrementHours=function(){m(60*q)},a.decrementHours=function(){m(60*-q)},a.incrementMinutes=function(){m(r)},a.decrementMinutes=function(){m(-r)},a.toggleMeridian=function(){m(720*(n.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,b,c,d,e){function f(a){for(var b in a)if(void 0!==h.style[b])return a[b]}e||d.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var g=function(d,e,f){f=f||{};var h=a.defer(),i=g[f.animation?"animationEndEventName":"transitionEndEventName"],j=function(){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(e)?d.addClass(e):angular.isFunction(e)?e(d):angular.isObject(e)&&d.css(e),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},h=document.createElement("trans"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},j={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return g.transitionEndEventName=f(i),g.animationEndEventName=f(j),g}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=k.typeaheadAppendToBody?i.$eval(k.typeaheadAppendToBody):!1,u=i.$eval(k.typeaheadFocusFirst)!==!1,v=b(k.ngModel).assign,w=g.parse(k.typeahead),x=i.$new();i.$on("$destroy",function(){x.$destroy()});var y="typeahead-"+x.$id+"-"+Math.floor(1e4*Math.random());j.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":y});var z=angular.element("<div typeahead-popup></div>");z.attr({id:y,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&z.attr("template-url",k.typeaheadTemplateUrl);var A=function(){x.matches=[],x.activeIdx=-1,j.attr("aria-expanded",!1)},B=function(a){return y+"-option-"+a};x.$watch("activeIdx",function(a){0>a?j.removeAttr("aria-activedescendant"):j.attr("aria-activedescendant",B(a))});var C=function(a){var b={$viewValue:a};q(i,!0),c.when(w.source(i,b)).then(function(c){var d=a===l.$viewValue;if(d&&m)if(c&&c.length>0){x.activeIdx=u?0:-1,x.matches.length=0;for(var e=0;e<c.length;e++)b[w.itemName]=c[e],x.matches.push({id:B(e),label:w.viewMapper(x,b),model:c[e]});x.query=a,x.position=t?f.offset(j):f.position(j),x.position.top=x.position.top+j.prop("offsetHeight"),j.attr("aria-expanded",!0)}else A();d&&q(i,!1)},function(){A(),q(i,!1)})};A(),x.query=void 0;var D,E=function(a){D=d(function(){C(a)},o)},F=function(){D&&d.cancel(D)};l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(F(),E(a)):C(a):(q(i,!1),F(),A()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return p||l.$setValidity("editable",!0),s?(d.$model=a,s(i,d)):(d[w.itemName]=a,b=w.viewMapper(i,d),d[w.itemName]=void 0,c=w.viewMapper(i,d),b!==c?b:a)}),x.select=function(a){var b,c,e={};e[w.itemName]=c=x.matches[a].model,b=w.modelMapper(i,e),v(i,b),l.$setValidity("editable",!0),l.$setValidity("parse",!0),r(i,{$item:c,$model:b,$label:w.viewMapper(i,e)}),A(),d(function(){j[0].focus()},0,!1)},j.bind("keydown",function(a){0!==x.matches.length&&-1!==h.indexOf(a.which)&&(-1!=x.activeIdx||13!==a.which&&9!==a.which)&&(a.preventDefault(),40===a.which?(x.activeIdx=(x.activeIdx+1)%x.matches.length,x.$digest()):38===a.which?(x.activeIdx=(x.activeIdx>0?x.activeIdx:x.matches.length)-1,x.$digest()):13===a.which||9===a.which?x.$apply(function(){x.select(x.activeIdx)}):27===a.which&&(a.stopPropagation(),A(),x.$digest()))}),j.bind("blur",function(){m=!1});var G=function(a){j[0]!==a.target&&(A(),x.$digest())};e.bind("click",G),i.$on("$destroy",function(){e.unbind("click",G),t&&H.remove(),z.remove()});var H=a(z)(x);t?e.find("body").append(H):j.after(H)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"template/typeahead/typeahead-match.html";a(g).then(function(a){b(a.trim())(d,function(a){e.replaceWith(a)})})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?(""+b).replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(a,b,c){"use strict";function d(a,b){return M(new(M(function(){},{prototype:a})),b)}function e(a){return L(arguments,function(b){b!==a&&L(b,function(b,c){a.hasOwnProperty(c)||(a[c]=b)})}),a}function f(a,b){var c=[];for(var d in a.path){if(a.path[d]!==b.path[d])break;c.push(a.path[d])}return c}function g(a){if(Object.keys)return Object.keys(a);var b=[];return L(a,function(a,c){b.push(c)}),b}function h(a,b){if(Array.prototype.indexOf)return a.indexOf(b,Number(arguments[2])||0);var c=a.length>>>0,d=Number(arguments[2])||0;for(d=0>d?Math.ceil(d):Math.floor(d),0>d&&(d+=c);c>d;d++)if(d in a&&a[d]===b)return d;return-1}function i(a,b,c,d){var e,i=f(c,d),j={},k=[];for(var l in i)if(i[l].params&&(e=g(i[l].params),e.length))for(var m in e)h(k,e[m])>=0||(k.push(e[m]),j[e[m]]=a[e[m]]);return M({},j,b)}function j(a,b,c){if(!c){c=[];for(var d in a)c.push(d)}for(var e=0;e<c.length;e++){var f=c[e];if(a[f]!=b[f])return!1}return!0}function k(a,b){var c={};return L(a,function(a){c[a]=b[a]}),c}function l(a){var b={},c=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var d in a)-1==h(c,d)&&(b[d]=a[d]);return b}function m(a,b){var c=K(a),d=c?[]:{};return L(a,function(a,e){b(a,e)&&(d[c?d.length:e]=a)}),d}function n(a,b){var c=K(a)?[]:{};return L(a,function(a,d){c[d]=b(a,d)}),c}function o(a,b){var d=1,f=2,i={},j=[],k=i,m=M(a.when(i),{$$promises:i,$$values:i});this.study=function(i){function n(a,c){if(s[c]!==f){if(r.push(c),s[c]===d)throw r.splice(0,h(r,c)),new Error("Cyclic dependency: "+r.join(" -> "));if(s[c]=d,I(a))q.push(c,[function(){return b.get(a)}],j);else{var e=b.annotate(a);L(e,function(a){a!==c&&i.hasOwnProperty(a)&&n(i[a],a)}),q.push(c,a,e)}r.pop(),s[c]=f}}function o(a){return J(a)&&a.then&&a.$$promises}if(!J(i))throw new Error("'invocables' must be an object");var p=g(i||{}),q=[],r=[],s={};return L(i,n),i=r=s=null,function(d,f,g){function h(){--u||(v||e(t,f.$$values),r.$$values=t,r.$$promises=r.$$promises||!0,delete r.$$inheritedValues,n.resolve(t))}function i(a){r.$$failure=a,n.reject(a)}function j(c,e,f){function j(a){l.reject(a),i(a)}function k(){if(!G(r.$$failure))try{l.resolve(b.invoke(e,g,t)),l.promise.then(function(a){t[c]=a,h()},j)}catch(a){j(a)}}var l=a.defer(),m=0;L(f,function(a){s.hasOwnProperty(a)&&!d.hasOwnProperty(a)&&(m++,s[a].then(function(b){t[a]=b,--m||k()},j))}),m||k(),s[c]=l.promise}if(o(d)&&g===c&&(g=f,f=d,d=null),d){if(!J(d))throw new Error("'locals' must be an object")}else d=k;if(f){if(!o(f))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else f=m;var n=a.defer(),r=n.promise,s=r.$$promises={},t=M({},d),u=1+q.length/3,v=!1;if(G(f.$$failure))return i(f.$$failure),r;f.$$inheritedValues&&e(t,l(f.$$inheritedValues,p)),M(s,f.$$promises),f.$$values?(v=e(t,l(f.$$values,p)),r.$$inheritedValues=l(f.$$values,p),h()):(f.$$inheritedValues&&(r.$$inheritedValues=l(f.$$inheritedValues,p)),f.then(h,i));for(var w=0,x=q.length;x>w;w+=3)d.hasOwnProperty(q[w])?h():j(q[w],q[w+1],q[w+2]);return r}},this.resolve=function(a,b,c,d){return this.study(a)(b,c,d)}}function p(a,b,c){this.fromConfig=function(a,b,c){return G(a.template)?this.fromString(a.template,b):G(a.templateUrl)?this.fromUrl(a.templateUrl,b):G(a.templateProvider)?this.fromProvider(a.templateProvider,b,c):null},this.fromString=function(a,b){return H(a)?a(b):a},this.fromUrl=function(c,d){return H(c)&&(c=c(d)),null==c?null:a.get(c,{cache:b,headers:{Accept:"text/html"}}).then(function(a){return a.data})},this.fromProvider=function(a,b,d){return c.invoke(a,null,d||{params:b})}}function q(a,b,e){function f(b,c,d,e){if(q.push(b),o[b])return o[b];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(b))throw new Error("Invalid parameter name '"+b+"' in pattern '"+a+"'");if(p[b])throw new Error("Duplicate parameter name '"+b+"' in pattern '"+a+"'");return p[b]=new O.Param(b,c,d,e),p[b]}function g(a,b,c,d){var e=["",""],f=a.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!b)return f;switch(c){case!1:e=["(",")"+(d?"?":"")];break;case!0:e=["?(",")?"];break;default:e=["("+c+"|",")?"]}return f+e[0]+b+e[1]}function h(e,f){var g,h,i,j,k;return g=e[2]||e[3],k=b.params[g],i=a.substring(m,e.index),h=f?e[4]:e[4]||("*"==e[1]?".*":null),j=O.type(h||"string")||d(O.type("string"),{pattern:new RegExp(h,b.caseInsensitive?"i":c)}),{id:g,regexp:h,segment:i,type:j,cfg:k}}b=M({params:{}},J(b)?b:{});var i,j=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,k=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,l="^",m=0,n=this.segments=[],o=e?e.params:{},p=this.params=e?e.params.$$new():new O.ParamSet,q=[];this.source=a;for(var r,s,t;(i=j.exec(a))&&(r=h(i,!1),!(r.segment.indexOf("?")>=0));)s=f(r.id,r.type,r.cfg,"path"),l+=g(r.segment,s.type.pattern.source,s.squash,s.isOptional),n.push(r.segment),m=j.lastIndex;t=a.substring(m);var u=t.indexOf("?");if(u>=0){var v=this.sourceSearch=t.substring(u);if(t=t.substring(0,u),this.sourcePath=a.substring(0,m+u),v.length>0)for(m=0;i=k.exec(v);)r=h(i,!0),s=f(r.id,r.type,r.cfg,"search"),m=j.lastIndex}else this.sourcePath=a,this.sourceSearch="";l+=g(t)+(b.strict===!1?"/?":"")+"$",n.push(t),this.regexp=new RegExp(l,b.caseInsensitive?"i":c),this.prefix=n[0],this.$$paramNames=q}function r(a){M(this,a)}function s(){function a(a){return null!=a?a.toString().replace(/\//g,"%2F"):a}function e(a){return null!=a?a.toString().replace(/%2F/g,"/"):a}function f(){return{strict:p,caseInsensitive:o}}function i(a){return H(a)||K(a)&&H(a[a.length-1])}function j(){for(;w.length;){var a=w.shift();if(a.pattern)throw new Error("You cannot override a type's .pattern at runtime.");b.extend(u[a.name],l.invoke(a.def))}}function k(a){M(this,a||{})}O=this;var l,o=!1,p=!0,t=!1,u={},v=!0,w=[],x={string:{encode:a,decode:e,is:function(a){return"string"==typeof a},pattern:/[^\/]*/},"int":{encode:a,decode:function(a){return parseInt(a,10)},is:function(a){return G(a)&&this.decode(a.toString())===a},pattern:/\d+/},bool:{encode:function(a){return a?1:0},decode:function(a){return 0!==parseInt(a,10)},is:function(a){return a===!0||a===!1},pattern:/0|1/},date:{encode:function(a){return this.is(a)?[a.getFullYear(),("0"+(a.getMonth()+1)).slice(-2),("0"+a.getDate()).slice(-2)].join("-"):c},decode:function(a){if(this.is(a))return a;var b=this.capture.exec(a);return b?new Date(b[1],b[2]-1,b[3]):c},is:function(a){return a instanceof Date&&!isNaN(a.valueOf())},equals:function(a,b){return this.is(a)&&this.is(b)&&a.toISOString()===b.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:b.toJson,decode:b.fromJson,is:b.isObject,equals:b.equals,pattern:/[^\/]*/},any:{encode:b.identity,decode:b.identity,is:b.identity,equals:b.equals,pattern:/.*/}};s.$$getDefaultValue=function(a){if(!i(a.value))return a.value;if(!l)throw new Error("Injectable functions cannot be called at configuration time");return l.invoke(a.value)},this.caseInsensitive=function(a){return G(a)&&(o=a),o},this.strictMode=function(a){return G(a)&&(p=a),p},this.defaultSquashPolicy=function(a){if(!G(a))return t;if(a!==!0&&a!==!1&&!I(a))throw new Error("Invalid squash policy: "+a+". Valid policies: false, true, arbitrary-string");return t=a,a},this.compile=function(a,b){return new q(a,M(f(),b))},this.isMatcher=function(a){if(!J(a))return!1;var b=!0;return L(q.prototype,function(c,d){H(c)&&(b=b&&G(a[d])&&H(a[d]))}),b},this.type=function(a,b,c){if(!G(b))return u[a];if(u.hasOwnProperty(a))throw new Error("A type named '"+a+"' has already been defined.");return u[a]=new r(M({name:a},b)),c&&(w.push({name:a,def:c}),v||j()),this},L(x,function(a,b){u[b]=new r(M({name:b},a))}),u=d(u,{}),this.$get=["$injector",function(a){return l=a,v=!1,j(),L(x,function(a,b){u[b]||(u[b]=new r(a))}),this}],this.Param=function(a,b,d,e){function f(a){var b=J(a)?g(a):[],c=-1===h(b,"value")&&-1===h(b,"type")&&-1===h(b,"squash")&&-1===h(b,"array");return c&&(a={value:a}),a.$$fn=i(a.value)?a.value:function(){return a.value},a}function j(b,c,d){if(b.type&&c)throw new Error("Param '"+a+"' has two type configurations.");return c?c:b.type?b.type instanceof r?b.type:new r(b.type):"config"===d?u.any:u.string}function k(){var b={array:"search"===e?"auto":!1},c=a.match(/\[\]$/)?{array:!0}:{};return M(b,c,d).array}function o(a,b){var c=a.squash;if(!b||c===!1)return!1;if(!G(c)||null==c)return t;if(c===!0||I(c))return c;throw new Error("Invalid squash policy: '"+c+"'. Valid policies: false, true, or arbitrary string")}function p(a,b,d,e){var f,g,i=[{from:"",to:d||b?c:""},{from:null,to:d||b?c:""}];return f=K(a.replace)?a.replace:[],I(e)&&f.push({from:e,to:c}),g=n(f,function(a){return a.from}),m(i,function(a){return-1===h(g,a.from)}).concat(f)}function q(){if(!l)throw new Error("Injectable functions cannot be called at configuration time");var a=l.invoke(d.$$fn);if(null!==a&&a!==c&&!w.type.is(a))throw new Error("Default value ("+a+") for parameter '"+w.id+"' is not an instance of Type ("+w.type.name+")");return a}function s(a){function b(a){return function(b){return b.from===a}}function c(a){var c=n(m(w.replace,b(a)),function(a){return a.to});return c.length?c[0]:a}return a=c(a),G(a)?w.type.$normalize(a):q()}function v(){return"{Param:"+a+" "+b+" squash: '"+z+"' optional: "+y+"}"}var w=this;d=f(d),b=j(d,b,e);var x=k();b=x?b.$asArray(x,"search"===e):b,"string"!==b.name||x||"path"!==e||d.value!==c||(d.value="");var y=d.value!==c,z=o(d,y),A=p(d,x,y,z);M(this,{id:a,type:b,location:e,array:x,squash:z,replace:A,isOptional:y,value:s,dynamic:c,config:d,toString:v})},k.prototype={$$new:function(){return d(this,M(new k,{$$parent:this}))},$$keys:function(){for(var a=[],b=[],c=this,d=g(k.prototype);c;)b.push(c),c=c.$$parent;return b.reverse(),L(b,function(b){L(g(b),function(b){-1===h(a,b)&&-1===h(d,b)&&a.push(b)})}),a},$$values:function(a){var b={},c=this;return L(c.$$keys(),function(d){b[d]=c[d].value(a&&a[d])}),b},$$equals:function(a,b){var c=!0,d=this;return L(d.$$keys(),function(e){var f=a&&a[e],g=b&&b[e];d[e].type.equals(f,g)||(c=!1)}),c},$$validates:function(a){var d,e,f,g,h,i=this.$$keys();for(d=0;d<i.length&&(e=this[i[d]],f=a[i[d]],f!==c&&null!==f||!e.isOptional);d++){if(g=e.type.$normalize(f),!e.type.is(g))return!1;if(h=e.type.encode(g),b.isString(h)&&!e.type.pattern.exec(h))return!1}return!0},$$parent:c},this.ParamSet=k}function t(a,d){function e(a){var b=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(a.source);return null!=b?b[1].replace(/\\(.)/g,"$1"):""}function f(a,b){return a.replace(/\$(\$|\d{1,2})/,function(a,c){return b["$"===c?0:Number(c)]})}function g(a,b,c){if(!c)return!1;var d=a.invoke(b,b,{$match:c});return G(d)?d:!0}function h(d,e,f,g){function h(a,b,c){return"/"===p?a:b?p.slice(0,-1)+a:c?p.slice(1)+a:a}function m(a){function b(a){var b=a(f,d);return b?(I(b)&&d.replace().url(b),!0):!1}if(!a||!a.defaultPrevented){var e=o&&d.url()===o;if(o=c,e)return!0;var g,h=j.length;for(g=0;h>g;g++)if(b(j[g]))return;k&&b(k)}}function n(){return i=i||e.$on("$locationChangeSuccess",m)}var o,p=g.baseHref(),q=d.url();return l||n(),{sync:function(){m()},listen:function(){return n()},update:function(a){return a?void(q=d.url()):void(d.url()!==q&&(d.url(q),
d.replace()))},push:function(a,b,e){var f=a.format(b||{});null!==f&&b&&b["#"]&&(f+="#"+b["#"]),d.url(f),o=e&&e.$$avoidResync?d.url():c,e&&e.replace&&d.replace()},href:function(c,e,f){if(!c.validates(e))return null;var g=a.html5Mode();b.isObject(g)&&(g=g.enabled);var i=c.format(e);if(f=f||{},g||null===i||(i="#"+a.hashPrefix()+i),null!==i&&e&&e["#"]&&(i+="#"+e["#"]),i=h(i,g,f.absolute),!f.absolute||!i)return i;var j=!g&&i?"/":"",k=d.port();return k=80===k||443===k?"":":"+k,[d.protocol(),"://",d.host(),k,j,i].join("")}}}var i,j=[],k=null,l=!1;this.rule=function(a){if(!H(a))throw new Error("'rule' must be a function");return j.push(a),this},this.otherwise=function(a){if(I(a)){var b=a;a=function(){return b}}else if(!H(a))throw new Error("'rule' must be a function");return k=a,this},this.when=function(a,b){var c,h=I(b);if(I(a)&&(a=d.compile(a)),!h&&!H(b)&&!K(b))throw new Error("invalid 'handler' in when()");var i={matcher:function(a,b){return h&&(c=d.compile(b),b=["$match",function(a){return c.format(a)}]),M(function(c,d){return g(c,b,a.exec(d.path(),d.search()))},{prefix:I(a.prefix)?a.prefix:""})},regex:function(a,b){if(a.global||a.sticky)throw new Error("when() RegExp must not be global or sticky");return h&&(c=b,b=["$match",function(a){return f(c,a)}]),M(function(c,d){return g(c,b,a.exec(d.path()))},{prefix:e(a)})}},j={matcher:d.isMatcher(a),regex:a instanceof RegExp};for(var k in j)if(j[k])return this.rule(i[k](a,b));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(a){a===c&&(a=!0),l=a},this.$get=h,h.$inject=["$location","$rootScope","$injector","$browser"]}function u(a,e){function f(a){return 0===a.indexOf(".")||0===a.indexOf("^")}function l(a,b){if(!a)return c;var d=I(a),e=d?a:a.name,g=f(e);if(g){if(!b)throw new Error("No reference point given for path '"+e+"'");b=l(b);for(var h=e.split("."),i=0,j=h.length,k=b;j>i;i++)if(""!==h[i]||0!==i){if("^"!==h[i])break;if(!k.parent)throw new Error("Path '"+e+"' not valid for state '"+b.name+"'");k=k.parent}else k=b;h=h.slice(i).join("."),e=k.name+(k.name&&h?".":"")+h}var m=y[e];return!m||!d&&(d||m!==a&&m.self!==a)?c:m}function m(a,b){z[a]||(z[a]=[]),z[a].push(b)}function o(a){for(var b=z[a]||[];b.length;)p(b.shift())}function p(b){b=d(b,{self:b,resolve:b.resolve||{},toString:function(){return this.name}});var c=b.name;if(!I(c)||c.indexOf("@")>=0)throw new Error("State must have a valid name");if(y.hasOwnProperty(c))throw new Error("State '"+c+"'' is already defined");var e=-1!==c.indexOf(".")?c.substring(0,c.lastIndexOf(".")):I(b.parent)?b.parent:J(b.parent)&&I(b.parent.name)?b.parent.name:"";if(e&&!y[e])return m(e,b.self);for(var f in B)H(B[f])&&(b[f]=B[f](b,B.$delegates[f]));return y[c]=b,!b[A]&&b.url&&a.when(b.url,["$match","$stateParams",function(a,c){x.$current.navigable==b&&j(a,c)||x.transitionTo(b,a,{inherit:!0,location:!1})}]),o(c),b}function q(a){return a.indexOf("*")>-1}function r(a){for(var b=a.split("."),c=x.$current.name.split("."),d=0,e=b.length;e>d;d++)"*"===b[d]&&(c[d]="*");return"**"===b[0]&&(c=c.slice(h(c,b[1])),c.unshift("**")),"**"===b[b.length-1]&&(c.splice(h(c,b[b.length-2])+1,Number.MAX_VALUE),c.push("**")),b.length!=c.length?!1:c.join("")===b.join("")}function s(a,b){return I(a)&&!G(b)?B[a]:H(b)&&I(a)?(B[a]&&!B.$delegates[a]&&(B.$delegates[a]=B[a]),B[a]=b,this):this}function t(a,b){return J(a)?b=a:b.name=a,p(b),this}function u(a,e,f,h,m,o,p){function s(b,c,d,f){var g=a.$broadcast("$stateNotFound",b,c,d);if(g.defaultPrevented)return p.update(),B;if(!g.retry)return null;if(f.$retry)return p.update(),C;var h=x.transition=e.when(g.retry);return h.then(function(){return h!==x.transition?u:(b.options.$retry=!0,x.transitionTo(b.to,b.toParams,b.options))},function(){return B}),p.update(),h}function t(a,c,d,g,i,j){var l=d?c:k(a.params.$$keys(),c),n={$stateParams:l};i.resolve=m.resolve(a.resolve,n,i.resolve,a);var o=[i.resolve.then(function(a){i.globals=a})];return g&&o.push(g),L(a.views,function(c,d){var e=c.resolve&&c.resolve!==a.resolve?c.resolve:{};e.$template=[function(){return f.load(d,{view:c,locals:n,params:l,notify:j.notify})||""}],o.push(m.resolve(e,n,i.resolve,a).then(function(f){if(H(c.controllerProvider)||K(c.controllerProvider)){var g=b.extend({},e,n,f);f.$$controller=h.invoke(c.controllerProvider,null,g)}else f.$$controller=c.controller;f.$$state=a,f.$$controllerAs=c.controllerAs,i[d]=f}))}),e.all(o).then(function(){return i})}var u=e.reject(new Error("transition superseded")),z=e.reject(new Error("transition prevented")),B=e.reject(new Error("transition aborted")),C=e.reject(new Error("transition failed"));return w.locals={resolve:null,globals:{$stateParams:{}}},x={params:{},current:w.self,$current:w,transition:null},x.reload=function(a){return x.transitionTo(x.current,o,{reload:a||!0,inherit:!1,notify:!0})},x.go=function(a,b,c){return x.transitionTo(a,b,M({inherit:!0,relative:x.$current},c))},x.transitionTo=function(b,c,f){c=c||{},f=M({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},f||{});var g,j=x.$current,m=x.params,n=j.path,q=l(b,f.relative),r=c["#"];if(!G(q)){var y={to:b,toParams:c,options:f},B=s(y,j.self,m,f);if(B)return B;if(b=y.to,c=y.toParams,f=y.options,q=l(b,f.relative),!G(q)){if(!f.relative)throw new Error("No such state '"+b+"'");throw new Error("Could not resolve '"+b+"' from state '"+f.relative+"'")}}if(q[A])throw new Error("Cannot transition to abstract state '"+b+"'");if(f.inherit&&(c=i(o,c||{},x.$current,q)),!q.params.$$validates(c))return C;c=q.params.$$values(c),b=q;var D=b.path,E=0,F=D[E],H=w.locals,K=[],L=!1;if(f.reload){if(I(f.reload)||J(f.reload)){if(J(f.reload)&&!f.reload.name)throw new Error("Invalid reload state object");var O=f.reload===!0?n[0]:l(f.reload);if(f.reload&&!O)throw new Error("No such reload state '"+(I(f.reload)?f.reload:f.reload.name)+"'");for(L=!0;F&&F===n[E]&&F!==O;)H=K[E]=F.locals,E++,F=D[E]}}else for(;F&&F===n[E]&&F.ownParams.$$equals(c,m);)H=K[E]=F.locals,E++,F=D[E];if(!L&&v(b,j,H,f))return b.self.reloadOnSearch!==!1&&p.update(),x.transition=null,e.when(x.current);if(c=k(b.params.$$keys(),c||{}),f.notify&&a.$broadcast("$stateChangeStart",b.self,c,j.self,m).defaultPrevented)return a.$broadcast("$stateChangeCancel",b.self,c,j.self,m),p.update(),z;for(var P=e.when(H),Q=E;Q<D.length;Q++,F=D[Q])H=K[Q]=d(H),P=t(F,c,F===b,P,H,f);var R=x.transition=P.then(function(){var d,e,g;if(x.transition!==R)return u;for(d=n.length-1;d>=E;d--)g=n[d],g.self.onExit&&h.invoke(g.self.onExit,g.self,g.locals.globals),g.locals=null;for(d=E;d<D.length;d++)e=D[d],e.locals=K[d],e.self.onEnter&&h.invoke(e.self.onEnter,e.self,e.locals.globals);return r&&(c["#"]=r),x.transition!==R?u:(x.$current=b,x.current=b.self,x.params=c,N(x.params,o),x.transition=null,f.location&&b.navigable&&p.push(b.navigable.url,b.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===f.location}),f.notify&&a.$broadcast("$stateChangeSuccess",b.self,c,j.self,m),p.update(!0),x.current)},function(d){return x.transition!==R?u:(x.transition=null,g=a.$broadcast("$stateChangeError",b.self,c,j.self,m,d),g.defaultPrevented||p.update(),e.reject(d))});return R},x.is=function(a,b,d){d=M({relative:x.$current},d||{});var e=l(a,d.relative);return G(e)?x.$current!==e?!1:b?j(e.params.$$values(b),o):!0:c},x.includes=function(a,b,d){if(d=M({relative:x.$current},d||{}),I(a)&&q(a)){if(!r(a))return!1;a=x.$current.name}var e=l(a,d.relative);return G(e)?G(x.$current.includes[e.name])?b?j(e.params.$$values(b),o,g(b)):!0:!1:c},x.href=function(a,b,d){d=M({lossy:!0,inherit:!0,absolute:!1,relative:x.$current},d||{});var e=l(a,d.relative);if(!G(e))return null;d.inherit&&(b=i(o,b||{},x.$current,e));var f=e&&d.lossy?e.navigable:e;return f&&f.url!==c&&null!==f.url?p.href(f.url,k(e.params.$$keys().concat("#"),b||{}),{absolute:d.absolute}):null},x.get=function(a,b){if(0===arguments.length)return n(g(y),function(a){return y[a].self});var c=l(a,b||x.$current);return c&&c.self?c.self:null},x}function v(a,b,c,d){return a!==b||(c!==b.locals||d.reload)&&a.self.reloadOnSearch!==!1?void 0:!0}var w,x,y={},z={},A="abstract",B={parent:function(a){if(G(a.parent)&&a.parent)return l(a.parent);var b=/^(.+)\.[^.]+$/.exec(a.name);return b?l(b[1]):w},data:function(a){return a.parent&&a.parent.data&&(a.data=a.self.data=M({},a.parent.data,a.data)),a.data},url:function(a){var b=a.url,c={params:a.params||{}};if(I(b))return"^"==b.charAt(0)?e.compile(b.substring(1),c):(a.parent.navigable||w).url.concat(b,c);if(!b||e.isMatcher(b))return b;throw new Error("Invalid url '"+b+"' in state '"+a+"'")},navigable:function(a){return a.url?a:a.parent?a.parent.navigable:null},ownParams:function(a){var b=a.url&&a.url.params||new O.ParamSet;return L(a.params||{},function(a,c){b[c]||(b[c]=new O.Param(c,null,a,"config"))}),b},params:function(a){return a.parent&&a.parent.params?M(a.parent.params.$$new(),a.ownParams):new O.ParamSet},views:function(a){var b={};return L(G(a.views)?a.views:{"":a},function(c,d){d.indexOf("@")<0&&(d+="@"+a.parent.name),b[d]=c}),b},path:function(a){return a.parent?a.parent.path.concat(a):[]},includes:function(a){var b=a.parent?M({},a.parent.includes):{};return b[a.name]=!0,b},$delegates:{}};w=p({name:"",url:"^",views:null,"abstract":!0}),w.navigable=null,this.decorator=s,this.state=t,this.$get=u,u.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function v(){function a(a,b){return{load:function(c,d){var e,f={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return d=M(f,d),d.view&&(e=b.fromConfig(d.view,d.params,d.locals)),e&&d.notify&&a.$broadcast("$viewContentLoading",d),e}}}this.$get=a,a.$inject=["$rootScope","$templateFactory"]}function w(){var a=!1;this.useAnchorScroll=function(){a=!0},this.$get=["$anchorScroll","$timeout",function(b,c){return a?b:function(a){return c(function(){a[0].scrollIntoView()},0,!1)}}]}function x(a,c,d,e){function f(){return c.has?function(a){return c.has(a)?c.get(a):null}:function(a){try{return c.get(a)}catch(b){return null}}}function g(a,b){var c=function(){return{enter:function(a,b,c){b.after(a),c()},leave:function(a,b){a.remove(),b()}}};if(j)return{enter:function(a,b,c){var d=j.enter(a,null,b,c);d&&d.then&&d.then(c)},leave:function(a,b){var c=j.leave(a,b);c&&c.then&&c.then(b)}};if(i){var d=i&&i(b,a);return{enter:function(a,b,c){d.enter(a,null,b),c()},leave:function(a,b){d.leave(a),b()}}}return c()}var h=f(),i=h("$animator"),j=h("$animate"),k={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(c,f,h){return function(c,f,i){function j(){l&&(l.remove(),l=null),n&&(n.$destroy(),n=null),m&&(r.leave(m,function(){l=null}),l=m,m=null)}function k(g){var k,l=z(c,i,f,e),s=l&&a.$current&&a.$current.locals[l];if(g||s!==o){k=c.$new(),o=a.$current.locals[l];var t=h(k,function(a){r.enter(a,f,function(){n&&n.$emit("$viewContentAnimationEnded"),(b.isDefined(q)&&!q||c.$eval(q))&&d(a)}),j()});m=t,n=k,n.$emit("$viewContentLoaded"),n.$eval(p)}}var l,m,n,o,p=i.onload||"",q=i.autoscroll,r=g(i,c);c.$on("$stateChangeSuccess",function(){k(!1)}),c.$on("$viewContentLoading",function(){k(!1)}),k(!0)}}};return k}function y(a,b,c,d){return{restrict:"ECA",priority:-400,compile:function(e){var f=e.html();return function(e,g,h){var i=c.$current,j=z(e,h,g,d),k=i&&i.locals[j];if(k){g.data("$uiView",{name:j,state:k.$$state}),g.html(k.$template?k.$template:f);var l=a(g.contents());if(k.$$controller){k.$scope=e,k.$element=g;var m=b(k.$$controller,k);k.$$controllerAs&&(e[k.$$controllerAs]=m),g.data("$ngControllerController",m),g.children().data("$ngControllerController",m)}l(e)}}}}}function z(a,b,c,d){var e=d(b.uiView||b.name||"")(a),f=c.inheritedData("$uiView");return e.indexOf("@")>=0?e:e+"@"+(f?f.state.name:"")}function A(a,b){var c,d=a.match(/^\s*({[^}]*})\s*$/);if(d&&(a=b+"("+d[1]+")"),c=a.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!c||4!==c.length)throw new Error("Invalid state ref '"+a+"'");return{state:c[1],paramExpr:c[3]||null}}function B(a){var b=a.parent().inheritedData("$uiView");return b&&b.state&&b.state.name?b.state:void 0}function C(a,c){var d=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(e,f,g,h){var i=A(g.uiSref,a.current.name),j=null,k=B(f)||a.$current,l="[object SVGAnimatedString]"===Object.prototype.toString.call(f.prop("href"))?"xlink:href":"href",m=null,n="A"===f.prop("tagName").toUpperCase(),o="FORM"===f[0].nodeName,p=o?"action":l,q=!0,r={relative:k,inherit:!0},s=e.$eval(g.uiSrefOpts)||{};b.forEach(d,function(a){a in s&&(r[a]=s[a])});var t=function(c){if(c&&(j=b.copy(c)),q){m=a.href(i.state,j,r);var d=h[1]||h[0];return d&&d.$$addStateInfo(i.state,j),null===m?(q=!1,!1):void g.$set(p,m)}};i.paramExpr&&(e.$watch(i.paramExpr,function(a){a!==j&&t(a)},!0),j=b.copy(e.$eval(i.paramExpr))),t(),o||f.bind("click",function(b){var d=b.which||b.button;if(!(d>1||b.ctrlKey||b.metaKey||b.shiftKey||f.attr("target"))){var e=c(function(){a.go(i.state,j,r)});b.preventDefault();var g=n&&!m?1:0;b.preventDefault=function(){g--<=0&&c.cancel(e)}}})}}}function D(a,b,c){return{restrict:"A",controller:["$scope","$element","$attrs",function(b,d,e){function f(){g()?d.addClass(i):d.removeClass(i)}function g(){for(var a=0;a<j.length;a++)if(h(j[a].state,j[a].params))return!0;return!1}function h(b,c){return"undefined"!=typeof e.uiSrefActiveEq?a.is(b.name,c):a.includes(b.name,c)}var i,j=[];i=c(e.uiSrefActiveEq||e.uiSrefActive||"",!1)(b),this.$$addStateInfo=function(b,c){var e=a.get(b,B(d));j.push({state:e||{name:b},params:c}),f()},b.$on("$stateChangeSuccess",f)}]}}function E(a){var b=function(b){return a.is(b)};return b.$stateful=!0,b}function F(a){var b=function(b){return a.includes(b)};return b.$stateful=!0,b}var G=b.isDefined,H=b.isFunction,I=b.isString,J=b.isObject,K=b.isArray,L=b.forEach,M=b.extend,N=b.copy;b.module("ui.router.util",["ng"]),b.module("ui.router.router",["ui.router.util"]),b.module("ui.router.state",["ui.router.router","ui.router.util"]),b.module("ui.router",["ui.router.state"]),b.module("ui.router.compat",["ui.router"]),o.$inject=["$q","$injector"],b.module("ui.router.util").service("$resolve",o),p.$inject=["$http","$templateCache","$injector"],b.module("ui.router.util").service("$templateFactory",p);var O;q.prototype.concat=function(a,b){var c={caseInsensitive:O.caseInsensitive(),strict:O.strictMode(),squash:O.defaultSquashPolicy()};return new q(this.sourcePath+a+this.sourceSearch,M(c,b),this)},q.prototype.toString=function(){return this.source},q.prototype.exec=function(a,b){function c(a){function b(a){return a.split("").reverse().join("")}function c(a){return a.replace(/\\-/g,"-")}var d=b(a).split(/-(?!\\)/),e=n(d,b);return n(e,c).reverse()}var d=this.regexp.exec(a);if(!d)return null;b=b||{};var e,f,g,h=this.parameters(),i=h.length,j=this.segments.length-1,k={};if(j!==d.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(e=0;j>e;e++){g=h[e];var l=this.params[g],m=d[e+1];for(f=0;f<l.replace;f++)l.replace[f].from===m&&(m=l.replace[f].to);m&&l.array===!0&&(m=c(m)),k[g]=l.value(m)}for(;i>e;e++)g=h[e],k[g]=this.params[g].value(b[g]);return k},q.prototype.parameters=function(a){return G(a)?this.params[a]||null:this.$$paramNames},q.prototype.validates=function(a){return this.params.$$validates(a)},q.prototype.format=function(a){function b(a){return encodeURIComponent(a).replace(/-/g,function(a){return"%5C%"+a.charCodeAt(0).toString(16).toUpperCase()})}a=a||{};var c=this.segments,d=this.parameters(),e=this.params;if(!this.validates(a))return null;var f,g=!1,h=c.length-1,i=d.length,j=c[0];for(f=0;i>f;f++){var k=h>f,l=d[f],m=e[l],o=m.value(a[l]),p=m.isOptional&&m.type.equals(m.value(),o),q=p?m.squash:!1,r=m.type.encode(o);if(k){var s=c[f+1];if(q===!1)null!=r&&(j+=K(r)?n(r,b).join("-"):encodeURIComponent(r)),j+=s;else if(q===!0){var t=j.match(/\/$/)?/\/?(.*)/:/(.*)/;j+=s.match(t)[1]}else I(q)&&(j+=q+s)}else{if(null==r||p&&q!==!1)continue;K(r)||(r=[r]),r=n(r,encodeURIComponent).join("&"+l+"="),j+=(g?"&":"?")+(l+"="+r),g=!0}}return j},r.prototype.is=function(){return!0},r.prototype.encode=function(a){return a},r.prototype.decode=function(a){return a},r.prototype.equals=function(a,b){return a==b},r.prototype.$subPattern=function(){var a=this.pattern.toString();return a.substr(1,a.length-2)},r.prototype.pattern=/.*/,r.prototype.toString=function(){return"{Type:"+this.name+"}"},r.prototype.$normalize=function(a){return this.is(a)?a:this.decode(a)},r.prototype.$asArray=function(a,b){function d(a,b){function d(a,b){return function(){return a[b].apply(a,arguments)}}function e(a){return K(a)?a:G(a)?[a]:[]}function f(a){switch(a.length){case 0:return c;case 1:return"auto"===b?a[0]:a;default:return a}}function g(a){return!a}function h(a,b){return function(c){c=e(c);var d=n(c,a);return b===!0?0===m(d,g).length:f(d)}}function i(a){return function(b,c){var d=e(b),f=e(c);if(d.length!==f.length)return!1;for(var g=0;g<d.length;g++)if(!a(d[g],f[g]))return!1;return!0}}this.encode=h(d(a,"encode")),this.decode=h(d(a,"decode")),this.is=h(d(a,"is"),!0),this.equals=i(d(a,"equals")),this.pattern=a.pattern,this.$normalize=h(d(a,"$normalize")),this.name=a.name,this.$arrayMode=b}if(!a)return this;if("auto"===a&&!b)throw new Error("'auto' array mode is for query parameters only");return new d(this,a)},b.module("ui.router.util").provider("$urlMatcherFactory",s),b.module("ui.router.util").run(["$urlMatcherFactory",function(){}]),t.$inject=["$locationProvider","$urlMatcherFactoryProvider"],b.module("ui.router.router").provider("$urlRouter",t),u.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],b.module("ui.router.state").value("$stateParams",{}).provider("$state",u),v.$inject=[],b.module("ui.router.state").provider("$view",v),b.module("ui.router.state").provider("$uiViewScroll",w),x.$inject=["$state","$injector","$uiViewScroll","$interpolate"],y.$inject=["$compile","$controller","$state","$interpolate"],b.module("ui.router.state").directive("uiView",x),b.module("ui.router.state").directive("uiView",y),C.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],b.module("ui.router.state").directive("uiSref",C).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),E.$inject=["$state"],F.$inject=["$state"],b.module("ui.router.state").filter("isState",E).filter("includedByState",F)}(window,window.angular),function(a,b,c){"use strict";b.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function(a,d){function e(){var a,e,f,i;for(a in h)k(g[a])&&d.cookies(a,c);for(a in g)e=g[a],b.isString(e)||(e=""+e,g[a]=e),e!==h[a]&&(d.cookies(a,e),i=!0);if(i){i=!1,f=d.cookies();for(a in g)g[a]!==f[a]&&(k(f[a])?delete g[a]:g[a]=f[a],i=!0)}}var f,g={},h={},i=!1,j=b.copy,k=b.isUndefined;return d.addPollFn(function(){var b=d.cookies();f!=b&&(f=b,j(b,h),j(b,g),i&&a.$apply())})(),i=!0,a.$watch(e),g}]).factory("$cookieStore",["$cookies",function(a){return{get:function(c){var d=a[c];return d?b.fromJson(d):d},put:function(c,d){a[c]=b.toJson(d)},remove:function(b){delete a[b]}}}])}(window,window.angular),function(a,b,c){"use strict";function d(a){var c=[];return i(c,b.noop).chars(a),c.join("")}function e(a){var b={};a=a.split(",");var c;for(c=0;c<a.length;c++)b[a[c]]=!0;return b}function f(a,c){function d(a,d,f,h){if(d=b.lowercase(d),w[d])for(;s.last()&&x[s.last()];)e("",s.last());v[d]&&s.last()==d&&e("",d),(h=u[d]||!!h)||s.push(d);var i={};f.replace(m,function(a,b,c,d,e){i[b]=g(c||d||e||"")}),c.start&&c.start(d,i,h)}function e(a,d){var e,f=0;if(d=b.lowercase(d))for(f=s.length-1;f>=0&&s[f]!=d;f--);if(f>=0){for(e=s.length-1;e>=f;e--)c.end&&c.end(s[e]);s.length=f}}"string"!=typeof a&&(a=null===a||"undefined"==typeof a?"":""+a);var f,h,i,s=[],t=a;for(s.last=function(){return s[s.length-1]};a;){if(i="",h=!0,s.last()&&y[s.last()]?(a=a.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+s.last()+"[^>]*>","i"),function(a,b){return b=b.replace(p,"$1").replace(r,"$1"),c.chars&&c.chars(g(b)),""}),e("",s.last())):(0===a.indexOf("<!--")?(f=a.indexOf("--",4),f>=0&&a.lastIndexOf("-->",f)===f&&(c.comment&&c.comment(a.substring(4,f)),a=a.substring(f+3),h=!1)):q.test(a)?(f=a.match(q))&&(a=a.replace(f[0],""),h=!1):o.test(a)?(f=a.match(l))&&(a=a.substring(f[0].length),f[0].replace(l,e),h=!1):n.test(a)&&((f=a.match(k))?(f[4]&&(a=a.substring(f[0].length),f[0].replace(k,d)),h=!1):(i+="<",a=a.substring(1))),h&&(f=a.indexOf("<"),i+=0>f?a:a.substring(0,f),a=0>f?"":a.substring(f),c.chars&&c.chars(g(i)))),a==t)throw j("badparse",a);t=a}e()}function g(a){return a?(C.innerHTML=a.replace(/</g,"&lt;"),C.textContent):""}function h(a){return a.replace(/&/g,"&amp;").replace(s,function(a){var b=a.charCodeAt(0);return a=a.charCodeAt(1),"&#"+(1024*(b-55296)+(a-56320)+65536)+";"}).replace(t,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function i(a,c){var d=!1,e=b.bind(a,a.push);return{start:function(a,f,g){a=b.lowercase(a),!d&&y[a]&&(d=a),d||!0!==z[a]||(e("<"),e(a),b.forEach(f,function(d,f){var g=b.lowercase(f),i="img"===a&&"src"===g||"background"===g;!0!==B[g]||!0===A[g]&&!c(d,i)||(e(" "),e(f),e('="'),e(h(d)),e('"'))}),e(g?"/>":">"))},end:function(a){a=b.lowercase(a),d||!0!==z[a]||(e("</"),e(a),e(">")),a==d&&(d=!1)},chars:function(a){d||e(h(a))}}}var j=b.$$minErr("$sanitize"),k=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,l=/^<\/\s*([\w:-]+)[^>]*>/,m=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,n=/^</,o=/^<\//,p=/\x3c!--(.*?)--\x3e/g,q=/<!DOCTYPE([^>]*?)>/i,r=/<!\[CDATA\[(.*?)]]\x3e/g,s=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,t=/([^\#-~| |!])/g,u=e("area,br,col,hr,img,wbr");a=e("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),c=e("rp,rt");var v=b.extend({},c,a),w=b.extend({},a,e("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),x=b.extend({},c,e("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var"));a=e("animate,animateColor,animateMotion,animateTransform,circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,set,stop,svg,switch,text,title,tspan,use");var y=e("script,style"),z=b.extend({},u,w,x,v,a),A=e("background,cite,href,longdesc,src,usemap,xlink:href");a=e("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,target,title,type,valign,value,vspace,width"),c=e("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,attributeName,attributeType,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan");var B=b.extend({},A,c,a),C=document.createElement("pre");b.module("ngSanitize",[]).provider("$sanitize",function(){this.$get=["$$sanitizeUri",function(a){return function(b){var c=[];return f(b,i(c,function(b,c){return!/^unsafe/.test(a(b,c))})),c.join("")}}]}),b.module("ngSanitize").filter("linky",["$sanitize",function(a){var c=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/,e=/^mailto:/;return function(f,g){function h(a){a&&n.push(d(a))}function i(a,c){n.push("<a "),b.isDefined(g)&&n.push('target="',g,'" '),n.push('href="',a.replace(/"/g,"&quot;"),'">'),h(c),n.push("</a>")}if(!f)return f;for(var j,k,l,m=f,n=[];j=m.match(c);)k=j[0],j[2]||j[4]||(k=(j[3]?"http://":"mailto:")+k),l=j.index,h(m.substr(0,l)),i(k,j[0].replace(e,"")),m=m.substring(l+j[0].length);return h(m),a(n.join(""))}}])}(window,window.angular),!function(a,b){"undefined"!=typeof module&&module.exports?module.exports=b(require("angular")):"function"==typeof define&&define.amd?define(["angular"],b):b(a.angular)}(this,function(a){"use strict";var b=a.module("ngDialog",[]),c=a.element,d=a.isDefined,e=(document.body||document.documentElement).style,f=d(e.animation)||d(e.WebkitAnimation)||d(e.MozAnimation)||d(e.MsAnimation)||d(e.OAnimation),g="animationend webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend",h="a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]",i=!1,j={},k=[],l=!1;return b.provider("ngDialog",function(){var b=this.defaults={className:"ngdialog-theme-default",plain:!1,showClose:!0,closeByDocument:!0,closeByEscape:!0,closeByNavigation:!1,appendTo:!1,preCloseCallback:!1,overlay:!0,cache:!0,trapFocus:!0,preserveFocus:!0,ariaAuto:!0,ariaRole:null,ariaLabelledById:null,ariaLabelledBySelector:null,ariaDescribedById:null,ariaDescribedBySelector:null};this.setForceBodyReload=function(a){i=a||!1},this.setDefaults=function(c){a.extend(b,c)};var d,e=0,m=0,n={};this.$get=["$document","$templateCache","$compile","$q","$http","$rootScope","$timeout","$window","$controller","$injector",function(o,p,q,r,s,t,u,v,w,x){var y=o.find("body");i&&t.$on("$locationChangeSuccess",function(){y=o.find("body")});var z={onDocumentKeydown:function(a){27===a.keyCode&&A.close("$escape")},activate:function(a){var b=a.data("$ngDialogOptions");b.trapFocus&&(a.on("keydown",z.onTrapFocusKeydown),y.on("keydown",z.onTrapFocusKeydown))},deactivate:function(a){a.off("keydown",z.onTrapFocusKeydown),y.off("keydown",z.onTrapFocusKeydown)},deactivateAll:function(){a.forEach(function(b){var c=a.element(b);z.deactivate(c)})},setBodyPadding:function(a){var b=parseInt(y.css("padding-right")||0,10);y.css("padding-right",b+a+"px"),y.data("ng-dialog-original-padding",b)},resetBodyPadding:function(){var a=y.data("ng-dialog-original-padding");a?y.css("padding-right",a+"px"):y.css("padding-right","")},performCloseDialog:function(a,b){var c=a.attr("id"),e=j[c];if(e){if("undefined"!=typeof v.Hammer){var h=e.hammerTime;h.off("tap",d),h.destroy&&h.destroy(),delete e.hammerTime}else a.unbind("click");1===m&&y.unbind("keydown"),a.hasClass("ngdialog-closing")||(m-=1);var i=a.data("$ngDialogPreviousFocus");i&&i.focus(),t.$broadcast("ngDialog.closing",a),m=0>m?0:m,f?(e.$destroy(),a.unbind(g).bind(g,function(){a.remove(),0===m&&(y.removeClass("ngdialog-open"),z.resetBodyPadding()),t.$broadcast("ngDialog.closed",a)}).addClass("ngdialog-closing")):(e.$destroy(),a.remove(),0===m&&(y.removeClass("ngdialog-open"),z.resetBodyPadding()),t.$broadcast("ngDialog.closed",a)),n[c]&&(n[c].resolve({id:c,value:b,$dialog:a,remainingDialogs:m}),delete n[c]),j[c]&&delete j[c],k.splice(k.indexOf(c),1),k.length||(y.unbind("keydown",z.onDocumentKeydown),l=!1)}},closeDialog:function(b,c){var d=b.data("$ngDialogPreCloseCallback");if(d&&a.isFunction(d)){var e=d.call(b,c);a.isObject(e)?e.closePromise?e.closePromise.then(function(){z.performCloseDialog(b,c)}):e.then(function(){z.performCloseDialog(b,c)},function(){}):e!==!1&&z.performCloseDialog(b,c)}else z.performCloseDialog(b,c)},onTrapFocusKeydown:function(b){var c,d=a.element(b.currentTarget);if(d.hasClass("ngdialog"))c=d;else if(c=z.getActiveDialog(),null===c)return;var e=9===b.keyCode,f=b.shiftKey===!0;e&&z.handleTab(c,b,f)},handleTab:function(a,b,c){var d=z.getFocusableElements(a);if(0===d.length)return void(document.activeElement&&document.activeElement.blur());var e=document.activeElement,f=Array.prototype.indexOf.call(d,e),g=-1===f,h=0===f,i=f===d.length-1,j=!1;c?(g||h)&&(d[d.length-1].focus(),j=!0):(g||i)&&(d[0].focus(),j=!0),j&&(b.preventDefault(),b.stopPropagation())},autoFocus:function(a){var b=a[0],d=b.querySelector("*[autofocus]");if(null===d||(d.focus(),document.activeElement!==d)){var e=z.getFocusableElements(a);if(e.length>0)return void e[0].focus();var f=z.filterVisibleElements(b.querySelectorAll("h1,h2,h3,h4,h5,h6,p,span"));if(f.length>0){var g=f[0];c(g).attr("tabindex","-1").css("outline","0"),g.focus()}}},getFocusableElements:function(a){var b=a[0],c=b.querySelectorAll(h);return z.filterVisibleElements(c)},filterVisibleElements:function(a){for(var b=[],c=0;c<a.length;c++){var d=a[c];(d.offsetWidth>0||d.offsetHeight>0)&&b.push(d)}return b},getActiveDialog:function(){var a=document.querySelectorAll(".ngdialog");return 0===a.length?null:c(a[a.length-1])},applyAriaAttributes:function(a,b){if(b.ariaAuto){if(!b.ariaRole){var c=z.getFocusableElements(a).length>0?"dialog":"alertdialog";b.ariaRole=c}b.ariaLabelledBySelector||(b.ariaLabelledBySelector="h1,h2,h3,h4,h5,h6"),b.ariaDescribedBySelector||(b.ariaDescribedBySelector="article,section,p")}b.ariaRole&&a.attr("role",b.ariaRole),z.applyAriaAttribute(a,"aria-labelledby",b.ariaLabelledById,b.ariaLabelledBySelector),z.applyAriaAttribute(a,"aria-describedby",b.ariaDescribedById,b.ariaDescribedBySelector)},applyAriaAttribute:function(a,b,d,e){if(d&&a.attr(b,d),e){var f=a.attr("id"),g=a[0].querySelector(e);if(!g)return;var h=f+"-"+b;return c(g).attr("id",h),a.attr(b,h),h}}},A={open:function(f){function g(a,b){return s.get(a,b||{}).then(function(a){return a.data||""})}function h(b){return b?a.isString(b)&&i.plain?b:"boolean"!=typeof i.cache||i.cache?p.get(b)||g(b,{cache:!0}):g(b,{cache:!1}):"Empty template"}var i=a.copy(b),o=++e,B="ngdialog"+o;k.push(B),f=f||{},a.extend(i,f);var C;n[B]=C=r.defer();var D;j[B]=D=a.isObject(i.scope)?i.scope.$new():t.$new();var E,F,G=a.extend({},i.resolve);return a.forEach(G,function(b,c){G[c]=a.isString(b)?x.get(b):x.invoke(b,null,null,c)}),r.all({template:h(i.template||i.templateUrl),locals:r.all(G)}).then(function(b){var e=b.template,f=b.locals;if(p.put(i.template||i.templateUrl,e),i.showClose&&(e+='<div class="ngdialog-close"></div>'),E=c('<div id="ngdialog'+o+'" class="ngdialog"></div>'),E.html(i.overlay?'<div class="ngdialog-overlay"></div><div class="ngdialog-content" role="document">'+e+"</div>":'<div class="ngdialog-content" role="document">'+e+"</div>"),E.data("$ngDialogOptions",i),i.data&&a.isString(i.data)){var g=i.data.replace(/^\s*/,"")[0];D.ngDialogData="{"===g||"["===g?a.fromJson(i.data):i.data}else i.data&&a.isObject(i.data)&&(D.ngDialogData=i.data);if(i.controller&&(a.isString(i.controller)||a.isArray(i.controller)||a.isFunction(i.controller))){var h=i.controller;i.controllerAs&&a.isString(i.controllerAs)&&(h+=" as "+i.controllerAs);var j=w(h,a.extend(f,{$scope:D,$element:E}));E.data("$ngDialogControllerController",j)}if(i.className&&E.addClass(i.className),F=i.appendTo&&a.isString(i.appendTo)?a.element(document.querySelector(i.appendTo)):y,z.applyAriaAttributes(E,i),i.preCloseCallback){var k;a.isFunction(i.preCloseCallback)?k=i.preCloseCallback:a.isString(i.preCloseCallback)&&D&&(a.isFunction(D[i.preCloseCallback])?k=D[i.preCloseCallback]:D.$parent&&a.isFunction(D.$parent[i.preCloseCallback])?k=D.$parent[i.preCloseCallback]:t&&a.isFunction(t[i.preCloseCallback])&&(k=t[i.preCloseCallback])),
k&&E.data("$ngDialogPreCloseCallback",k)}if(D.closeThisDialog=function(a){z.closeDialog(E,a)},u(function(){var a=document.querySelectorAll(".ngdialog");z.deactivateAll(a),q(E)(D);var b=v.innerWidth-y.prop("clientWidth");y.addClass("ngdialog-open");var c=b-(v.innerWidth-y.prop("clientWidth"));c>0&&z.setBodyPadding(c),F.append(E),z.activate(E),i.trapFocus&&z.autoFocus(E),i.name?t.$broadcast("ngDialog.opened",{dialog:E,name:i.name}):t.$broadcast("ngDialog.opened",E)}),l||(y.bind("keydown",z.onDocumentKeydown),l=!0),i.closeByNavigation&&t.$on("$locationChangeSuccess",function(){z.closeDialog(E)}),i.preserveFocus&&E.data("$ngDialogPreviousFocus",document.activeElement),d=function(a){var b=i.closeByDocument?c(a.target).hasClass("ngdialog-overlay"):!1,d=c(a.target).hasClass("ngdialog-close");(b||d)&&A.close(E.attr("id"),d?"$closeButton":"$document")},"undefined"!=typeof v.Hammer){var n=D.hammerTime=v.Hammer(E[0]);n.on("tap",d)}else E.bind("click",d);return m+=1,A}),{id:B,closePromise:C.promise,close:function(a){z.closeDialog(E,a)}}},openConfirm:function(b){var d=r.defer(),e={closeByEscape:!1,closeByDocument:!1};a.extend(e,b),e.scope=a.isObject(e.scope)?e.scope.$new():t.$new(),e.scope.confirm=function(a){d.resolve(a);var b=c(document.getElementById(f.id));z.performCloseDialog(b,a)};var f=A.open(e);return f.closePromise.then(function(a){return a?d.reject(a.value):d.reject()}),d.promise},isOpen:function(a){var b=c(document.getElementById(a));return b.length>0},close:function(a,b){var d=c(document.getElementById(a));if(d.length)z.closeDialog(d,b);else if("$escape"===a){var e=k[k.length-1];d=c(document.getElementById(e)),d.data("$ngDialogOptions").closeByEscape&&z.closeDialog(d,b)}return A},closeAll:function(a){for(var b=document.querySelectorAll(".ngdialog"),d=b.length-1;d>=0;d--){var e=b[d];z.closeDialog(c(e),a)}},getDefaults:function(){return b}};return A}]}),b.directive("ngDialog",["ngDialog",function(b){return{restrict:"A",scope:{ngDialogScope:"="},link:function(c,d,e){d.on("click",function(d){d.preventDefault();var f=a.isDefined(c.ngDialogScope)?c.ngDialogScope:"noScope";a.isDefined(e.ngDialogClosePrevious)&&b.close(e.ngDialogClosePrevious);var g=b.getDefaults();b.open({template:e.ngDialog,className:e.ngDialogClass||g.className,controller:e.ngDialogController,controllerAs:e.ngDialogControllerAs,scope:f,data:e.ngDialogData,showClose:"false"===e.ngDialogShowClose?!1:"true"===e.ngDialogShowClose?!0:g.showClose,closeByDocument:"false"===e.ngDialogCloseByDocument?!1:"true"===e.ngDialogCloseByDocument?!0:g.closeByDocument,closeByEscape:"false"===e.ngDialogCloseByEscape?!1:"true"===e.ngDialogCloseByEscape?!0:g.closeByEscape,preCloseCallback:e.ngDialogPreCloseCallback||g.preCloseCallback})})}}}]),b}),function(a,b,c){"use strict";b.module("ngMessages",[]).directive("ngMessages",["$compile","$animate","$templateRequest",function(a,c,d){var e="ng-active",f="ng-inactive";return{restrict:"AE",controller:function(){this.$renderNgMessageClasses=b.noop;var a=[];this.registerMessage=function(b,c){for(var d=0;d<a.length;d++)if(a[d].type==c.type){if(b!=d){var e=a[b];a[b]=a[d],b<a.length?a[d]=e:a.splice(0,d)}return}a.splice(b,0,c)},this.renderMessages=function(c,d){function e(a){return null!==a&&a!==!1&&a}c=c||{};var f;b.forEach(a,function(a){f&&!d||!e(c[a.type])?a.detach():(a.attach(),f=!0)}),this.renderElementClasses(f)}},require:"ngMessages",link:function(g,h,i,j){j.renderElementClasses=function(a){a?c.setClass(h,e,f):c.setClass(h,f,e)};var k,l=b.isString(i.ngMessagesMultiple)||b.isString(i.multiple),m=i.ngMessages||i["for"];g.$watchCollection(m,function(a){k=a,j.renderMessages(a,l)});var n=i.ngMessagesInclude||i.include;n&&d(n).then(function(c){var d,e=b.element("<div/>").html(c);b.forEach(e.children(),function(c){c=b.element(c),d?d.after(c):h.prepend(c),d=c,a(c)(g)}),j.renderMessages(k,l)})}}}]).directive("ngMessage",["$animate",function(a){var b=8;return{require:"^ngMessages",transclude:"element",terminal:!0,restrict:"AE",link:function(c,d,e,f,g){for(var h,i,j=d[0],k=j.parentNode,l=0,m=0;l<k.childNodes.length;l++){var n=k.childNodes[l];if(n.nodeType==b&&n.nodeValue.indexOf("ngMessage")>=0){if(n===j){h=m;break}m++}}f.registerMessage(h,{type:e.ngMessage||e.when,attach:function(){i||g(c,function(b){a.enter(b,null,d),i=b})},detach:function(b){i&&(a.leave(i),i=null)}})}}}])}(window,window.angular),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){"use strict";function b(b){return function(){var c="ngStorage-";this.setKeyPrefix=function(a){if("string"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setKeyPrefix() expects a String.");c=a};var d=a.toJson,e=a.fromJson;this.setSerializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setSerializer expects a function.");d=a},this.setDeserializer=function(a){if("function"!=typeof a)throw new TypeError("[ngStorage] - "+b+"Provider.setDeserializer expects a function.");e=a},this.get=function(a){return e(window[b].getItem(c+a))},this.set=function(a,e){return window[b].setItem(c+a,d(e))},this.$get=["$rootScope","$window","$log","$timeout",function(f,g,h,i){function j(a){var b;try{b=g[a]}catch(c){b=!1}if(b&&"localStorage"===a){var d="__"+Math.round(1e7*Math.random());try{localStorage.setItem(d,d),localStorage.removeItem(d)}catch(c){b=!1}}return b}var k,l,m=c.length,n=j(b)||(h.warn("This browser does not support Web Storage!"),{setItem:a.noop,getItem:a.noop}),o={$default:function(b){for(var c in b)a.isDefined(o[c])||(o[c]=a.copy(b[c]));return o.$sync(),o},$reset:function(a){for(var b in o)"$"===b[0]||delete o[b]&&n.removeItem(c+b);return o.$default(a)},$sync:function(){for(var a,b=0,d=n.length;d>b;b++)(a=n.key(b))&&c===a.slice(0,m)&&(o[a.slice(m)]=e(n.getItem(a)))},$apply:function(){var b;if(l=null,!a.equals(o,k)){b=a.copy(k),a.forEach(o,function(e,f){a.isDefined(e)&&"$"!==f[0]&&(n.setItem(c+f,d(e)),delete b[f])});for(var e in b)n.removeItem(c+e);k=a.copy(o)}}};return o.$sync(),k=a.copy(o),f.$watch(function(){l||(l=i(o.$apply,100,!1))}),g.addEventListener&&g.addEventListener("storage",function(b){c===b.key.slice(0,m)&&(b.newValue?o[b.key.slice(m)]=e(b.newValue):delete o[b.key.slice(m)],k=a.copy(o),f.$apply())}),g.addEventListener&&g.addEventListener("beforeunload",function(){o.$apply()}),o}]}}return a=a&&a.module?a:window.angular,a.module("ngStorage",[]).provider("$localStorage",b("localStorage")).provider("$sessionStorage",b("sessionStorage"))}),function(a,b){return"function"==typeof define&&define.amd?void define("angular-file-upload",["angular"],function(a){return b(a)}):b(a)}("undefined"==typeof angular?null:angular,function(a){var b=a.module("angularFileUpload",[]);return b.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(b,c,d,e,f){function g(c){var d=a.copy(b);a.extend(this,d,c,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function h(b){var c=a.isElement(b),d=c?b.value:b,e=a.isString(d)?"FakePath":"Object",f="_createFrom"+e;this[f](d)}function i(b,c,d){var e=a.isElement(c),f=e?a.element(c):null,h=e?null:c;a.extend(this,{url:b.url,alias:b.alias,headers:a.copy(b.headers),formData:a.copy(b.formData),removeAfterUpload:b.removeAfterUpload,withCredentials:b.withCredentials,method:b.method},d,{uploader:b,file:new g.FileLikeObject(c),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:h,_input:f}),f&&this._replaceNode(f)}function j(b){a.extend(this,b),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function k(a){k.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function l(a){l.super_.apply(this,arguments)}function m(a){m.super_.apply(this,arguments)}return g.prototype.isHTML5=!(!e.File||!e.FormData),g.prototype.addToQueue=function(b,c,d){var e=this.isArrayLikeObject(b)?b:[b],f=this._getFilters(d),h=this.queue.length,i=[];a.forEach(e,function(a){var b=new g.FileLikeObject(a);if(this._isValidFile(b,f,c)){var d=new g.FileItem(this,a,c);i.push(d),this.queue.push(d),this._onAfterAddingFile(d)}else{var e=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(b,e,c)}},this),this.queue.length!==h&&(this._onAfterAddingAll(i),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},g.prototype.removeFromQueue=function(a){var b=this.getIndexOfItem(a),c=this.queue[b];c.isUploading&&c.cancel(),this.queue.splice(b,1),c._destroy(),this.progress=this._getTotalProgress()},g.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},g.prototype.uploadItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhrTransport":"_iframeTransport";c._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[d](c))},g.prototype.cancelItem=function(a){var b=this.getIndexOfItem(a),c=this.queue[b],d=this.isHTML5?"_xhr":"_form";c&&c.isUploading&&c[d].abort()},g.prototype.uploadAll=function(){var b=this.getNotUploadedItems().filter(function(a){return!a.isUploading});b.length&&(a.forEach(b,function(a){a._prepareToUploading()}),b[0].upload())},g.prototype.cancelAll=function(){var b=this.getNotUploadedItems();a.forEach(b,function(a){a.cancel()})},g.prototype.isFile=function(a){var b=e.File;return b&&a instanceof b},g.prototype.isFileLikeObject=function(a){return a instanceof g.FileLikeObject},g.prototype.isArrayLikeObject=function(b){return a.isObject(b)&&"length"in b},g.prototype.getIndexOfItem=function(b){return a.isNumber(b)?b:this.queue.indexOf(b)},g.prototype.getNotUploadedItems=function(){return this.queue.filter(function(a){return!a.isUploaded})},g.prototype.getReadyItems=function(){return this.queue.filter(function(a){return a.isReady&&!a.isUploading}).sort(function(a,b){return a.index-b.index})},g.prototype.destroy=function(){a.forEach(this._directives,function(b){a.forEach(this._directives[b],function(a){a.destroy()},this)},this)},g.prototype.onAfterAddingAll=function(a){},g.prototype.onAfterAddingFile=function(a){},g.prototype.onWhenAddingFileFailed=function(a,b,c){},g.prototype.onBeforeUploadItem=function(a){},g.prototype.onProgressItem=function(a,b){},g.prototype.onProgressAll=function(a){},g.prototype.onSuccessItem=function(a,b,c,d){},g.prototype.onErrorItem=function(a,b,c,d){},g.prototype.onCancelItem=function(a,b,c,d){},g.prototype.onCompleteItem=function(a,b,c,d){},g.prototype.onCompleteAll=function(){},g.prototype._getTotalProgress=function(a){if(this.removeAfterUpload)return a||0;var b=this.getNotUploadedItems().length,c=b?this.queue.length-b:this.queue.length,d=100/this.queue.length,e=(a||0)*d/100;return Math.round(c*d+e)},g.prototype._getFilters=function(b){if(a.isUndefined(b))return this.filters;if(a.isArray(b))return b;var c=b.match(/[^\s,]+/g);return this.filters.filter(function(a){return-1!==c.indexOf(a.name)},this)},g.prototype._render=function(){c.$$phase||c.$apply()},g.prototype._folderFilter=function(a){return!(!a.size&&!a.type)},g.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},g.prototype._isValidFile=function(a,b,c){return this._failFilterIndex=-1,b.length?b.every(function(b){return this._failFilterIndex++,b.fn.call(this,a,c)},this):!0},g.prototype._isSuccessCode=function(a){return a>=200&&300>a||304===a},g.prototype._transformResponse=function(b,c){var e=this._headersGetter(c);return a.forEach(d.defaults.transformResponse,function(a){b=a(b,e)}),b},g.prototype._parseHeaders=function(b){var c,d,e,f={};return b?(a.forEach(b.split("\n"),function(a){e=a.indexOf(":"),c=a.slice(0,e).trim().toLowerCase(),d=a.slice(e+1).trim(),c&&(f[c]=f[c]?f[c]+", "+d:d)}),f):f},g.prototype._headersGetter=function(a){return function(b){return b?a[b.toLowerCase()]||null:a}},g.prototype._SetHeader=function(a,c){b.headeObject=b.headeObject||{},b.headeObject[a]=c},g.prototype._xhrTransport=function(c){var d=c._xhr=new XMLHttpRequest,e=new FormData,f=this;f._onBeforeUploadItem(c),a.forEach(c.formData,function(b){a.forEach(b,function(a,b){e.append(b,a)})}),e.append(c.alias,c._file,c.file.name),d.upload.onprogress=function(a){var b=Math.round(a.lengthComputable?100*a.loaded/a.total:0);f._onProgressItem(c,b)},d.onload=function(){var a=f._parseHeaders(d.getAllResponseHeaders()),b=f._transformResponse(d.response,a),e=f._isSuccessCode(d.status)?"Success":"Error",g="_on"+e+"Item";f[g](c,b,d.status,a),f._onCompleteItem(c,b,d.status,a)},d.onerror=function(){var a=f._parseHeaders(d.getAllResponseHeaders()),b=f._transformResponse(d.response,a);f._onErrorItem(c,b,d.status,a),f._onCompleteItem(c,b,d.status,a)},d.onabort=function(){var a=f._parseHeaders(d.getAllResponseHeaders()),b=f._transformResponse(d.response,a);f._onCancelItem(c,b,d.status,a),f._onCompleteItem(c,b,d.status,a)},d.open(c.method,c.url,!0),d.withCredentials=c.withCredentials,a.forEach(c.headers,function(a,b){d.setRequestHeader(b,a)}),a.forEach(b.headeObject,function(a,b){d.setRequestHeader(b,a)}),b.headeObject={},d.send(e),this._render()},g.prototype._iframeTransport=function(b){var c=a.element('<form style="display: none;" />'),d=a.element('<iframe name="iframeTransport'+Date.now()+'">'),e=b._input,f=this;b._form&&b._form.replaceWith(e),b._form=c,f._onBeforeUploadItem(b),e.prop("name",b.alias),a.forEach(b.formData,function(b){a.forEach(b,function(b,d){var e=a.element('<input type="hidden" name="'+d+'" />');e.val(b),c.append(e)})}),c.prop({action:b.url,method:"POST",target:d.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),d.bind("load",function(){try{var a=d[0].contentDocument.body.innerHTML}catch(c){}var e={response:a,status:200,dummy:!0},g={},h=f._transformResponse(e.response,g);f._onSuccessItem(b,h,e.status,g),f._onCompleteItem(b,h,e.status,g)}),c.abort=function(){var a,g={status:0,dummy:!0},h={};d.unbind("load").prop("src","javascript:false;"),c.replaceWith(e),f._onCancelItem(b,a,g.status,h),f._onCompleteItem(b,a,g.status,h)},e.after(c),c.append(e).append(d),c[0].submit(),this._render()},g.prototype._onWhenAddingFileFailed=function(a,b,c){this.onWhenAddingFileFailed(a,b,c)},g.prototype._onAfterAddingFile=function(a){this.onAfterAddingFile(a)},g.prototype._onAfterAddingAll=function(a){this.onAfterAddingAll(a)},g.prototype._onBeforeUploadItem=function(a){a._onBeforeUpload(),this.onBeforeUploadItem(a)},g.prototype._onProgressItem=function(a,b){var c=this._getTotalProgress(b);this.progress=c,a._onProgress(b),this.onProgressItem(a,b),this.onProgressAll(c),this._render()},g.prototype._onSuccessItem=function(a,b,c,d){a._onSuccess(b,c,d),this.onSuccessItem(a,b,c,d)},g.prototype._onErrorItem=function(a,b,c,d){a._onError(b,c,d),this.onErrorItem(a,b,c,d)},g.prototype._onCancelItem=function(a,b,c,d){a._onCancel(b,c,d),this.onCancelItem(a,b,c,d)},g.prototype._onCompleteItem=function(b,c,d,e){b._onComplete(c,d,e),this.onCompleteItem(b,c,d,e);var f=this.getReadyItems()[0];return this.isUploading=!1,a.isDefined(f)?void f.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),void this._render())},g.isFile=g.prototype.isFile,g.isFileLikeObject=g.prototype.isFileLikeObject,g.isArrayLikeObject=g.prototype.isArrayLikeObject,g.isHTML5=g.prototype.isHTML5,g.inherit=function(a,b){a.prototype=Object.create(b.prototype),a.prototype.constructor=a,a.super_=b},g.FileLikeObject=h,g.FileItem=i,g.FileDirective=j,g.FileSelect=k,g.FileDrop=l,g.FileOver=m,h.prototype._createFromFakePath=function(a){this.lastModifiedDate=null,this.size=null,this.type="like/"+a.slice(a.lastIndexOf(".")+1).toLowerCase(),this.name=a.slice(a.lastIndexOf("/")+a.lastIndexOf("\\")+2)},h.prototype._createFromObject=function(b){this.lastModifiedDate=a.copy(b.lastModifiedDate),this.size=b.size,this.type=b.type,this.name=b.name},i.prototype.upload=function(){this.uploader.uploadItem(this)},i.prototype.cancel=function(){this.uploader.cancelItem(this)},i.prototype.remove=function(){this.uploader.removeFromQueue(this)},i.prototype.onBeforeUpload=function(){},i.prototype.onProgress=function(a){},i.prototype.onSuccess=function(a,b,c){},i.prototype.onError=function(a,b,c){},i.prototype.onCancel=function(a,b,c){},i.prototype.onComplete=function(a,b,c){},i.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},i.prototype._onProgress=function(a){this.progress=a,this.onProgress(a)},i.prototype._onSuccess=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(a,b,c)},i.prototype._onError=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(a,b,c)},i.prototype._onCancel=function(a,b,c){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(a,b,c)},i.prototype._onComplete=function(a,b,c){this.onComplete(a,b,c),this.removeAfterUpload&&this.remove()},i.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},i.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},i.prototype._replaceNode=function(a){var b=f(a.clone())(a.scope());b.prop("value",null),a.css("display","none"),a.after(b)},j.prototype.events={},j.prototype.bind=function(){for(var a in this.events){var b=this.events[a];this.element.bind(a,this[b])}},j.prototype.unbind=function(){for(var a in this.events)this.element.unbind(a,this.events[a])},j.prototype.destroy=function(){var a=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(a,1),this.unbind()},j.prototype._saveLinks=function(){for(var a in this.events){var b=this.events[a];this[b]=this[b].bind(this)}},g.inherit(k,j),k.prototype.events={$destroy:"destroy",change:"onChange"},k.prototype.prop="select",k.prototype.getOptions=function(){},k.prototype.getFilters=function(){},k.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},k.prototype.onChange=function(){var a=this.uploader.isHTML5?this.element[0].files:this.element[0],b=this.getOptions(),c=this.getFilters();console.log(a),this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(a,b,c),this.isEmptyAfterSelection()&&this.element.prop("value",null)},g.inherit(l,j),l.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},l.prototype.prop="drop",l.prototype.getOptions=function(){},l.prototype.getFilters=function(){},l.prototype.onDrop=function(b){var c=this._getTransfer(b);if(c){var d=this.getOptions(),e=this.getFilters();this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(c.files,d,e)}},l.prototype.onDragOver=function(b){var c=this._getTransfer(b);this._haveFiles(c.types)&&(c.dropEffect="copy",this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._addOverClass,this))},l.prototype.onDragLeave=function(b){b.currentTarget===this.element[0]&&(this._preventAndStop(b),a.forEach(this.uploader._directives.over,this._removeOverClass,this))},l.prototype._getTransfer=function(a){return a.dataTransfer?a.dataTransfer:a.originalEvent.dataTransfer},l.prototype._preventAndStop=function(a){a.preventDefault(),a.stopPropagation()},l.prototype._haveFiles=function(a){return a?a.indexOf?-1!==a.indexOf("Files"):a.contains?a.contains("Files"):!1:!1},l.prototype._addOverClass=function(a){a.addOverClass()},l.prototype._removeOverClass=function(a){a.removeOverClass()},g.inherit(m,j),m.prototype.events={$destroy:"destroy"},m.prototype.prop="over",m.prototype.overClass="nv-file-over",m.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},m.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},m.prototype.getOverClass=function(){return this.overClass},g}]).directive("nvFileSelect",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');var g=new b.FileSelect({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(a,b){return{link:function(c,d,e){var f=c.$eval(e.uploader);if(!(f instanceof b))throw new TypeError('"Uploader" must be an instance of FileUploader');if(f.isHTML5){var g=new b.FileDrop({uploader:f,element:d});g.getOptions=a(e.options).bind(g,c),g.getFilters=function(){return e.filters}}}}}]).directive("nvFileOver",["FileUploader",function(a){return{link:function(b,c,d){var e=b.$eval(d.uploader);if(!(e instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');var f=new a.FileOver({uploader:e,element:c});f.getOverClass=function(){return d.overClass||this.overClass}}}}]),b}),function(){angular.module("validation.rule",["validation"]).config(["$validationProvider",function(a){var b={required:function(a){return 0===a?!0:!!a},url:/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,email:/^([\w-\.]+)@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.)|(([\w-]+\.)+))([a-zA-Z]{2,4}|[0-9]{1,3})(\]?)$/,number:/^\d+$/,minlength:function(a,b,c,d,e){return void 0!=a&&""!=a?a.length>=e:!0},maxlength:function(a,b,c,d,e){return void 0!=a&&""!=a?a.length<=e:!0}};a.setExpression(b).setDefaultMsg({required:{error:"This should be Required!!",success:"It's Required"},url:{error:"This should be Url",success:"It's Url"},email:{error:"This should be Email",success:"It's Email"},number:{error:"This should be Number",success:"It's Number"},minlength:{error:"This should be longer",success:"Long enough!"},maxlength:{error:"This should be shorter",success:"Short enough!"}})}])}.call(this),function(){angular.module("validation",["validation.provider","validation.directive"])}.call(this),function(){angular.module("validation.provider",[]).provider("$validation",function(){var a,b,c,d,e,f=this,g=function(f){a=f,b=a.get("$rootScope"),c=a.get("$http"),d=a.get("$q"),e=a.get("$timeout")},h={},i={};this.setExpression=function(a){return angular.extend(h,a),f},this.getExpression=function(a){return h[a]},this.setDefaultMsg=function(a){return angular.extend(i,a),f},this.getDefaultMsg=function(a){return i[a]},this.setErrorHTML=function(a){return a.constructor===Function?(f.getErrorHTML=a,f):void 0},this.getErrorHTML=function(a){return'<p class="validation-invalid fadeIn animated">'+a+"</p>"},this.setSuccessHTML=function(a){return a.constructor===Function?(f.getSuccessHTML=a,f):void 0},this.getSuccessHTML=function(a){return'<p class="validation-valid">'+a+"</p>"},this.showSuccessMessage=!0,this.showErrorMessage=!0,this.checkValid=function(a){return b.$broadcast("groupInvalid",a),void 0===a.$valid?!1:a&&a.$valid===!0},this.validate=function(a){var c,g,h=d.defer(),i=0;if(void 0===a)return console.error("This is not a regular Form name scope"),h.reject("This is not a regular Form name scope"),h.promise;if(a.validationId)b.$broadcast(a.$name+"submit-"+a.validationId,i++);else if(a.constructor===Array)for(c in a)b.$broadcast(a[c].$name+"submit-"+a[c].validationId,i++);else for(g in a)"$"!==g[0]&&a[g].hasOwnProperty("$dirty")&&b.$broadcast(g+"submit-"+a[g].validationId,i++);return h.promise.success=function(a){return h.promise.then(function(b){a(b)}),h.promise},h.promise.error=function(a){return h.promise.then(null,function(b){a(b)}),h.promise},e(function(){f.checkValid(a)?h.resolve("success"):h.reject("error")}),h.promise},this.validCallback=null,this.invalidCallback=null,this.reset=function(a){var c,d;if(void 0===a)return void console.error("This is not a regular Form name scope");if(a.validationId)b.$broadcast(a.$name+"reset-"+a.validationId);else if(a.constructor===Array)for(c in a)b.$broadcast(a[c].$name+"reset-"+a[c].validationId);else for(d in a)"$"!==d[0]&&a[d].hasOwnProperty("$dirty")&&b.$broadcast(d+"reset-"+a[d].validationId)},this.$get=["$injector",function(a){return g(a),{setErrorHTML:this.setErrorHTML,getErrorHTML:this.getErrorHTML,setSuccessHTML:this.setSuccessHTML,getSuccessHTML:this.getSuccessHTML,setExpression:this.setExpression,getExpression:this.getExpression,setDefaultMsg:this.setDefaultMsg,getDefaultMsg:this.getDefaultMsg,showSuccessMessage:this.showSuccessMessage,showErrorMessage:this.showErrorMessage,checkValid:this.checkValid,validate:this.validate,validCallback:this.validCallback,invalidCallback:this.invalidCallback,reset:this.reset}}]})}.call(this),function(){angular.module("validation.directive",["validation.provider"]).directive("validator",["$injector",function(a){var b=a.get("$validation"),c=a.get("$q"),d=a.get("$timeout"),e=function(a,c,d,e,f){var g,h=c||b.getDefaultMsg(d).success;return g=e.messageId?angular.element(document.querySelector("#"+e.messageId)):a.next(),b.showSuccessMessage&&h?(g.html(b.getSuccessHTML(h)),g.css("display","")):g.css("display","none"),f.$setValidity(f.$name,!0),e.validCallback&&e.validCallback(),b.validCallback&&b.validCallback(a),!0},f=function(a,c,d,e,f){var g,h=c||b.getDefaultMsg(d).error;return g=e.messageId?angular.element(document.querySelector("#"+e.messageId)):a.next(),b.showErrorMessage&&h?(g.html(b.getErrorHTML(h)),g.css("display","")):g.css("display","none"),f.$setValidity(f.$name,!1),e.inValidCallback&&e.inValidCallback(),b.invalidCallback&&b.invalidCallback(a),!1},g=!1,h=function(a,d,g,i,j,k){var l=j.slice(0),m=l[0].trim(),n=m.indexOf("="),o=-1===n?m:m.substr(0,n),p=-1===n?null:m.substr(n+1),q=l.slice(1),r=o+"SuccessMessage",s=o+"ErrorMessage",t=b.getExpression(o),u={success:function(){return e(d,g[r],o,a,i),q.length?h(a,d,g,i,q,k):!0},error:function(){return f(d,g[s],o,a,i)}};return void 0!==t?t.constructor===Function?c.all([b.getExpression(o)(k,a,d,g,p)]).then(function(a){return a&&a.length>0&&a[0]?u.success():u.error()},function(){return u.error()}):t.constructor===RegExp&&void 0!==k&&null!==k&&b.getExpression(o).test(k)?u.success():u.error():void 0},i=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},j=function(){return i()+i()+i()+i()};return{restrict:"A",require:"ngModel",scope:{model:"=ngModel",initialValidity:"=initialValidity",validCallback:"&",invalidCallback:"&",messageId:"@"},link:function(a,b,c,e){var f,i=function(){},k=c.validator.split(","),l=e.validationId=j();"boolean"==typeof a.initialValidity&&(f=a.initialValidity),a.messageId||b.after("<span></span>"),e.$setValidity(e.$name,f),a.$on(e.$name+"reset-"+l,function(){i(),g=!1,e.$setViewValue(""),e.$setPristine(),e.$setValidity(e.$name,void 0),e.$render(),a.messageId?angular.element(document.querySelector("#"+a.messageId)).html(""):b.next().html("")}),function(){return a.$on(e.$name+"submit-"+l,function(d,f){var j=e.$viewValue,l=!1;0===f&&(g=!1),l=h(a,b,c,e,k,j),"submit"===c.validMethod&&(i(),i=a.$watch("model",function(d,f){d!==f&&((void 0===d||null===d)&&(d=""),l=h(a,b,c,e,k,d))})),g||l||(g=!0,b[0].focus())}),"blur"===c.validMethod?void b.bind("blur",function(){var d=e.$viewValue;a.$apply(function(){h(a,b,c,e,k,d)})}):void("submit"!==c.validMethod&&"submit-only"!==c.validMethod&&a.$watch("model",function(d){if(e.$pristine&&e.$viewValue)e.$setViewValue(e.$viewValue);else if(e.$pristine)return void(a.messageId?angular.element(document.querySelector("#"+a.messageId)).html(""):b.next().html(""));h(a,b,c,e,k,d)}))}(),d(function(){c.$observe("noValidationMessage",function(c){var d;d=a.messageId?angular.element(document.querySelector("#"+a.messageId)):b.next(),"true"==c||c===!0?d.css("display","none"):("false"==c||c===!1)&&d.css("display","block")})})}}}]).directive("validationSubmit",["$injector",function(a){var b=a.get("$validation"),c=a.get("$timeout"),d=a.get("$parse");return{priority:1,require:"?ngClick",link:function(a,e,f){var g=d(f.validationSubmit)(a);c(function(){e.off("click"),e.on("click",function(c){c.preventDefault(),b.validate(g).success(function(){d(f.ngClick)(a)})})})}}}]).directive("validationReset",["$injector",function(a){var b=a.get("$validation"),c=a.get("$timeout"),d=a.get("$parse");return{link:function(a,e,f){var g=d(f.validationReset)(a);c(function(){e.on("click",function(a){a.preventDefault(),b.reset(g)})})}}}])}.call(this),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():b()}(this,function(){function a(a){"use strict";var b=a.storageKey(),c=a.storage(),d=function(){var d=a.preferredLanguage();angular.isString(d)?a.use(d):c.put(b,a.use())};d.displayName="fallbackFromIncorrectStorageValue",c?c.get(b)?a.use(c.get(b))["catch"](d):d():angular.isString(a.preferredLanguage())&&a.use(a.preferredLanguage())}function b(){"use strict";var a,b,c,d=null,e=!1,f=!1;c={sanitize:function(a,b){return"text"===b&&(a=h(a)),a},escape:function(a,b){return"text"===b&&(a=g(a)),a},sanitizeParameters:function(a,b){return"params"===b&&(a=j(a,h)),a},escapeParameters:function(a,b){return"params"===b&&(a=j(a,g)),a},sce:function(a,b,c){return"text"===b?a=i(a):"params"===b&&"filter"!==c&&(a=j(a,g)),a},sceParameters:function(a,b){return"params"===b&&(a=j(a,i)),a}},c.escaped=c.escapeParameters,this.addStrategy=function(a,b){return c[a]=b,this},this.removeStrategy=function(a){return delete c[a],this},this.useStrategy=function(a){return e=!0,d=a,this},this.$get=["$injector","$log",function(g,h){var i={},j=function(a,b,d,e){return angular.forEach(e,function(e){if(angular.isFunction(e))a=e(a,b,d);else if(angular.isFunction(c[e]))a=c[e](a,b,d);else{if(!angular.isString(c[e]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'");if(!i[c[e]])try{i[c[e]]=g.get(c[e])}catch(f){throw i[c[e]]=function(){},new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+e+"'")}a=i[c[e]](a,b,d)}}),a},k=function(){e||f||(h.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),f=!0)};return g.has("$sanitize")&&(a=g.get("$sanitize")),g.has("$sce")&&(b=g.get("$sce")),{useStrategy:function(a){return function(b){a.useStrategy(b)}}(this),sanitize:function(a,b,c,e){if(d||k(),c||null===c||(c=d),!c)return a;e||(e="service");var f=angular.isArray(c)?c:[c];return j(a,b,e,f)}}}];var g=function(a){var b=angular.element("<div></div>");return b.text(a),b.html()},h=function(b){if(!a)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return a(b)},i=function(a){if(!b)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sce service.");return b.trustAsHtml(a)},j=function(a,b,c){if(angular.isDate(a))return a;if(angular.isObject(a)){var d=angular.isArray(a)?[]:{};if(c){if(c.indexOf(a)>-1)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot interpolate parameter due recursive object")}else c=[];return c.push(a),
angular.forEach(a,function(a,e){angular.isFunction(a)||(d[e]=j(a,b,c))}),c.splice(-1,1),d}return angular.isNumber(a)?a:a===!0||a===!1?a:angular.isUndefined(a)||null===a?a:b(a)}}function c(a,b,c,d){"use strict";var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u={},v=[],w=a,x=[],y="translate-cloak",z=!1,A=!1,B=".",C=!1,D=!1,E=0,F=!0,G="default",H={"default":function(a){return(a||"").split("-").join("_")},java:function(a){var b=(a||"").split("-").join("_"),c=b.split("_");return c.length>1?c[0].toLowerCase()+"_"+c[1].toUpperCase():b},bcp47:function(a){var b=(a||"").split("_").join("-"),c=b.split("-");switch(c.length){case 1:c[0]=c[0].toLowerCase();break;case 2:c[0]=c[0].toLowerCase(),4===c[1].length?c[1]=c[1].charAt(0).toUpperCase()+c[1].slice(1).toLowerCase():c[1]=c[1].toUpperCase();break;case 3:c[0]=c[0].toLowerCase(),c[1]=c[1].charAt(0).toUpperCase()+c[1].slice(1).toLowerCase(),c[2]=c[2].toUpperCase();break;default:return b}return c.join("-")},"iso639-1":function(a){var b=(a||"").split("_").join("-"),c=b.split("-");return c[0].toLowerCase()}},I="2.18.1",J=function(){if(angular.isFunction(d.getLocale))return d.getLocale();var a,c,e=b.$get().navigator,f=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(e.languages))for(a=0;a<e.languages.length;a++)if(c=e.languages[a],c&&c.length)return c;for(a=0;a<f.length;a++)if(c=e[f[a]],c&&c.length)return c;return null};J.displayName="angular-translate/service: getFirstBrowserLanguage";var K=function(){var a=J()||"";return H[G]&&(a=H[G](a)),a};K.displayName="angular-translate/service: getLocale";var L=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},M=function(){return this.toString().replace(/^\s+|\s+$/g,"")},N=function(a){return angular.isString(a)?a.toLowerCase():a},O=function(a){if(a){for(var b=[],c=N(a),d=0,e=v.length;e>d;d++)b.push(N(v[d]));if(d=L(b,c),d>-1)return v[d];if(f){var g;for(var h in f)if(f.hasOwnProperty(h)){var i=!1,j=Object.prototype.hasOwnProperty.call(f,h)&&N(h)===N(a);if("*"===h.slice(-1)&&(i=N(h.slice(0,-1))===N(a.slice(0,h.length-1))),(j||i)&&(g=f[h],L(b,N(g))>-1))return g}}var k=a.split("_");return k.length>1&&L(b,N(k[0]))>-1?k[0]:void 0}},P=function(a,b){if(!a&&!b)return u;if(a&&!b){if(angular.isString(a))return u[a]}else angular.isObject(u[a])||(u[a]={}),angular.extend(u[a],Q(b));return this};this.translations=P,this.cloakClassName=function(a){return a?(y=a,this):y},this.nestedObjectDelimeter=function(a){return a?(B=a,this):B};var Q=function(a,b,c,d){var e,f,g,h;b||(b=[]),c||(c={});for(e in a)Object.prototype.hasOwnProperty.call(a,e)&&(h=a[e],angular.isObject(h)?Q(h,b.concat(e),c,e):(f=b.length?""+b.join(B)+B+e:e,b.length&&e===d&&(g=""+b.join(B),c[g]="@:"+f),c[f]=h));return c};Q.displayName="flatObject",this.addInterpolation=function(a){return x.push(a),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(a){return n=a,this},this.useSanitizeValueStrategy=function(a){return c.useStrategy(a),this},this.preferredLanguage=function(a){return a?(R(a),this):e};var R=function(a){return a&&(e=a),e};this.translationNotFoundIndicator=function(a){return this.translationNotFoundIndicatorLeft(a),this.translationNotFoundIndicatorRight(a),this},this.translationNotFoundIndicatorLeft=function(a){return a?(q=a,this):q},this.translationNotFoundIndicatorRight=function(a){return a?(r=a,this):r},this.fallbackLanguage=function(a){return S(a),this};var S=function(a){return a?(angular.isString(a)?(h=!0,g=[a]):angular.isArray(a)&&(h=!1,g=a),angular.isString(e)&&L(g,e)<0&&g.push(e),this):h?g[0]:g};this.use=function(a){if(a){if(!u[a]&&!o)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+a+"'");return i=a,this}return i},this.resolveClientLocale=function(){return K()};var T=function(a){return a?(w=a,this):l?l+w:w};this.storageKey=T,this.useUrlLoader=function(a,b){return this.useLoader("$translateUrlLoader",angular.extend({url:a},b))},this.useStaticFilesLoader=function(a){return this.useLoader("$translateStaticFilesLoader",a)},this.useLoader=function(a,b){return o=a,p=b||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(a){return k=a,this},this.storagePrefix=function(a){return a?(l=a,this):a},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(a){return m=a,this},this.usePostCompiling=function(a){return z=!!a,this},this.forceAsyncReload=function(a){return A=!!a,this},this.uniformLanguageTag=function(a){return a?angular.isString(a)&&(a={standard:a}):a={},G=a.standard,this},this.determinePreferredLanguage=function(a){var b=a&&angular.isFunction(a)?a():K();return e=v.length?O(b)||b:b,this},this.registerAvailableLanguageKeys=function(a,b){return a?(v=a,b&&(f=b),this):v},this.useLoaderCache=function(a){return a===!1?s=void 0:a===!0?s=!0:"undefined"==typeof a?s="$translationCache":a&&(s=a),this},this.directivePriority=function(a){return void 0===a?E:(E=a,this)},this.statefulFilter=function(a){return void 0===a?F:(F=a,this)},this.postProcess=function(a){return t=a?a:void 0,this},this.keepContent=function(a){return D=!!a,this},this.$get=["$log","$injector","$rootScope","$q",function(a,b,c,d){var f,l,G,H=b.get(n||"$translateDefaultInterpolation"),J=!1,N={},U={},V=function(a,b,c,h,j,m){!i&&e&&(i=e);var n=j&&j!==i?O(j)||j:i;if(j&&ka(j),angular.isArray(a)){var o=function(a){for(var e={},f=[],g=function(a){var f=d.defer(),g=function(b){e[a]=b,f.resolve([a,b])};return V(a,b,c,h,j,m).then(g,g),f.promise},i=0,k=a.length;k>i;i++)f.push(g(a[i]));return d.all(f).then(function(){return e})};return o(a)}var p=d.defer();a&&(a=M.apply(a));var q=function(){var a=U[n]||U[e];if(l=0,k&&!a){var b=f.get(w);if(a=U[b],g&&g.length){var c=L(g,b);l=0===c?1:0,L(g,e)<0&&g.push(e)}}return a}();if(q){var r=function(){j||(n=i),ga(a,b,c,h,n,m).then(p.resolve,p.reject)};r.displayName="promiseResolved",q["finally"](r)["catch"](angular.noop)}else ga(a,b,c,h,n,m).then(p.resolve,p.reject);return p.promise},W=function(a){return q&&(a=[q,a].join(" ")),r&&(a=[a,r].join(" ")),a},X=function(a){i=a,k&&f.put(V.storageKey(),i),c.$emit("$translateChangeSuccess",{language:a}),H.setLocale(i);var b=function(a,b){N[b].setLocale(i)};b.displayName="eachInterpolatorLocaleSetter",angular.forEach(N,b),c.$emit("$translateChangeEnd",{language:a})},Y=function(a){if(!a)throw"No language key specified for loading.";var e=d.defer();c.$emit("$translateLoadingStart",{language:a}),J=!0;var f=s;"string"==typeof f&&(f=b.get(f));var g=angular.extend({},p,{key:a,$http:angular.extend({},{cache:f},p.$http)}),h=function(b){var d={};c.$emit("$translateLoadingSuccess",{language:a}),angular.isArray(b)?angular.forEach(b,function(a){angular.extend(d,Q(a))}):angular.extend(d,Q(b)),J=!1,e.resolve({key:a,table:d}),c.$emit("$translateLoadingEnd",{language:a})};h.displayName="onLoaderSuccess";var i=function(a){c.$emit("$translateLoadingError",{language:a}),e.reject(a),c.$emit("$translateLoadingEnd",{language:a})};return i.displayName="onLoaderError",b.get(o)(g).then(h,i),e.promise};if(k&&(f=b.get(k),!f.get||!f.put))throw new Error("Couldn't use storage '"+k+"', missing get() or put() method!");if(x.length){var Z=function(a){var c=b.get(a);c.setLocale(e||i),N[c.getInterpolationIdentifier()]=c};Z.displayName="interpolationFactoryAdder",angular.forEach(x,Z)}var $=function(a){var b=d.defer();if(Object.prototype.hasOwnProperty.call(u,a))b.resolve(u[a]);else if(U[a]){var c=function(a){P(a.key,a.table),b.resolve(a.table)};c.displayName="translationTableResolver",U[a].then(c,b.reject)}else b.reject();return b.promise},_=function(a,b,c,e,f){var g=d.defer(),h=function(d){if(Object.prototype.hasOwnProperty.call(d,b)&&null!==d[b]){e.setLocale(a);var h=d[b];if("@:"===h.substr(0,2))_(a,h.substr(2),c,e,f).then(g.resolve,g.reject);else{var j=e.interpolate(d[b],c,"service",f,b);j=ja(b,d[b],j,c,a),g.resolve(j)}e.setLocale(i)}else g.reject()};return h.displayName="fallbackTranslationResolver",$(a).then(h,g.reject),g.promise},aa=function(a,b,c,d,e){var f,g=u[a];if(g&&Object.prototype.hasOwnProperty.call(g,b)&&null!==g[b]){if(d.setLocale(a),f=d.interpolate(g[b],c,"filter",e,b),f=ja(b,g[b],f,c,a,e),!angular.isString(f)&&angular.isFunction(f.$$unwrapTrustedValue)){var h=f.$$unwrapTrustedValue();if("@:"===h.substr(0,2))return aa(a,h.substr(2),c,d,e)}else if("@:"===f.substr(0,2))return aa(a,f.substr(2),c,d,e);d.setLocale(i)}return f},ba=function(a,c,d,e){return m?b.get(m)(a,i,c,d,e):a},ca=function(a,b,c,e,f,h){var i=d.defer();if(a<g.length){var j=g[a];_(j,b,c,e,h).then(function(a){i.resolve(a)},function(){return ca(a+1,b,c,e,f,h).then(i.resolve,i.reject)})}else if(f)i.resolve(f);else{var k=ba(b,c,f);m&&k?i.resolve(k):i.reject(W(b))}return i.promise},da=function(a,b,c,d,e){var f;if(a<g.length){var h=g[a];f=aa(h,b,c,d,e),f||""===f||(f=da(a+1,b,c,d))}return f},ea=function(a,b,c,d,e){return ca(G>0?G:l,a,b,c,d,e)},fa=function(a,b,c,d){return da(G>0?G:l,a,b,c,d)},ga=function(a,b,c,e,f,h){var i=d.defer(),j=f?u[f]:u,k=c?N[c]:H;if(j&&Object.prototype.hasOwnProperty.call(j,a)&&null!==j[a]){var l=j[a];if("@:"===l.substr(0,2))V(l.substr(2),b,c,e,f,h).then(i.resolve,i.reject);else{var n=k.interpolate(l,b,"service",h,a);n=ja(a,l,n,b,f),i.resolve(n)}}else{var o;m&&!J&&(o=ba(a,b,e)),f&&g&&g.length?ea(a,b,k,e,h).then(function(a){i.resolve(a)},function(a){i.reject(W(a))}):m&&!J&&o?e?i.resolve(e):i.resolve(o):e?i.resolve(e):i.reject(W(a))}return i.promise},ha=function(a,b,c,d,e){var f,h=d?u[d]:u,i=H;if(N&&Object.prototype.hasOwnProperty.call(N,c)&&(i=N[c]),h&&Object.prototype.hasOwnProperty.call(h,a)&&null!==h[a]){var j=h[a];"@:"===j.substr(0,2)?f=ha(j.substr(2),b,c,d,e):(f=i.interpolate(j,b,"filter",e,a),f=ja(a,j,f,b,d,e))}else{var k;m&&!J&&(k=ba(a,b,e)),d&&g&&g.length?(l=0,f=fa(a,b,i,e)):f=m&&!J&&k?k:W(a)}return f},ia=function(a){j===a&&(j=void 0),U[a]=void 0},ja=function(a,c,d,e,f,g){var h=t;return h&&("string"==typeof h&&(h=b.get(h)),h)?h(a,c,d,e,f,g):d},ka=function(a){u[a]||!o||U[a]||(U[a]=Y(a).then(function(a){return P(a.key,a.table),a}))};V.preferredLanguage=function(a){return a&&R(a),e},V.cloakClassName=function(){return y},V.nestedObjectDelimeter=function(){return B},V.fallbackLanguage=function(a){if(void 0!==a&&null!==a){if(S(a),o&&g&&g.length)for(var b=0,c=g.length;c>b;b++)U[g[b]]||(U[g[b]]=Y(g[b]));V.use(V.use())}return h?g[0]:g},V.useFallbackLanguage=function(a){if(void 0!==a&&null!==a)if(a){var b=L(g,a);b>-1&&(G=b)}else G=0},V.proposedLanguage=function(){return j},V.storage=function(){return f},V.negotiateLocale=O,V.use=function(a){if(!a)return i;var b=d.defer();b.promise.then(null,angular.noop),c.$emit("$translateChangeStart",{language:a});var e=O(a);return v.length>0&&!e?d.reject(a):(e&&(a=e),j=a,!A&&u[a]||!o||U[a]?U[a]?U[a].then(function(a){return j===a.key&&X(a.key),b.resolve(a.key),a},function(a){return!i&&g&&g.length>0&&g[0]!==a?V.use(g[0]).then(b.resolve,b.reject):b.reject(a)}):(b.resolve(a),X(a)):(U[a]=Y(a).then(function(c){return P(c.key,c.table),b.resolve(c.key),j===a&&X(c.key),c},function(a){return c.$emit("$translateChangeError",{language:a}),b.reject(a),c.$emit("$translateChangeEnd",{language:a}),d.reject(a)}),U[a]["finally"](function(){ia(a)})["catch"](angular.noop)),b.promise)},V.resolveClientLocale=function(){return K()},V.storageKey=function(){return T()},V.isPostCompilingEnabled=function(){return z},V.isForceAsyncReloadEnabled=function(){return A},V.isKeepContent=function(){return D},V.refresh=function(a){function b(a){var b=Y(a);return U[a]=b,b.then(function(b){u[a]={},P(a,b.table),f[a]=!0},angular.noop),b}if(!o)throw new Error("Couldn't refresh translation table, no loader registered!");c.$emit("$translateRefreshStart",{language:a});var e=d.defer(),f={};if(e.promise.then(function(){for(var a in u)u.hasOwnProperty(a)&&(a in f||delete u[a]);i&&X(i)},angular.noop)["finally"](function(){c.$emit("$translateRefreshEnd",{language:a})}),a)u[a]?b(a).then(e.resolve,e.reject):e.reject();else{var h=g&&g.slice()||[];i&&-1===h.indexOf(i)&&h.push(i),d.all(h.map(b)).then(e.resolve,e.reject)}return e.promise},V.instant=function(a,b,c,d,f){var h=d&&d!==i?O(d)||d:i;if(null===a||angular.isUndefined(a))return a;if(d&&ka(d),angular.isArray(a)){for(var j={},k=0,l=a.length;l>k;k++)j[a[k]]=V.instant(a[k],b,c,d,f);return j}if(angular.isString(a)&&a.length<1)return a;a&&(a=M.apply(a));var n,o=[];e&&o.push(e),h&&o.push(h),g&&g.length&&(o=o.concat(g));for(var p=0,s=o.length;s>p;p++){var t=o[p];if(u[t]&&"undefined"!=typeof u[t][a]&&(n=ha(a,b,c,h,f)),"undefined"!=typeof n)break}if(!n&&""!==n)if(q||r)n=W(a);else{n=H.interpolate(a,b,"filter",f);var v;m&&!J&&(v=ba(a,b,f)),m&&!J&&v&&(n=v)}return n},V.versionInfo=function(){return I},V.loaderCache=function(){return s},V.directivePriority=function(){return E},V.statefulFilter=function(){return F},V.isReady=function(){return C};var la=d.defer();la.promise.then(function(){C=!0}),V.onReady=function(a){var b=d.defer();return angular.isFunction(a)&&b.promise.then(a),C?b.resolve():la.promise.then(b.resolve),b.promise},V.getAvailableLanguageKeys=function(){return v.length>0?v:null},V.getTranslationTable=function(a){return a=a||V.use(),a&&u[a]?angular.copy(u[a]):null};var ma=c.$on("$translateReady",function(){la.resolve(),ma(),ma=null}),na=c.$on("$translateChangeEnd",function(){la.resolve(),na(),na=null});if(o){if(angular.equals(u,{})&&V.use()&&V.use(V.use()),g&&g.length)for(var oa=function(a){return P(a.key,a.table),c.$emit("$translateChangeEnd",{language:a.key}),a},pa=0,qa=g.length;qa>pa;pa++){var ra=g[pa];(A||!u[ra])&&(U[ra]=Y(ra).then(oa))}}else c.$emit("$translateReady",{language:V.use()});return V}]}function d(a,b){"use strict";var c,d={},e="default";return d.setLocale=function(a){c=a},d.getInterpolationIdentifier=function(){return e},d.useSanitizeValueStrategy=function(a){return b.useStrategy(a),this},d.interpolate=function(c,d,e,f,g){d=d||{},d=b.sanitize(d,"params",f,e);var h;return angular.isNumber(c)?h=""+c:angular.isString(c)?(h=a(c)(d),h=b.sanitize(h,"text",f,e)):h="",h},d}function e(a,b,c,d,e){"use strict";var g=function(){return this.toString().replace(/^\s+|\s+$/g,"")},h=function(a){return angular.isString(a)?a.toLowerCase():a};return{restrict:"AE",scope:!0,priority:a.directivePriority(),compile:function(i,j){var k=j.translateValues?j.translateValues:void 0,l=j.translateInterpolation?j.translateInterpolation:void 0,m=j.translateSanitizeStrategy?j.translateSanitizeStrategy:void 0,n=i[0].outerHTML.match(/translate-value-+/i),o="^(.*)("+b.startSymbol()+".*"+b.endSymbol()+")(.*)",p="^(.*)"+b.startSymbol()+"(.*)"+b.endSymbol()+"(.*)";return function(i,q,r){i.interpolateParams={},i.preText="",i.postText="",i.translateNamespace=f(i);var s={},t=function(a,b,c){if(b.translateValues&&angular.extend(a,d(b.translateValues)(i.$parent)),n)for(var e in c)if(Object.prototype.hasOwnProperty.call(b,e)&&"translateValue"===e.substr(0,14)&&"translateValues"!==e){var f=h(e.substr(14,1))+e.substr(15);a[f]=c[e]}},u=function(a){if(angular.isFunction(u._unwatchOld)&&(u._unwatchOld(),u._unwatchOld=void 0),angular.equals(a,"")||!angular.isDefined(a)){var c=g.apply(q.text()),d=c.match(o);if(angular.isArray(d)){i.preText=d[1],i.postText=d[3],s.translate=b(d[2])(i.$parent);var e=c.match(p);angular.isArray(e)&&e[2]&&e[2].length&&(u._unwatchOld=i.$watch(e[2],function(a){s.translate=a,A()}))}else s.translate=c?c:void 0}else s.translate=a;A()},v=function(a){r.$observe(a,function(b){s[a]=b,A()})};t(i.interpolateParams,r,j);var w=!0;r.$observe("translate",function(a){"undefined"==typeof a?u(""):""===a&&w||(s.translate=a,A()),w=!1});for(var x in r)r.hasOwnProperty(x)&&"translateAttr"===x.substr(0,13)&&x.length>13&&v(x);if(r.$observe("translateDefault",function(a){i.defaultText=a,A()}),m&&r.$observe("translateSanitizeStrategy",function(a){i.sanitizeStrategy=d(a)(i.$parent),A()}),k&&r.$observe("translateValues",function(a){a&&i.$parent.$watch(function(){angular.extend(i.interpolateParams,d(a)(i.$parent))})}),n){var y=function(a){r.$observe(a,function(b){var c=h(a.substr(14,1))+a.substr(15);i.interpolateParams[c]=b})};for(var z in r)Object.prototype.hasOwnProperty.call(r,z)&&"translateValue"===z.substr(0,14)&&"translateValues"!==z&&y(z)}var A=function(){for(var a in s)s.hasOwnProperty(a)&&void 0!==s[a]&&B(a,s[a],i,i.interpolateParams,i.defaultText,i.translateNamespace)},B=function(b,c,d,e,f,g){c?(g&&"."===c.charAt(0)&&(c=g+c),a(c,e,l,f,d.translateLanguage,d.sanitizeStrategy).then(function(a){C(a,d,!0,b)},function(a){C(a,d,!1,b)})):C(c,d,!1,b)},C=function(b,d,e,f){if(e||"undefined"!=typeof d.defaultText&&(b=d.defaultText),"translate"===f){(e||!e&&!a.isKeepContent()&&"undefined"==typeof r.translateKeepContent)&&q.empty().append(d.preText+b+d.postText);var g=a.isPostCompilingEnabled(),h="undefined"!=typeof j.translateCompile,i=h&&"false"!==j.translateCompile;(g&&!h||i)&&c(q.contents())(d)}else{var k=r.$attr[f];"data-"===k.substr(0,5)&&(k=k.substr(5)),k=k.substr(15),q.attr(k,b)}};(k||n||r.translateDefault)&&i.$watch("interpolateParams",A,!0),i.$on("translateLanguageChanged",A);var D=e.$on("$translateChangeSuccess",A);q.text().length?u(r.translate?r.translate:""):r.translate&&u(r.translate),A(),i.$on("$destroy",D)}}}}function f(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?f(a.$parent):void 0}function g(a,b){"use strict";return{restrict:"A",priority:a.directivePriority(),link:function(c,d,e){var f,g,i,j={},k=function(){angular.forEach(f,function(b,f){b&&(j[f]=!0,c.translateNamespace&&"."===b.charAt(0)&&(b=c.translateNamespace+b),a(b,g,e.translateInterpolation,void 0,c.translateLanguage,i).then(function(a){d.attr(f,a)},function(a){d.attr(f,a)}))}),angular.forEach(j,function(a,b){f[b]||(d.removeAttr(b),delete j[b])})};h(c,e.translateAttr,function(a){f=a},k),h(c,e.translateValues,function(a){g=a},k),h(c,e.translateSanitizeStrategy,function(a){i=a},k),e.translateValues&&c.$watch(e.translateValues,k,!0),c.$on("translateLanguageChanged",k);var l=b.$on("$translateChangeSuccess",k);k(),c.$on("$destroy",l)}}}function h(a,b,c,d){"use strict";b&&("::"===b.substr(0,2)?b=b.substr(2):a.$watch(b,function(a){c(a),d()},!0),c(a.$eval(b)))}function i(a,b){"use strict";return{compile:function(c){var d=function(b){b.addClass(a.cloakClassName())},e=function(b){b.removeClass(a.cloakClassName())};return d(c),function(c,f,g){var h=e.bind(this,f),i=d.bind(this,f);g.translateCloak&&g.translateCloak.length?(g.$observe("translateCloak",function(b){a(b).then(h,i)}),b.$on("$translateChangeSuccess",function(){a(g.translateCloak).then(h,i)})):a.onReady(h)}}}}function j(){"use strict";return{restrict:"A",scope:!0,compile:function(){return{pre:function(a,b,c){a.translateNamespace=k(a),a.translateNamespace&&"."===c.translateNamespace.charAt(0)?a.translateNamespace+=c.translateNamespace:a.translateNamespace=c.translateNamespace}}}}}function k(a){"use strict";return a.translateNamespace?a.translateNamespace:a.$parent?k(a.$parent):void 0}function l(){"use strict";return{restrict:"A",scope:!0,compile:function(){return function(a,b,c){c.$observe("translateLanguage",function(b){a.translateLanguage=b}),a.$watch("translateLanguage",function(){a.$broadcast("translateLanguageChanged")})}}}}function m(a,b){"use strict";var c=function(c,d,e,f){if(!angular.isObject(d)){var g=this||{__SCOPE_IS_NOT_AVAILABLE:"More info at https://github.com/angular/angular.js/commit/8863b9d04c722b278fa93c5d66ad1e578ad6eb1f"};d=a(d)(g)}return b.instant(c,d,e,f)};return b.statefulFilter()&&(c.$stateful=!0),c}function n(a){"use strict";return a("translations")}return a.$inject=["$translate"],c.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],d.$inject=["$interpolate","$translateSanitization"],e.$inject=["$translate","$interpolate","$compile","$parse","$rootScope"],g.$inject=["$translate","$rootScope"],i.$inject=["$translate","$rootScope"],m.$inject=["$parse","$translate"],n.$inject=["$cacheFactory"],angular.module("pascalprecht.translate",["ng"]).run(a),a.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",b),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",c),c.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",d),d.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",e),e.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateAttr",g),g.displayName="translateAttrDirective",angular.module("pascalprecht.translate").directive("translateCloak",i),i.displayName="translateCloakDirective",angular.module("pascalprecht.translate").directive("translateNamespace",j),j.displayName="translateNamespaceDirective",angular.module("pascalprecht.translate").directive("translateLanguage",l),l.displayName="translateLanguageDirective",angular.module("pascalprecht.translate").filter("translate",m),m.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",n),n.displayName="$translationCache","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof module&&module.exports?module.exports=b():b()}(this,function(){function a(){"use strict";function a(a,b,c){this.name=a,this.isActive=!0,this.tables={},this.priority=b||0,this.langPromises={},this.urlTemplate=c}function b(a){return Object.prototype.hasOwnProperty.call(g,a)}function c(a){return angular.isString(a)}function d(a){if(!c(a))throw new TypeError("Invalid type of a first argument, a non-empty string expected.");return b(a)&&g[a].isActive}function e(a,b){for(var c in b)b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},e(a[c],b[c])):a[c]=b[c];return a}function f(){var a=[];for(var b in g)g[b].isActive&&a.push(g[b]);return a.sort(function(a,b){return a.priority-b.priority}),a}a.prototype.parseUrl=function(a,b){return angular.isFunction(a)?a(this.name,b):a.replace(/\{part\}/g,this.name).replace(/\{lang\}/g,b)},a.prototype.getTable=function(a,b,c,d,e,f){var g=this,h=this.langPromises[a],i=b.defer(),j=function(){return c(angular.extend({method:"GET",url:g.parseUrl(g.urlTemplate||e,a)},d))},k=function(b){g.tables[a]=b,i.resolve(b)},l=function(){i.reject(g.name)},m=function(){j().then(function(a){k(a.data)},function(b){404==b.status?i.resolve({}):f?f(g.name,a,b).then(k,l):l()})};return this.tables[a]?i.resolve(this.tables[a]):(h?h.then(i.resolve,m):m(),this.langPromises[a]=i.promise),i.promise};var g={};this.addPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't add part, part name has to be a string!");return b(d)||(g[d]=new a(d,e,f)),g[d].isActive=!0,this},this.setPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't set part.`lang` parameter has to be a string!");if(!c(e))throw new TypeError("Couldn't set part.`part` parameter has to be a string!");if("object"!=typeof f||null===f)throw new TypeError("Couldn't set part. `table` parameter has to be an object!");return b(e)||(g[e]=new a(e),g[e].isActive=!1),g[e].tables[d]=f,this},this.deletePart=function(a){if(!c(a))throw new TypeError("Couldn't delete part, first arg has to be string.");return b(a)&&(g[a].isActive=!1),this},this.isPartAvailable=d,this.$get=["$rootScope","$injector","$q","$http","$log",function(h,i,j,k,l){var m=function(a){if(!c(a.key))throw new TypeError("Unable to load data, a key is not a non-empty string.");if(!c(a.urlTemplate)&&!angular.isFunction(a.urlTemplate))throw new TypeError("Unable to load data, a urlTemplate is not a non-empty string or not a function.");var b=a.loadFailureHandler;if(void 0!==b){if(!angular.isString(b))throw new Error("Unable to load data, a loadFailureHandler is not a string.");b=i.get(b)}var d=[],g=f();angular.forEach(g,function(c){d.push(c.getTable(a.key,j,k,a.$http,a.urlTemplate,b)),c.urlTemplate=c.urlTemplate||a.urlTemplate});var n=!1,o=h.$on("$translatePartialLoaderStructureChanged",function(){n=!0});return j.all(d).then(function(){if(o(),n){if(!a.__retries)return a.__retries=(a.__retries||0)+1,m(a);l.warn("The partial loader has detected a multiple structure change (with addPort/removePart) while loading translations. You should consider using promises of $translate.use(lang) and $translate.refresh(). Also parts should be added/removed right before an explicit refresh if possible.")}var b={};return g=f(),angular.forEach(g,function(c){e(b,c.tables[a.key])}),b},function(){return o(),j.reject(a.key)})};return m.addPart=function(d,e,f){if(!c(d))throw new TypeError("Couldn't add part, first arg has to be a string");return b(d)?g[d].isActive||(g[d].isActive=!0,h.$emit("$translatePartialLoaderStructureChanged",d)):(g[d]=new a(d,e,f),h.$emit("$translatePartialLoaderStructureChanged",d)),m},m.deletePart=function(a,d){if(!c(a))throw new TypeError("Couldn't delete part, first arg has to be string");if(void 0===d)d=!1;else if("boolean"!=typeof d)throw new TypeError("Invalid type of a second argument, a boolean expected.");if(b(a)){var e=g[a].isActive;if(d){var f=i.get("$translate"),j=f.loaderCache();"string"==typeof j&&(j=i.get(j)),"object"==typeof j&&angular.forEach(g[a].tables,function(b,c){j.remove(g[a].parseUrl(g[a].urlTemplate,c))}),delete g[a]}else g[a].isActive=!1;e&&h.$emit("$translatePartialLoaderStructureChanged",a)}return m},m.isPartLoaded=function(a,b){return angular.isDefined(g[a])&&angular.isDefined(g[a].tables[b])},m.getRegisteredParts=function(){var a=[];return angular.forEach(g,function(b){b.isActive&&a.push(b.name)}),a},m.isPartAvailable=d,m}]}return angular.module("pascalprecht.translate").provider("$translatePartialLoader",a),a.displayName="$translatePartialLoader","pascalprecht.translate"}),function(a,b){"function"==typeof define&&define.amd?define([],function(){return b()}):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a,b){"use strict";return function(c){if(!(c&&(angular.isArray(c.files)||angular.isString(c.prefix)&&angular.isString(c.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");c.files||(c.files=[{prefix:c.prefix,suffix:c.suffix}]);for(var d=function(d){if(!d||!angular.isString(d.prefix)||!angular.isString(d.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");return b(angular.extend({url:[d.prefix,c.key,d.suffix].join(""),method:"GET",params:""},c.$http)).then(function(a){return a.data},function(){return a.reject(c.key)})},e=a.defer(),f=[],g=c.files.length,h=0;g>h;h++)f.push(d({prefix:c.files[h].prefix,key:c.key,suffix:c.files[h].suffix}));return a.all(f).then(function(a){for(var b=a.length,c={},d=0;b>d;d++)for(var f in a[d])c[f]=a[d][f];e.resolve(c)},function(a){e.reject(a)}),e.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",a),a.$inject=["$q","$http"],a.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),function(a,b,c){"use strict";function d(a,b,c){if(!a)throw qa("areq","Argument '{0}' is {1}",b||"?",c||"required");return a}function e(a,b){return a||b?a?b?(R(a)&&(a=a.join(" ")),R(b)&&(b=b.join(" ")),a+" "+b):a:b:""}function f(a){var b={};return a&&(a.to||a.from)&&(b.to=a.to,b.from=a.from),b}function g(a,b,c){var d="";return a=R(a)?a:a&&S(a)&&a.length?a.split(/\s+/):[],Q(a,function(a,e){a&&a.length>0&&(d+=e>0?" ":"",d+=c?b+a:a+b)}),d}function h(a,b){var c=a.indexOf(b);b>=0&&a.splice(c,1)}function i(a){if(a instanceof P)switch(a.length){case 0:return[];case 1:if(a[0].nodeType===Y)return a;break;default:return P(j(a))}return a.nodeType===Y?P(a):void 0}function j(a){if(!a[0])return a;for(var b=0;b<a.length;b++){var c=a[b];if(c.nodeType==Y)return c}}function k(a,b,c){Q(b,function(b){a.addClass(b,c)})}function l(a,b,c){Q(b,function(b){a.removeClass(b,c)})}function m(a){return function(b,c){c.addClass&&(k(a,b,c.addClass),c.addClass=null),c.removeClass&&(l(a,b,c.removeClass),c.removeClass=null)}}function n(a){if(a=a||{},!a.$$prepared){var b=a.domOperation||M;a.domOperation=function(){a.$$domOperationFired=!0,b(),b=M},a.$$prepared=!0}return a}function o(a,b){p(a,b),q(a,b)}function p(a,b){b.from&&(a.css(b.from),b.from=null)}function q(a,b){b.to&&(a.css(b.to),b.to=null)}function r(a,b,c){var d=b.options||{},e=c.options||{},f=(d.addClass||"")+" "+(e.addClass||""),g=(d.removeClass||"")+" "+(e.removeClass||""),h=s(a.attr("class"),f,g);e.preparationClasses&&(d.preparationClasses=z(e.preparationClasses,d.preparationClasses),delete e.preparationClasses);var i=d.domOperation!==M?d.domOperation:null;return O(d,e),i&&(d.domOperation=i),h.addClass?d.addClass=h.addClass:d.addClass=null,h.removeClass?d.removeClass=h.removeClass:d.removeClass=null,b.addClass=d.addClass,b.removeClass=d.removeClass,d}function s(a,b,c){function d(a){S(a)&&(a=a.split(" "));var b={};return Q(a,function(a){a.length&&(b[a]=!0)}),b}var e=1,f=-1,g={};a=d(a),b=d(b),Q(b,function(a,b){g[b]=e}),c=d(c),Q(c,function(a,b){g[b]=g[b]===e?null:f});var h={addClass:"",removeClass:""};return Q(g,function(b,c){var d,g;b===e?(d="addClass",g=!a[c]):b===f&&(d="removeClass",g=a[c]),g&&(h[d].length&&(h[d]+=" "),h[d]+=c)}),h}function t(a){return a instanceof b.element?a[0]:a}function u(a,b,c){var d="";b&&(d=g(b,_,!0)),c.addClass&&(d=z(d,g(c.addClass,Z))),c.removeClass&&(d=z(d,g(c.removeClass,$))),d.length&&(c.preparationClasses=d,a.addClass(d))}function v(a,b){b.preparationClasses&&(a.removeClass(b.preparationClasses),b.preparationClasses=null),b.activeClasses&&(a.removeClass(b.activeClasses),b.activeClasses=null)}function w(a,b){var c=b?"-"+b+"s":"";return y(a,[oa,c]),[oa,c]}function x(a,b){var c=b?"paused":"",d=K+ka;return y(a,[d,c]),[d,c]}function y(a,b){var c=b[0],d=b[1];a.style[c]=d}function z(a,b){return a?b?a+" "+b:a:b}function A(a){return[na,a+"s"]}function B(a,b){var c=b?ma:oa;return[c,a+"s"]}function C(a,b,c){var d=Object.create(null),e=a.getComputedStyle(b)||{};return Q(c,function(a,b){var c=e[a];if(c){var f=c.charAt(0);("-"===f||"+"===f||f>=0)&&(c=D(c)),0===c&&(c=null),d[b]=c}}),d}function D(a){var b=0,c=a.split(/\s*,\s*/);return Q(c,function(a){"s"==a.charAt(a.length-1)&&(a=a.substring(0,a.length-1)),a=parseFloat(a)||0,b=b?Math.max(a,b):a}),b}function E(a){return 0===a||null!=a}function F(a,b){var c=I,d=a+"s";return b?c+=fa:d+=" linear all",[c,d]}function G(){var a=Object.create(null);return{flush:function(){a=Object.create(null)},count:function(b){var c=a[b];return c?c.total:0},get:function(b){var c=a[b];return c&&c.value},put:function(b,c){a[b]?a[b].total++:a[b]={total:1,value:c}}}}function H(a,b,c){Q(c,function(c){a[c]=V(a[c])?a[c]:b.style.getPropertyValue(c)})}var I,J,K,L,M=b.noop,N=b.copy,O=b.extend,P=b.element,Q=b.forEach,R=b.isArray,S=b.isString,T=b.isObject,U=b.isUndefined,V=b.isDefined,W=b.isFunction,X=b.isElement,Y=1,Z="-add",$="-remove",_="ng-",aa="-active",ba="-prepare",ca="ng-animate",da="$$ngAnimateChildren",ea="";U(a.ontransitionend)&&V(a.onwebkittransitionend)?(ea="-webkit-",I="WebkitTransition",J="webkitTransitionEnd transitionend"):(I="transition",J="transitionend"),U(a.onanimationend)&&V(a.onwebkitanimationend)?(ea="-webkit-",K="WebkitAnimation",L="webkitAnimationEnd animationend"):(K="animation",L="animationend");var fa="Duration",ga="Property",ha="Delay",ia="TimingFunction",ja="IterationCount",ka="PlayState",la=9999,ma=K+ha,na=K+fa,oa=I+ha,pa=I+fa,qa=b.$$minErr("ng"),ra=["$$rAF",function(a){function b(a){d=d.concat(a),c()}function c(){if(d.length){for(var b=d.shift(),f=0;f<b.length;f++)b[f]();e||a(function(){e||c()})}}var d,e;return d=b.queue=[],b.waitUntilQuiet=function(b){e&&e(),e=a(function(){e=null,b(),c()})},b}],sa=["$interpolate",function(a){
return{link:function(c,d,e){function f(a){a="on"===a||"true"===a,d.data(da,a)}var g=e.ngAnimateChildren;b.isString(g)&&0===g.length?d.data(da,!0):(f(a(g)(c)),e.$observe("ngAnimateChildren",f))}}}],ta="$$animateCss",ua=1e3,va=3,wa=1.5,xa={transitionDuration:pa,transitionDelay:oa,transitionProperty:I+ga,animationDuration:na,animationDelay:ma,animationIterationCount:K+ja},ya={transitionDuration:pa,transitionDelay:oa,animationDuration:na,animationDelay:ma},za=["$animateProvider",function(a){var b=G(),c=G();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(a,d,e,i,j,k,l,r){function s(a,b){var c="$$ngAnimateParentKey",d=a.parentNode,e=d[c]||(d[c]=++O);return e+"-"+a.getAttribute("class")+"-"+b}function u(c,d,e,f){var g=b.get(e);return g||(g=C(a,c,f),"infinite"===g.animationIterationCount&&(g.animationIterationCount=1)),b.put(e,g),g}function v(e,f,h,i){var j;if(b.count(h)>0&&(j=c.get(h),!j)){var k=g(f,"-stagger");d.addClass(e,k),j=C(a,e,i),j.animationDuration=Math.max(j.animationDuration,0),j.transitionDuration=Math.max(j.transitionDuration,0),d.removeClass(e,k),c.put(h,j)}return j||{}}function z(a){P.push(a),l.waitUntilQuiet(function(){b.flush(),c.flush();for(var a=j(),d=0;d<P.length;d++)P[d](a);P.length=0})}function D(a,b,c){var d=u(a,b,c,xa),e=d.animationDelay,f=d.transitionDelay;return d.maxDelay=e&&f?Math.max(e,f):e||f,d.maxDuration=Math.max(d.animationDuration*d.animationIterationCount,d.transitionDuration),d}var G=m(d),O=0,P=[];return function(a,c){function j(){m()}function l(){m(!0)}function m(b){if(!(V||X&&W)){V=!0,W=!1,S.$$skipPreparationClasses||d.removeClass(a,sa),d.removeClass(a,za),x(U,!1),w(U,!1),Q(ja,function(a){U.style[a[0]]=""}),G(a,S),o(a,S),Object.keys(T).length&&Q(T,function(a,b){a?U.style.setProperty(b,a):U.style.removeProperty(b)}),S.onDone&&S.onDone(),na&&na.length&&a.off(na.join(" "),O);var c=a.data(ta);c&&(i.cancel(c[0].timer),a.removeData(ta)),Y&&Y.complete(!b)}}function u(a){Na.blockTransition&&w(U,a),Na.blockKeyframeAnimation&&x(U,!!a)}function C(){return Y=new e({end:j,cancel:l}),z(M),m(),{$$willAnimate:!1,start:function(){return Y},end:j}}function O(a){a.stopPropagation();var b=a.originalEvent||a,c=b.$manualTimeStamp||Date.now(),d=parseFloat(b.elapsedTime.toFixed(va));Math.max(c-ha,0)>=da&&d>=ea&&(X=!0,m())}function P(){function b(){if(!V){if(u(!1),Q(ja,function(a){var b=a[0],c=a[1];U.style[b]=c}),G(a,S),d.addClass(a,za),Na.recalculateTimingStyles){if(xa=U.className+" "+sa,Ca=s(U,xa),La=D(U,xa,Ca),Ma=La.maxDelay,ca=Math.max(Ma,0),ea=La.maxDuration,0===ea)return void m();Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0}if(Na.applyAnimationDelay&&(Ma="boolean"!=typeof S.delay&&E(S.delay)?parseFloat(S.delay):Ma,ca=Math.max(Ma,0),La.animationDelay=Ma,Oa=B(Ma,!0),ja.push(Oa),U.style[Oa[0]]=Oa[1]),da=ca*ua,fa=ea*ua,S.easing){var b,e=S.easing;Na.hasTransitions&&(b=I+ia,ja.push([b,e]),U.style[b]=e),Na.hasAnimations&&(b=K+ia,ja.push([b,e]),U.style[b]=e)}La.transitionDuration&&na.push(J),La.animationDuration&&na.push(L),ha=Date.now();var f=da+wa*fa,g=ha+f,h=a.data(ta)||[],j=!0;if(h.length){var k=h[0];j=g>k.expectedEndTime,j?i.cancel(k.timer):h.push(m)}if(j){var l=i(c,f,!1);h[0]={timer:l,expectedEndTime:g},h.push(m),a.data(ta,h)}na.length&&a.on(na.join(" "),O),S.to&&(S.cleanupStyles&&H(T,U,Object.keys(S.to)),q(a,S))}}function c(){var b=a.data(ta);if(b){for(var c=1;c<b.length;c++)b[c]();a.removeData(ta)}}if(!V){if(!U.parentNode)return void m();var e=function(a){if(X)W&&a&&(W=!1,m());else if(W=!a,La.animationDuration){var b=x(U,W);W?ja.push(b):h(ja,b)}},f=Ja>0&&(La.transitionDuration&&0===Da.transitionDuration||La.animationDuration&&0===Da.animationDuration)&&Math.max(Da.animationDelay,Da.transitionDelay);f?i(b,Math.floor(f*Ja*ua),!1):b(),ba.resume=function(){e(!0)},ba.pause=function(){e(!1)}}}var S=c||{};S.$$prepared||(S=n(N(S)));var T={},U=t(a);if(!U||!U.parentNode||!r.enabled())return C();var V,W,X,Y,ba,ca,da,ea,fa,ha,ja=[],ka=a.attr("class"),ma=f(S),na=[];if(0===S.duration||!k.animations&&!k.transitions)return C();var oa=S.event&&R(S.event)?S.event.join(" "):S.event,pa=oa&&S.structural,qa="",ra="";pa?qa=g(oa,_,!0):oa&&(qa=oa),S.addClass&&(ra+=g(S.addClass,Z)),S.removeClass&&(ra.length&&(ra+=" "),ra+=g(S.removeClass,$)),S.applyClassesEarly&&ra.length&&G(a,S);var sa=[qa,ra].join(" ").trim(),xa=ka+" "+sa,za=g(sa,aa),Aa=ma.to&&Object.keys(ma.to).length>0,Ba=(S.keyframeStyle||"").length>0;if(!Ba&&!Aa&&!sa)return C();var Ca,Da;if(S.stagger>0){var Ea=parseFloat(S.stagger);Da={transitionDelay:Ea,animationDelay:Ea,transitionDuration:0,animationDuration:0}}else Ca=s(U,xa),Da=v(U,sa,Ca,ya);S.$$skipPreparationClasses||d.addClass(a,sa);var Fa;if(S.transitionStyle){var Ga=[I,S.transitionStyle];y(U,Ga),ja.push(Ga)}if(S.duration>=0){Fa=U.style[I].length>0;var Ha=F(S.duration,Fa);y(U,Ha),ja.push(Ha)}if(S.keyframeStyle){var Ia=[K,S.keyframeStyle];y(U,Ia),ja.push(Ia)}var Ja=Da?S.staggerIndex>=0?S.staggerIndex:b.count(Ca):0,Ka=0===Ja;Ka&&!S.skipBlocking&&w(U,la);var La=D(U,xa,Ca),Ma=La.maxDelay;ca=Math.max(Ma,0),ea=La.maxDuration;var Na={};if(Na.hasTransitions=La.transitionDuration>0,Na.hasAnimations=La.animationDuration>0,Na.hasTransitionAll=Na.hasTransitions&&"all"==La.transitionProperty,Na.applyTransitionDuration=Aa&&(Na.hasTransitions&&!Na.hasTransitionAll||Na.hasAnimations&&!Na.hasTransitions),Na.applyAnimationDuration=S.duration&&Na.hasAnimations,Na.applyTransitionDelay=E(S.delay)&&(Na.applyTransitionDuration||Na.hasTransitions),Na.applyAnimationDelay=E(S.delay)&&Na.hasAnimations,Na.recalculateTimingStyles=ra.length>0,(Na.applyTransitionDuration||Na.applyAnimationDuration)&&(ea=S.duration?parseFloat(S.duration):ea,Na.applyTransitionDuration&&(Na.hasTransitions=!0,La.transitionDuration=ea,Fa=U.style[I+ga].length>0,ja.push(F(ea,Fa))),Na.applyAnimationDuration&&(Na.hasAnimations=!0,La.animationDuration=ea,ja.push(A(ea)))),0===ea&&!Na.recalculateTimingStyles)return C();if(null!=S.delay){var Oa;"boolean"!=typeof S.delay&&(Oa=parseFloat(S.delay),ca=Math.max(Oa,0)),Na.applyTransitionDelay&&ja.push(B(Oa)),Na.applyAnimationDelay&&ja.push(B(Oa,!0))}return null==S.duration&&La.transitionDuration>0&&(Na.recalculateTimingStyles=Na.recalculateTimingStyles||Ka),da=ca*ua,fa=ea*ua,S.skipBlocking||(Na.blockTransition=La.transitionDuration>0,Na.blockKeyframeAnimation=La.animationDuration>0&&Da.animationDelay>0&&0===Da.animationDuration),S.from&&(S.cleanupStyles&&H(T,U,Object.keys(S.from)),p(a,S)),Na.blockTransition||Na.blockKeyframeAnimation?u(ea):S.skipBlocking||w(U,!1),{$$willAnimate:!0,end:j,start:function(){return V?void 0:(ba={end:j,cancel:l,resume:null,pause:null},Y=new e(ba),z(P),Y)}}}}]}],Aa=["$$animationProvider",function(a){function b(a){return a.parentNode&&11===a.parentNode.nodeType}a.drivers.push("$$animateCssDriver");var c="ng-animate-shim",d="ng-anchor",e="ng-anchor-out",f="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(a,g,h,i,j,k,l){function n(a){return a.replace(/\bng-\S+\b/g,"")}function o(a,b){return S(a)&&(a=a.split(" ")),S(b)&&(b=b.split(" ")),a.filter(function(a){return-1===b.indexOf(a)}).join(" ")}function p(b,g,i){function j(a){var b={},c=t(a).getBoundingClientRect();return Q(["width","height","top","left"],function(a){var d=c[a];switch(a){case"top":d+=s.scrollTop;break;case"left":d+=s.scrollLeft}b[a]=Math.floor(d)+"px"}),b}function k(){var b=a(q,{addClass:e,delay:!0,from:j(g)});return b.$$willAnimate?b:null}function l(a){return a.attr("class")||""}function m(){var b=n(l(i)),c=o(b,r),d=o(r,b),g=a(q,{to:j(i),addClass:f+" "+c,removeClass:e+" "+d,delay:!0});return g.$$willAnimate?g:null}function p(){q.remove(),g.removeClass(c),i.removeClass(c)}var q=P(t(g).cloneNode(!0)),r=n(l(q));g.addClass(c),i.addClass(c),q.addClass(d),v.append(q);var u,w=k();if(!w&&(u=m(),!u))return p();var x=w||u;return{start:function(){function a(){c&&c.end()}var b,c=x.start();return c.done(function(){return c=null,!u&&(u=m())?(c=u.start(),c.done(function(){c=null,p(),b.complete()}),c):(p(),void b.complete())}),b=new h({end:a,cancel:a})}}}function q(a,b,c,d){var e=r(a,M),f=r(b,M),g=[];return Q(d,function(a){var b=a.out,d=a["in"],e=p(c,b,d);e&&g.push(e)}),e||f||0!==g.length?{start:function(){function a(){Q(b,function(a){a.end()})}var b=[];e&&b.push(e.start()),f&&b.push(f.start()),Q(g,function(a){b.push(a.start())});var c=new h({end:a,cancel:a});return h.all(b,function(a){c.complete(a)}),c}}:void 0}function r(b){var c=b.element,d=b.options||{};b.structural&&(d.event=b.event,d.structural=!0,d.applyClassesEarly=!0,"leave"===b.event&&(d.onDone=d.domOperation)),d.preparationClasses&&(d.event=z(d.event,d.preparationClasses));var e=a(c,d);return e.$$willAnimate?e:null}if(!j.animations&&!j.transitions)return M;var s=l[0].body,u=t(i),v=P(b(u)||s.contains(u)?u:s);m(k);return function(a){return a.from&&a.to?q(a.from,a.to,a.classes,a.anchors):r(a)}}]}],Ba=["$animateProvider",function(a){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(b,c,d){function e(c){c=R(c)?c:c.split(" ");for(var d=[],e={},f=0;f<c.length;f++){var g=c[f],h=a.$$registeredAnimations[g];h&&!e[g]&&(d.push(b.get(h)),e[g]=!0)}return d}var f=m(d);return function(a,b,d,g){function h(){g.domOperation(),f(a,g)}function i(){m=!0,h(),o(a,g)}function j(a,b,d,e,f){var g;switch(d){case"animate":g=[b,e.from,e.to,f];break;case"setClass":g=[b,r,s,f];break;case"addClass":g=[b,r,f];break;case"removeClass":g=[b,s,f];break;default:g=[b,f]}g.push(e);var h=a.apply(a,g);if(h)if(W(h.start)&&(h=h.start()),h instanceof c)h.done(f);else if(W(h))return h;return M}function k(a,b,d,e,f){var g=[];return Q(e,function(e){var h=e[f];h&&g.push(function(){var e,f,g=!1,i=function(a){g||(g=!0,(f||M)(a),e.complete(!a))};return e=new c({end:function(){i()},cancel:function(){i(!0)}}),f=j(h,a,b,d,function(a){var b=a===!1;i(b)}),e})}),g}function l(a,b,d,e,f){var g=k(a,b,d,e,f);if(0===g.length){var h,i;"beforeSetClass"===f?(h=k(a,"removeClass",d,e,"beforeRemoveClass"),i=k(a,"addClass",d,e,"beforeAddClass")):"setClass"===f&&(h=k(a,"removeClass",d,e,"removeClass"),i=k(a,"addClass",d,e,"addClass")),h&&(g=g.concat(h)),i&&(g=g.concat(i))}if(0!==g.length)return function(a){var b=[];return g.length&&Q(g,function(a){b.push(a())}),b.length?c.all(b,a):a(),function(a){Q(b,function(b){a?b.cancel():b.end()})}}}var m=!1;3===arguments.length&&T(d)&&(g=d,d=null),g=n(g),d||(d=a.attr("class")||"",g.addClass&&(d+=" "+g.addClass),g.removeClass&&(d+=" "+g.removeClass));var p,q,r=g.addClass,s=g.removeClass,t=e(d);if(t.length){var u,v;"leave"==b?(v="leave",u="afterLeave"):(v="before"+b.charAt(0).toUpperCase()+b.substr(1),u=b),"enter"!==b&&"move"!==b&&(p=l(a,b,g,t,v)),q=l(a,b,g,t,u)}if(p||q){var w;return{$$willAnimate:!0,end:function(){return w?w.end():(i(),w=new c,w.complete(!0)),w},start:function(){function a(a){i(a),w.complete(a)}function b(b){m||((d||M)(b),a(b))}if(w)return w;w=new c;var d,e=[];return p&&e.push(function(a){d=p(a)}),e.length?e.push(function(a){h(),a(!0)}):h(),q&&e.push(function(a){d=q(a)}),w.setHost({end:function(){b()},cancel:function(){b(!0)}}),c.chain(e,a),w}}}}}]}],Ca=["$$animationProvider",function(a){a.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(a,b){function c(b){var c=b.element,d=b.event,e=b.options,f=b.classes;return a(c,d,f,e)}return function(a){if(a.from&&a.to){var d=c(a.from),e=c(a.to);if(!d&&!e)return;return{start:function(){function a(){return function(){Q(f,function(a){a.end()})}}function c(a){g.complete(a)}var f=[];d&&f.push(d.start()),e&&f.push(e.start()),b.all(f,c);var g=new b({end:a(),cancel:a()});return g}}}return c(a)}}]}],Da="data-ng-animate",Ea="$ngAnimatePin",Fa=["$animateProvider",function(a){function b(a){if(!a)return null;var b=a.split(k),c=Object.create(null);return Q(b,function(a){c[a]=!0}),c}function c(a,c){if(a&&c){var d=b(c);return a.split(k).some(function(a){return d[a]})}}function e(a,b,c,d){return l[a].some(function(a){return a(b,c,d)})}function f(a,b){var c=(a.addClass||"").length>0,d=(a.removeClass||"").length>0;return b?c&&d:c||d}var g=1,h=2,k=" ",l=this.rules={skip:[],cancel:[],join:[]};l.join.push(function(a,b,c){return!b.structural&&f(b)}),l.skip.push(function(a,b,c){return!b.structural&&!f(b)}),l.skip.push(function(a,b,c){return"leave"==c.event&&b.structural}),l.skip.push(function(a,b,c){return c.structural&&c.state===h&&!b.structural}),l.cancel.push(function(a,b,c){return c.structural&&b.structural}),l.cancel.push(function(a,b,c){return c.state===h&&b.structural}),l.cancel.push(function(a,b,d){var e=b.addClass,f=b.removeClass,g=d.addClass,h=d.removeClass;return U(e)&&U(f)||U(g)&&U(h)?!1:c(e,h)||c(f,g)}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow",function(b,c,k,l,p,q,s,w,x,y){function z(){var a=!1;return function(b){a?b():c.$$postDigest(function(){a=!0,b()})}}function A(a,b){return r(a,b,{})}function B(a,b,c){var d=t(b),e=t(a),f=[],g=M[c];return g&&Q(g,function(a){_.call(a.node,d)?f.push(a.callback):"leave"===c&&_.call(a.node,e)&&f.push(a.callback)}),f}function C(a,d,j){function k(c,d,e,f){C(function(){var c=B(w,a,d);c.length&&b(function(){Q(c,function(b){b(a,e,f)})})}),c.progress(d,e,f)}function m(b){v(a,x),$(a,x),o(a,x),x.domOperation(),y.complete(!b)}var p,w,x=N(j);a=i(a),a&&(p=t(a),w=a.parent()),x=n(x);var y=new s,C=z();if(R(x.addClass)&&(x.addClass=x.addClass.join(" ")),x.addClass&&!S(x.addClass)&&(x.addClass=null),R(x.removeClass)&&(x.removeClass=x.removeClass.join(" ")),x.removeClass&&!S(x.removeClass)&&(x.removeClass=null),x.from&&!T(x.from)&&(x.from=null),x.to&&!T(x.to)&&(x.to=null),!p)return m(),y;var F=[p.className,x.addClass,x.removeClass].join(" ");if(!Z(F))return m(),y;var L=["enter","move","leave"].indexOf(d)>=0,M=!K||l[0].hidden||J.get(p),O=!M&&I.get(p)||{},P=!!O.state;if(M||P&&O.state==g||(M=!G(a,w,d)),M)return m(),y;L&&D(a);var U={structural:L,element:a,event:d,addClass:x.addClass,removeClass:x.removeClass,close:m,options:x,runner:y};if(P){var V=e("skip",a,U,O);if(V)return O.state===h?(m(),y):(r(a,O,U),O.runner);var W=e("cancel",a,U,O);if(W)if(O.state===h)O.runner.end();else{if(!O.structural)return r(a,O,U),O.runner;O.close()}else{var X=e("join",a,U,O);if(X){if(O.state!==h)return u(a,L?d:null,x),d=U.event=O.event,x=r(a,O,U),O.runner;A(a,U)}}}else A(a,U);var Y=U.structural;if(Y||(Y="animate"===U.event&&Object.keys(U.options.to||{}).length>0||f(U)),!Y)return m(),E(a),y;var _=(O.counter||0)+1;return U.counter=_,H(a,g,U),c.$$postDigest(function(){var b=I.get(p),c=!b;b=b||{};var e=a.parent()||[],g=e.length>0&&("animate"===b.event||b.structural||f(b));if(c||b.counter!==_||!g)return c&&($(a,x),o(a,x)),(c||L&&b.event!==d)&&(x.domOperation(),y.end()),void(g||E(a));d=!b.structural&&f(b,!0)?"setClass":b.event,H(a,h);var i=q(a,d,b.options);i.done(function(b){m(!b);var c=I.get(p);c&&c.counter===_&&E(t(a)),k(y,d,"close",{})}),y.setHost(i),k(y,d,"start",{})}),y}function D(a){var b=t(a),c=b.querySelectorAll("["+Da+"]");Q(c,function(a){var b=parseInt(a.getAttribute(Da)),c=I.get(a);if(c)switch(b){case h:c.runner.end();case g:I.remove(a)}})}function E(a){var b=t(a);b.removeAttribute(Da),I.remove(b)}function F(a,b){return t(a)===t(b)}function G(a,b,c){var d,e=P(l[0].body),f=F(a,e)||"HTML"===a[0].nodeName,g=F(a,k),h=!1,i=J.get(t(a)),j=a.data(Ea);for(j&&(b=j);b&&b.length;){g||(g=F(b,k));var m=b[0];if(m.nodeType!==Y)break;var n=I.get(m)||{};if(!h){var o=J.get(m);if(o===!0&&i!==!1){i=!0;break}o===!1&&(i=!1),h=n.structural}if(U(d)||d===!0){var p=b.data(da);V(p)&&(d=p)}if(h&&d===!1)break;if(f||(f=F(b,e)),f&&g)break;b=g||!(j=b.data(Ea))?b.parent():j}var q=(!h||d)&&i!==!0;return q&&g&&f}function H(a,b,c){c=c||{},c.state=b;var d=t(a);d.setAttribute(Da,b);var e=I.get(d),f=e?O(e,c):c;I.put(d,f)}var I=new p,J=new p,K=null,L=c.$watch(function(){return 0===w.totalPendingRequests},function(a){a&&(L(),c.$$postDigest(function(){c.$$postDigest(function(){null===K&&(K=!0)})}))}),M={},W=a.classNameFilter(),Z=W?function(a){return W.test(a)}:function(){return!0},$=m(x),_=Node.prototype.contains||function(a){return this===a||!!(16&this.compareDocumentPosition(a))};return{on:function(a,b,c){var d=j(b);M[a]=M[a]||[],M[a].push({node:d,callback:c})},off:function(a,b,c){function d(a,b,c){var d=j(b);return a.filter(function(a){var b=a.node===d&&(!c||a.callback===c);return!b})}var e=M[a];e&&(M[a]=1===arguments.length?null:d(e,b,c))},pin:function(a,b){d(X(a),"element","not an element"),d(X(b),"parentElement","not an element"),a.data(Ea,b)},push:function(a,b,c,d){return c=c||{},c.domOperation=d,C(a,b,c)},enabled:function(a,b){var c=arguments.length;if(0===c)b=!!K;else{var d=X(a);if(d){var e=t(a),f=J.get(e);1===c?b=!f:J.put(e,!b)}else b=K=!!a}return b}}}]}],Ga=["$animateProvider",function(a){function b(a,b){a.data(h,b)}function c(a){a.removeData(h)}function d(a){return a.data(h)}var f="ng-animate-ref",g=this.drivers=[],h="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$HashMap","$$rAFScheduler",function(a,h,i,j,k,l){function p(a){function b(a){if(a.processed)return a;a.processed=!0;var c=a.domNode,d=c.parentNode;f.put(c,a);for(var g;d;){if(g=f.get(d)){g.processed||(g=b(g));break}d=d.parentNode}return(g||e).children.push(a),a}function c(a){var b,c=[],d=[];for(b=0;b<a.children.length;b++)d.push(a.children[b]);var e=d.length,f=0,g=[];for(b=0;b<d.length;b++){var h=d[b];0>=e&&(e=f,f=0,c.push(g),g=[]),g.push(h.fn),h.children.forEach(function(a){f++,d.push(a)}),e--}return g.length&&c.push(g),c}var d,e={children:[]},f=new k;for(d=0;d<a.length;d++){var g=a[d];f.put(g.domNode,a[d]={domNode:g.domNode,fn:g.fn,children:[]})}for(d=0;d<a.length;d++)b(a[d]);return c(e)}var q=[],r=m(a);return function(k,m,s){function u(a){var b="["+f+"]",c=a.hasAttribute(f)?[a]:a.querySelectorAll(b),d=[];return Q(c,function(a){var b=a.getAttribute(f);b&&b.length&&d.push(a)}),d}function v(a){var b=[],c={};Q(a,function(a,d){var e=a.element,g=t(e),h=a.event,i=["enter","move"].indexOf(h)>=0,j=a.structural?u(g):[];if(j.length){var k=i?"to":"from";Q(j,function(a){var b=a.getAttribute(f);c[b]=c[b]||{},c[b][k]={animationID:d,element:P(a)}})}else b.push(a)});var d={},e={};return Q(c,function(c,f){var g=c.from,h=c.to;if(!g||!h){var i=g?g.animationID:h.animationID,j=i.toString();return void(d[j]||(d[j]=!0,b.push(a[i])))}var k=a[g.animationID],l=a[h.animationID],m=g.animationID.toString();if(!e[m]){var n=e[m]={structural:!0,beforeStart:function(){k.beforeStart(),l.beforeStart()},close:function(){k.close(),l.close()},classes:w(k.classes,l.classes),from:k,to:l,anchors:[]};n.classes.length?b.push(n):(b.push(k),b.push(l))}e[m].anchors.push({out:g.element,"in":h.element})}),b}function w(a,b){a=a.split(" "),b=b.split(" ");for(var c=[],d=0;d<a.length;d++){var e=a[d];if("ng-"!==e.substring(0,3))for(var f=0;f<b.length;f++)if(e===b[f]){c.push(e);break}}return c.join(" ")}function x(a){for(var b=g.length-1;b>=0;b--){var c=g[b];if(i.has(c)){var d=i.get(c),e=d(a);if(e)return e}}}function y(){k.addClass(ca),F&&a.addClass(k,F),G&&(a.removeClass(k,G),G=null)}function z(a,b){function c(a){d(a).setHost(b)}a.from&&a.to?(c(a.from.element),c(a.to.element)):c(a.element)}function A(){var a=d(k);!a||"leave"===m&&s.$$domOperationFired||a.end()}function B(b){k.off("$destroy",A),c(k),r(k,s),o(k,s),s.domOperation(),F&&a.removeClass(k,F),k.removeClass(ca),D.complete(!b)}s=n(s);var C=["enter","move","leave"].indexOf(m)>=0,D=new j({end:function(){B()},cancel:function(){B(!0)}});if(!g.length)return B(),D;b(k,D);var E=e(k.attr("class"),e(s.addClass,s.removeClass)),F=s.tempClasses;F&&(E+=" "+F,s.tempClasses=null);var G;return C&&(G="ng-"+m+ba,a.addClass(k,G)),q.push({element:k,classes:E,event:m,structural:C,options:s,beforeStart:y,close:B}),k.on("$destroy",A),q.length>1?D:(h.$$postDigest(function(){var a=[];Q(q,function(b){d(b.element)?a.push(b):b.close()}),q.length=0;var b=v(a),c=[];Q(b,function(a){c.push({domNode:t(a.from?a.from.element:a.element),fn:function(){a.beforeStart();var b,c=a.close,e=a.anchors?a.from.element||a.to.element:a.element;if(d(e)){var f=x(a);f&&(b=f.start)}if(b){var g=b();g.done(function(a){c(!a)}),z(a,g)}else c()}})}),l(p(c))}),D)}}]}],Ha=["$animate","$rootScope",function(a,b){return{restrict:"A",transclude:"element",terminal:!0,priority:600,link:function(b,c,d,e,f){var g,h;b.$watchCollection(d.ngAnimateSwap||d["for"],function(d){g&&a.leave(g),h&&(h.$destroy(),h=null),(d||0===d)&&(h=b.$new(),f(h,function(b){g=b,a.enter(b,null,c)}))})}}}];b.module("ngAnimate",[]).directive("ngAnimateSwap",Ha).directive("ngAnimateChildren",sa).factory("$$rAFScheduler",ra).provider("$$animateQueue",Fa).provider("$$animation",Ga).provider("$animateCss",za).provider("$$animateCssDriver",Aa).provider("$$animateJs",Ba).provider("$$animateJsDriver",Ca)}(window,window.angular),!function(a,b){"use strict";return"function"==typeof define&&define.amd?void define(["angular"],function(a){return b(a)}):b(a)}(window.angular||null,function(a){"use strict";return function(){a.module("ngTable",[])}(),function(){a.module("ngTable").value("ngTableDefaults",{params:{},settings:{}})}(),function(){function b(b){function c(b,c){var f=b.charAt(0).toUpperCase()+b.substring(1),g={};return g["on"+f]=d(b),g["publish"+f]=e(b),a.extend(c,g)}function d(c){return function(d){var e=a.identity,g=b;if(2===arguments.length?a.isFunction(arguments[1].$new)?g=arguments[1]:e=arguments[1]:arguments.length>2&&(g=arguments[1],e=arguments[2]),a.isObject(e)){var h=e;e=function(a){return a===h}}return g.$on("ngTable:"+c,function(a,b){if(!b.isNullInstance){var c=f(arguments,2),g=[b].concat(c);e.apply(this,g)&&d.apply(this,g)}})}}function e(a){return function(){var c=["ngTable:"+a].concat(Array.prototype.slice.call(arguments));b.$broadcast.apply(b,c)}}function f(a,b){return Array.prototype.slice.call(a,null==b?1:b)}var g={};return g=c("afterCreated",g),g=c("afterReloadData",g),g=c("datasetChanged",g),g=c("pagesChanged",g)}a.module("ngTable").factory("ngTableEventsChannel",b),b.$inject=["$rootScope"]}(),function(){function b(){function b(){c()}function c(){f=g}function d(b){var c=a.extend({},f,b);c.aliasUrls=a.extend({},f.aliasUrls,b.aliasUrls),f=c}function e(){function b(b,c){return a.isObject(b)&&(b=b.id),-1!==b.indexOf("/")?b:e.getUrlForAlias(b,c)}function c(a){return f.aliasUrls[a]||f.defaultBaseUrl+a+f.defaultExt}var d,e={config:d,getTemplateUrl:b,getUrlForAlias:c};return Object.defineProperty(e,"config",{get:function(){return d=d||a.copy(f)},enumerable:!0}),e}var f,g={defaultBaseUrl:"ng-table/filters/",defaultExt:".html",aliasUrls:{}};this.$get=e,this.resetConfigs=c,this.setConfig=d,b(),e.$inject=[]}a.module("ngTable").provider("ngTableFilterConfig",b),b.$inject=[]}(),function(){function b(){function b(b){function d(d){var e=d.settings().filterOptions;return a.isFunction(e.filterFn)?e.filterFn:b(e.filterFilterName||c.filterFilterName)}function e(){return b(c.sortingFilterName)}function f(a,b){if(!b.hasFilter())return a;var c=b.filter(!0),e=Object.keys(c),f=e.reduce(function(a,b){return a=j(a,c[b],b)},{}),g=d(b);return g.call(b,a,f,b.settings().filterOptions.filterComparator)}function g(a,b){var c=a.slice((b.page()-1)*b.count(),b.page()*b.count());return b.total(a.length),c}function h(a,b){var c=b.orderBy(),d=e(b);return c.length?d(a,c):a}function i(b,c){if(null==b)return[];var d=a.extend({},k,c.settings().dataOptions),e=d.applyFilter?f(b,c):b,i=d.applySort?h(e,c):e;return d.applyPaging?g(i,c):i}function j(a,b,c){var d=c.split("."),e=a,f=d[d.length-1],g=e,h=d.slice(0,d.length-1);return h.forEach(function(a){g.hasOwnProperty(a)||(g[a]={}),g=g[a]}),g[f]=b,e}var k={applyFilter:!0,applySort:!0,applyPaging:!0};return i.applyPaging=g,i.getFilterFn=d,i.getOrderByFn=e,i}var c=this;c.$get=b,c.filterFilterName="filter",c.sortingFilterName="orderBy",b.$inject=["$filter"]}a.module("ngTable").provider("ngTableDefaultGetData",b),b.$inject=[]}(),function(){function b(a){function b(b){return function(){var c=a.defer(),d=b.apply(this,[c].concat(Array.prototype.slice.call(arguments)));return d||(d=c.promise),d}}return b}a.module("ngTable").factory("ngTableGetDataBcShim",b),b.$inject=["$q"]}(),function(){a.module("ngTable").factory("ngTableColumn",[function(){function b(b,d,f){var g=Object.create(b),h=c();for(var i in h)void 0===g[i]&&(g[i]=h[i]),a.isFunction(g[i])||!function(a){var c=function d(){return 1!==arguments.length||e(arguments[0])?b[a]:void d.assign(null,arguments[0])};c.assign=function(c,d){b[a]=d},g[a]=c}(i),function(c){var h=g[c];g[c]=function(){if(1!==arguments.length||e(arguments[0])){var c=arguments[0]||d,i=Object.create(c);return a.extend(i,{$column:g,$columns:f}),h.call(b,i)}h.assign(null,arguments[0])},h.assign&&(g[c].assign=h.assign)}(i);return g}function c(){return{"class":d(""),filter:d(!1),groupable:d(!1),filterData:a.noop,headerTemplateURL:d(!1),headerTitle:d(""),sortable:d(!1),show:d(!0),title:d(""),titleAlt:d("")}}function d(a){var b=a,c=function d(){return 1!==arguments.length||e(arguments[0])?b:void d.assign(null,arguments[0])};return c.assign=function(a,c){b=c},c}function e(b){return null!=b&&a.isFunction(b.$new)}return{buildColumn:b}}])}(),function(){a.module("ngTable").factory("NgTableParams",["$q","$log","$filter","ngTableDefaults","ngTableGetDataBcShim","ngTableDefaultGetData","ngTableEventsChannel",function(b,c,d,e,f,g,h){var i=function(a){return!isNaN(parseFloat(a))&&isFinite(a)},j=function(d,j){function k(b){var c=D.groupOptions&&D.groupOptions.defaultSort;if(a.isFunction(b))return null==b.sortDirection&&(b.sortDirection=c),b;if(a.isString(b)){var d={};return d[b]=c,d}if(a.isObject(b)){for(var e in b)null==b[e]&&(b[e]=c);return b}return b}function l(a){var b=[];for(var c in a)b.push(("asc"===a[c]?"+":"-")+c);return b}function m(){var b={params:C};return a.isFunction(C.group)&&(b.groupSortDirection=C.group.sortDirection),b}function n(){var b=C.filter&&C.filter.$,c=t&&t.params.filter&&t.params.filter.$;return!a.equals(b,c)}function o(){D.filterOptions.filterDelay===z.filterDelay&&D.total<=D.filterOptions.filterDelayThreshold&&D.getData===B.getData&&(D.filterOptions.filterDelay=0)}function p(){var a=D.getDataFnAdaptor(D.getData);return b.when(a.call(D,v))}function q(){var a=D.getGroupsFnAdaptor(D.getGroups);return b.when(a.call(D,v))}function r(a){var c=D.interceptors||[];return c.reduce(function(a,c){var d=c.response&&c.response.bind(c)||b.when,e=c.responseError&&c.responseError.bind(c)||b.reject;return a.then(function(a){return d(a,v)},function(a){return e(a,v)})},a())}function s(){function c(a){return g(a.settings().dataset,a)}function d(c){var d,f=c.group(),h=void 0;if(a.isFunction(f))d=f,h=f.sortDirection;else{var i=Object.keys(f)[0];h=f[i],d=function(a){return e(a,i)}}var j=c.settings(),k=j.dataOptions;j.dataOptions={applyPaging:!1};var m=j.getDataFnAdaptor(j.getData),n=b.when(m.call(j,c));return n.then(function(b){var e={};a.forEach(b,function(a){var b=d(a);e[b]=e[b]||{data:[],$hideRows:!j.groupOptions.isExpanded,value:b},e[b].data.push(a)});var f=[];for(var i in e)f.push(e[i]);if(h){var k=g.getOrderByFn(),m=l({value:h});f=k(f,m)}return g.applyPaging(f,c)})["finally"](function(){j.dataOptions=k})}function e(a,b){return"string"==typeof b&&(b=b.split(".")),void 0===a?void 0:0===b.length?a:null===a?void 0:e(a[b[0]],b.slice(1))}return{getDataFnAdaptor:a.identity,getGroupsFnAdaptor:a.identity,getData:c,getGroups:d}}"boolean"==typeof d&&(this.isNullInstance=!0);var t,u,v=this,w=!1,x=[],y=function(){D.debugMode&&c.debug&&c.debug.apply(c,arguments)},z={filterComparator:void 0,filterDelay:500,filterDelayThreshold:1e4,filterFilterName:void 0,filterFn:void 0,filterLayout:"stack"},A={defaultSort:"asc",isExpanded:!0},B=s();this.data=[],this.parameters=function(b,c){if(c=c||!1,a.isDefined(b)){for(var d in b){var e=b[d];if(c&&d.indexOf("[")>=0){for(var f=d.split(/\[(.*)\]/).reverse(),g="",h=0,j=f.length;j>h;h++){var l=f[h];if(""!==l){var m=e;e={},e[g=l]=i(m)?parseFloat(m):m}}"sorting"===g&&(C[g]={}),C[g]=a.extend(C[g]||{},e[g])}else C[d]="group"===d?k(b[d]):i(b[d])?parseFloat(b[d]):b[d]}return y("ngTable: set parameters",C),this}return C},this.settings=function(b){if(a.isDefined(b)){b.filterOptions&&(b.filterOptions=a.extend({},D.filterOptions,b.filterOptions)),b.groupOptions&&(b.groupOptions=a.extend({},D.groupOptions,b.groupOptions)),a.isArray(b.dataset)&&(b.total=b.dataset.length),b.getData&&b.getData.length>1&&(b.getDataFnAdaptor=f),b.getGroups&&b.getGroups.length>2&&(b.getGroupsFnAdaptor=f);var c=D.dataset;D=a.extend(D,b),a.isArray(b.dataset)&&o();var d=b.hasOwnProperty("dataset")&&b.dataset!=c;if(d){w&&this.page(1),w=!1;var e=function(){h.publishDatasetChanged(v,b.dataset,c)};x?x.push(e):e()}return y("ngTable: set settings",D),this}return D},this.page=function(b){return a.isDefined(b)?this.parameters({page:b}):C.page},this.total=function(b){return a.isDefined(b)?this.settings({total:b}):D.total},this.count=function(b){return a.isDefined(b)?this.parameters({count:b,page:1}):C.count},this.filter=function(b){if(a.isDefined(b)&&a.isObject(b))return this.parameters({filter:b,page:1});if(b===!0){for(var c=Object.keys(C.filter),d={},e=0;e<c.length;e++){var f=C.filter[c[e]];null!=f&&""!==f&&(d[c[e]]=f)}return d}return C.filter},this.group=function(b,c){if(!a.isDefined(b))return C.group;var d={page:1};if(a.isFunction(b)&&a.isDefined(c))b.sortDirection=c,d.group=b;else if(a.isDefined(b)&&a.isDefined(c)){var e={};e[b]=c,d.group=e}else d.group=b;return this.parameters(d),this},this.sorting=function(b){if(2==arguments.length){var c={};return c[b]=arguments[1],this.parameters({sorting:c}),this}return a.isDefined(b)?this.parameters({sorting:b}):C.sorting},this.isSortBy=function(b,c){return void 0!==c?a.isDefined(C.sorting[b])&&C.sorting[b]==c:a.isDefined(C.sorting[b])},this.orderBy=function(){return l(C.sorting)},this.generatePagesArray=function(a,b,c,d){arguments.length||(a=this.page(),b=this.total(),c=this.count());var e,f,g,h,i;if(d=d&&6>d?6:d,i=[],h=Math.ceil(b/c),h>1){i.push({type:"prev",number:Math.max(1,a-1),active:a>1}),i.push({type:"first",number:1,active:a>1,current:1===a}),f=Math.round((D.paginationMaxBlocks-D.paginationMinBlocks)/2),g=Math.max(2,a-f),e=Math.min(h-1,a+2*f-(a-g)),g=Math.max(2,g-(2*f-(e-g)));for(var j=g;e>=j;)i.push(j===g&&2!==j||j===e&&j!==h-1?{type:"more",active:!1}:{type:"page",number:j,active:a!==j,current:a===j}),j++;i.push({type:"last",number:h,active:a!==h,current:a===h}),i.push({type:"next",number:Math.min(h,a+1),active:h>a})}return i},this.isDataReloadRequired=function(){return!w||!a.equals(m(),t)||n()},this.hasFilter=function(){return Object.keys(this.filter(!0)).length>0},this.hasGroup=function(b,c){return null==b?a.isFunction(C.group)||Object.keys(C.group).length>0:a.isFunction(b)?null==c?C.group===b:C.group===b&&b.sortDirection===c:null==c?-1!==Object.keys(C.group).indexOf(b):C.group[b]===c},this.hasFilterChanges=function(){var b=t&&t.params.filter;return!a.equals(C.filter,b)||n()},this.url=function(b){function c(a,c){b?e.push(c+"="+encodeURIComponent(a)):e[c]=encodeURIComponent(a)}function d(b,c){return"group"===c?!0:a.isDefined(b)&&""!==b}b=b||!1;var e=b?[]:{};for(var f in C)if(C.hasOwnProperty(f)){var g=C[f],h=encodeURIComponent(f);if("object"==typeof g){for(var i in g)if(d(g[i],f)){var j=h+"["+encodeURIComponent(i)+"]";c(g[i],j)}}else!a.isFunction(g)&&d(g,f)&&c(g,h)}return e},this.reload=function(){var c=this,d=null;D.$loading=!0,t=a.copy(m()),w=!0,d=r(c.hasGroup()?q:p),y("ngTable: reload data");var e=c.data;return d.then(function(a){return D.$loading=!1,u=null,c.data=a,h.publishAfterReloadData(c,a,e),c.reloadPages(),D.$scope&&D.$scope.$emit("ngTableAfterReloadData"),a})["catch"](function(a){return u=t,b.reject(a)})},this.hasErrorState=function(){return!(!u||!a.equals(u,m()))},this.reloadPages=function(){var b;return function(){var c=b,d=v.generatePagesArray(v.page(),v.total(),v.count());a.equals(c,d)||(b=d,h.publishPagesChanged(this,d,c))}}();var C={page:1,count:10,filter:{},
sorting:{},group:{}};a.extend(C,e.params);var D={$scope:null,$loading:!1,dataset:null,total:0,defaultSort:"desc",filterOptions:a.copy(z),groupOptions:a.copy(A),counts:[10,25,50,100],interceptors:[],paginationMaxBlocks:11,paginationMinBlocks:5,sortingIndicator:"span"};return this.settings(B),this.settings(e.settings),this.settings(j),this.parameters(d,!0),h.publishAfterCreated(this),a.forEach(x,function(a){a()}),x=null,this};return j}]),a.module("ngTable").factory("ngTableParams",["NgTableParams",function(a){return a}])}(),function(){a.module("ngTable").controller("ngTableController",["$scope","NgTableParams","$timeout","$parse","$compile","$attrs","$element","ngTableColumn","ngTableEventsChannel",function(b,c,d,e,f,g,h,i,j){function k(a){if(a&&!b.params.hasErrorState()){b.params.settings().$scope=b;var c=b.params,d=c.settings().filterOptions;if(c.hasFilterChanges()){var e=function(){c.page(1),c.reload()};d.filterDelay?r(e,d.filterDelay):e()}else c.reload()}}function l(){g.showFilter?b.$parent.$watch(g.showFilter,function(a){b.show_filter=a}):b.$watch(o,function(a){b.show_filter=a}),g.disableFilter&&b.$parent.$watch(g.disableFilter,function(a){b.$filterRow.disabled=a})}function m(){if(b.$groupRow={},g.showGroup){var a=e(g.showGroup);b.$parent.$watch(a,function(a){b.$groupRow.show=a}),a.assign&&b.$watch("$groupRow.show",function(c){a.assign(b.$parent,c)})}else b.$watch("params.hasGroup()",function(a){b.$groupRow.show=a})}function n(){return(b.$columns||[]).filter(function(a){return a.show(b)})}function o(){return b.$columns?p(b.$columns,function(a){return a.show(b)&&a.filter(b)}):!1}function p(a,b){for(var c=!1,d=0;d<a.length;d++){var e=a[d];if(b(e)){c=!0;break}}return c}function q(){function a(a,c){var d=n();a.hasGroup()?(b.$groups=c||[],b.$groups.visibleColumnCount=d.length):(b.$data=c||[],b.$data.visibleColumnCount=d.length)}function c(a,c){b.pages=c}function d(a){return b.params===a}j.onAfterReloadData(a,b,d),j.onPagesChanged(c,b,d)}b.$filterRow={},b.$loading=!1,b.hasOwnProperty("params")||(b.params=new c(!0)),b.params.settings().$scope=b;var r=function(){var a=0;return function(b,c){d.cancel(a),a=d(b,c)}}();b.$watch("params",function(a,b){a!==b&&a&&a.reload()},!1),b.$watch("params.isDataReloadRequired()",k),this.compileDirectiveTemplates=function(){if(!h.hasClass("ng-table")){b.templates={header:g.templateHeader?g.templateHeader:"ng-table/header.html",pagination:g.templatePagination?g.templatePagination:"ng-table/pager.html"},h.addClass("ng-table");var c=null,d=!1;a.forEach(h.children(),function(a){"THEAD"===a.tagName&&(d=!0)}),d||(c=a.element(document.createElement("thead")).attr("ng-include","templates.header"),h.prepend(c));var e=a.element(document.createElement("div")).attr({"ng-table-pagination":"params","template-url":"templates.pagination"});h.after(e),c&&f(c)(b),f(e)(b)}},this.loadFilterData=function(c){a.forEach(c,function(c){var d;if(d=c.filterData(b),!d)return void delete c.filterData;if(a.isObject(d)&&(a.isObject(d.promise)||a.isFunction(d.then))){var e=a.isFunction(d.then)?d:d.promise;return delete c.filterData,e.then(function(b){a.isArray(b)||a.isFunction(b)||a.isObject(b)||(b=[]),c.data=b})}return c.data=d})},this.buildColumns=function(a){var c=[];return(a||[]).forEach(function(a){c.push(i.buildColumn(a,b,c))}),c},this.parseNgTableDynamicExpr=function(a){if(!a||a.indexOf(" with ")>-1){var b=a.split(/\s+with\s+/);return{tableParams:b[0],columns:b[1]}}throw new Error("Parse error (expected example: ng-table-dynamic='tableParams with cols')")},this.setupBindingsToInternalScope=function(c){var d=e(c);b.$watch(d,function(c){a.isUndefined(c)||(b.paramsModel=d,b.params=c)},!1),l(),m()},q()}])}(),function(){a.module("ngTable").directive("ngTable",["$q","$parse",function(b,c){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(b){var d,e,f=[],g=0,h=[];return a.forEach(b.find("tr"),function(b){h.push(a.element(b))}),d=h.filter(function(a){return!a.hasClass("ng-table-group")})[0],e=h.filter(function(a){return a.hasClass("ng-table-group")})[0],d?(a.forEach(d.find("td"),function(b){var d=a.element(b);if(!d.attr("ignore-cell")||"true"!==d.attr("ignore-cell")){var h=function(a){return d.attr("x-data-"+a)||d.attr("data-"+a)||d.attr(a)},i=function(a,b){d.attr("x-data-"+a)?d.attr("x-data-"+a,b):d.attr("data"+a)?d.attr("data"+a,b):d.attr(a,b)},j=function(a){var b=h(a);if(!b)return void 0;var d,e=function(a){return void 0!==d?d:c(b)(a)};return e.assign=function(a,e){var f=c(b);f.assign?f.assign(a.$parent,e):d=e},e},k=h("title-alt")||h("title");k&&d.attr("data-title-text","{{"+k+"}}"),f.push({id:g++,title:j("title"),titleAlt:j("title-alt"),headerTitle:j("header-title"),sortable:j("sortable"),"class":j("header-class"),filter:j("filter"),groupable:j("groupable"),headerTemplateURL:j("header"),filterData:j("filter-data"),show:d.attr("ng-if")?j("ng-if"):void 0}),(e||d.attr("ng-if"))&&i("ng-if","$columns["+(f.length-1)+"].show(this)")}}),function(a,b,c,d){a.$columns=f=d.buildColumns(f),d.setupBindingsToInternalScope(c.ngTable),d.loadFilterData(f),d.compileDirectiveTemplates()}):void 0}}}])}(),function(){a.module("ngTable").directive("ngTableDynamic",[function(){return{restrict:"A",priority:1001,scope:!0,controller:"ngTableController",compile:function(b){var c;return a.forEach(b.find("tr"),function(b){b=a.element(b),b.hasClass("ng-table-group")||c||(c=b)}),c?(a.forEach(c.find("td"),function(b){var c=a.element(b),d=function(a){return c.attr("x-data-"+a)||c.attr("data-"+a)||c.attr(a)},e=d("title");e||c.attr("data-title-text","{{$columns[$index].titleAlt(this) || $columns[$index].title(this)}}");var f=c.attr("ng-if");f||c.attr("ng-if","$columns[$index].show(this)")}),function(a,b,c,d){var e=d.parseNgTableDynamicExpr(c.ngTableDynamic);d.setupBindingsToInternalScope(e.tableParams),d.compileDirectiveTemplates(),a.$watchCollection(e.columns,function(b){a.$columns=d.buildColumns(b),d.loadFilterData(a.$columns)})}):void 0}}}])}(),function(){function b(a){function b(b,c,d){var e=a(d.ngTableColumnsBinding).assign;e&&b.$watch("$columns",function(a){var c=(a||[]).slice(0);e(b,c)})}var c={restrict:"A",require:"ngTable",link:b};return c}a.module("ngTable").directive("ngTableColumnsBinding",b),b.$inject=["$parse"]}(),function(){a.module("ngTable").directive("ngTablePagination",["$compile","ngTableEventsChannel",function(b,c){return{restrict:"A",scope:{params:"=ngTablePagination",templateUrl:"="},replace:!1,link:function(d,e){c.onAfterReloadData(function(a){d.pages=a.generatePagesArray()},d,function(a){return a===d.params}),d.$watch("templateUrl",function(c){if(!a.isUndefined(c)){var f=a.element(document.createElement("div"));f.attr({"ng-include":"templateUrl"}),e.append(f),b(f)(d)}})}}}])}(),function(){function b(b,c){b.config=c,b.getFilterCellCss=function(a,b){if("horizontal"!==b)return"s12";var c=Object.keys(a).length,d=parseInt(12/c,10);return"s"+d},b.getFilterPlaceholderValue=function(b){return a.isObject(b)?b.placeholder:""}}a.module("ngTable").controller("ngTableFilterRowController",b),b.$inject=["$scope","ngTableFilterConfig"]}(),function(){function b(){var a={restrict:"E",replace:!0,templateUrl:"ng-table/filterRow.html",scope:!0,controller:"ngTableFilterRowController"};return a}a.module("ngTable").directive("ngTableFilterRow",b),b.$inject=[]}(),function(){function b(b){function c(){b.getGroupables=g,b.getGroupTitle=f,b.getVisibleColumns=h,b.groupBy=i,b.isSelectedGroup=j,b.toggleDetail=l,b.$watch("params.group()",k,!0)}function d(){var a;a=b.params.hasGroup(b.$selGroup,"asc")?"desc":b.params.hasGroup(b.$selGroup,"desc")?"":"asc",b.params.group(b.$selGroup,a)}function e(a){return b.$columns.filter(function(c){return c.groupable(b)===a})[0]}function f(c){return a.isFunction(c)?c.title:c.title(b)}function g(){var a=b.$columns.filter(function(a){return a.groupable(b)});return m.concat(a)}function h(){return b.$columns.filter(function(a){return a.show(b)})}function i(a){j(a)?d():b.params.group(a.groupable?a.groupable(b):a)}function j(a){return a.groupable?a.groupable(b)===b.$selGroup:a===b.$selGroup}function k(c){var d=e(b.$selGroup);if(d&&d.show.assign&&d.show.assign(b,!0),a.isFunction(c))m=[c],b.$selGroup=c,b.$selGroupTitle=c.title;else{var f=Object.keys(c||{})[0],g=e(f);g&&(b.$selGroupTitle=g.title(b),b.$selGroup=f,g.show.assign&&g.show.assign(b,!1))}}function l(){return b.params.settings().groupOptions.isExpanded=!b.params.settings().groupOptions.isExpanded,b.params.reload()}var m=[];c()}a.module("ngTable").controller("ngTableGroupRowController",b),b.$inject=["$scope"]}(),function(){function b(){var a={restrict:"E",replace:!0,templateUrl:"ng-table/groupRow.html",scope:!0,controller:"ngTableGroupRowController",controllerAs:"dctrl"};return a}a.module("ngTable").directive("ngTableGroupRow",b),b.$inject=[]}(),function(){function b(a){function b(b,c){var d=b.sortable&&b.sortable();if(d){var e=a.params.settings().defaultSort,f="asc"===e?"desc":"asc",g=a.params.sorting()&&a.params.sorting()[d]&&a.params.sorting()[d]===e,h=c.ctrlKey||c.metaKey?a.params.sorting():{};h[d]=g?f:e,a.params.parameters({sorting:h})}}a.sortBy=b}a.module("ngTable").controller("ngTableSorterRowController",b),b.$inject=["$scope"]}(),function(){function b(){var a={restrict:"E",replace:!0,templateUrl:"ng-table/sorterRow.html",scope:!0,controller:"ngTableSorterRowController"};return a}a.module("ngTable").directive("ngTableSorterRow",b),b.$inject=[]}(),function(){function b(){var a={restrict:"A",controller:c};return a}function c(b,c,d,e){function f(){j=c(d.ngTableSelectFilterDs)(b),b.$watch(function(){return j.data},g)}function g(){i(j).then(function(a){a&&!h(a)&&a.unshift({id:"",title:""}),a=a||[],b.$selectData=a})}function h(a){for(var b,c=0;c<a.length;c++){var d=a[c];if(d&&""===d.id){b=!0;break}}return b}function i(b){var c=a.isFunction(b.data)?b.data():b.data;return e.when(c)}var j={};f()}a.module("ngTable").directive("ngTableSelectFilterDs",b),b.$inject=[],c.$inject=["$scope","$parse","$attrs","$q"]}(),a.module("ngTable").run(["$templateCache",function(a){a.put("ng-table/filterRow.html",'<tr ng-show="show_filter" class="ng-table-filters"> <th data-title-text="{{$column.titleAlt(this) || $column.title(this)}}" ng-repeat="$column in $columns" ng-if="$column.show(this)" class="filter {{$column.class(this)}}" ng-class="params.settings().filterOptions.filterLayout===\'horizontal\' ? \'filter-horizontal\' : \'\'"> <div ng-repeat="(name, filter) in $column.filter(this)" ng-include="config.getTemplateUrl(filter)" class="filter-cell" ng-class="[getFilterCellCss($column.filter(this), params.settings().filterOptions.filterLayout), $last ? \'last\' : \'\']"> </div> </th> </tr> '),a.put("ng-table/filters/number.html",'<input type="number" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> '),a.put("ng-table/filters/select-multiple.html",'<select ng-options="data.id as data.title for data in $column.data" ng-disabled="$filterRow.disabled" multiple ng-multiple="true" ng-model="params.filter()[name]" class="filter filter-select-multiple form-control" name="{{name}}"> </select> '),a.put("ng-table/filters/select.html",'<select ng-options="data.id as data.title for data in $selectData" ng-table-select-filter-ds="$column" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="filter filter-select form-control" name="{{name}}"> <option style="display:none" value=""></option> </select> '),a.put("ng-table/filters/text.html",'<input type="text" name="{{name}}" ng-disabled="$filterRow.disabled" ng-model="params.filter()[name]" class="input-filter form-control" placeholder="{{getFilterPlaceholderValue(filter, name)}}"/> '),a.put("ng-table/groupRow.html",'<tr ng-if="params.hasGroup()" ng-show="$groupRow.show" class="ng-table-group-header"> <th colspan="{{getVisibleColumns().length}}" class="sortable" ng-class="{ \'sort-asc\': params.hasGroup($selGroup, \'asc\'), \'sort-desc\':params.hasGroup($selGroup, \'desc\') }"> <a href="" ng-click="isSelectorOpen=!isSelectorOpen" class="ng-table-group-selector"> <strong class="sort-indicator">{{$selGroupTitle}}</strong> <button class="btn btn-default btn-xs ng-table-group-close" ng-click="$groupRow.show=false; $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon glyphicon-remove"></span> </button> <button class="btn btn-default btn-xs ng-table-group-toggle" ng-click="toggleDetail(); $event.preventDefault(); $event.stopPropagation();"> <span class="glyphicon" ng-class="{ \'glyphicon-resize-small\': params.settings().groupOptions.isExpanded, \'glyphicon-resize-full\': !params.settings().groupOptions.isExpanded }"></span> </button> </a> <div class="list-group" ng-if="isSelectorOpen"> <a href="" class="list-group-item" ng-repeat="group in getGroupables()" ng-click="groupBy(group)"> <strong>{{ getGroupTitle(group)}}</strong> <strong ng-class="isSelectedGroup(group) && \'sort-indicator\'"></strong> </a> </div> </th> </tr> '),a.put("ng-table/header.html","<ng-table-group-row></ng-table-group-row> <ng-table-sorter-row></ng-table-sorter-row> <ng-table-filter-row></ng-table-filter-row> "),a.put("ng-table/pager.html",'<div class="ng-cloak ng-table-pager" ng-if="params.data.length"> <div ng-if="params.settings().counts.length" class="ng-table-counts btn-group pull-right"> <button ng-repeat="count in params.settings().counts" type="button" ng-class="{\'active\':params.count()==count}" ng-click="params.count(count)" class="btn btn-default"> <span ng-bind="count"></span> </button> </div> <ul ng-if="pages.length" class="pagination ng-table-pagination"> <li ng-class="{\'disabled\': !page.active && !page.current, \'active\': page.current}" ng-repeat="page in pages" ng-switch="page.type"> <a ng-switch-when="prev" ng-click="params.page(page.number)" href="">&laquo;</a> <a ng-switch-when="first" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="page" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="more" ng-click="params.page(page.number)" href="">&#8230;</a> <a ng-switch-when="last" ng-click="params.page(page.number)" href=""><span ng-bind="page.number"></span></a> <a ng-switch-when="next" ng-click="params.page(page.number)" href="">&raquo;</a> </li> </ul> </div> '),a.put("ng-table/sorterRow.html",'<tr class="ng-table-sort-header"> <th title="{{$column.headerTitle(this)}}" ng-repeat="$column in $columns" ng-class="{ \'sortable\': $column.sortable(this), \'sort-asc\': params.sorting()[$column.sortable(this)]==\'asc\', \'sort-desc\': params.sorting()[$column.sortable(this)]==\'desc\' }" ng-click="sortBy($column, $event)" ng-if="$column.show(this)" ng-init="template=$column.headerTemplateURL(this)" class="header {{$column.class(this)}}"> <div ng-if="!template" class="ng-table-header" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'div\'}"> <span ng-bind="$column.title(this)" ng-class="{\'sort-indicator\': params.settings().sortingIndicator==\'span\'}"></span> </div> <div ng-if="template" ng-include="template"></div> </th> </tr> ')}]),a.module("ngTable")}),angular.module("isoCurrency.common",[]).factory("iso4217",function(){var a={AFN:{text:"Afghani",fraction:2,symbol:""},EUR:{text:"Euro",fraction:2,symbol:""},ALL:{text:"Lek",fraction:2,symbol:"Lek"},DZD:{text:"Algerian Dinar",fraction:2,symbol:"."},USD:{text:"US Dollar",fraction:2,symbol:"$"},AOA:{text:"Kwanza",fraction:2,symbol:"Kz"},XCD:{text:"East Caribbean Dollar",fraction:2,symbol:"$"},ARS:{text:"Argentine Peso",fraction:2,symbol:"$"},AMD:{text:"Armenian Dram",fraction:2,symbol:!1},AWG:{text:"Aruban Florin",fraction:2,symbol:""},AUD:{text:"Australian Dollar",fraction:2,symbol:"AU$"},AZN:{text:"Azerbaijanian Manat",fraction:2,symbol:""},BSD:{text:"Bahamian Dollar",fraction:2,symbol:"$"},BHD:{text:"Bahraini Dinar",fraction:3,symbol:"BD"},BDT:{text:"Taka",fraction:2,symbol:""},BBD:{text:"Barbados Dollar",fraction:2,symbol:"$"},BYR:{text:"Belarussian Ruble",fraction:0,symbol:"p."},BZD:{text:"Belize Dollar",fraction:2,symbol:"BZ$"},XOF:{text:"CF Franc BCEAO",fraction:0,symbol:"CFA"},BMD:{text:"Bermudian Dollar",fraction:2,symbol:"$"},BTN:{text:"Ngultrum",fraction:2,symbol:"Nu"},INR:{text:"Indian Rupee",fraction:2,symbol:""},BOB:{text:"Boliviano",fraction:2,symbol:"$b"},BOV:{text:"Mvdol",fraction:2,symbol:"$b"},BAM:{text:"Convertible Mark",fraction:2,symbol:"KM"},BWP:{text:"Pula",fraction:2,symbol:"P"},NOK:{text:"Norwegian Krone",fraction:2,symbol:"kr"},BRL:{text:"Brazilian Real",fraction:2,symbol:"R$"},BND:{text:"Brunei Dollar",fraction:2,symbol:"$"},BGN:{text:"Bulgarian Lev",fraction:2,symbol:""},BIF:{text:"Burundi Franc",fraction:0,symbol:"BIF"},KHR:{text:"Riel",fraction:2,symbol:""},XAF:{text:"CF Franc BEAC",fraction:0,symbol:!1},CAD:{text:"Canadian Dollar",fraction:2,symbol:"CA$"},CVE:{text:"Cabo Verde Escudo",fraction:2,symbol:"$"},KYD:{text:"Cayman Islands Dollar",fraction:2,symbol:"$"},CLF:{text:"Unidad de Fomento",fraction:4,symbol:!1},CLP:{text:"Chilean Peso",fraction:0,symbol:"$"},CNY:{text:"Yuan Renminbi",fraction:2,symbol:""},COP:{text:"Colombian Peso",fraction:2,symbol:"$"},COU:{text:"Unidad de Valor Real",fraction:2,symbol:!1},KMF:{text:"Comoro Franc",fraction:0,symbol:!1},CDF:{text:"Congolese Franc",fraction:2,symbol:!1},NZD:{text:"New Zealand Dollar",fraction:2,symbol:"$"},CRC:{text:"Cost Rican Colon",fraction:2,symbol:""},HRK:{text:"Croatian Kuna",fraction:2,symbol:"kn"},CUC:{text:"Peso Convertible",fraction:2,symbol:!1},CUP:{text:"Cuban Peso",fraction:2,symbol:""},ANG:{text:"Netherlands Antillean Guilder",fraction:2,symbol:""},CZK:{text:"Czech Koruna",fraction:2,symbol:"K"},DKK:{text:"Danish Krone",fraction:2,symbol:"kr"},DJF:{text:"Djibouti Franc",fraction:0,symbol:!1},DOP:{text:"Dominican Peso",fraction:2,symbol:"RD$"},EGP:{text:"Egyptian Pound",fraction:2,symbol:""},SVC:{text:"El Salvador Colon",fraction:2,symbol:"$"},ERN:{text:"Nakfa",fraction:2,symbol:!1},ETB:{text:"Ethiopian Birr",fraction:2,symbol:!1},FKP:{text:"Falkland Islands Pound",fraction:2,symbol:""},FJD:{text:"Fiji Dollar",fraction:2,symbol:"$"},XPF:{text:"CFP Franc",fraction:0,symbol:!1},GMD:{text:"Dalasi",fraction:2,symbol:!1},GEL:{text:"Lari",fraction:2,symbol:!1},GHS:{text:"Ghan Cedi",fraction:2,symbol:!1},GIP:{text:"Gibraltar Pound",fraction:2,symbol:""},GTQ:{text:"Quetzal",fraction:2,symbol:"Q"},GBP:{text:"Pound Sterling",fraction:2,symbol:""},GNF:{text:"Guine Franc",fraction:0,symbol:!1},GYD:{text:"Guyan Dollar",fraction:2,symbol:"$"},HTG:{text:"Gourde",fraction:2,symbol:!1},HNL:{text:"Lempira",fraction:2,symbol:"L"},HKD:{text:"Hong Kong Dollar",fraction:2,symbol:"$"},HUF:{text:"Forint",fraction:2,symbol:"Ft"},ISK:{text:"Iceland Krona",fraction:0,symbol:"kr"},IDR:{text:"Rupiah",fraction:2,symbol:"Rp"},XDR:{text:"SDR (Special Drawing Right)",fraction:0,symbol:!1},IRR:{text:"Iranian Rial",fraction:2,symbol:""},IQD:{text:"Iraqi Dinar",fraction:3,symbol:!1},ILS:{text:"New Israeli Sheqel",fraction:2,symbol:""},JMD:{text:"Jamaican Dollar",fraction:2,symbol:"J$"},JPY:{text:"Yen",fraction:0,symbol:""},JOD:{text:"Jordanian Dinar",fraction:3,symbol:!1},KZT:{text:"Tenge",fraction:2,symbol:""},KES:{text:"Kenyan Shilling",fraction:2,symbol:!1},KPW:{text:"North Korean Won",fraction:2,symbol:""},KRW:{text:"Won",fraction:0,symbol:""},KWD:{text:"Kuwaiti Dinar",fraction:3,symbol:!1},KGS:{text:"Som",fraction:2,symbol:""},LAK:{text:"Kip",fraction:2,symbol:""},LBP:{text:"Lebanese Pound",fraction:2,symbol:""},LSL:{text:"Loti",fraction:2,symbol:!1},ZAR:{text:"Rand",fraction:2,symbol:"R"},LRD:{text:"Liberian Dollar",fraction:2,symbol:"$"},LYD:{text:"Libyan Dinar",fraction:3,symbol:!1},CHF:{text:"Swiss Franc",fraction:2,symbol:"CHF"},LTL:{text:"Lithuanian Litas",fraction:2,symbol:"Lt"},MOP:{text:"Pataca",fraction:2,symbol:!1},MKD:{text:"Denar",fraction:2,symbol:""},MGA:{text:"Malagasy riary",fraction:2,symbol:!1},MWK:{text:"Kwacha",fraction:2,symbol:!1},MYR:{text:"Malaysian Ringgit",fraction:2,symbol:"RM"},MVR:{text:"Rufiyaa",fraction:2,symbol:!1},MRO:{text:"Ouguiya",fraction:2,symbol:!1},MUR:{text:"Mauritius Rupee",fraction:2,symbol:""},XUA:{text:"ADB Unit of ccount",fraction:0,symbol:!1},MXN:{text:"Mexican Peso",fraction:2,symbol:"$"},MXV:{text:"Mexican Unidad de Inversion (UDI)",fraction:2,symbol:!1},MDL:{text:"Moldovan Leu",fraction:2,symbol:!1},MNT:{text:"Tugrik",fraction:2,symbol:""},MAD:{text:"Moroccan Dirham",fraction:2,symbol:!1},MZN:{text:"Mozambique Metical",fraction:2,symbol:"MT"},MMK:{text:"Kyat",fraction:2,symbol:!1},NAD:{text:"Namibi Dollar",fraction:2,symbol:"$"},NPR:{text:"Nepalese Rupee",fraction:2,symbol:""},NIO:{text:"Cordob Oro",fraction:2,symbol:"C$"},NGN:{text:"Naira",fraction:2,symbol:""},OMR:{text:"Rial Omani",fraction:3,symbol:""},PKR:{text:"Pakistan Rupee",fraction:2,symbol:""},PAB:{text:"Balboa",fraction:2,symbol:"B/."},PGK:{text:"Kina",fraction:2,symbol:"K"},PYG:{text:"Guarani",fraction:0,symbol:"Gs"},PEN:{text:"Nuevo Sol",fraction:2,symbol:"S/."},PHP:{text:"Philippine Peso",fraction:2,symbol:""},PLN:{text:"Zloty",fraction:2,symbol:"z"},QAR:{text:"Qatari Rial",fraction:2,symbol:""},RON:{text:"New Romanian Leu",fraction:2,symbol:"lei"},RUB:{text:"Russian Ruble",fraction:2,symbol:""},RWF:{text:"Rwand Franc",fraction:0,symbol:"R"},SHP:{text:"Saint Helen Pound",fraction:2,symbol:""},WST:{text:"Tala",fraction:2,symbol:"$"},STD:{text:"Dobra",fraction:2,symbol:!1},SAR:{text:"Saudi Riyal",fraction:2,symbol:""},RSD:{text:"Serbian Dinar",fraction:2,symbol:"."},SCR:{text:"Seychelles Rupee",fraction:2,symbol:""},SLL:{text:"Leone",fraction:2,symbol:"Le"},SGD:{text:"Singapore Dollar",fraction:2,symbol:"$"},XSU:{text:"Sucre",fraction:0,symbol:!1},SBD:{text:"Solomon Islands Dollar",fraction:2,symbol:"$"},SOS:{text:"Somali Shilling",fraction:2,symbol:"S"},SSP:{text:"South Sudanese Pound",fraction:2,symbol:!1},LKR:{text:"Sri Lank Rupee",fraction:2,symbol:""},SDG:{text:"Sudanese Pound",fraction:2,symbol:!1},SRD:{text:"Surinam Dollar",fraction:2,symbol:"$"},SZL:{text:"Lilangeni",fraction:2,symbol:!1},SEK:{text:"Swedish Krona",fraction:2,symbol:"kr"},CHE:{text:"WIR Euro",fraction:2,symbol:!1},CHW:{text:"WIR Franc",fraction:2,symbol:!1},SYP:{text:"Syrian Pound",fraction:2,symbol:""},TWD:{text:"New Taiwan Dollar",fraction:2,symbol:"NT$"},TJS:{text:"Somoni",fraction:2,symbol:!1},TZS:{text:"Tanzanian Shilling",fraction:2,symbol:!1},THB:{text:"Baht",fraction:2,symbol:""},TOP:{text:"Paanga",fraction:2,symbol:!1},TTD:{text:"Trinidad nd Tobago Dollar",fraction:2,symbol:"TT$"},TND:{text:"Tunisian Dinar",fraction:3,symbol:!1},TRY:{text:"Turkish Lira",fraction:2,symbol:""},TMT:{text:"Turkmenistan New Manat",fraction:2,symbol:!1},UGX:{text:"Ugand Shilling",fraction:0,symbol:!1},UAH:{text:"Hryvnia",fraction:2,symbol:""},AED:{text:"UAE Dirham",fraction:2,symbol:!1},USN:{text:"US Dollar (Next day)",fraction:2,symbol:!1},UYI:{text:"Uruguay Peso en Unidades Indexadas (URUIURUI)",fraction:0,symbol:!1},UYU:{text:"Peso Uruguayo",fraction:2,symbol:"$U"},UZS:{text:"Uzbekistan Sum",fraction:2,symbol:""},VUV:{text:"Vatu",fraction:0,symbol:!1},VEF:{text:"Bolivar",fraction:2,symbol:"Bs"},VND:{text:"Dong",fraction:0,symbol:""},YER:{text:"Yemeni Rial",fraction:2,symbol:""},ZMW:{text:"Zambian Kwacha",fraction:2,symbol:!1},ZWL:{text:"Zimbabwe Dollar",fraction:2,symbol:"$"}};return{getCurrencyByCode:function(b){return b&&"string"==typeof b?a[b.toUpperCase()]:void 0}}}),angular.module("isoCurrency",["isoCurrency.common"]).filter("isoCurrency",["$filter","iso4217",function(a,b){return function(c,d,e){var f=b.getCurrencyByCode(d);if(!f)return c;if(!c&&0!=c)return f.symbol;var g=void 0===e?f.fraction:e;return a("currency")(c,f.symbol||d+" ",g)}}]),function(a,b){"use strict";"function"==typeof define&&define.amd?define(["angular"],b):"object"==typeof module&&module.exports?module.exports=b(require("angular")):b(a.angular)}(this,function(a){"use strict";var b=a.module("rzModule",[]).factory("RzSliderOptions",function(){var b={floor:0,ceil:null,step:1,precision:0,minRange:0,id:null,translate:null,stepsArray:null,draggableRange:!1,draggableRangeOnly:!1,showSelectionBar:!1,showSelectionBarEnd:!1,showSelectionBarFromValue:null,hideLimitLabels:!1,readOnly:!1,disabled:!1,interval:350,showTicks:!1,showTicksValues:!1,ticksTooltip:null,ticksValuesTooltip:null,vertical:!1,getSelectionBarColor:null,getPointerColor:null,keyboardSupport:!0,scale:1,enforceStep:!0,enforceRange:!1,noSwitching:!1,onlyBindHandles:!1,onStart:null,onChange:null,onEnd:null,rightToLeft:!1},c={},d={};return d.options=function(b){a.extend(c,b)},d.getOptions=function(d){return a.extend({},b,c,d)},d}).factory("rzThrottle",["$timeout",function(a){return function(b,c,d){var e,f,g,h=Date.now||function(){return(new Date).getTime()},i=null,j=0;d=d||{};var k=function(){j=h(),i=null,g=b.apply(e,f),e=f=null};return function(){var l=h(),m=c-(l-j);return e=this,f=arguments,0>=m?(a.cancel(i),i=null,j=l,g=b.apply(e,f),e=f=null):i||d.trailing===!1||(i=a(k,m)),g}}}]).factory("RzSlider",["$timeout","$document","$window","$compile","RzSliderOptions","rzThrottle",function(b,c,d,e,f,g){var h=function(a,b){this.scope=a,this.sliderElem=b,this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.dragging={active:!1,value:0,difference:0,offset:0,lowLimit:0,highLimit:0},this.positionProperty="left",this.dimensionProperty="width",this.handleHalfDim=0,this.maxPos=0,this.precision=0,this.step=1,this.tracking="",this.minValue=0,this.maxValue=0,this.valueRange=0,this.initHasRun=!1,this.internalChange=!1,this.fullBar=null,this.selBar=null,this.minH=null,this.maxH=null,this.flrLab=null,this.ceilLab=null,this.minLab=null,this.maxLab=null,this.cmbLab=null,this.ticks=null,this.init()};return h.prototype={init:function(){var b,c,e=this;e.isTablet=e.scope.$root.mobileConfig.isTablet,e.scope.popoverPlacement=e.isTablet?"top-left":"top";var f=function(){e.calcViewDimensions()};this.applyOptions(),this.initElemHandles(),this.manageElementsStyle(),this.setDisabledState(),this.calcViewDimensions(),this.setMinAndMax(),this.addAccessibility(),this.updateCeilLab(),this.updateFloorLab(),this.initHandles(),this.manageEventsBindings(),this.scope.$on("reCalcViewDimensions",f),a.element(d).on("resize",f),this.initHasRun=!0,b=g(function(){e.onLowHandleChange()},e.options.interval),c=g(function(){e.onHighHandleChange()},e.options.interval),this.scope.$on("rzSliderForceRender",function(){e.resetLabelsValue(),b(),e.range&&c(),e.resetSlider()}),this.scope.$watch("rzSliderOptions()",function(a,b){a!==b&&(e.applyOptions(),e.resetSlider())},!0),this.scope.$watch("rzSliderModel",function(a,c){if(e.isTablet){var d=a>e.maxValue/2?"top-right":"top-left";e.scope.popoverPlacement!=d&&(e.scope.popoverPlacement=d)}a>e.minValue&&(this.arrowMinActive=!0),e.internalChange||a!==c&&b()}),this.scope.$watch("rzSliderHigh",function(a,b){e.internalChange||a!==b&&(null!=a&&c(),(e.range&&null==a||!e.range&&null!=a)&&(e.applyOptions(),e.resetSlider()))}),this.scope.$on("$destroy",function(){e.unbindEvents(),a.element(d).off("resize",f)})},onLowHandleChange:function(){this.setMinAndMax(),this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.updateSelectionBar(),this.updateTicksScale(),this.updateAriaAttributes(),this.range&&this.updateCmbLabel()},onHighHandleChange:function(){this.setMinAndMax(),this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.updateTicksScale(),this.updateCmbLabel(),this.updateAriaAttributes()},applyOptions:function(){var a;a=this.scope.rzSliderOptions?this.scope.rzSliderOptions():{},this.options=f.getOptions(a),this.options.step<=0&&(this.options.step=1),this.range=void 0!==this.scope.rzSliderModel&&void 0!==this.scope.rzSliderHigh,this.options.draggableRange=this.range&&this.options.draggableRange,this.options.draggableRangeOnly=this.range&&this.options.draggableRangeOnly,this.options.draggableRangeOnly&&(this.options.draggableRange=!0),this.options.showTicks=this.options.showTicks||this.options.showTicksValues,this.scope.showTicks=this.options.showTicks,this.options.showSelectionBar=this.options.showSelectionBar||this.options.showSelectionBarEnd||null!==this.options.showSelectionBarFromValue,this.options.stepsArray?(this.options.floor=0,this.options.ceil=this.options.stepsArray.length-1,this.options.step=1,this.customTrFn=function(a){return this.options.stepsArray[a]}):this.options.translate?this.customTrFn=this.options.translate:this.customTrFn=function(a){return String(a)},this.options.vertical&&(this.positionProperty="bottom",this.dimensionProperty="height")},resetSlider:function(){this.manageElementsStyle(),this.addAccessibility(),this.setMinAndMax(),this.updateCeilLab(),this.updateFloorLab(),this.unbindEvents(),this.manageEventsBindings(),this.setDisabledState(),this.calcViewDimensions()},initElemHandles:function(){a.forEach(this.sliderElem.children(),function(b,c){var d=a.element(b);switch(c){case 0:this.fullBar=d;break;case 1:this.selBar=d;break;case 2:this.minH=d;break;case 3:this.maxH=d;break;case 4:this.flrLab=d;break;case 5:this.ceilLab=d;break;case 6:this.minLab=d;break;case 7:this.maxLab=d;break;case 8:this.cmbLab=d;break;case 9:this.ticks=d}},this),this.selBar.rzsp=0,this.minH.rzsp=0,this.maxH.rzsp=0,this.flrLab.rzsp=0,this.ceilLab.rzsp=0,this.minLab.rzsp=0,this.maxLab.rzsp=0,this.cmbLab.rzsp=0},manageElementsStyle:function(){this.range?this.maxH.css("display",""):this.maxH.css("display","none"),this.alwaysHide(this.flrLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.ceilLab,this.options.showTicksValues||this.options.hideLimitLabels),this.alwaysHide(this.minLab,this.options.showTicksValues),this.alwaysHide(this.maxLab,this.options.showTicksValues||!this.range),this.alwaysHide(this.cmbLab,this.options.showTicksValues||!this.range),this.alwaysHide(this.selBar,!this.range&&!this.options.showSelectionBar),this.options.vertical&&this.sliderElem.addClass("vertical"),this.options.draggableRange?this.selBar.addClass("rz-draggable"):this.selBar.removeClass("rz-draggable")},alwaysHide:function(a,b){a.rzAlwaysHide=b,b?this.hideEl(a):this.showEl(a)},manageEventsBindings:function(){this.options.disabled||this.options.readOnly?this.unbindEvents():this.bindEvents()},setDisabledState:function(){this.options.disabled?this.sliderElem.attr("disabled","disabled"):this.sliderElem.attr("disabled",null)},resetLabelsValue:function(){this.minLab.rzsv=void 0,this.maxLab.rzsv=void 0},initHandles:function(){this.updateLowHandle(this.valueToOffset(this.scope.rzSliderModel)),this.range&&this.updateHighHandle(this.valueToOffset(this.scope.rzSliderHigh)),this.updateSelectionBar(),this.range&&this.updateCmbLabel(),this.updateTicksScale()},translateFn:function(a,b,c,d){d=void 0===d?!0:d;var e=String(d?this.customTrFn(a,this.options.id,c):a),f=!1;(void 0===b.rzsv||b.rzsv.length!==e.length||b.rzsv.length>0&&0===b.rzsd)&&(f=!0,b.rzsv=e),b.html(e),f&&this.getDimension(b)},setMinAndMax:function(){this.step=+this.options.step,this.precision=+this.options.precision,this.minValue=this.options.floor,self.minValue=this.options.floor,self.maxValue=this.options.ceil,this.options.enforceStep&&(this.scope.rzSliderModel=this.roundStep(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.roundStep(this.scope.rzSliderHigh))),null!=this.options.ceil?this.maxValue=this.options.ceil:this.maxValue=this.options.ceil=this.range?this.scope.rzSliderHigh:this.scope.rzSliderModel,this.options.enforceRange&&(this.scope.rzSliderModel=this.sanitizeValue(this.scope.rzSliderModel),this.range&&(this.scope.rzSliderHigh=this.sanitizeValue(this.scope.rzSliderHigh))),this.valueRange=this.maxValue-this.minValue},addAccessibility:function(){this.minH.attr("role","slider"),this.updateAriaAttributes(),this.options.vertical&&this.minH.attr("aria-orientation","vertical"),this.range&&(this.maxH.attr("role","slider"),
this.options.vertical&&this.maxH.attr("aria-orientation","vertical"))},updateAriaAttributes:function(){this.scope.$emit("onChange"),this.minH.attr({"aria-valuenow":this.scope.rzSliderModel,"aria-valuetext":this.customTrFn(this.scope.rzSliderModel,this.options.id,"model"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue}),this.range&&this.maxH.attr({"aria-valuenow":this.scope.rzSliderHigh,"aria-valuetext":this.customTrFn(this.scope.rzSliderHigh,this.options.id,"high"),"aria-valuemin":this.minValue,"aria-valuemax":this.maxValue})},calcViewDimensions:function(){var a=this.getDimension(this.minH);this.handleHalfDim=a/2,this.barDimension=this.getDimension(this.fullBar),this.maxPos=this.barDimension-a,this.getDimension(this.sliderElem),this.sliderElem.rzsp=this.sliderElem[0].getBoundingClientRect()[this.positionProperty],this.initHasRun&&(this.updateFloorLab(),this.updateCeilLab(),this.initHandles())},updateTicksScale:function(){if(this.options.showTicks){var a=Math.round((this.maxValue-this.minValue)/this.step)+1;this.scope.ticks=[];for(var b=0;a>b;b++){var c=this.roundStep(this.minValue+b*this.step),d={selected:this.isTickSelected(c)};d.selected&&this.options.getSelectionBarColor&&(d.style={"background-color":this.getSelectionBarColor()}),this.options.ticksTooltip&&(d.tooltip=this.options.ticksTooltip(c),d.tooltipPlacement=this.options.vertical?"right":"top"),this.options.showTicksValues&&(d.value=this.getDisplayValue(c,"tick-value"),this.options.ticksValuesTooltip&&(d.valueTooltip=this.options.ticksValuesTooltip(c),d.valueTooltipPlacement=this.options.vertical?"right":"top")),this.options.rightToLeft?this.scope.ticks.unshift(d):this.scope.ticks.push(d)}}},isTickSelected:function(a){if(!this.range)if(null!==this.options.showSelectionBarFromValue){var b=this.options.showSelectionBarFromValue;if(this.scope.rzSliderModel>b&&a>=b&&a<=this.scope.rzSliderModel)return!0;if(this.scope.rzSliderModel<b&&b>=a&&a>=this.scope.rzSliderModel)return!0}else if(this.options.showSelectionBarEnd){if(a>=this.scope.rzSliderModel)return!0}else if(this.options.showSelectionBar&&a<=this.scope.rzSliderModel)return!0;return this.range&&a>=this.scope.rzSliderModel&&a<=this.scope.rzSliderHigh?!0:!1},updateFloorLab:function(){this.translateFn(this.minValue,this.flrLab,"floor"),this.getDimension(this.flrLab);var a=this.options.rightToLeft?this.barDimension-this.flrLab.rzsd:0;this.setPosition(this.flrLab,a)},updateCeilLab:function(){this.translateFn(this.maxValue,this.ceilLab,"ceil"),this.getDimension(this.ceilLab);var a=this.options.rightToLeft?0:this.barDimension-this.ceilLab.rzsd;this.setPosition(this.ceilLab,a)},updateHandles:function(a,b){"rzSliderModel"===a?this.updateLowHandle(b):this.updateHighHandle(b),this.updateSelectionBar(),this.updateTicksScale(),this.range&&this.updateCmbLabel()},getHandleLabelPos:function(a,b){var c=this[a].rzsd,d=b-c/2+this.handleHalfDim,e=this.barDimension-c;return this.options.rightToLeft&&"minLab"===a||!this.options.rightToLeft&&"maxLab"===a?Math.min(d,e):Math.min(Math.max(d,0),e)},updateLowHandle:function(a){if(this.setPosition(this.minH,a),this.translateFn(this.scope.rzSliderModel,this.minLab,"model"),this.setPosition(this.minLab,this.getHandleLabelPos("minLab",a)),this.options.getPointerColor){var b=this.getPointerColor("min");this.scope.minPointerStyle={backgroundColor:b}}this.shFloorCeil()},updateHighHandle:function(a){if(this.setPosition(this.maxH,a),this.translateFn(this.scope.rzSliderHigh,this.maxLab,"high"),this.setPosition(this.maxLab,this.getHandleLabelPos("maxLab",a)),this.options.getPointerColor){var b=this.getPointerColor("max");this.scope.maxPointerStyle={backgroundColor:b}}this.shFloorCeil()},shFloorCeil:function(){var a=!1,b=!1,c=this.options.rightToLeft,d=this.flrLab.rzsp,e=this.flrLab.rzsd,f=(this.minLab.rzsp,this.minLab.rzsd,this.maxLab.rzsp),g=this.maxLab.rzsd,h=this.ceilLab.rzsp,i=this.handleHalfDim,j=c?f>=d-e-i:d+e+i>=f,k=c?h+10>=f-g:f+g>=h-10;this.range&&(k?this.hideEl(this.ceilLab):b||this.showEl(this.ceilLab),j?this.hideEl(this.flrLab):a||this.showEl(this.flrLab))},updateSelectionBar:function(){var a=0,b=0,c=this.options.rightToLeft?!this.options.showSelectionBarEnd:this.options.showSelectionBarEnd,d=this.options.rightToLeft?this.maxH.rzsp+this.handleHalfDim:this.minH.rzsp+this.handleHalfDim;if(this.range)b=Math.abs(this.maxH.rzsp-this.minH.rzsp),a=d;else if(null!==this.options.showSelectionBarFromValue){var e=this.options.showSelectionBarFromValue,f=this.valueToOffset(e),g=this.options.rightToLeft?this.scope.rzSliderModel<=e:this.scope.rzSliderModel>e;g?(b=this.minH.rzsp-f,a=f+this.handleHalfDim):(b=f-this.minH.rzsp,a=this.minH.rzsp+this.handleHalfDim)}else c?(b=Math.abs(this.maxPos-this.minH.rzsp)+this.handleHalfDim,a=this.minH.rzsp+this.handleHalfDim):(b=Math.abs(this.maxH.rzsp-this.minH.rzsp)+this.handleHalfDim,a=0);if(this.setDimension(this.selBar,b),this.setPosition(this.selBar,a),this.options.getSelectionBarColor){var h=this.getSelectionBarColor();this.scope.barStyle={backgroundColor:h}}},getSelectionBarColor:function(){return this.range?this.options.getSelectionBarColor(this.scope.rzSliderModel,this.scope.rzSliderHigh):this.options.getSelectionBarColor(this.scope.rzSliderModel)},getPointerColor:function(a){return"max"===a?this.options.getPointerColor(this.scope.rzSliderHigh,a):this.options.getPointerColor(this.scope.rzSliderModel,a)},updateCmbLabel:function(){var a=null;if(a=this.options.rightToLeft?this.minLab.rzsp-this.minLab.rzsd-10<=this.maxLab.rzsp:this.minLab.rzsp+this.minLab.rzsd+10>=this.maxLab.rzsp){var b=this.getDisplayValue(this.scope.rzSliderModel,"model"),c=this.getDisplayValue(this.scope.rzSliderHigh,"high"),d="";d=b===c?b:this.options.rightToLeft?c+" - "+b:b+" - "+c,this.translateFn(d,this.cmbLab,"cmb",!1);var e=Math.min(Math.max(this.selBar.rzsp+this.selBar.rzsd/2-this.cmbLab.rzsd/2,0),this.barDimension-this.cmbLab.rzsd);this.setPosition(this.cmbLab,e),this.hideEl(this.minLab),this.hideEl(this.maxLab),this.showEl(this.cmbLab)}else this.showEl(this.maxLab),this.showEl(this.minLab),this.hideEl(this.cmbLab)},getDisplayValue:function(a,b){return this.customTrFn(a,this.options.id,b)},roundStep:function(a){var b=parseFloat((a-this.minValue)/this.step).toPrecision(12);b=Math.round(b)*this.step;var c=(this.minValue+b).toFixed(this.precision);return+c},hideEl:function(a){return a.css({opacity:0})},showEl:function(a){return a.rzAlwaysHide?a:a.css({opacity:1})},setPosition:function(a,b){a.rzsp=b;var c={};return c[this.positionProperty]=b+"px",a.css(c),b},getDimension:function(a){var b=a[0].getBoundingClientRect();return this.options.vertical?a.rzsd=(b.bottom-b.top)*this.options.scale:a.rzsd=(b.right-b.left)*this.options.scale,a.rzsd},setDimension:function(a,b){a.rzsd=b;var c={};return c[this.dimensionProperty]=b+"px",a.css(c),b},valueToOffset:function(a){return this.options.rightToLeft?(this.maxValue-this.sanitizeValue(a))*this.maxPos/this.valueRange||0:(this.sanitizeValue(a)-this.minValue)*this.maxPos/this.valueRange||0},sanitizeValue:function(a){return Math.min(Math.max(a,this.minValue),this.maxValue)},offsetToValue:function(a){return this.options.rightToLeft?(1-a/this.maxPos)*this.valueRange+this.minValue:a/this.maxPos*this.valueRange+this.minValue},getEventXY:function(a){var b=this.options.vertical?"clientY":"clientX";return b in a?a[b]:void 0===a.originalEvent?a.touches[0][b]:a.originalEvent.touches[0][b]},getEventPosition:function(a){var b=this.sliderElem.rzsp,c=0;return c=this.options.vertical?-this.getEventXY(a)+b:this.getEventXY(a)-b,(c-this.handleHalfDim)*this.options.scale},getEventNames:function(a){var b={moveEvent:"",endEvent:""};return a.touches||void 0!==a.originalEvent&&a.originalEvent.touches?(b.moveEvent="touchmove",b.endEvent="touchend"):(b.moveEvent="mousemove",b.endEvent="mouseup"),b},getNearestHandle:function(a){if(!this.range)return this.minH;var b=this.getEventPosition(a),c=Math.abs(b-this.minH.rzsp),d=Math.abs(b-this.maxH.rzsp);return d>c?this.minH:c>d?this.maxH:this.options.rightToLeft?b>this.minH.rzsp?this.minH:this.maxH:b<this.minH.rzsp?this.minH:this.maxH},focusElement:function(a){var b=0;a[b].focus()},bindEvents:function(){var b,c,d;this.options.draggableRange?(b="rzSliderDrag",c=this.onDragStart,d=this.onDragMove):(b="rzSliderModel",c=this.onStart,d=this.onMove),this.options.onlyBindHandles||(this.selBar.on("mousedown",a.bind(this,c,null,b)),this.selBar.on("mousedown",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("mousedown",a.bind(this,c,null,b)),this.maxH.on("mousedown",a.bind(this,c,null,b))):(this.minH.on("mousedown",a.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("mousedown",a.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.options.onlyBindHandles||(this.fullBar.on("mousedown",a.bind(this,this.onStart,null,null)),this.fullBar.on("mousedown",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("mousedown",a.bind(this,this.onStart,null,null)),this.ticks.on("mousedown",a.bind(this,this.onMove,this.ticks)))),this.options.onlyBindHandles||(this.selBar.on("touchstart",a.bind(this,c,null,b)),this.selBar.on("touchstart",a.bind(this,d,this.selBar))),this.options.draggableRangeOnly?(this.minH.on("touchstart",a.bind(this,c,null,b)),this.maxH.on("touchstart",a.bind(this,c,null,b))):(this.minH.on("touchstart",a.bind(this,this.onStart,this.minH,"rzSliderModel")),this.range&&this.maxH.on("touchstart",a.bind(this,this.onStart,this.maxH,"rzSliderHigh")),this.options.onlyBindHandles||(this.fullBar.on("touchstart",a.bind(this,this.onStart,null,null)),this.fullBar.on("touchstart",a.bind(this,this.onMove,this.fullBar)),this.ticks.on("touchstart",a.bind(this,this.onStart,null,null)),this.ticks.on("touchstart",a.bind(this,this.onMove,this.ticks)))),this.options.keyboardSupport&&(this.minH.on("focus",a.bind(this,this.onPointerFocus,this.minH,"rzSliderModel")),this.range&&this.maxH.on("focus",a.bind(this,this.onPointerFocus,this.maxH,"rzSliderHigh")))},unbindEvents:function(){this.minH.off(),this.maxH.off(),this.fullBar.off(),this.selBar.off(),this.ticks.off()},onStart:function(b,d,e){var f,g,h=this.getEventNames(e);e.stopPropagation(),e.preventDefault(),this.calcViewDimensions(),b?this.tracking=d:(b=this.getNearestHandle(e),this.tracking=b===this.minH?"rzSliderModel":"rzSliderHigh"),b.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(b),f=a.bind(this,this.dragging.active?this.onDragMove:this.onMove,b),g=a.bind(this,this.onEnd,f),c.on(h.moveEvent,f),c.one(h.endEvent,g),this.callOnStart(),this.scope.$emit("onStart")},onMove:function(a,b){var c,d=this.getEventPosition(b),e=this.options.rightToLeft?this.minValue:this.maxValue,f=this.options.rightToLeft?this.maxValue:this.minValue;0>=d?c=f:d>=this.maxPos?c=e:(c=this.offsetToValue(d),c=this.roundStep(c)),this.positionTrackingHandle(c)},onEnd:function(a,b){var d=this.getEventNames(b).moveEvent;this.options.keyboardSupport||(this.minH.removeClass("rz-active"),this.maxH.removeClass("rz-active"),this.tracking=""),this.dragging.active=!1,c.off(d,a),this.scope.$emit("slideEnded"),this.callOnEnd()},onPointerFocus:function(b,c){this.tracking=c,b.one("blur",a.bind(this,this.onPointerBlur,b)),b.on("keydown",a.bind(this,this.onKeyboardEvent)),b.addClass("rz-active")},onPointerBlur:function(a){a.off("keydown"),this.tracking="",a.removeClass("rz-active")},getKeyActions:function(a){var b=a+this.step,c=a-this.step,d=a+this.valueRange/10,e=a-this.valueRange/10,f={UP:b,DOWN:c,LEFT:c,RIGHT:b,PAGEUP:d,PAGEDOWN:e,HOME:this.minValue,END:this.maxValue};return this.options.rightToLeft&&(f.LEFT=b,f.RIGHT=c,this.options.vertical&&(f.UP=c,f.DOWN=b)),f},onKeyboardEvent:function(a){var b=this.scope[this.tracking],c=a.keyCode||a.which,d={38:"UP",40:"DOWN",37:"LEFT",39:"RIGHT",33:"PAGEUP",34:"PAGEDOWN",36:"HOME",35:"END"},e=this.getKeyActions(b),f=d[c],g=e[f];if(null!=g&&""!==this.tracking){a.preventDefault();var h=this.roundStep(this.sanitizeValue(g));if(this.options.draggableRangeOnly){var i,j,k=this.scope.rzSliderHigh-this.scope.rzSliderModel;"rzSliderModel"===this.tracking?(i=h,j=h+k,j>this.maxValue&&(j=this.maxValue,i=j-k)):(j=h,i=h-k,i<this.minValue&&(i=this.minValue,j=i+k)),this.positionTrackingBar(i,j)}else this.positionTrackingHandle(h)}},onDragStart:function(a,b,c){var d=this.getEventPosition(c);this.dragging={active:!0,value:this.offsetToValue(d),difference:this.scope.rzSliderHigh-this.scope.rzSliderModel,lowLimit:this.options.rightToLeft?this.minH.rzsp-d:d-this.minH.rzsp,highLimit:this.options.rightToLeft?d-this.maxH.rzsp:this.maxH.rzsp-d},this.onStart(a,b,c)},getValue:function(a,b,c,d){var e=this.options.rightToLeft,f=null;return f="min"===a?c?d?e?f:this.maxValue-this.dragging.difference:e?this.maxValue-this.dragging.difference:f:e?this.offsetToValue(b+this.dragging.lowLimit):this.offsetToValue(b-this.dragging.lowLimit):c?d?e?this.minValue+this.dragging.difference:this.maxValue:e?this.maxValue:this.minValue+this.dragging.difference:e?this.offsetToValue(b+this.dragging.lowLimit)+this.dragging.difference:this.offsetToValue(b-this.dragging.lowLimit)+this.dragging.difference,this.roundStep(f)},onDragMove:function(a,b){var c,d,e,f,g,h,i,j,k=this.getEventPosition(b);if(this.options.rightToLeft?(e=this.dragging.lowLimit,f=this.dragging.highLimit,i=this.maxH,j=this.minH):(e=this.dragging.highLimit,f=this.dragging.lowLimit,i=this.minH,j=this.maxH),g=f>=k,h=k>=this.maxPos-e,g){if(0===i.rzsp)return;c=this.getValue("min",k,!0,!1),d=this.getValue("max",k,!0,!1)}else if(h){if(j.rzsp===this.maxPos)return;d=this.getValue("max",k,!0,!0),c=this.getValue("min",k,!0,!0)}else c=this.getValue("min",k,!1),d=this.getValue("max",k,!1);this.positionTrackingBar(c,d)},positionTrackingBar:function(a,b){this.scope.rzSliderModel=a,this.scope.rzSliderHigh=b,this.updateHandles("rzSliderModel",this.valueToOffset(a)),this.updateHandles("rzSliderHigh",this.valueToOffset(b)),this.applyModel()},positionTrackingHandle:function(a){var b=!1;this.range&&(a=this.applyMinRange(a),"rzSliderModel"===this.tracking&&a>this.scope.rzSliderHigh?(this.options.noSwitching&&this.scope.rzSliderHigh!==this.minValue?a=this.applyMinRange(this.scope.rzSliderHigh):(this.scope[this.tracking]=this.scope.rzSliderHigh,this.updateHandles(this.tracking,this.maxH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderHigh",this.minH.removeClass("rz-active"),this.maxH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.maxH)),b=!0):"rzSliderHigh"===this.tracking&&a<this.scope.rzSliderModel&&(this.options.noSwitching&&this.scope.rzSliderModel!==this.maxValue?a=this.applyMinRange(this.scope.rzSliderModel):(this.scope[this.tracking]=this.scope.rzSliderModel,this.updateHandles(this.tracking,this.minH.rzsp),this.updateAriaAttributes(),this.tracking="rzSliderModel",this.maxH.removeClass("rz-active"),this.minH.addClass("rz-active"),this.options.keyboardSupport&&this.focusElement(this.minH)),b=!0)),this.scope[this.tracking]!==a&&(this.scope[this.tracking]=a,this.updateHandles(this.tracking,this.valueToOffset(a)),this.updateAriaAttributes(),b=!0),b&&this.applyModel()},applyMinRange:function(a){if(0!==this.options.minRange){var b="rzSliderModel"===this.tracking?this.scope.rzSliderHigh:this.scope.rzSliderModel,c=Math.abs(a-b);if(c<this.options.minRange)return"rzSliderModel"===this.tracking?this.scope.rzSliderHigh-this.options.minRange:this.scope.rzSliderModel+this.options.minRange}return a},applyModel:function(){this.internalChange=!0,this.scope.$apply(),this.callOnChange(),this.internalChange=!1},callOnStart:function(){if(this.options.onStart){var a=this;this.scope.$evalAsync(function(){a.options.onStart(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}},callOnChange:function(){if(this.options.onChange){var a=this;this.scope.$evalAsync(function(){a.options.onChange(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}},callOnEnd:function(){if(this.options.onEnd){var a=this;this.scope.$evalAsync(function(){a.options.onEnd(a.options.id,a.scope.rzSliderModel,a.scope.rzSliderHigh)})}}},h}]).directive("rzslider",["RzSlider","$timeout",function(b,c){var d=["$scope","$timeout","DepositService","$window","$sessionStorage","$rootScope","AccountService","MyAvaConsts",function(a,b,c,d,e,f,g,h){var i=null,j=5e3;a.pointerPopOver={},a.direction="ltr",a.dir="left",a.$watch(function(){return JSON.stringify(a.pointerTooltip)},function(c,d){a.pointerPopup=JSON.parse(c)||{};var e=a.pointerPopOver.show;a.pointerPopOver.show=/slider/i.test(a.pointerPopup.show),a.pointerPopOver.show?(e==a.pointerPopOver.show&&b.cancel(i),l(j)):e!=a.pointerPopOver.show&&l(1)});var k=function(a,b){f.$broadcast("amountChanged",{amount:a,currency:b})};a.currencyBaseId&&k(a.rzSliderModel,a.currencyBaseId);var l=function(c){i=b(function(){a.pointerPopOver.show=!1},c)};a.$on("slideEnded",function(c,d){k(a.rzSliderModel,a.currencyBaseId),b.cancel(i),a.isOnMove=!1}),a.$on("onChange",function(c,d){a.isOnMove||(k(a.rzSliderModel,a.currencyBaseId),b.cancel(i))}),a.$on("onStart",function(b,c){a.isOnMove=!0,a.pointerPopOver.show=!1}),a.control&&(a.internalControl=a.control,a.internalControl.updateSlider=function(){a.slider.resetSlider(),k(a.rzSliderModel,a.currencyBaseId)})}];return{restrict:"E",scope:{rzSliderModel:"=?",rzSliderHigh:"=?",rzSliderOptions:"&?",rzSliderTplUrl:"@",control:"=",deposits:"=",pointerTooltip:"=",currencyName:"=",currencyBaseId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"="},controller:d,templateUrl:function(a,b){return b.rzSliderTplUrl||"rzSliderTpl.html"},link:function(c,d){c.slider=new b(c,d);var e=function(a){return(c.slider.sanitizeValue(a)-c.slider.minValue)*c.slider.maxPos/c.slider.valueRange},f=function(){c.minDeposit={margin:e(c.slider.minValue),value:c.slider.minValue},c.maxDeposit={margin:e(c.slider.maxValue),value:c.slider.maxValue},c.myticks=c.deposits,a.forEach(c.myticks,function(a,b){a.margin=e(a.value)})};f(),$(window).on("resize.doResize",function(){f(),c.$apply(function(){})}),c.$on("$destroy",function(){$(window).off("resize.doResize")}),c.$watch("deposits",function(a,b){f()}),c.$watch("rzSliderModel",function(a,b){a>=self.minValue?c.arrowMinActive=!0:c.arrowMinActive=!1,a==self.maxValue?c.arrowMaxActive=!0:c.arrowMaxActive=!1})}}}]);return b.run(["$templateCache",function(a){a.put("rzSliderTpl.html",'<span class=rz-bar-wrapper><span class=rz-bar></span></span><span class=rz-bar-wrapper><span  class="rz-bar rz-selection" ng-style=barStyle></span></span> <span  id="slideBtnIcon" class="rz-pointer rz-pointer-min" ng-style=minPointerStyle ><span uib-popover-template="\'views/popUp/slider-pointer-popup.html\'"  popover-placement="{{popoverPlacement}}" data-container="body" popover-is-open="pointerPopOver.show" ></span></span> <span class="rz-pointer rz-pointer-max" ng-style=maxPointerStyle></span> <span class="rz-bubble rz-limit" ng-class="{\'slider-deposit-values-small\': isSpecialCurrencySign }"></span> <span class="rz-bubble rz-limit" ng-class="{\'slider-deposit-values-small\': isSpecialCurrencySign }"></span><span class=rz-bubble></span> <span class=rz-bubble></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat="t in ticks track by $index" class=tick ng-class="{selected: t.selected}" ng-style=t.style ng-attr-uib-tooltip="{{ t.tooltip }}" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body="{{ t.tooltip ? true : undefined}}"><span ng-if="t.value != null" class=tick-value ng-attr-uib-tooltip="{{ t.valueTooltip }}" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span></li></ul><div class=rz-ticks ng-attr-style="display: flex;direction:{{direction}}"><div ng-repeat="t in myticks track by $index" ng-attr-style="margin-{{dir}}:{{ t.margin }}px;position: absolute;float: left;" ng-if="t.value != null" class=tick-value ng-class="{selected: t.selected}" ng-style=t.style ><div class="deposit-arrows">\'</div><div class="slider-deposit-values" ng-class="{\'slider-deposit-values-small\': isSpecialCurrencySign }">{{t.value | isoCurrency:currencyName:0  }}</div></div><div ng-attr-style="margin-{{dir}}:{{minDeposit.margin }}px;position: absolute;float: left;  "  class=tick-value ng-class="{selected: t.selected}" ng-style=t.style  ><div><div class="deposit-slider-arrow-down" ng-class="{\'arrow-down-active\':arrowMinActive,\'arrow-down-inActive\':!arrowMinActive}"></div></div></div><div ng-attr-style="margin-{{dir}}:{{maxDeposit.margin }}px;position: absolute;float: left;    "  class=tick-value ng-class="{selected: t.selected}" ng-style=t.style  ><div><div class="deposit-slider-arrow-down" ng-class="{\'arrow-down-active\':arrowMaxActive,\'arrow-down-inActive\':!arrowMaxActive}"></div></div></div></div>')}]),b}),function(a,b){"use strict";function c(a,c,d){var e=d.baseHref(),f=a[0];return function(a,d,g){var h,i;g=g||{},i=g.expires,h=b.isDefined(g.path)?g.path:e,b.isUndefined(d)&&(i="Thu, 01 Jan 1970 00:00:00 GMT",d=""),b.isString(i)&&(i=new Date(i)),d=encodeURIComponent(a)+"="+encodeURIComponent(d),d=d+(h?";path="+h:"")+(g.domain?";domain="+g.domain:""),d+=i?";expires="+i.toUTCString():"",d+=g.secure?";secure":"",g=d.length+1,g>4096&&c.warn("Cookie '"+a+"' possibly not set or overflowed because it was too large ("+g+" > 4096 bytes)!"),f.cookie=d}}b.module("ngCookies",["ng"]).provider("$cookies",[function(){var a=this.defaults={};this.$get=["$$cookieReader","$$cookieWriter",function(c,d){return{get:function(a){return c()[a]},getObject:function(a){return(a=this.get(a))?b.fromJson(a):a},getAll:function(){return c()},put:function(c,e,f){d(c,e,f?b.extend({},a,f):a)},putObject:function(a,c,d){this.put(a,b.toJson(c),d)},remove:function(c,e){d(c,void 0,e?b.extend({},a,e):a)}}}]}]),b.module("ngCookies").factory("$cookieStore",["$cookies",function(a){return{get:function(b){return a.getObject(b)},put:function(b,c){a.putObject(b,c)},remove:function(b){a.remove(b)}}}]),c.$inject=["$document","$log","$browser"],b.module("ngCookies").provider("$$cookieWriter",function(){this.$get=c})}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.debounce","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/popup.html","uib/template/datepicker/year.html","uib/template/modal/backdrop.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(l(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start()["finally"](i):a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(i)})}function i(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"}),m(d)}function j(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(n(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:{height:"0"}}).start()["finally"](k):a.removeClass(f,"in",{to:{height:"0"}}).then(k)}):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse"),o(d)}var l=c(g.expanding),m=c(g.expanded),n=c(g.collapsing),o=c(g.collapsed);d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),d.$watch(g.uibCollapse,function(a){a?j():h()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.openClass=c.openClass||"panel-open",a.panelClass=c.panelClass||"panel-default",a.$watch("isOpen",function(c){b.toggleClass(a.openClass,!!c),c&&d.closeOthers(a)}),a.toggleOpen=function(b){a.isDisabled||b&&32!==b.which||(a.isOpen=!a.isOpen)};var e="accordiongroup-"+a.$id+"-"+Math.floor(1e4*Math.random());a.headingId=e+"-tab",a.panelId=e+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(a,b,c,d,e){d.setHeading(e(a,angular.noop))}}}).directive("uibAccordionTransclude",function(){return{require:"^uibAccordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.uibAccordionTransclude]},function(a){if(a){var c=angular.element(b[0].querySelector("[uib-accordion-header]"));c.html(""),c.append(a)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$attrs","$interpolate","$timeout",function(a,b,c,d){a.closeable=!!b.close;var e=angular.isDefined(b.dismissOnTimeout)?c(b.dismissOnTimeout)(a.$parent):null;e&&d(function(){a.close()},parseInt(e,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",templateUrl:function(a,b){return b.templateUrl||"uib/template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(a){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(b,c,d,e){var f=e[0],g=e[1],h=a(d.uibUncheckable);c.find("input").css({display:"none"}),g.$render=function(){c.toggleClass(f.activeClass,angular.equals(g.$modelValue,b.$eval(d.uibBtnRadio)))},c.on(f.toggleEvent,function(){if(!d.disabled){var a=c.hasClass(f.activeClass);(!a||angular.isDefined(d.uncheckable))&&b.$apply(function(){g.$setViewValue(a?null:b.$eval(d.uibBtnRadio)),g.$render()})}}),d.uibUncheckable&&b.$watch(h,function(a){d.$set("uncheckable",a?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){return angular.isDefined(b)?a.$eval(b):c}var h=d[0],i=d[1];b.find("input").css({display:"none"}),i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.on(h.toggleEvent,function(){c.disabled||a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(a,b,c,d,e){function f(){for(;t.length;)t.shift()}function g(a){for(var b=0;b<q.length;b++)q[b].slide.active=b===a}function h(c,d,i){if(!u){if(angular.extend(c,{direction:i}),angular.extend(q[s].slide||{},{direction:i}),e.enabled(b)&&!a.$currentTransition&&q[d].element&&p.slides.length>1){q[d].element.data(r,c.direction);var j=p.getCurrentIndex();angular.isNumber(j)&&q[j].element&&q[j].element.data(r,c.direction),a.$currentTransition=!0,e.on("addClass",q[d].element,function(b,c){if("close"===c&&(a.$currentTransition=null,e.off("addClass",b),t.length)){var d=t.pop().slide,g=d.index,i=g>p.getCurrentIndex()?"next":"prev";f(),h(d,g,i)}})}a.active=c.index,s=c.index,g(d),l()}}function i(a){for(var b=0;b<q.length;b++)if(q[b].slide===a)return b}function j(){n&&(c.cancel(n),n=null)}function k(b){b.length||(a.$currentTransition=null,f())}function l(){j();var b=+a.interval;!isNaN(b)&&b>0&&(n=c(m,b))}function m(){var b=+a.interval;o&&!isNaN(b)&&b>0&&q.length?a.next():a.pause()}var n,o,p=this,q=p.slides=a.slides=[],r="uib-slideDirection",s=a.active,t=[],u=!1;p.addSlide=function(b,c){q.push({slide:b,element:c}),q.sort(function(a,b){return+a.slide.index>+b.slide.index}),(b.index===a.active||1===q.length&&!angular.isNumber(a.active))&&(a.$currentTransition&&(a.$currentTransition=null),s=b.index,a.active=b.index,g(s),p.select(q[i(b)]),1===q.length&&a.play())},p.getCurrentIndex=function(){for(var a=0;a<q.length;a++)if(q[a].slide.index===s)return a},p.next=a.next=function(){var b=(p.getCurrentIndex()+1)%q.length;return 0===b&&a.noWrap()?void a.pause():p.select(q[b],"next")},p.prev=a.prev=function(){var b=p.getCurrentIndex()-1<0?q.length-1:p.getCurrentIndex()-1;return a.noWrap()&&b===q.length-1?void a.pause():p.select(q[b],"prev")},p.removeSlide=function(b){var c=i(b),d=t.indexOf(q[c]);-1!==d&&t.splice(d,1),q.splice(c,1),q.length>0&&s===c?c>=q.length?(s=q.length-1,a.active=s,g(s),p.select(q[q.length-1])):(s=c,a.active=s,g(s),p.select(q[c])):s>c&&(s--,a.active=s),0===q.length&&(s=null,a.active=null,f())},p.select=a.select=function(b,c){var d=i(b.slide);void 0===c&&(c=d>p.getCurrentIndex()?"next":"prev"),b.slide.index===s||a.$currentTransition?b&&b.slide.index!==s&&a.$currentTransition&&t.push(q[d]):h(b.slide,d,c)},a.indexOfSlide=function(a){return+a.slide.index},a.isActive=function(b){return a.active===b.slide.index},a.pause=function(){a.noPause||(o=!1,j())},a.play=function(){o||(o=!0,l())},a.$on("$destroy",function(){u=!0,j()}),a.$watch("noTransition",function(a){e.enabled(b,!a)}),a.$watch("interval",l),a.$watchCollection("slides",k),a.$watch("active",function(a){if(angular.isNumber(a)&&s!==a){for(var b=0;b<q.length;b++)if(q[b].slide.index===a){a=b;break}var c=q[a];c&&(s=a,g(a),p.select(q[a]))}})}]).directive("uibCarousel",function(){return{transclude:!0,replace:!0,controller:"UibCarouselController",
controllerAs:"carousel",templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",function(){return{require:"^uibCarousel",transclude:!0,replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(a,b,c,d){d.addSlide(a,b),a.$on("$destroy",function(){d.removeSlide(a)})}}}).animation(".item",["$animateCss",function(a){function b(a,b,c){a.removeClass(b),c&&c()}var c="uib-slideDirection";return{beforeAddClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i+" "+h,f);return d.addClass(h),a(d,{addClass:i}).start().done(j),function(){g=!0}}f()},beforeRemoveClass:function(d,e,f){if("active"===e){var g=!1,h=d.data(c),i="next"===h?"left":"right",j=b.bind(this,d,i,f);return a(d,{addClass:i}).start().done(j),function(){g=!0}}f()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter",function(a,b,c,d){function e(a,b){var c=[],e=a.split(""),f=a.indexOf("'");if(f>-1){var g=!1;a=a.split("");for(var h=f;h<a.length;h++)g?("'"===a[h]&&(h+1<a.length&&"'"===a[h+1]?(a[h+1]="$",e[h+1]=""):(e[h]="",g=!1)),a[h]="$"):"'"===a[h]&&(a[h]="$",e[h]="",g=!0);a=a.join("")}return angular.forEach(n,function(d){var f=a.indexOf(d.key);if(f>-1){a=a.split(""),e[f]="("+d.regex+")",a[f]="$";for(var g=f+1,h=f+d.key.length;h>g;g++)e[g]="",a[g]="$";a=a.join(""),c.push({index:f,key:d.key,apply:d[b],matcher:d.regex})}}),{regex:new RegExp("^"+e.join("")+"$"),map:d(c,"index")}}function f(a,b,c){return 1>c?!1:1===b&&c>28?29===c&&(a%4===0&&a%100!==0||a%400===0):3===b||5===b||8===b||10===b?31>c:!0}function g(a){return parseInt(a,10)}function h(a,b){return a&&b?l(a,b):a}function i(a,b){return a&&b?l(a,b,!0):a}function j(a,b){var c=Date.parse("Jan 01, 1970 00:00:00 "+a)/6e4;return isNaN(c)?b:c}function k(a,b){return a=new Date(a.getTime()),a.setMinutes(a.getMinutes()+b),a}function l(a,b,c){c=c?-1:1;var d=j(b,a.getTimezoneOffset());return k(a,c*(d-a.getTimezoneOffset()))}var m,n,o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){m=b.id,this.parsers={},this.formatters={},n=[{key:"yyyy",regex:"\\d{4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(a){this.year=+a+2e3},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(a){this.year=+a},formatter:function(a){var b=new Date;return b.setFullYear(Math.abs(a.getFullYear())),c(b,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){var b=a.getMonth();return/^[0-9]$/.test(b)?c(a,"MM"):c(a,"M")}},{key:"MMMM",regex:b.DATETIME_FORMATS.MONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.MONTH.indexOf(a)},formatter:function(a){return c(a,"MMMM")}},{key:"MMM",regex:b.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(a){this.month=b.DATETIME_FORMATS.SHORTMONTH.indexOf(a)},formatter:function(a){return c(a,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(a){this.month=a-1},formatter:function(a){return c(a,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){var b=a.getDate();return/^[1-9]$/.test(b)?c(a,"dd"):c(a,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(a){this.date=+a},formatter:function(a){return c(a,"d")}},{key:"EEEE",regex:b.DATETIME_FORMATS.DAY.join("|"),formatter:function(a){return c(a,"EEEE")}},{key:"EEE",regex:b.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(a){return c(a,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(a){this.hours=+a},formatter:function(a){return c(a,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.minutes=+a},formatter:function(a){return c(a,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(a){this.milliseconds=+a},formatter:function(a){return c(a,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(a){this.seconds=+a},formatter:function(a){return c(a,"s")}},{key:"a",regex:b.DATETIME_FORMATS.AMPMS.join("|"),apply:function(a){12===this.hours&&(this.hours=0),"PM"===a&&(this.hours+=12)},formatter:function(a){return c(a,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(a){var b=a.match(/([+-])(\d{2})(\d{2})/),c=b[1],d=b[2],e=b[3];this.hours+=g(c+d),this.minutes+=g(c+e)},formatter:function(a){return c(a,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(a){return c(a,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(a){return c(a,"w")}}]},this.init(),this.filter=function(a,c){if(!angular.isDate(a)||isNaN(a)||!c)return"";c=b.DATETIME_FORMATS[c]||c,b.id!==m&&this.init(),this.formatters[c]||(this.formatters[c]=e(c,"formatter"));var d=this.formatters[c],f=d.map,g=c;return f.reduce(function(b,c,d){var e=g.match(new RegExp("(.*)"+c.key));e&&angular.isString(e[1])&&(b+=e[1],g=g.replace(e[1]+c.key,""));var h=d===f.length-1?g:"";return c.apply?b+c.apply.call(null,a)+h:b+h},"")},this.parse=function(c,d,g){if(!angular.isString(c)||!d)return c;d=b.DATETIME_FORMATS[d]||d,d=d.replace(o,"\\$&"),b.id!==m&&this.init(),this.parsers[d]||(this.parsers[d]=e(d,"apply"));var h=this.parsers[d],i=h.regex,j=h.map,k=c.match(i),l=!1;if(k&&k.length){var n,p;angular.isDate(g)&&!isNaN(g.getTime())?n={year:g.getFullYear(),month:g.getMonth(),date:g.getDate(),hours:g.getHours(),minutes:g.getMinutes(),seconds:g.getSeconds(),milliseconds:g.getMilliseconds()}:(g&&a.warn("dateparser:","baseDate is not a valid date"),n={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var q=1,r=k.length;r>q;q++){var s=j[q-1];"Z"===s.matcher&&(l=!0),s.apply&&s.apply.call(n,k[q])}var t=l?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,u=l?Date.prototype.setUTCHours:Date.prototype.setHours;return f(n.year,n.month,n.date)&&(!angular.isDate(g)||isNaN(g.getTime())||l?(p=new Date(0),t.call(p,n.year,n.month,n.date),u.call(p,n.hours||0,n.minutes||0,n.seconds||0,n.milliseconds||0)):(p=new Date(g),t.call(p,n.year,n.month,n.date),u.call(p,n.hours,n.minutes,n.seconds,n.milliseconds))),p}},this.toTimezone=h,this.fromTimezone=i,this.timezoneToOffset=j,this.addDateMinutes=k,this.convertTimezoneToLocal=l}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(a){var b=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,c=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(d,e){function f(a,b,c){i.push(a),j.push({scope:a,element:b}),o.forEach(function(b,c){g(b,a)}),a.$on("$destroy",h)}function g(b,d){var e=b.match(c),f=d.$eval(e[1]),g=e[2],h=k[b];if(!h){var i=function(b){var c=null;j.some(function(a){var d=a.scope.$eval(m);return d===b?(c=a,!0):void 0}),h.lastActivated!==c&&(h.lastActivated&&a.removeClass(h.lastActivated.element,f),c&&a.addClass(c.element,f),h.lastActivated=c)};k[b]=h={lastActivated:null,scope:d,watchFn:i,compareWithExp:g,watcher:d.$watch(g,i)}}h.watchFn(d.$eval(g))}function h(a){var b=a.targetScope,c=i.indexOf(b);if(i.splice(c,1),j.splice(c,1),i.length){var d=i[0];angular.forEach(k,function(a){a.scope===b&&(a.watcher=d.$watch(a.compareWithExp,a.watchFn),a.scope=d)})}else k={}}var i=[],j=[],k={},l=e.uibIsClass.match(b),m=l[2],n=l[1],o=n.split(",");return f}}}]),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(a,b){var c,d={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},e={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/};return{getRawNode:function(a){return a.nodeName?a:a[0]||a},parseStyle:function(a){return a=parseFloat(a),isFinite(a)?a:0},offsetParent:function(c){function d(a){return"static"===(b.getComputedStyle(a).position||"static")}c=this.getRawNode(c);for(var e=c.offsetParent||a[0].documentElement;e&&e!==a[0].documentElement&&d(e);)e=e.offsetParent;return e||a[0].documentElement},scrollbarWidth:function(){if(angular.isUndefined(c)){var b=angular.element('<div class="uib-position-scrollbar-measure"></div>');a.find("body").append(b),c=b[0].offsetWidth-b[0].clientWidth,c=isFinite(c)?c:0,b.remove()}return c},isScrollable:function(a,c){a=this.getRawNode(a);var e=c?d.hidden:d.normal,f=b.getComputedStyle(a);return e.test(f.overflow+f.overflowY+f.overflowX)},scrollParent:function(c,e){c=this.getRawNode(c);var f=e?d.hidden:d.normal,g=a[0].documentElement,h=b.getComputedStyle(c),i="absolute"===h.position,j=c.parentElement||g;if(j===g||"fixed"===h.position)return g;for(;j.parentElement&&j!==g;){var k=b.getComputedStyle(j);if(i&&"static"!==k.position&&(i=!1),!i&&f.test(k.overflow+k.overflowY+k.overflowX))break;j=j.parentElement}return j},position:function(c,d){c=this.getRawNode(c);var e=this.offset(c);if(d){var f=b.getComputedStyle(c);e.top-=this.parseStyle(f.marginTop),e.left-=this.parseStyle(f.marginLeft)}var g=this.offsetParent(c),h={top:0,left:0};return g!==a[0].documentElement&&(h=this.offset(g),h.top+=g.clientTop-g.scrollTop,h.left+=g.clientLeft-g.scrollLeft),{width:Math.round(angular.isNumber(e.width)?e.width:c.offsetWidth),height:Math.round(angular.isNumber(e.height)?e.height:c.offsetHeight),top:Math.round(e.top-h.top),left:Math.round(e.left-h.left)}},offset:function(c){c=this.getRawNode(c);var d=c.getBoundingClientRect();return{width:Math.round(angular.isNumber(d.width)?d.width:c.offsetWidth),height:Math.round(angular.isNumber(d.height)?d.height:c.offsetHeight),top:Math.round(d.top+(b.pageYOffset||a[0].documentElement.scrollTop)),left:Math.round(d.left+(b.pageXOffset||a[0].documentElement.scrollLeft))}},viewportOffset:function(c,d,e){c=this.getRawNode(c),e=e!==!1?!0:!1;var f=c.getBoundingClientRect(),g={top:0,left:0,bottom:0,right:0},h=d?a[0].documentElement:this.scrollParent(c),i=h.getBoundingClientRect();if(g.top=i.top+h.clientTop,g.left=i.left+h.clientLeft,h===a[0].documentElement&&(g.top+=b.pageYOffset,g.left+=b.pageXOffset),g.bottom=g.top+h.clientHeight,g.right=g.left+h.clientWidth,e){var j=b.getComputedStyle(h);g.top+=this.parseStyle(j.paddingTop),g.bottom-=this.parseStyle(j.paddingBottom),g.left+=this.parseStyle(j.paddingLeft),g.right-=this.parseStyle(j.paddingRight)}return{top:Math.round(f.top-g.top),bottom:Math.round(g.bottom-f.bottom),left:Math.round(f.left-g.left),right:Math.round(g.right-f.right)}},parsePlacement:function(a){var b=e.auto.test(a);return b&&(a=a.replace(e.auto,"")),a=a.split("-"),a[0]=a[0]||"top",e.primary.test(a[0])||(a[0]="top"),a[1]=a[1]||"center",e.secondary.test(a[1])||(a[1]="center"),b?a[2]=!0:a[2]=!1,a},positionElements:function(a,c,d,f){a=this.getRawNode(a),c=this.getRawNode(c);var g=angular.isDefined(c.offsetWidth)?c.offsetWidth:c.prop("offsetWidth"),h=angular.isDefined(c.offsetHeight)?c.offsetHeight:c.prop("offsetHeight");d=this.parsePlacement(d);var i=f?this.offset(a):this.position(a),j={top:0,left:0,placement:""};if(d[2]){var k=this.viewportOffset(a,f),l=b.getComputedStyle(c),m={width:g+Math.round(Math.abs(this.parseStyle(l.marginLeft)+this.parseStyle(l.marginRight))),height:h+Math.round(Math.abs(this.parseStyle(l.marginTop)+this.parseStyle(l.marginBottom)))};if(d[0]="top"===d[0]&&m.height>k.top&&m.height<=k.bottom?"bottom":"bottom"===d[0]&&m.height>k.bottom&&m.height<=k.top?"top":"left"===d[0]&&m.width>k.left&&m.width<=k.right?"right":"right"===d[0]&&m.width>k.right&&m.width<=k.left?"left":d[0],d[1]="top"===d[1]&&m.height-i.height>k.bottom&&m.height-i.height<=k.top?"bottom":"bottom"===d[1]&&m.height-i.height>k.top&&m.height-i.height<=k.bottom?"top":"left"===d[1]&&m.width-i.width>k.right&&m.width-i.width<=k.left?"right":"right"===d[1]&&m.width-i.width>k.left&&m.width-i.width<=k.right?"left":d[1],"center"===d[1])if(e.vertical.test(d[0])){var n=i.width/2-g/2;k.left+n<0&&m.width-i.width<=k.right?d[1]="left":k.right+n<0&&m.width-i.width<=k.left&&(d[1]="right")}else{var o=i.height/2-m.height/2;k.top+o<0&&m.height-i.height<=k.bottom?d[1]="top":k.bottom+o<0&&m.height-i.height<=k.top&&(d[1]="bottom")}}switch(d[0]){case"top":j.top=i.top-h;break;case"bottom":j.top=i.top+i.height;break;case"left":j.left=i.left-g;break;case"right":j.left=i.left+i.width}switch(d[1]){case"top":j.top=i.top;break;case"bottom":j.top=i.top+i.height-h;break;case"left":j.left=i.left;break;case"right":j.left=i.left+i.width-g;break;case"center":e.vertical.test(d[0])?j.left=i.left+i.width/2-g/2:j.top=i.top+i.height/2-h/2}return j.top=Math.round(j.top),j.left=Math.round(j.left),j.placement="center"===d[1]?d[0]:d[0]+"-"+d[1],j},positionArrow:function(a,c){a=this.getRawNode(a);var d=a.querySelector(".tooltip-inner, .popover-inner");if(d){var f=angular.element(d).hasClass("tooltip-inner"),g=f?a.querySelector(".tooltip-arrow"):a.querySelector(".arrow");if(g){var h={top:"",bottom:"",left:"",right:""};if(c=this.parsePlacement(c),"center"===c[1])return void angular.element(g).css(h);var i="border-"+c[0]+"-width",j=b.getComputedStyle(g)[i],k="border-";k+=e.vertical.test(c[0])?c[0]+"-"+c[1]:c[1]+"-"+c[0],k+="-radius";var l=b.getComputedStyle(f?d:a)[k];switch(c[0]){case"top":h.bottom=f?"0":"-"+j;break;case"bottom":h.top=f?"0":"-"+j;break;case"left":h.right=f?"0":"-"+j;break;case"right":h.left=f?"0":"-"+j}h[c[1]]=l,angular.element(g).css(h)}}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).value("uibDatepickerAttributeWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerSuppressError","uibDatepickerAttributeWarning","uibDateParser",function(a,b,c,d,e,f,g,h,i,j,k){function l(b){a.datepickerMode=b,q&&(a.datepickerOptions.datepickerMode=b)}var m=this,n={$setViewValue:angular.noop},o={},p=[],q=!!b.datepickerOptions;if(this.modes=["day","month","year"],q)["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","initDate","maxDate","maxMode","minDate","minMode","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(b){switch(b){case"customClass":case"dateDisabled":a[b]=a.datepickerOptions[b]||angular.noop;break;case"datepickerMode":a.datepickerMode=angular.isDefined(a.datepickerOptions.datepickerMode)?a.datepickerOptions.datepickerMode:h.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":m[b]=angular.isDefined(a.datepickerOptions[b])?d(a.datepickerOptions[b])(a.$parent):h[b];break;case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":m[b]=angular.isDefined(a.datepickerOptions[b])?a.datepickerOptions[b]:h[b];break;case"startingDay":angular.isDefined(a.datepickerOptions.startingDay)?m.startingDay=a.datepickerOptions.startingDay:angular.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(a){a?angular.isDate(a)?m[b]=k.fromTimezone(new Date(a),o.timezone):m[b]=new Date(g(a,"medium")):m[b]=null,m.refreshView()}):m[b]=h[b]?k.fromTimezone(new Date(h[b]),o.timezone):null;break;case"maxMode":case"minMode":a.datepickerOptions[b]?a.$watch(function(){return a.datepickerOptions[b]},function(c){m[b]=a[b]=angular.isDefined(c)?c:datepickerOptions[b],("minMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)<m.modes.indexOf(m[b])||"maxMode"===b&&m.modes.indexOf(a.datepickerOptions.datepickerMode)>m.modes.indexOf(m[b]))&&(a.datepickerMode=m[b],a.datepickerOptions.datepickerMode=m[b])}):m[b]=a[b]=h[b]||null;break;case"initDate":a.datepickerOptions.initDate?(m.activeDate=k.fromTimezone(a.datepickerOptions.initDate,o.timezone)||new Date,a.$watch(function(){return a.datepickerOptions.initDate},function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(m.activeDate=k.fromTimezone(a,o.timezone),m.refreshView())})):m.activeDate=new Date}});else{if(angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle"],function(c){m[c]=angular.isDefined(b[c])?d(b[c])(a.$parent):h[c],angular.isDefined(b[c])&&j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["showWeeks","yearRows","yearColumns","shortcutPropagation"],function(c){m[c]=angular.isDefined(b[c])?a.$parent.$eval(b[c]):h[c],angular.isDefined(b[c])&&j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.forEach(["dateDisabled","customClass"],function(a){angular.isDefined(b[a])&&j&&f.warn("uib-datepicker "+a+" attribute usage is deprecated, use datepicker-options attribute instead")}),angular.isDefined(b.startingDay)?(j&&f.warn("uib-datepicker startingDay attribute usage is deprecated, use datepicker-options attribute instead"),m.startingDay=a.$parent.$eval(b.startingDay)):angular.isNumber(h.startingDay)?m.startingDay=h.startingDay:m.startingDay=(e.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7,angular.forEach(["minDate","maxDate"],function(c){b[c]?(j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead"),p.push(a.$parent.$watch(b[c],function(a){a?angular.isDate(a)?m[c]=k.fromTimezone(new Date(a),o.timezone):m[c]=new Date(g(a,"medium")):m[c]=null,m.refreshView()}))):m[c]=h[c]?k.fromTimezone(new Date(h[c]),o.timezone):null}),angular.forEach(["minMode","maxMode"],function(c){b[c]?(j&&f.warn("uib-datepicker "+c+" attribute usage is deprecated, use datepicker-options attribute instead"),p.push(a.$parent.$watch(b[c],function(d){m[c]=a[c]=angular.isDefined(d)?d:b[c],("minMode"===c&&m.modes.indexOf(a.datepickerMode)<m.modes.indexOf(m[c])||"maxMode"===c&&m.modes.indexOf(a.datepickerMode)>m.modes.indexOf(m[c]))&&(a.datepickerMode=m[c])}))):m[c]=a[c]=h[c]||null}),angular.isDefined(b.initDate)){j&&f.warn("uib-datepicker initDate attribute usage is deprecated, use datepicker-options attribute instead");var r=k.fromTimezone(a.$parent.$eval(b.initDate),o.timezone);this.activeDate=isNaN(r)?new Date:r,p.push(a.$parent.$watch(b.initDate,function(a){a&&(n.$isEmpty(n.$modelValue)||n.$invalid)&&(a=k.fromTimezone(a,o.timezone),m.activeDate=isNaN(a)?new Date:a,m.refreshView())}))}else this.activeDate=new Date;b.datepickerMode&&j&&f.warn("uib-datepicker datepickerMode attribute usage is deprecated, use datepicker-options attribute instead"),a.datepickerMode=a.datepickerMode||h.datepickerMode}a.uniqueId="datepicker-"+a.$id+"-"+Math.floor(1e4*Math.random()),a.disabled=angular.isDefined(b.disabled)||!1,angular.isDefined(b.ngDisabled)&&p.push(a.$parent.$watch(b.ngDisabled,function(b){a.disabled=b,m.refreshView()})),a.isActive=function(b){return 0===m.compare(b.date,m.activeDate)?(a.activeDateId=b.uid,!0):!1},this.init=function(a){n=a,o=a.$options||h.ngModelOptions,this.activeDate=n.$modelValue||new Date,n.$render=function(){m.render()}},this.render=function(){if(n.$viewValue){var a=new Date(n.$viewValue),b=!isNaN(a);b?this.activeDate=k.fromTimezone(a,o.timezone):i||f.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){a.selectedDt=null,this._refreshView(),a.activeDt&&(a.activeDateId=a.activeDt.uid);var b=n.$viewValue?new Date(n.$viewValue):null;b=k.fromTimezone(b,o.timezone),n.$setValidity("dateDisabled",!b||this.element&&!this.isDisabled(b))}},this.createDateObject=function(b,c){var d=n.$viewValue?new Date(n.$viewValue):null;d=k.fromTimezone(d,o.timezone);var e=new Date;e=k.fromTimezone(e,o.timezone);var f=this.compare(b,e),g={date:b,label:k.filter(b,c),selected:d&&0===this.compare(b,d),disabled:this.isDisabled(b),past:0>f,current:0===f,future:f>0,customClass:this.customClass(b)||null};return d&&0===this.compare(b,d)&&(a.selectedDt=g),m.activeDate&&0===this.compare(g.date,m.activeDate)&&(a.activeDt=g),g},this.isDisabled=function(b){return a.disabled||this.minDate&&this.compare(b,this.minDate)<0||this.maxDate&&this.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:a.datepickerMode})},this.customClass=function(b){return a.customClass({date:b,mode:a.datepickerMode})},this.split=function(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c},a.select=function(b){if(a.datepickerMode===m.minMode){var c=n.$viewValue?k.fromTimezone(new Date(n.$viewValue),o.timezone):new Date(0,0,0,0,0,0,0);c.setFullYear(b.getFullYear(),b.getMonth(),b.getDate()),c=k.toTimezone(c,o.timezone),n.$setViewValue(c),n.$render()}else m.activeDate=b,l(m.modes[m.modes.indexOf(a.datepickerMode)-1]),a.$emit("uib:datepicker.mode")},a.move=function(a){var b=m.activeDate.getFullYear()+a*(m.step.years||0),c=m.activeDate.getMonth()+a*(m.step.months||0);m.activeDate.setFullYear(b,c,1),m.refreshView()},a.toggleMode=function(b){b=b||1,a.datepickerMode===m.maxMode&&1===b||a.datepickerMode===m.minMode&&-1===b||(l(m.modes[m.modes.indexOf(a.datepickerMode)+b]),a.$emit("uib:datepicker.mode"))},a.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var s=function(){m.element[0].focus()};a.$on("uib:datepicker.focus",s),a.keydown=function(b){var c=a.keys[b.which];if(c&&!b.shiftKey&&!b.altKey&&!a.disabled)if(b.preventDefault(),m.shortcutPropagation||b.stopPropagation(),"enter"===c||"space"===c){if(m.isDisabled(m.activeDate))return;a.select(m.activeDate)}else!b.ctrlKey||"up"!==c&&"down"!==c?(m.handleKeyDown(c,b),m.refreshView()):a.toggleMode("up"===c?1:-1)},a.$on("$destroy",function(){for(;p.length;)p.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a,b){return 1!==b||a%4!==0||a%100===0&&a%400!==0?f[b]:29}function e(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}var f=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=b,this.init=function(b){angular.extend(b,this),a.showWeeks=b.showWeeks,b.refreshView()},this.getDates=function(a,b){for(var c,d=new Array(b),e=new Date(a),f=0;b>f;)c=new Date(e),d[f++]=c,e.setDate(e.getDate()+1);return d},this._refreshView=function(){var b=this.activeDate.getFullYear(),d=this.activeDate.getMonth(),f=new Date(this.activeDate);f.setFullYear(b,d,1);var g=this.startingDay-f.getDay(),h=g>0?7-g:-g,i=new Date(f);h>0&&i.setDate(-h+1);for(var j=this.getDates(i,42),k=0;42>k;k++)j[k]=angular.extend(this.createDateObject(j[k],this.formatDay),{secondary:j[k].getMonth()!==d,uid:a.uniqueId+"-"+k});a.labels=new Array(7);for(var l=0;7>l;l++)a.labels[l]={abbr:c(j[l].date,this.formatDayHeader),full:c(j[l].date,"EEEE")};if(a.title=c(this.activeDate,this.formatDayTitle),a.rows=this.split(j,7),a.showWeeks){a.weekNumbers=[];for(var m=(11-this.startingDay)%7,n=a.rows.length,o=0;n>o;o++)a.weekNumbers.push(e(a.rows[o][m].date))}},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth(),a.getDate()),d=new Date(b.getFullYear(),b.getMonth(),b.getDate());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getDate();if("left"===a)c-=1;else if("up"===a)c-=7;else if("right"===a)c+=1;else if("down"===a)c+=7;else if("pageup"===a||"pagedown"===a){var e=this.activeDate.getMonth()+("pageup"===a?-1:1);this.activeDate.setMonth(e,1),c=Math.min(d(this.activeDate.getFullYear(),this.activeDate.getMonth()),c)}else"home"===a?c=1:"end"===a&&(c=d(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(c)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(a,b,c){this.step={years:1},this.element=b,this.init=function(a){angular.extend(a,this),a.refreshView()},this._refreshView=function(){for(var b,d=new Array(12),e=this.activeDate.getFullYear(),f=0;12>f;f++)b=new Date(this.activeDate),b.setFullYear(e,f,1),d[f]=angular.extend(this.createDateObject(b,this.formatMonth),{uid:a.uniqueId+"-"+f});a.title=c(this.activeDate,this.formatMonthTitle),a.rows=this.split(d,3)},this.compare=function(a,b){var c=new Date(a.getFullYear(),a.getMonth()),d=new Date(b.getFullYear(),b.getMonth());return c.setFullYear(a.getFullYear()),d.setFullYear(b.getFullYear()),c-d},this.handleKeyDown=function(a,b){var c=this.activeDate.getMonth();if("left"===a)c-=1;else if("up"===a)c-=3;else if("right"===a)c+=1;else if("down"===a)c+=3;else if("pageup"===a||"pagedown"===a){var d=this.activeDate.getFullYear()+("pageup"===a?-1:1);this.activeDate.setFullYear(d)}else"home"===a?c=0:"end"===a&&(c=11);this.activeDate.setMonth(c)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(a,b,c){function d(a){return parseInt((a-1)/f,10)*f+1}var e,f;this.element=b,this.yearpickerInit=function(){e=this.yearColumns,f=this.yearRows*e,this.step={years:f}},this._refreshView=function(){for(var b,c=new Array(f),g=0,h=d(this.activeDate.getFullYear());f>g;g++)b=new Date(this.activeDate),b.setFullYear(h+g,0,1),c[g]=angular.extend(this.createDateObject(b,this.formatYear),{uid:a.uniqueId+"-"+g});a.title=[c[0].label,c[f-1].label].join(" - "),a.rows=this.split(c,e),a.columns=e},this.compare=function(a,b){return a.getFullYear()-b.getFullYear()},this.handleKeyDown=function(a,b){var c=this.activeDate.getFullYear();"left"===a?c-=1:"up"===a?c-=e:"right"===a?c+=1:"down"===a?c+=e:"pageup"===a||"pagedown"===a?c+=("pageup"===a?-1:1)*f:"home"===a?c=d(this.activeDate.getFullYear()):"end"===a&&(c=d(this.activeDate.getFullYear())+f-1),this.activeDate.setFullYear(c)}}]).directive("uibDatepicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",datepickerOptions:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["uibDatepicker","^ngModel"],controller:"UibDatepickerController",controllerAs:"datepicker",link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}).directive("uibDaypicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],controller:"UibDaypickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibMonthpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],controller:"UibMonthpickerController",link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibYearpicker",function(){return{replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],controller:"UibYearpickerController",link:function(a,b,c,d){var e=d[0];angular.extend(e,d[1]),e.yearpickerInit(),e.refreshView()}}}).value("uibDatepickerPopupAttributeWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepicker/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","uibDatepickerPopupAttributeWarning",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function r(b){var c=l.parse(b,x,a.date);if(isNaN(c))for(var d=0;d<J.length;d++)if(c=l.parse(b,J[d],a.date),!isNaN(c))return c;return c}function s(a){if(angular.isNumber(a)&&(a=new Date(a)),!a)return null;if(angular.isDate(a)&&!isNaN(a))return a;if(angular.isString(a)){var b=r(a);if(!isNaN(b))return l.toTimezone(b,H.timezone)}return G.$options&&G.$options.allowInvalid?a:void 0}function t(a,b){var d=a||b;return c.ngRequired||d?(angular.isNumber(d)&&(d=new Date(d)),d?angular.isDate(d)&&!isNaN(d)?!0:angular.isString(d)?!isNaN(r(b)):!1:!0):!0}function u(c){if(a.isOpen||!a.disabled){var d=I[0],e=b[0].contains(c.target),f=void 0!==d.contains&&d.contains(c.target);!a.isOpen||e||f||a.$apply(function(){a.isOpen=!1})}}function v(c){27===c.which&&a.isOpen?(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!1}),b[0].focus()):40!==c.which||a.isOpen||(c.preventDefault(),c.stopPropagation(),a.$apply(function(){a.isOpen=!0}))}function w(){if(a.isOpen){var d=angular.element(I[0].querySelector(".uib-datepicker-popup")),e=c.popupPlacement?c.popupPlacement:m.placement,f=j.positionElements(b,d,e,z);d.css({top:f.top+"px",left:f.left+"px"}),d.hasClass("uib-position-measure")&&d.removeClass("uib-position-measure")}}var x,y,z,A,B,C,D,E,F,G,H,I,J,K={},L=!1,M=[];a.watchData={},this.init=function(j){if(G=j,H=j.$options||o.ngModelOptions,y=angular.isDefined(c.closeOnDateSelection)?a.$parent.$eval(c.closeOnDateSelection):m.closeOnDateSelection,z=angular.isDefined(c.datepickerAppendToBody)?a.$parent.$eval(c.datepickerAppendToBody):m.appendToBody,A=angular.isDefined(c.onOpenFocus)?a.$parent.$eval(c.onOpenFocus):m.onOpenFocus,B=angular.isDefined(c.datepickerPopupTemplateUrl)?c.datepickerPopupTemplateUrl:m.datepickerPopupTemplateUrl,C=angular.isDefined(c.datepickerTemplateUrl)?c.datepickerTemplateUrl:m.datepickerTemplateUrl,J=angular.isDefined(c.altInputFormats)?a.$parent.$eval(c.altInputFormats):m.altInputFormats,a.showButtonBar=angular.isDefined(c.showButtonBar)?a.$parent.$eval(c.showButtonBar):m.showButtonBar,m.html5Types[c.type]?(x=m.html5Types[c.type],L=!0):(x=c.uibDatepickerPopup||m.datepickerPopup,c.$observe("uibDatepickerPopup",function(a,b){var c=a||m.datepickerPopup;if(c!==x&&(x=c,G.$modelValue=null,!x))throw new Error("uibDatepickerPopup must have a date format specified.")})),!x)throw new Error("uibDatepickerPopup must have a date format specified.");if(L&&c.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");D=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),a.ngModelOptions=angular.copy(H),a.ngModelOptions.timezone=null,a.ngModelOptions.updateOnDefault===!0&&(a.ngModelOptions.updateOn=a.ngModelOptions.updateOn?a.ngModelOptions.updateOn+" default":"default"),D.attr({"ng-model":"date","ng-model-options":"ngModelOptions","ng-change":"dateSelection(date)","template-url":B}),E=angular.element(D.children()[0]),
E.attr("template-url",C),L&&"month"===c.type&&(E.attr("datepicker-mode",'"month"'),E.attr("min-mode","month")),a.datepickerOptions&&E.attr("datepicker-options","datepickerOptions"),angular.forEach(["minMode","maxMode","datepickerMode","shortcutPropagation"],function(b){if(c[b]){p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var d=f(c[b]),g={get:function(){return d(a.$parent)}};if(E.attr(q(b),"watchData."+b),"datepickerMode"===b){var h=d.assign;g.set=function(b){h(a.$parent,b)}}Object.defineProperty(a.watchData,b,g)}}),angular.forEach(["minDate","maxDate","initDate"],function(b){if(c[b]){p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead");var d=f(c[b]);M.push(a.$parent.$watch(d,function(c){if("minDate"===b||"maxDate"===b)null===c?K[b]=null:angular.isDate(c)?K[b]=l.fromTimezone(new Date(c),H.timezone):K[b]=new Date(k(c,"medium")),a.watchData[b]=null===c?null:K[b];else{var d=c?new Date(c):new Date;a.watchData[b]=l.fromTimezone(d,H.timezone)}})),E.attr(q(b),"watchData."+b)}}),c.dateDisabled&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr("date-disabled","dateDisabled({ date: date, mode: mode })")),angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRows","yearColumns"],function(a){angular.isDefined(c[a])&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr(q(a),c[a]))}),c.customClass&&(p&&e.warn("uib-datepicker settings via uib-datepicker-popup attributes are deprecated and will be removed in UI Bootstrap 1.3, use datepicker-options attribute instead"),E.attr("custom-class","customClass({ date: date, mode: mode })")),L?G.$formatters.push(function(b){return a.date=l.fromTimezone(b,H.timezone),b}):(G.$$parserName="date",G.$validators.date=t,G.$parsers.unshift(s),G.$formatters.push(function(b){return G.$isEmpty(b)?(a.date=b,b):(a.date=l.fromTimezone(b,H.timezone),angular.isNumber(a.date)&&(a.date=new Date(a.date)),l.filter(a.date,x))})),G.$viewChangeListeners.push(function(){a.date=r(G.$viewValue)}),b.on("keydown",v),I=d(D)(a),D.remove(),z?h.find("body").append(I):b.after(I),a.$on("$destroy",function(){for(a.isOpen===!0&&(i.$$phase||a.$apply(function(){a.isOpen=!1})),I.remove(),b.off("keydown",v),h.off("click",u),F&&F.off("scroll",w),angular.element(g).off("resize",w);M.length;)M.shift()()})},a.getText=function(b){return a[b+"Text"]||m[b+"Text"]},a.isDisabled=function(b){return"today"===b&&(b=new Date),a.watchData.minDate&&a.compare(b,K.minDate)<0||a.watchData.maxDate&&a.compare(b,K.maxDate)>0},a.compare=function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},a.dateSelection=function(c){angular.isDefined(c)&&(a.date=c);var d=a.date?l.filter(a.date,x):null;b.val(d),G.$setViewValue(d),y&&(a.isOpen=!1,b[0].focus())},a.keydown=function(c){27===c.which&&(c.stopPropagation(),a.isOpen=!1,b[0].focus())},a.select=function(b,c){if(c.stopPropagation(),"today"===b){var d=new Date;angular.isDate(a.date)?(b=new Date(a.date),b.setFullYear(d.getFullYear(),d.getMonth(),d.getDate())):b=new Date(d.setHours(0,0,0,0))}a.dateSelection(b)},a.close=function(c){c.stopPropagation(),a.isOpen=!1,b[0].focus()},a.disabled=angular.isDefined(c.disabled)||!1,c.ngDisabled&&M.push(a.$parent.$watch(f(c.ngDisabled),function(b){a.disabled=b})),a.$watch("isOpen",function(d){d?a.disabled?a.isOpen=!1:n(function(){w(),A&&a.$broadcast("uib:datepicker.focus"),h.on("click",u);var d=c.popupPlacement?c.popupPlacement:m.placement;z||j.parsePlacement(d)[2]?(F=F||angular.element(j.scrollParent(b)),F&&F.on("scroll",w)):F=null,angular.element(g).on("resize",w)},0,!1):(h.off("click",u),F&&F.off("scroll",w),angular.element(g).off("resize",w))}),a.$on("uib:datepicker.mode",function(){n(w,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(a,b,c,d){var e=d[0],f=d[1];f.init(e)}}}).directive("uibDatepickerPopupWrap",function(){return{replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(a){return function(b,c){var d;return function(){var e=this,f=Array.prototype.slice.call(arguments);d&&a.cancel(d),d=a(function(){b.apply(e,f)},c)}}}]),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope",function(a,b){var c=null;this.open=function(b){c||(a.on("click",d),a.on("keydown",e)),c&&c!==b&&(c.isOpen=!1),c=b},this.close=function(b){c===b&&(c=null,a.off("click",d),a.off("keydown",e))};var d=function(a){if(c&&!(a&&"disabled"===c.getAutoClose()||a&&3===a.which)){var d=c.getToggleElement();if(!(a&&d&&d[0].contains(a.target))){var e=c.getDropdownElement();a&&"outsideClick"===c.getAutoClose()&&e&&e[0].contains(a.target)||(c.isOpen=!1,b.$$phase||c.$apply())}}},e=function(a){27===a.which?(c.focusToggleElement(),d()):c.isKeynavEnabled()&&-1!==[38,40].indexOf(a.which)&&c.isOpen&&(a.preventDefault(),a.stopPropagation(),c.focusDropdownEntry(a.which))}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(a,b,c,d,e,f,g,h,i,j,k){var l,m,n=this,o=a.$new(),p=e.appendToOpenClass,q=e.openClass,r=angular.noop,s=c.onToggle?d(c.onToggle):angular.noop,t=!1,u=null,v=!1,w=i.find("body");b.addClass("dropdown"),this.init=function(){if(c.isOpen&&(m=d(c.isOpen),r=m.assign,a.$watch(m,function(a){o.isOpen=!!a})),angular.isDefined(c.dropdownAppendTo)){var e=d(c.dropdownAppendTo)(o);e&&(u=angular.element(e))}t=angular.isDefined(c.dropdownAppendToBody),v=angular.isDefined(c.keyboardNav),t&&!u&&(u=w),u&&n.dropdownMenu&&(u.append(n.dropdownMenu),b.on("$destroy",function(){n.dropdownMenu.remove()}))},this.toggle=function(a){return o.isOpen=arguments.length?!!a:!o.isOpen,angular.isFunction(r)&&r(o,o.isOpen),o.isOpen},this.isOpen=function(){return o.isOpen},o.getToggleElement=function(){return n.toggleElement},o.getAutoClose=function(){return c.autoClose||"always"},o.getElement=function(){return b},o.isKeynavEnabled=function(){return v},o.focusDropdownEntry=function(a){var c=n.dropdownMenu?angular.element(n.dropdownMenu).find("a"):b.find("ul").eq(0).find("a");switch(a){case 40:angular.isNumber(n.selectedOption)?n.selectedOption=n.selectedOption===c.length-1?n.selectedOption:n.selectedOption+1:n.selectedOption=0;break;case 38:angular.isNumber(n.selectedOption)?n.selectedOption=0===n.selectedOption?0:n.selectedOption-1:n.selectedOption=c.length-1}c[n.selectedOption].focus()},o.getDropdownElement=function(){return n.dropdownMenu},o.focusToggleElement=function(){n.toggleElement&&n.toggleElement[0].focus()},o.$watch("isOpen",function(c,d){if(u&&n.dropdownMenu){var e,i,m=h.positionElements(b,n.dropdownMenu,"bottom-left",!0);if(e={top:m.top+"px",display:c?"block":"none"},i=n.dropdownMenu.hasClass("dropdown-menu-right"),i?(e.left="auto",e.right=window.innerWidth-(m.left+b.prop("offsetWidth"))+"px"):(e.left=m.left+"px",e.right="auto"),!t){var v=h.offset(u);e.top=m.top-v.top+"px",i?e.right=window.innerWidth-(m.left-v.left+b.prop("offsetWidth"))+"px":e.left=m.left-v.left+"px"}n.dropdownMenu.css(e)}var w=u?u:b,x=w.hasClass(u?p:q);if(x===!c&&g[c?"addClass":"removeClass"](w,u?p:q).then(function(){angular.isDefined(c)&&c!==d&&s(a,{open:!!c})}),c)n.dropdownMenuTemplateUrl&&k(n.dropdownMenuTemplateUrl).then(function(a){l=o.$new(),j(a.trim())(l,function(a){var b=a;n.dropdownMenu.replaceWith(b),n.dropdownMenu=b})}),o.focusToggleElement(),f.open(o);else{if(n.dropdownMenuTemplateUrl){l&&l.$destroy();var y=angular.element('<ul class="dropdown-menu"></ul>');n.dropdownMenu.replaceWith(y),n.dropdownMenu=y}f.close(o),n.selectedOption=null}angular.isFunction(r)&&r(a,c)}),a.$on("$locationChangeSuccess",function(){"disabled"!==o.getAutoClose()&&(o.isOpen=!1)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(a,b,c,d){d.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(a,b,c,d){if(d&&!angular.isDefined(c.dropdownNested)){b.addClass("dropdown-menu");var e=c.templateUrl;e&&(d.dropdownMenuTemplateUrl=e),d.dropdownMenu||(d.dropdownMenu=b)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(a,b,c,d){if(d){b.addClass("dropdown-toggle"),d.toggleElement=b;var e=function(e){e.preventDefault(),b.hasClass("disabled")||c.disabled||a.$apply(function(){d.toggle()})};b.bind("click",e),b.attr({"aria-haspopup":!0,"aria-expanded":!1}),a.$watch(d.isOpen,function(a){b.attr("aria-expanded",!!a)}),a.$on("$destroy",function(){b.unbind("click",e)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b===a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b===a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.stackedMap"]).factory("$$multiMap",function(){return{createNew:function(){var a={};return{entries:function(){return Object.keys(a).map(function(b){return{key:b,value:a[b]}})},get:function(b){return a[b]},hasKey:function(b){return!!a[b]},keys:function(){return Object.keys(a)},put:function(b,c){a[b]||(a[b]=[]),a[b].push(c)},remove:function(b,c){var d=a[b];if(d){var e=d.indexOf(c);-1!==e&&d.splice(e,1),d.length||delete a[b]}}}}}}).provider("$uibResolve",function(){var a=this;this.resolver=null,this.setResolver=function(a){this.resolver=a},this.$get=["$injector","$q",function(b,c){var d=a.resolver?b.get(a.resolver):null;return{resolve:function(a,e,f,g){if(d)return d.resolve(a,e,f,g);var h=[];return angular.forEach(a,function(a){angular.isFunction(a)||angular.isArray(a)?h.push(c.resolve(b.invoke(a))):angular.isString(a)?h.push(c.resolve(b.get(a))):h.push(c.resolve(a))}),c.all(h).then(function(b){var c={},d=0;return angular.forEach(a,function(a,e){c[e]=b[d++]}),c})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(a,b,c){function d(b,d,e){e.modalInClass&&(a.addClass(d,e.modalInClass),b.$on(c.NOW_CLOSING_EVENT,function(c,f){var g=f();b.modalOptions.animation?a.removeClass(d,e.modalInClass).then(g):g()}))}return{replace:!0,templateUrl:"uib/template/modal/backdrop.html",compile:function(a,b){return a.addClass(b.backdropClass),d}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(a,b,c,d){return{scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/modal/window.html"},link:function(e,f,g){f.addClass(g.windowClass||""),f.addClass(g.windowTopClass||""),e.size=g.size,e.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!==c.value.backdrop&&b.target===b.currentTarget&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))},f.on("click",e.close),e.$isRendered=!0;var h=b.defer();g.$observe("modalRender",function(a){"true"===a&&h.resolve()}),h.promise.then(function(){var h=null;g.modalInClass&&(h=c(f,{addClass:g.modalInClass}).start(),e.$on(a.NOW_CLOSING_EVENT,function(a,b){var d=b();c(f,{removeClass:g.modalInClass}).start().then(d)})),b.when(h).then(function(){var b=a.getTop();if(b&&a.modalRendered(b.key),!d[0].activeElement||!f[0].contains(d[0].activeElement)){var c=f[0].querySelector("[autofocus]");c?c.focus():f[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(a,b){b.modalAnimation&&a.addClass(b.uibModalAnimationClass)}}}).directive("uibModalTransclude",function(){return{link:function(a,b,c,d,e){e(a.$parent,function(a){b.empty(),b.append(a)})}}}).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap",function(a,b,c,d,e,f,g,h){function i(){for(var a=-1,b=t.keys(),c=0;c<b.length;c++)t.get(b[c]).value.backdrop&&(a=c);return a}function j(a,b){var c=t.get(a).value,d=c.appendTo;t.remove(a),m(c.modalDomEl,c.modalScope,function(){var b=c.openedClass||s;u.remove(b,a),d.toggleClass(b,u.hasKey(b)),k(!0)},c.closedDeferred),l(),b&&b.focus?b.focus():d.focus&&d.focus()}function k(a){var b;t.length()>0&&(b=t.top().value,b.modalDomEl.toggleClass(b.windowTopClass||"",a))}function l(){if(p&&-1===i()){var a=q;m(p,q,function(){a=null}),p=void 0,q=void 0}}function m(b,c,d,e){function g(){g.done||(g.done=!0,a.leave(b).then(function(){b.remove(),e&&e.resolve()}),c.$destroy(),d&&d())}var h,i=null,j=function(){return h||(h=f.defer(),i=h.promise),function(){h.resolve()}};return c.$broadcast(v.NOW_CLOSING_EVENT,j),f.when(i).then(g)}function n(a){if(a.isDefaultPrevented())return a;var b=t.top();if(b)switch(a.which){case 27:b.value.keyboard&&(a.preventDefault(),e.$apply(function(){v.dismiss(b.key,"escape key press")}));break;case 9:v.loadFocusElementList(b);var c=!1;a.shiftKey?(v.isFocusInFirstItem(a)||v.isModalFocused(a,b))&&(c=v.focusLastFocusableElement()):v.isFocusInLastItem(a)&&(c=v.focusFirstFocusableElement()),c&&(a.preventDefault(),a.stopPropagation())}}function o(a,b,c){return!a.value.modalScope.$broadcast("modal.closing",b,c).defaultPrevented}var p,q,r,s="modal-open",t=h.createNew(),u=g.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"},w=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return e.$watch(i,function(a){q&&(q.index=a)}),c.on("keydown",n),e.$on("$destroy",function(){c.off("keydown",n)}),v.open=function(b,f){var g=c[0].activeElement,h=f.openedClass||s;k(!1),t.add(b,{deferred:f.deferred,renderDeferred:f.renderDeferred,closedDeferred:f.closedDeferred,modalScope:f.scope,backdrop:f.backdrop,keyboard:f.keyboard,openedClass:f.openedClass,windowTopClass:f.windowTopClass,animation:f.animation,appendTo:f.appendTo}),u.put(h,b);var j=f.appendTo,l=i();if(!j.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");l>=0&&!p&&(q=e.$new(!0),q.modalOptions=f,q.index=l,p=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),p.attr("backdrop-class",f.backdropClass),f.animation&&p.attr("modal-animation","true"),d(p)(q),a.enter(p,j));var m=angular.element('<div uib-modal-window="modal-window"></div>');m.attr({"template-url":f.windowTemplateUrl,"window-class":f.windowClass,"window-top-class":f.windowTopClass,size:f.size,index:t.length()-1,animate:"animate"}).html(f.content),f.animation&&m.attr("modal-animation","true"),a.enter(d(m)(f.scope),j).then(function(){f.scope.$$uibDestructionScheduled||a.addClass(j,h)}),t.top().value.modalDomEl=m,t.top().value.modalOpener=g,v.clearFocusListCache()},v.close=function(a,b){var c=t.get(a);return c&&o(c,b,!0)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.resolve(b),j(a,c.value.modalOpener),!0):!c},v.dismiss=function(a,b){var c=t.get(a);return c&&o(c,b,!1)?(c.value.modalScope.$$uibDestructionScheduled=!0,c.value.deferred.reject(b),j(a,c.value.modalOpener),!0):!c},v.dismissAll=function(a){for(var b=this.getTop();b&&this.dismiss(b.key,a);)b=this.getTop()},v.getTop=function(){return t.top()},v.modalRendered=function(a){var b=t.get(a);b&&b.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return r.length>0?(r[0].focus(),!0):!1},v.focusLastFocusableElement=function(){return r.length>0?(r[r.length-1].focus(),!0):!1},v.isModalFocused=function(a,b){if(a&&b){var c=b.value.modalDomEl;if(c&&c.length)return(a.target||a.srcElement)===c[0]}return!1},v.isFocusInFirstItem=function(a){return r.length>0?(a.target||a.srcElement)===r[0]:!1},v.isFocusInLastItem=function(a){return r.length>0?(a.target||a.srcElement)===r[r.length-1]:!1},v.clearFocusListCache=function(){r=[],w=0},v.loadFocusElementList=function(a){if((void 0===r||!r.length)&&a){var b=a.value.modalDomEl;b&&b.length&&(r=b[0].querySelectorAll(x))}},v}]).provider("$uibModal",function(){var a={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?c.when(a.template):e(angular.isFunction(a.templateUrl)?a.templateUrl():a.templateUrl)}var j={},k=null;return j.getPromiseChain=function(){return k},j.open=function(e){function j(){return r}var l=c.defer(),m=c.defer(),n=c.defer(),o=c.defer(),p={result:l.promise,opened:m.promise,closed:n.promise,rendered:o.promise,close:function(a){return h.close(p,a)},dismiss:function(a){return h.dismiss(p,a)}};if(e=angular.extend({},a.options,e),e.resolve=e.resolve||{},e.appendTo=e.appendTo||d.find("body").eq(0),!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var q,r=c.all([i(e),g.resolve(e.resolve,{},null,null)]);return q=k=c.all([k]).then(j,j).then(function(a){var c=e.scope||b,d=c.$new();d.$close=p.close,d.$dismiss=p.dismiss,d.$on("$destroy",function(){d.$$uibDestructionScheduled||d.$dismiss("$uibUnscheduledDestruction")});var g,i,j={};e.controller&&(j.$scope=d,j.$uibModalInstance=p,angular.forEach(a[1],function(a,b){j[b]=a}),i=f(e.controller,j,!0),e.controllerAs?(g=i.instance,e.bindToController&&(g.$close=d.$close,g.$dismiss=d.$dismiss,angular.extend(g,c)),g=i(),d[e.controllerAs]=g):g=i(),angular.isFunction(g.$onInit)&&g.$onInit()),h.open(p,{scope:d,deferred:l,renderDeferred:o,closedDeferred:n,content:a[0],animation:e.animation,backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowTopClass:e.windowTopClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size,openedClass:e.openedClass,appendTo:e.appendTo}),m.resolve(!0)},function(a){m.reject(a),l.reject(a)})["finally"](function(){k===q&&(k=null)}),p},j}]};return a}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(a){return{create:function(b,c,d){b.setNumPages=d.numPages?a(d.numPages).assign:angular.noop,b.ngModelCtrl={$setViewValue:angular.noop},b._watchers=[],b.init=function(a,e){b.ngModelCtrl=a,b.config=e,a.$render=function(){b.render()},d.itemsPerPage?b._watchers.push(c.$parent.$watch(d.itemsPerPage,function(a){b.itemsPerPage=parseInt(a,10),c.totalPages=b.calculateTotalPages(),b.updatePage()})):b.itemsPerPage=e.itemsPerPage,c.$watch("totalItems",function(a,d){(angular.isDefined(a)||a!==d)&&(c.totalPages=b.calculateTotalPages(),b.updatePage())})},b.calculateTotalPages=function(){var a=b.itemsPerPage<1?1:Math.ceil(c.totalItems/b.itemsPerPage);return Math.max(a||0,1)},b.render=function(){c.page=parseInt(b.ngModelCtrl.$viewValue,10)||1},c.selectPage=function(a,d){d&&d.preventDefault();var e=!c.ngDisabled||!d;e&&c.page!==a&&a>0&&a<=c.totalPages&&(d&&d.target&&d.target.blur(),b.ngModelCtrl.$setViewValue(a),b.ngModelCtrl.$render())},c.getText=function(a){return c[a+"Text"]||b.config[a+"Text"]},c.noPrevious=function(){return 1===c.page},c.noNext=function(){return c.page===c.totalPages},b.updatePage=function(){b.setNumPages(c.$parent,c.totalPages),c.page>c.totalPages?c.selectPage(c.totalPages):b.ngModelCtrl.$render()},c.$on("$destroy",function(){for(;b._watchers.length;)b._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(a,b,c,d){a.align=angular.isDefined(b.align)?a.$parent.$eval(b.align):d.align,c.create(this,a,b)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(a){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],controller:"UibPagerController",controllerAs:"pager",templateUrl:function(a,b){return b.templateUrl||"uib/template/pager/pager.html"},replace:!0,link:function(b,c,d,e){var f=e[0],g=e[1];g&&f.init(g,a)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(a,b,c,d,e){function f(a,b,c){return{number:a,text:b,active:c}}function g(a,b){var c=[],d=1,e=b,g=angular.isDefined(i)&&b>i;g&&(j?(d=Math.max(a-Math.floor(i/2),1),e=d+i-1,e>b&&(e=b,d=e-i+1)):(d=(Math.ceil(a/i)-1)*i+1,e=Math.min(d+i-1,b)));for(var h=d;e>=h;h++){var n=f(h,m(h),h===a);c.push(n)}if(g&&i>0&&(!j||k||l)){if(d>1){if(!l||d>3){var o=f(d-1,"...",!1);c.unshift(o)}if(l){if(3===d){var p=f(2,"2",!1);c.unshift(p)}var q=f(1,"1",!1);c.unshift(q)}}if(b>e){if(!l||b-2>e){var r=f(e+1,"...",!1);c.push(r)}if(l){if(e===b-2){var s=f(b-1,b-1,!1);c.push(s)}var t=f(b,b,!1);c.push(t)}}}return c}var h=this,i=angular.isDefined(b.maxSize)?a.$parent.$eval(b.maxSize):e.maxSize,j=angular.isDefined(b.rotate)?a.$parent.$eval(b.rotate):e.rotate,k=angular.isDefined(b.forceEllipses)?a.$parent.$eval(b.forceEllipses):e.forceEllipses,l=angular.isDefined(b.boundaryLinkNumbers)?a.$parent.$eval(b.boundaryLinkNumbers):e.boundaryLinkNumbers,m=angular.isDefined(b.pageLabel)?function(c){return a.$parent.$eval(b.pageLabel,{$page:c})}:angular.identity;a.boundaryLinks=angular.isDefined(b.boundaryLinks)?a.$parent.$eval(b.boundaryLinks):e.boundaryLinks,a.directionLinks=angular.isDefined(b.directionLinks)?a.$parent.$eval(b.directionLinks):e.directionLinks,d.create(this,a,b),b.maxSize&&h._watchers.push(a.$parent.$watch(c(b.maxSize),function(a){i=parseInt(a,10),h.render()}));var n=this.render;this.render=function(){n(),a.page>0&&a.page<=a.totalPages&&(a.pages=g(a.page,a.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(a,b){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(a,b){return b.templateUrl||"uib/template/pagination/pagination.html"},replace:!0,link:function(a,c,d,e){var f=e[0],g=e[1];g&&f.init(g,b)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},c={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(e,f,g,h,i,j,k,l,m){function n(a){if(27===a.which){var b=o.top();b&&(b.value.close(),o.removeTop(),b=null)}}var o=m.createNew();return h.on("keypress",n),k.$on("$destroy",function(){h.off("keypress",n)}),function(e,k,m,n){function p(a){var b=(a||n.trigger||m).split(" "),d=b.map(function(a){return c[a]||a});return{show:b,hide:d}}n=angular.extend({},b,d,n);var q=a(e),r=j.startSymbol(),s=j.endSymbol(),t="<div "+q+'-popup title="'+r+"title"+s+'" '+(n.useContentExp?'content-exp="contentExp()" ':'content="'+r+"content"+s+'" ')+'placement="'+r+"placement"+s+'" popup-class="'+r+"popupClass"+s+'" animation="animation" is-open="isOpen"origin-scope="origScope" class="uib-position-measure"></div>';return{compile:function(a,b){var c=f(t);return function(a,b,d,f){function j(){N.isOpen?q():m()}function m(){(!M||a.$eval(d[k+"Enable"]))&&(u(),x(),N.popupDelay?G||(G=g(r,N.popupDelay,!1)):r())}function q(){s(),N.popupCloseDelay?H||(H=g(t,N.popupCloseDelay,!1)):t()}function r(){return s(),u(),N.content?(v(),void N.$evalAsync(function(){N.isOpen=!0,y(!0),S()})):angular.noop}function s(){G&&(g.cancel(G),G=null),I&&(g.cancel(I),I=null)}function t(){N&&N.$evalAsync(function(){N&&(N.isOpen=!1,y(!1),N.animation?F||(F=g(w,150,!1)):w())})}function u(){H&&(g.cancel(H),H=null),F&&(g.cancel(F),F=null)}function v(){D||(E=N.$new(),D=c(E,function(a){K?h.find("body").append(a):b.after(a)}),z())}function w(){s(),u(),A(),D&&(D.remove(),D=null),E&&(E.$destroy(),E=null)}function x(){N.title=d[k+"Title"],Q?N.content=Q(a):N.content=d[e],N.popupClass=d[k+"Class"],N.placement=angular.isDefined(d[k+"Placement"])?d[k+"Placement"]:n.placement;var b=i.parsePlacement(N.placement);J=b[1]?b[0]+"-"+b[1]:b[0];var c=parseInt(d[k+"PopupDelay"],10),f=parseInt(d[k+"PopupCloseDelay"],10);N.popupDelay=isNaN(c)?n.popupDelay:c,N.popupCloseDelay=isNaN(f)?n.popupCloseDelay:f}function y(b){P&&angular.isFunction(P.assign)&&P.assign(a,b)}function z(){R.length=0,Q?(R.push(a.$watch(Q,function(a){N.content=a,!a&&N.isOpen&&t()})),R.push(E.$watch(function(){O||(O=!0,E.$$postDigest(function(){O=!1,N&&N.isOpen&&S()}))}))):R.push(d.$observe(e,function(a){N.content=a,!a&&N.isOpen?t():S()})),R.push(d.$observe(k+"Title",function(a){N.title=a,N.isOpen&&S()})),R.push(d.$observe(k+"Placement",function(a){N.placement=a?a:n.placement;var b=i.parsePlacement(N.placement);J=b[1]?b[0]+"-"+b[1]:b[0],N.isOpen&&S()}))}function A(){R.length&&(angular.forEach(R,function(a){a()}),R.length=0)}function B(a){N&&N.isOpen&&D&&(b[0].contains(a.target)||D[0].contains(a.target)||q())}function C(){var a=d[k+"Trigger"];T(),L=p(a),"none"!==L.show&&L.show.forEach(function(a,c){"outsideClick"===a?(b.on("click",j),h.on("click",B)):a===L.hide[c]?b.on(a,j):a&&(b.on(a,m),b.on(L.hide[c],q)),b.on("keypress",function(a){27===a.which&&q()})})}var D,E,F,G,H,I,J,K=angular.isDefined(n.appendToBody)?n.appendToBody:!1,L=p(void 0),M=angular.isDefined(d[k+"Enable"]),N=a.$new(!0),O=!1,P=angular.isDefined(d[k+"IsOpen"])?l(d[k+"IsOpen"]):!1,Q=n.useContentExp?l(d[e]):!1,R=[],S=function(){D&&D.html()&&(I||(I=g(function(){var a=i.positionElements(b,D,N.placement,K);D.css({top:a.top+"px",left:a.left+"px"}),D.hasClass(a.placement.split("-")[0])||(D.removeClass(J.split("-")[0]),D.addClass(a.placement.split("-")[0])),D.hasClass(n.placementClassPrefix+a.placement)||(D.removeClass(n.placementClassPrefix+J),D.addClass(n.placementClassPrefix+a.placement)),D.hasClass("uib-position-measure")?(i.positionArrow(D,a.placement),D.removeClass("uib-position-measure")):J!==a.placement&&i.positionArrow(D,a.placement),J=a.placement,I=null},0,!1)))};N.origScope=a,N.isOpen=!1,o.add(N,{close:t}),N.contentExp=function(){return N.content},d.$observe("disabled",function(a){a&&s(),a&&N.isOpen&&t()}),P&&a.$watch(P,function(a){N&&!a===N.isOpen&&j()});var T=function(){L.show.forEach(function(a){"outsideClick"===a?b.off("click",j):(b.off(a,m),b.off(a,j))}),L.hide.forEach(function(a){"outsideClick"===a?h.off("click",B):b.off(a,q)})};C();var U=a.$eval(d[k+"Animation"]);N.animation=angular.isDefined(U)?!!U:n.animation;var V,W=k+"AppendToBody";V=W in d&&void 0===d[W]?!0:a.$eval(d[W]),K=angular.isDefined(V)?V:K,a.$on("$destroy",function(){T(),w(),o.remove(N),N=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(a,b,c,d){return{link:function(e,f,g){var h,i,j,k=e.$eval(g.tooltipTemplateTranscludeScope),l=0,m=function(){i&&(i.remove(),i=null),h&&(h.$destroy(),h=null),j&&(a.leave(j).then(function(){i=null}),i=j,j=null)};e.$watch(b.parseAsResourceUrl(g.uibTooltipTemplateTransclude),function(b){var g=++l;b?(d(b,!0).then(function(d){if(g===l){var e=k.$new(),i=d,n=c(i)(e,function(b){m(),a.enter(b,f)});h=e,j=n,h.$emit("$includeContentLoaded",b)}},function(){g===l&&(m(),e.$emit("$includeContentError",b))}),e.$emit("$includeContentRequested",b)):m()}),e.$on("$destroy",m)}}}]).directive("uibTooltipClasses",["$uibPosition",function(a){return{restrict:"A",link:function(b,c,d){if(b.placement){var e=a.parsePlacement(b.placement);c.addClass(e[0])}b.popupClass&&c.addClass(b.popupClass),b.animation()&&c.addClass(d.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(a){return a("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(a){return a("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(a){return a("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(a){return a("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(a){return a("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(a){return a("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(a,b,c){function d(){return angular.isDefined(a.maxParam)?a.maxParam:c.max}var e=this,f=angular.isDefined(b.animate)?a.$parent.$eval(b.animate):c.animate;this.bars=[],a.max=d(),this.addBar=function(a,b,c){f||b.css({transition:"none"}),this.bars.push(a),a.max=d(),a.title=c&&angular.isDefined(c.title)?c.title:"progressbar",a.$watch("value",function(b){a.recalculatePercentage()}),a.recalculatePercentage=function(){var b=e.bars.reduce(function(a,b){return b.percent=+(100*b.value/b.max).toFixed(2),a+b.percent},0);b>100&&(a.percent-=b-100)},a.$on("$destroy",function(){b=null,e.removeBar(a)})},this.removeBar=function(a){this.bars.splice(this.bars.indexOf(a),1),this.bars.forEach(function(a){a.recalculatePercentage()})},a.$watch("maxParam",function(a){e.bars.forEach(function(a){
a.max=d(),a.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(a,b,c,d){d.addBar(a,b,c)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(a,b,c,d){d.addBar(a,angular.element(b.children()[0]),{title:c.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(a,b,c){var d={$setViewValue:angular.noop},e=this;this.init=function(e){d=e,d.$render=this.render,d.$formatters.push(function(a){return angular.isNumber(a)&&a<<0!==a&&(a=Math.round(a)),a}),this.stateOn=angular.isDefined(b.stateOn)?a.$parent.$eval(b.stateOn):c.stateOn,this.stateOff=angular.isDefined(b.stateOff)?a.$parent.$eval(b.stateOff):c.stateOff;var f=angular.isDefined(b.titles)?a.$parent.$eval(b.titles):c.titles;this.titles=angular.isArray(f)&&f.length>0?f:c.titles;var g=angular.isDefined(b.ratingStates)?a.$parent.$eval(b.ratingStates):new Array(angular.isDefined(b.max)?a.$parent.$eval(b.max):c.max);a.range=this.buildTemplateObjects(g)},this.buildTemplateObjects=function(a){for(var b=0,c=a.length;c>b;b++)a[b]=angular.extend({index:b},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(b)},a[b]);return a},this.getTitle=function(a){return a>=this.titles.length?a+1:this.titles[a]},a.rate=function(b){!a.readonly&&b>=0&&b<=a.range.length&&(d.$setViewValue(d.$viewValue===b?0:b),d.$render())},a.enter=function(b){a.readonly||(a.value=b),a.onHover({value:b})},a.reset=function(){a.value=d.$viewValue,a.onLeave()},a.onKeydown=function(b){/(37|38|39|40)/.test(b.which)&&(b.preventDefault(),b.stopPropagation(),a.rate(a.value+(38===b.which||39===b.which?1:-1)))},this.render=function(){a.value=d.$viewValue,a.title=e.getTitle(a.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",replace:!0,link:function(a,b,c,d){var e=d[0],f=d[1];e.init(f)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(a){function b(a){for(var b=0;b<d.tabs.length;b++)if(d.tabs[b].index===a)return b}var c,d=this;d.tabs=[],d.select=function(a){if(!e){var f=b(c),g=d.tabs[f];g&&(g.tab.onDeselect(),g.tab.active=!1);var h=d.tabs[a];h?(h.tab.onSelect(),h.tab.active=!0,d.active=h.index,c=h.index):!h&&angular.isNumber(c)&&(d.active=null,c=null)}},d.addTab=function(a){if(d.tabs.push({tab:a,index:a.index}),d.tabs.sort(function(a,b){return a.index>b.index?1:a.index<b.index?-1:0}),a.index===d.active||!angular.isNumber(d.active)&&1===d.tabs.length){var c=b(a.index);d.select(c)}},d.removeTab=function(a){var c=b(a.index);if(a.index===d.active){var e=c===d.tabs.length-1?c-1:c+1%d.tabs.length;d.select(e)}d.tabs.splice(c,1)},a.$watch("tabset.active",function(a){angular.isNumber(a)&&a!==c&&d.select(b(a))});var e;a.$on("$destroy",function(){e=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tabset.html"},link:function(a,b,c){a.vertical=angular.isDefined(c.vertical)?a.$parent.$eval(c.vertical):!1,a.justified=angular.isDefined(c.justified)?a.$parent.$eval(c.justified):!1,angular.isUndefined(c.active)&&(a.active=0)}}}).directive("uibTab",["$parse",function(a){return{require:"^uibTabset",replace:!0,templateUrl:function(a,b){return b.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(b,c,d,e,f){b.disabled=!1,d.disable&&b.$parent.$watch(a(d.disable),function(a){b.disabled=!!a}),angular.isUndefined(d.index)&&(e.tabs&&e.tabs.length?b.index=Math.max.apply(null,e.tabs.map(function(a){return a.index}))+1:b.index=0),angular.isUndefined(d.classes)&&(b.classes=""),b.select=function(){if(!b.disabled){for(var a,c=0;c<e.tabs.length;c++)if(e.tabs[c].tab===b){a=c;break}e.select(a)}},e.addTab(b),b.$on("$destroy",function(){e.removeTab(b)}),b.$transcludeFn=f}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(a,b){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}).directive("uibTabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("uib-tab-heading")||a.hasAttribute("data-uib-tab-heading")||a.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===a.tagName.toLowerCase()||"data-uib-tab-heading"===a.tagName.toLowerCase()||"x-uib-tab-heading"===a.tagName.toLowerCase()||"uib:tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(b,c,d){var e=b.$eval(d.uibTabContentTransclude).tab;e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(a,b,c,d,e,f,g){function h(){var b=+a.hours,c=a.showMeridian?b>0&&13>b:b>=0&&24>b;return c?(a.showMeridian&&(12===b&&(b=0),a.meridian===u[1]&&(b+=12)),b):void 0}function i(){var b=+a.minutes;return b>=0&&60>b?b:void 0}function j(){var b=+a.seconds;return b>=0&&60>b?b:void 0}function k(a){return null===a?"":angular.isDefined(a)&&a.toString().length<2?"0"+a:a.toString()}function l(a){m(),t.$setViewValue(new Date(r)),n(a)}function m(){t.$setValidity("time",!0),a.invalidHours=!1,a.invalidMinutes=!1,a.invalidSeconds=!1}function n(b){if(t.$modelValue){var c=r.getHours(),d=r.getMinutes(),e=r.getSeconds();a.showMeridian&&(c=0===c||12===c?12:c%12),a.hours="h"===b?c:k(c),"m"!==b&&(a.minutes=k(d)),a.meridian=r.getHours()<12?u[0]:u[1],"s"!==b&&(a.seconds=k(e)),a.meridian=r.getHours()<12?u[0]:u[1]}else a.hours=null,a.minutes=null,a.seconds=null,a.meridian=u[0]}function o(a){r=q(r,a),l()}function p(a,b){return q(a,60*b)}function q(a,b){var c=new Date(a.getTime()+1e3*b),d=new Date(a);return d.setHours(c.getHours(),c.getMinutes(),c.getSeconds()),d}var r=new Date,s=[],t={$setViewValue:angular.noop},u=angular.isDefined(c.meridians)?a.$parent.$eval(c.meridians):g.meridians||f.DATETIME_FORMATS.AMPMS;a.tabindex=angular.isDefined(c.tabindex)?c.tabindex:0,b.removeAttr("tabindex"),this.init=function(b,d){t=b,t.$render=this.render,t.$formatters.unshift(function(a){return a?new Date(a):null});var e=d.eq(0),f=d.eq(1),h=d.eq(2),i=angular.isDefined(c.mousewheel)?a.$parent.$eval(c.mousewheel):g.mousewheel;i&&this.setupMousewheelEvents(e,f,h);var j=angular.isDefined(c.arrowkeys)?a.$parent.$eval(c.arrowkeys):g.arrowkeys;j&&this.setupArrowkeyEvents(e,f,h),a.readonlyInput=angular.isDefined(c.readonlyInput)?a.$parent.$eval(c.readonlyInput):g.readonlyInput,this.setupInputEvents(e,f,h)};var v=g.hourStep;c.hourStep&&s.push(a.$parent.$watch(d(c.hourStep),function(a){v=+a}));var w=g.minuteStep;c.minuteStep&&s.push(a.$parent.$watch(d(c.minuteStep),function(a){w=+a}));var x;s.push(a.$parent.$watch(d(c.min),function(a){var b=new Date(a);x=isNaN(b)?void 0:b}));var y;s.push(a.$parent.$watch(d(c.max),function(a){var b=new Date(a);y=isNaN(b)?void 0:b}));var z=!1;c.ngDisabled&&s.push(a.$parent.$watch(d(c.ngDisabled),function(a){z=a})),a.noIncrementHours=function(){var a=p(r,60*v);return z||a>y||r>a&&x>a},a.noDecrementHours=function(){var a=p(r,60*-v);return z||x>a||a>r&&a>y},a.noIncrementMinutes=function(){var a=p(r,w);return z||a>y||r>a&&x>a},a.noDecrementMinutes=function(){var a=p(r,-w);return z||x>a||a>r&&a>y},a.noIncrementSeconds=function(){var a=q(r,A);return z||a>y||r>a&&x>a},a.noDecrementSeconds=function(){var a=q(r,-A);return z||x>a||a>r&&a>y},a.noToggleMeridian=function(){return r.getHours()<12?z||p(r,720)>y:z||p(r,-720)<x};var A=g.secondStep;c.secondStep&&s.push(a.$parent.$watch(d(c.secondStep),function(a){A=+a})),a.showSeconds=g.showSeconds,c.showSeconds&&s.push(a.$parent.$watch(d(c.showSeconds),function(b){a.showSeconds=!!b})),a.showMeridian=g.showMeridian,c.showMeridian&&s.push(a.$parent.$watch(d(c.showMeridian),function(b){if(a.showMeridian=!!b,t.$error.time){var c=h(),d=i();angular.isDefined(c)&&angular.isDefined(d)&&(r.setHours(c),l())}else n()})),this.setupMousewheelEvents=function(b,c,d){var e=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};b.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementHours():a.decrementHours()),b.preventDefault()}),c.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementMinutes():a.decrementMinutes()),b.preventDefault()}),d.bind("mousewheel wheel",function(b){z||a.$apply(e(b)?a.incrementSeconds():a.decrementSeconds()),b.preventDefault()})},this.setupArrowkeyEvents=function(b,c,d){b.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementHours(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementHours(),a.$apply()))}),c.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementMinutes(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementMinutes(),a.$apply()))}),d.bind("keydown",function(b){z||(38===b.which?(b.preventDefault(),a.incrementSeconds(),a.$apply()):40===b.which&&(b.preventDefault(),a.decrementSeconds(),a.$apply()))})},this.setupInputEvents=function(b,c,d){if(a.readonlyInput)return a.updateHours=angular.noop,a.updateMinutes=angular.noop,void(a.updateSeconds=angular.noop);var e=function(b,c,d){t.$setViewValue(null),t.$setValidity("time",!1),angular.isDefined(b)&&(a.invalidHours=b),angular.isDefined(c)&&(a.invalidMinutes=c),angular.isDefined(d)&&(a.invalidSeconds=d)};a.updateHours=function(){var a=h(),b=i();t.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(r.setHours(a),r.setMinutes(b),x>r||r>y?e(!0):l("h")):e(!0)},b.bind("blur",function(b){t.$setTouched(),null===a.hours||""===a.hours?e(!0):!a.invalidHours&&a.hours<10&&a.$apply(function(){a.hours=k(a.hours)})}),a.updateMinutes=function(){var a=i(),b=h();t.$setDirty(),angular.isDefined(a)&&angular.isDefined(b)?(r.setHours(b),r.setMinutes(a),x>r||r>y?e(void 0,!0):l("m")):e(void 0,!0)},c.bind("blur",function(b){t.$setTouched(),null===a.minutes?e(void 0,!0):!a.invalidMinutes&&a.minutes<10&&a.$apply(function(){a.minutes=k(a.minutes)})}),a.updateSeconds=function(){var a=j();t.$setDirty(),angular.isDefined(a)?(r.setSeconds(a),l("s")):e(void 0,void 0,!0)},d.bind("blur",function(b){!a.invalidSeconds&&a.seconds<10&&a.$apply(function(){a.seconds=k(a.seconds)})})},this.render=function(){var b=t.$viewValue;isNaN(b)?(t.$setValidity("time",!1),e.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(b&&(r=b),x>r||r>y?(t.$setValidity("time",!1),a.invalidHours=!0,a.invalidMinutes=!0):m(),n())},a.showSpinners=angular.isDefined(c.showSpinners)?a.$parent.$eval(c.showSpinners):g.showSpinners,a.incrementHours=function(){a.noIncrementHours()||o(60*v*60)},a.decrementHours=function(){a.noDecrementHours()||o(60*-v*60)},a.incrementMinutes=function(){a.noIncrementMinutes()||o(60*w)},a.decrementMinutes=function(){a.noDecrementMinutes()||o(60*-w)},a.incrementSeconds=function(){a.noIncrementSeconds()||o(A)},a.decrementSeconds=function(){a.noDecrementSeconds()||o(-A)},a.toggleMeridian=function(){var b=i(),c=h();a.noToggleMeridian()||(angular.isDefined(b)&&angular.isDefined(c)?o(720*(r.getHours()<12?60:-60)):a.meridian=a.meridian===u[0]?u[1]:u[0])},a.blur=function(){t.$setTouched()},a.$on("$destroy",function(){for(;s.length;)s.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(a){return{require:["uibTimepicker","?^ngModel"],controller:"UibTimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(b,c){return c.templateUrl||a.templateUrl},link:function(a,b,c,d){var e=d[0],f=d[1];f&&e.init(f,b.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(a){var b=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+c+'".');return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(a,b,c,d,e,f,g,h,i,j,k,l,m){function n(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),Y()}function o(){N.position=D?l.offset(b):l.position(b),N.position.top+=b.prop("offsetHeight")}var p,q,r=[9,13,27,38,40],s=200,t=a.$eval(c.typeaheadMinLength);t||0===t||(t=1),a.$watch(c.typeaheadMinLength,function(a){t=a||0===a?a:1});var u=a.$eval(c.typeaheadWaitMs)||0,v=a.$eval(c.typeaheadEditable)!==!1;a.$watch(c.typeaheadEditable,function(a){v=a!==!1});var w,x,y=e(c.typeaheadLoading).assign||angular.noop,z=e(c.typeaheadOnSelect),A=angular.isDefined(c.typeaheadSelectOnBlur)?a.$eval(c.typeaheadSelectOnBlur):!1,B=e(c.typeaheadNoResults).assign||angular.noop,C=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,D=c.typeaheadAppendToBody?a.$eval(c.typeaheadAppendToBody):!1,E=c.typeaheadAppendTo?a.$eval(c.typeaheadAppendTo):null,F=a.$eval(c.typeaheadFocusFirst)!==!1,G=c.typeaheadSelectOnExact?a.$eval(c.typeaheadSelectOnExact):!1,H=e(c.typeaheadIsOpen).assign||angular.noop,I=a.$eval(c.typeaheadShowHint)||!1,J=e(c.ngModel),K=e(c.ngModel+"($$$p)"),L=function(b,c){return angular.isFunction(J(a))&&q&&q.$options&&q.$options.getterSetter?K(b,{$$$p:c}):J.assign(b,c)},M=m.parse(c.uibTypeahead),N=a.$new(),O=a.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",O);var P="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());b.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":P});var Q,R;I&&(Q=angular.element("<div></div>"),Q.css("position","relative"),b.after(Q),R=b.clone(),R.attr("placeholder",""),R.attr("tabindex","-1"),R.val(""),R.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),b.css({position:"relative","vertical-align":"top","background-color":"transparent"}),Q.append(R),R.after(b));var S=angular.element("<div uib-typeahead-popup></div>");S.attr({id:P,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(c.typeaheadTemplateUrl)&&S.attr("template-url",c.typeaheadTemplateUrl),angular.isDefined(c.typeaheadPopupTemplateUrl)&&S.attr("popup-template-url",c.typeaheadPopupTemplateUrl);var T=function(){I&&R.val("")},U=function(){N.matches=[],N.activeIdx=-1,b.attr("aria-expanded",!1),T()},V=function(a){return P+"-option-"+a};N.$watch("activeIdx",function(a){0>a?b.removeAttr("aria-activedescendant"):b.attr("aria-activedescendant",V(a))});var W=function(a,b){return N.matches.length>b&&a?a.toUpperCase()===N.matches[b].label.toUpperCase():!1},X=function(c,d){var e={$viewValue:c};y(a,!0),B(a,!1),f.when(M.source(a,e)).then(function(f){var g=c===p.$viewValue;if(g&&w)if(f&&f.length>0){N.activeIdx=F?0:-1,B(a,!1),N.matches.length=0;for(var h=0;h<f.length;h++)e[M.itemName]=f[h],N.matches.push({id:V(h),label:M.viewMapper(N,e),model:f[h]});if(N.query=c,o(),b.attr("aria-expanded",!0),G&&1===N.matches.length&&W(c,0)&&(angular.isNumber(N.debounceUpdate)||angular.isObject(N.debounceUpdate)?k(function(){N.select(0,d)},angular.isNumber(N.debounceUpdate)?N.debounceUpdate:N.debounceUpdate["default"]):N.select(0,d)),I){var i=N.matches[0].label;angular.isString(c)&&c.length>0&&i.slice(0,c.length).toUpperCase()===c.toUpperCase()?R.val(c+i.slice(c.length)):R.val("")}}else U(),B(a,!0);g&&y(a,!1)},function(){U(),y(a,!1),B(a,!0)})};D&&(angular.element(i).on("resize",n),h.find("body").on("scroll",n));var Y=k(function(){N.matches.length&&o(),N.moveInProgress=!1},s);N.moveInProgress=!1,N.query=void 0;var Z,$=function(a){Z=g(function(){X(a)},u)},_=function(){Z&&g.cancel(Z)};U(),N.assignIsOpen=function(b){H(a,b)},N.select=function(d,e){var f,h,i={};x=!0,i[M.itemName]=h=N.matches[d].model,f=M.modelMapper(a,i),L(a,f),p.$setValidity("editable",!0),p.$setValidity("parse",!0),z(a,{$item:h,$model:f,$label:M.viewMapper(a,i),$event:e}),U(),N.$eval(c.typeaheadFocusOnSelect)!==!1&&g(function(){b[0].focus()},0,!1)},b.on("keydown",function(b){if(0!==N.matches.length&&-1!==r.indexOf(b.which)){if(-1===N.activeIdx&&(9===b.which||13===b.which)||9===b.which&&b.shiftKey)return U(),void N.$digest();b.preventDefault();var c;switch(b.which){case 9:case 13:N.$apply(function(){angular.isNumber(N.debounceUpdate)||angular.isObject(N.debounceUpdate)?k(function(){N.select(N.activeIdx,b)},angular.isNumber(N.debounceUpdate)?N.debounceUpdate:N.debounceUpdate["default"]):N.select(N.activeIdx,b)});break;case 27:b.stopPropagation(),U(),a.$digest();break;case 38:N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest(),c=S.find("li")[N.activeIdx],c.parentNode.scrollTop=c.offsetTop;break;case 40:N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest(),c=S.find("li")[N.activeIdx],c.parentNode.scrollTop=c.offsetTop}}}),b.bind("focus",function(a){w=!0,0!==t||p.$viewValue||g(function(){X(p.$viewValue,a)},0)}),b.bind("blur",function(a){A&&N.matches.length&&-1!==N.activeIdx&&!x&&(x=!0,N.$apply(function(){angular.isObject(N.debounceUpdate)&&angular.isNumber(N.debounceUpdate.blur)?k(function(){N.select(N.activeIdx,a)},N.debounceUpdate.blur):N.select(N.activeIdx,a)})),!v&&p.$error.editable&&(p.$viewValue="",b.val("")),w=!1,x=!1});var aa=function(c){b[0]!==c.target&&3!==c.which&&0!==N.matches.length&&(U(),j.$$phase||a.$digest())};h.on("click",aa),a.$on("$destroy",function(){h.off("click",aa),(D||E)&&ba.remove(),D&&(angular.element(i).off("resize",n),h.find("body").off("scroll",n)),S.remove(),I&&Q.remove()});var ba=d(S)(N);D?h.find("body").append(ba):E?angular.element(E).eq(0).append(ba):b.after(ba),this.init=function(b,c){p=b,q=c,N.debounceUpdate=p.$options&&e(p.$options.debounce)(a),p.$parsers.unshift(function(b){return w=!0,0===t||b&&b.length>=t?u>0?(_(),$(b)):X(b):(y(a,!1),_(),U()),v?b:b?void p.$setValidity("editable",!1):(p.$setValidity("editable",!0),null)}),p.$formatters.push(function(b){var c,d,e={};return v||p.$setValidity("editable",!0),C?(e.$model=b,C(a,e)):(e[M.itemName]=b,c=M.viewMapper(a,e),e[M.itemName]=void 0,d=M.viewMapper(a,e),c!==d?c:b)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","^?ngModelOptions","uibTypeahead"],link:function(a,b,c,d){d[2].init(d[0],d[1])}}}).directive("uibTypeaheadPopup",["$$debounce",function(a){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(a,b){return b.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(b,c,d){b.templateUrl=d.templateUrl,b.isOpen=function(){var a=b.matches.length>0;return b.assignIsOpen({isOpen:a}),a},b.isActive=function(a){return b.active===a},b.selectActive=function(a){b.active=a},b.selectMatch=function(c,d){var e=b.debounce();angular.isNumber(e)||angular.isObject(e)?a(function(){b.select({activeIdx:c,evt:d})},angular.isNumber(e)?e:e["default"]):b.select({activeIdx:c,evt:d})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(a,b,c){return{scope:{index:"=",match:"=",query:"="},link:function(d,e,f){var g=c(f.templateUrl)(d.$parent)||"uib/template/typeahead/typeahead-match.html";a(g).then(function(a){var c=angular.element(a.trim());e.replaceWith(c),b(c)(d)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(a,b,c){function d(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function e(a){return/<.*>/g.test(a)}var f;return f=b.has("$sanitize"),function(b,g){return!f&&e(b)&&c.warn("Unsafe use of typeahead please use ngSanitize"),b=g?(""+b).replace(new RegExp(d(g),"gi"),"<strong>$&</strong>"):b,f||(b=a.trustAsHtml(b)),b}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion-group.html",'<div class="panel" ng-class="panelClass || \'panel-default\'">\n  <div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading"><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n    <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(a){a.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(a){a.put("uib/template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n  <div class="carousel-inner" ng-transclude></div>\n  <a role="button" href class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n    <span class="sr-only">previous</span>\n  </a>\n  <a role="button" href class="right carousel-control" ng-click="next()" ng-show="slides.length > 1">\n    <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n    <span class="sr-only">next</span>\n  </a>\n  <ol class="carousel-indicators" ng-show="slides.length > 1">\n    <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n      <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n    </li>\n  </ol>\n</div>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(a){a.put("uib/template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/datepicker.html",'<div class="uib-datepicker" ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <uib-daypicker ng-switch-when="day" tabindex="0"></uib-daypicker>\n  <uib-monthpicker ng-switch-when="month" tabindex="0"></uib-monthpicker>\n  <uib-yearpicker ng-switch-when="year" tabindex="0"></uib-yearpicker>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/day.html",'<table class="uib-daypicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/month.html",'<table class="uib-monthpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(a){a.put("uib/template/datepicker/year.html",'<table class="uib-yearpicker" role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(a){a.put("uib/template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    uib-modal-animation-class="fade"\n    modal-in-class="in"\n    ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}">\n    <div class="modal-dialog {{size ? \'modal-\' + size : \'\'}}"><div class="modal-content" uib-modal-transclude></div></div>\n</div>\n')}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pager/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n');
}]),angular.module("uib/template/pagination/pager.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(a){a.put("uib/template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    uib-tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        uib-tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(a){a.put("uib/template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  uib-tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(a){a.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(a){a.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select()" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(a){a.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(a){a.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input style="width:50px;" type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="{{::tabindex}}"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(a){a.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),function(){"use strict";var a=angular.module("adaptive.detection",[]);a.provider("$detection",[function(){this.userAgent=navigator.userAgent,this.setUserAgent=function(a){this.userAgent=a},this.$get=function(){var a=this.userAgent;return{getUserAgent:function(){return a},isiOS:function(){return/(iPad|iPhone|iPod)/gi.test(a)},isAndroid:function(){return/(Android)/gi.test(a)},isWindowsPhone:function(){return/(IEMobile)/gi.test(a)},isBB10:function(){return/(BB10)/gi.test(a)}}}}])}();var isObject=angular.isObject,isFunction=angular.isFunction,isArray=angular.isArray,isString=angular.isString,forEach=angular.forEach,loadingClass="deferred-bootstrap-loading",errorClass="deferred-bootstrap-error",bodyElement,$q,deferredBootstrapper={bootstrap:bootstrap};"function"==typeof define&&define.amd?define([],deferredBootstrapper):"object"==typeof module&&module.exports?module.exports=deferredBootstrapper:window.deferredBootstrapper=deferredBootstrapper,function(){function a(a){return a.indexOf(".cn")>-1?!0:!1}function b(a){a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var b=new RegExp("[\\?&]"+a+"=([^&#]*)","i"),c=b.exec(location.search);return null===c?"":/token/i.test(a)?c[1]:decodeURIComponent(c[1].replace(/\+/g," "))}function c(){var a=location.protocol+"//"+location.host+"/MyAvaConfig.json?V=3";return m.get(a)}function d(){var a=b("LoginToken")||localStorage.getItem("ngStorage-token"),c=b("ignoreTokenExpiration");if(c&&sessionStorage.setItem("ngStorage-ignoreTokenExpiration",!0),void 0!=a)return m({method:"GET",url:window.webApidomain+"api/LoginValidation/CheckNewCrmTokenValidation_NewCrm",headers:{token:a.replace(/"/g,"")}});var d=n.defer();return d.resolve(null),d.promise}function e(){var a=b("LoginToken")||localStorage.getItem("ngStorage-token");if(void 0!=a)return m({method:"GET",url:window.webApidomain+"api/LossLimit/GetLossLimitData",headers:{token:a.replace(/"/g,"")}});var c=n.defer();return c.resolve(null),c.promise}function f(){var a=b("avapro");a&&sessionStorage.setItem("ngStorage-avapro","true");var c=b("regType"),d=b("LoginToken")||localStorage.getItem("ngStorage-token");d!=localStorage.getItem("ngStorage-token")&&localStorage.setItem("ngStorage-isLoggedIn","false");var e=b("ignoreTokenExpiration");e&&sessionStorage.setItem("ngStorage-ignoreTokenExpiration",!0);var f="true"===localStorage.getItem("ngStorage-isLoggedIn"),g=!1;if(k.AppType&&(k.AppType===k.AppTypeConst.AvaTrader||k.AppType===k.AppTypeConst.AvaTradeGo)&&(g=!0),!k.isFullReg(c)&&d||f)return m({url:window.webApidomain+"api/AccountInfo/GetMyAvaUserProfile_NewCrm",method:"GET",headers:{token:d.replace(/"/g,"")},transformResponse:appendTransform(m.defaults.transformResponse,function(a){return sessionStorage.setItem("ngStorage-isPartialUserProfile",!1),a})});var h=n.defer();return h.resolve(null),h.promise}function g(){return m.post(window.webApidomain+"api/Domain/GetDomainData_NewCrm",{hostName:location.host})}function h(){if(-1==window.location.href.indexOf("_password"))for(var a=document.getElementsByTagName("meta"),b=0;b<a.length;b++)"referrer"===a[b].getAttribute("name")&&(a[b].content="no-referrer-when-downgrade")}function i(){var a=b("theme")||(sessionStorage.getItem("ngStorage-Theme")?JSON.parse(sessionStorage.getItem("ngStorage-Theme")):null),c=a&&a.toLowerCase().charAt(0).toUpperCase()+a.toLowerCase().slice(1);if("iframe"==a){var d=document.getElementsByTagName("head")[0],e=document.createElement("link");e.rel="stylesheet",e.id="theme"+c,e.type="text/css",e.href="/app/myava/shared/style/theme"+c+".css",d.appendChild(e),sessionStorage.setItem("ngStorage-Theme",JSON.stringify("iframe"))}console.log(document.getElementById("MYBODY")),deferredBootstrapper.bootstrap({element:document,module:"app",resolve:{AB_Testing_Hash:["$http",function(a){if("true"==window.ABTestingFlag)return a.get(window.webApidomain+"api/Tracking/GetABTestingPixels_NewCrm?domain="+location.host);var b=n.defer();return b.resolve(null),b.promise}],whiteLabelData:["$http",function(a){var c=n.defer(),d=b(null==b("wl")?"WhiteLabelName":"wl");k.storageWhiteLabelData=JSON.parse(sessionStorage.getItem("ngStorage-whiteLabelData")),d||k.storageWhiteLabelData?k.storageWhiteLabelData&&(d=k.storageWhiteLabelData.Name):d=window.defaultWhiteLabelName?window.defaultWhiteLabelName:null;var e=!1;if(isWebTrader()){var f=b("lang")||"en",g=k.UserProfile&&k.UserProfile.LanguageCode?k.UserProfile.LanguageCode:"en";f!=g&&(e=!0)}return!storageWhiteLabelData||storageWhiteLabelData.Name!=d||e?(k.whiteLabelRequestData=k.setWhiteLabelRequestData(d),a.post(window.webApidomain+"api/WhiteLabel/GetWhiteLabelData_NewCrm",k.whiteLabelRequestData).then(function(a){k.resData=a.data,k.overrideWhiteLabelStyles(k.resData.WhiteLabelDataExtension.customStyles),k.resData.SiteUrl=k.convertSiteUrlVipToAvaTrade(k.resData.SiteUrl),k.modifyAvatradeUrls(),sessionStorage.setItem("ngStorage-whiteLabelData",JSON.stringify(a.data)),sessionStorage.setItem("ngStorage-WhiteLabelName",JSON.stringify(a.data.Name)),k.getElementVisibility().then(function(){c.resolve(k.resData)})},function(a){c.resolve(void 0)})):(k.overrideWhiteLabelStyles(storageWhiteLabelData.WhiteLabelDataExtension.customStyles),k.getElementVisibility().then(function(){c.resolve(storageWhiteLabelData)})),c.promise}],ElementVisibilityMode:[function(){var a=n.defer();return k.storageWhiteLabelMode=JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode")),k.whiteLabelMode||(k.whiteLabelMode=b(null==b("wm")?"WhiteLabelMode":"wm")),k.whiteLabelMode?a.resolve(!0):k.storageWhiteLabelMode?a.resolve(!0):a.resolve(!1),a.promise}]}})}var j=angular.module("app",["ui.router","ngMessages","ui.bootstrap","ui.bootstrap.tpls","ngDialog","ngStorage","validation","validation.rule","angularFileUpload","passwordModule","ngSanitize","ngLocale","pascalprecht.translate","ngTable","ngAnimate","angular.filter","isoCurrency","rzModule","ngCookies","adaptive.detection","dyFlipClock"]),k=this;!function(){const a=[];window.addEventListener("beforeprint",function(b){const c=Array.prototype.slice.call(document.getElementsByClassName("hidden-xs force-print"));c.forEach(function(b){b.classList.remove("hidden-xs"),a.push(b)})}),window.addEventListener("afterprint",function(b){a.forEach(function(a){a.classList.add("hidden-xs")}),a.length=0}),-1==window.location.href.indexOf("app/myava")&&("undefined"==typeof window.console&&(window.console={}),window.console.log=function(){})}(),k.convertSiteUrlVipToAvaTrade=function(a){return/vip.avatrade/i.test(a)?a.replace("vip","www"):a},k.isSaudiArabiaDomain=function(){return document.domain.indexOf("avatrade.sa.com")>-1},k.getSaudiArabiaCdnResourcesUrl=function(a){return a.replace(".com",".sa.com")},k.isWebTrader=function(){return"wtiframe"==JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode"))},k.appendTransform=function(a,b){return a=angular.isArray(a)?a:[a],a.concat(b)},k.getSaudiArabiaServicesUrl=function(){var a=location.hostname.match(/^([\w\d]+)./);switch(a=a&&a[1].replace("my",""),a=/qa|stg/.test(a)?a:"www"){case"qa":return"http://myqa.avatrade.sa.com:8023/";case"stg":return"https://servicesstg.avatrade.sa.com/";default:return"https://services.avatrade.sa.com/"}},k.GetAppSourseID=function(){var a=b("Asid");k.Asid="undefined"!=a&&a?a:JSON.parse(sessionStorage.getItem("ngStorage-Asid")),a&&sessionStorage.setItem("ngStorage-Asid",JSON.stringify(a))},k.getAppType=function(){var a=b("AppName");k.AppType=a&&"undefined"!=a?a:JSON.parse(sessionStorage.getItem("ngStorage-AppType")),a&&sessionStorage.setItem("ngStorage-AppType",JSON.stringify(a))},k.getNoInternalRoutingFlag=function(){var a=b("noir");a&&sessionStorage.setItem("ngStorage-NoInternalRouting",a)},k.GetATradeCOI=function(){var a=b("COI");k.ATradeCOI="undefined"!=a&&a?a:JSON.parse(sessionStorage.getItem("ngStorage-ATradeCOI")),a&&sessionStorage.setItem("ngStorage-ATradeCOI",JSON.stringify(a))},k.GetATradeCOI(),h(),k.GetAppSourseID(),k.getAppType(),k.getNoInternalRoutingFlag(),k.isFullReg=function(a){switch(a){case"ShortToReal":case"ShortToDemo":case"ShortRealToReal":case void 0:case"":return!1;default:return!0}},k.isRegisterationPage=function(){return location.href.indexOf("register")>-1},k.modifyAvatradeUrls=function(){(-1==k.resData.RealAccountUrl.indexOf("http")||-1==k.resData.DemoAccountUrl.indexOf("http"))&&(a(k.resData.SiteUrl)?(-1==k.resData.SiteUrl.indexOf("http")&&(k.resData.SiteUrl=location.protocol+"//"+k.resData.SiteUrl),k.resData.RealAccountUrl=k.resData.SiteUrl+"/real-account.html",k.resData.DemoAccountUrl=k.resData.SiteUrl+"/demo-account.html"):(-1==k.resData.SiteUrl.indexOf("http")&&(k.resData.SiteUrl=location.protocol+"//"+k.resData.SiteUrl),k.resData.RealAccountUrl=k.resData.SiteUrl+"/"+k.resData.RealAccountUrl,k.resData.DemoAccountUrl=k.resData.SiteUrl+"/"+k.resData.DemoAccountUrl))},k.overrideWhiteLabelStyles=function(a){if(a&&!k.hideAvaTradeLoader()){var b=document.querySelector(":root").style;Object.keys(a).forEach(function(c){var d=a[c];if(/font-family/i.test(c)){var e="https://fonts.googleapis.com/css?family="+d.replace(" ","+"),f=document.createElement("link");f.href="data:text/css,"+encodeURIComponent("@import url('"+e+"');"),f.rel="stylesheet",f.type="text/css",document.head.appendChild(f)}/loader/i.test(c)&&(d="url('/images/"+d+"')"),b.setProperty("--"+c,d)})}},k.setWhiteLabelRequestData=function(a){if(void 0==a||"AvaTrade"==a){var c=b("LoginToken")||localStorage.getItem("ngStorage-token"),d=JSON.parse(localStorage.getItem("ngStorage-lang")),e=b("lang");return e=e&&e.indexOf("zh-")<0?e.substring(0,2):e,k.lang=c&&k.UserProfile?k.UserProfile.LanguageCode:e||d||window.defaultLang||"en",isWebTrader()&&(k.lang=b("lang")||k.lang,localStorage.setItem("ngStorage-lang",JSON.stringify(k.lang))),{WhiteLabel:a,HostName:location.host,Lang:k.lang}}return{WhiteLabel:a,HostName:null,Lang:null}},k.filterAccountsToOne=function(a){if(a&&a.Tags.indexOf("Webtrader")>-1){const b=new URL(location.href).searchParams.get("TP");if(a.Accounts&&b){const c=a.Accounts.filter(function(a){return a.TPAccountID===b});a.Accounts=c}}return a},String.prototype.endsWith||(String.prototype.endsWith=function(a){var b=this.length-a.length;return b>=0&&this.lastIndexOf(a)===b});var l=angular.injector(["ng"]),m=l.get("$http"),n=l.get("$q");c().then(function(a){a.data.myAvaDomain=location.port?location.protocol+"//"+location.hostname+":"+location.port+"/":location.protocol+"//"+location.hostname+"/",k.isSaudiArabiaDomain()&&(a.data.cdnResourcesDomain=k.getSaudiArabiaCdnResourcesUrl(a.data.cdnResourcesDomain)),j.constant("MyAvaConfig",a.data),window.webApidomain=a.data.servicesDomain,a.data.ABTestingFlag?window.ABTestingFlag=a.data.ABTestingFlag:window.ABTestingFlag=!1,window.publicAPIDomain=a.data.publicAPIDomain,a.data.defaultWhiteLabelName&&(window.defaultWhiteLabelName=a.data.defaultWhiteLabelName),a.data.defaultLang&&(window.defaultLang=a.data.defaultLang),a.data.HardCodeElementVisibility&&(window.HardCodeElementVisibility=a.data.HardCodeElementVisibility),a.data.WhiteLabelMode&&(k.whiteLabelMode=a.data.WhiteLabelMode),"false"==a.data.ShowProductionConsoleLog&&(console.log=function(){}),d().then(function(a){},function(a){if(angular.module("app").constant("UserProfile",a),"object"==typeof a&&a.data&&5==a.data.status){var b=window.location.href,c=b.lastIndexOf(location.host),d=location.host.length;return b=b.substr(c+d+1),b=a.data.myAvaOldCrmDomain+b,b=b.replace("@1",""),void window.location.replace(b)}}),f().then(function(a){a?(a.data.Tags&&a.data.Tags.length&&(a.data=k.filterAccountsToOne(a.data)),sessionStorage.setItem("ngStorage-UserProfileLoaded",!0),j.constant("UserProfile",a.data),sessionStorage.setItem("ngStorage-businessGroupId",JSON.stringify(a.data.BusinessGroupId)),k.UserProfile=a.data):angular.module("app").constant("UserProfile",a),JSON.parse(localStorage.getItem("ngStorage-lang"))?i():g().then(function(a){localStorage.setItem("ngStorage-lang",JSON.stringify(a.data.Language)),i()},function(a){i()})},function(a){angular.module("app").constant("UserProfile",a),JSON.parse(localStorage.getItem("ngStorage-lang"))?i():g().then(function(a){localStorage.setItem("ngStorage-lang",JSON.stringify(a.data.Language)),i()},function(a){i()})}),e().then(function(a){a&&(a.data.Data&&a.data.Data.Popup&&(sessionStorage.LossLimitDataPopup=a.data.Data.Popup),b("LoginToken")&&(sessionStorage.LossLimitDataLogin="firstLogin"))})},function(a){console.log("get jsconfig error")}),k.initElementVisibility=function(){switch(console.log(JSON.parse(sessionStorage.getItem("ngStorage-whiteLabelData")).Name.toLowerCase()),JSON.parse(sessionStorage.getItem("ngStorage-whiteLabelData")).Name.toLowerCase()){case"avatrade":switch(JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode"))){case"native":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!1,HideLeftSideMenu:!0,HideRightSideMenu:!0,HideDownloadPlatform:!0,ChangeTextWithLink:!0,HideTYPButtons:!0};break;case"iframe":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!0,HideLeftSideMenu:!1,HideRightSideMenu:!1,HideDownloadPlatform:!1,ChangeTextWithLink:!1,HideTYPButtons:!1};break;case"education":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!0,HideLeftSideMenu:!0,HideRightSideMenu:!0,HideDownloadPlatform:!0,ChangeTextWithLink:!0,HideTYPButtons:!0,HideAddAccountBtn:!0,HideAvaTradeLoader:!0};break;case"maintenance":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!0,HideLeftSideMenu:!0,HideRightSideMenu:!0,HideDownloadPlatform:!0,ChangeTextWithLink:!0,HideTYPButtons:!0,HideAddAccountBtn:!0,HideAvaTradeLoader:!0};break;default:var a={HideHamburger:!1,HideHeader:!1,HideSubHeader:!1,HideFooter:!1,HideLeftSideMenu:!1,HideRightSideMenu:!1,HideDownloadPlatform:!1,ChangeTextWithLink:!1,HideTYPButtons:!1}}break;case"atrade":switch(JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode"))){case"native":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!1,HideLeftSideMenu:!0,HideRightSideMenu:!0,HideDownloadPlatform:!0,ChangeTextWithLink:!0,HideTYPButtons:!0};break;case"iframe":var a={HideHamburger:!0,HideHeader:!0,HideSubHeader:!0,HideFooter:!0,HideLeftSideMenu:!1,HideRightSideMenu:!1,HideDownloadPlatform:!1,ChangeTextWithLink:!1,HideTYPButtons:!1};break;default:var a={HideHamburger:!1,HideHeader:!1,HideSubHeader:!1,HideFooter:!1,HideLeftSideMenu:!1,HideRightSideMenu:!1,HideDownloadPlatform:!1,ChangeTextWithLink:!1,HideTYPButtons:!1}}}void 0!=a&&null!=a&&JSON.parse("maintenance"!=sessionStorage.getItem("ngStorage-WhiteLabelMode"))&&sessionStorage.setItem("ngStorage-hideElements",JSON.stringify(a))},k.setWhiteLabelModeRequestData=function(){var a=k.UserProfile?k.UserProfile.WhiteLabelName:null;k.whiteLabelModeRequestData={},k.whiteLabelModeRequestData.WhiteLabelName=a||JSON.parse(sessionStorage.getItem("ngStorage-whiteLabelData")).Name,k.whiteLabelModeRequestData.Mode=JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode"))},k.isHardCodeElementVisibility=function(){var a=n.defer();return window.HardCodeElementVisibility?(k.initElementVisibility(),a.resolve(null)):(k.setWhiteLabelModeRequestData(),m.post(window.webApidomain+"api/WhiteLabel/GetElementVisibility_NewCrm",k.whiteLabelModeRequestData).then(function(b){var c=b.data&&isArray(b.data)&&b.data.length>0?b.data[0]:b.data;sessionStorage.setItem("ngStorage-hideElements",JSON.stringify(c)),a.resolve(null)})),a.promise},k.getElementVisibility=function(){var a=n.defer();return k.storageWhiteLabelMode=JSON.parse(sessionStorage.getItem("ngStorage-WhiteLabelMode")),k.whiteLabelMode||(k.whiteLabelMode=b("WhiteLabelMode")||b("wm")),k.AppType&&(k.AppType===k.AppTypeConst.AvaTrader||k.AppType===k.AppTypeConst.AvaTradeGo)&&(k.whiteLabelMode="native"),k.whiteLabelMode&&"undefined"!=k.whiteLabelMode?(sessionStorage.setItem("ngStorage-WhiteLabelMode",JSON.stringify(k.whiteLabelMode.toLowerCase())),k.isHardCodeElementVisibility().then(function(){a.resolve(null)})):k.storageWhiteLabelMode&&"undefined"!=k.storageWhiteLabelMode?k.isHardCodeElementVisibility().then(function(){a.resolve(null)}):(k.initElementVisibility(),a.resolve(null)),a.promise},k.hideAvaTradeLoader=function(){var a=JSON.parse(sessionStorage.getItem("ngStorage-hideElements"));return a&&a.HideAvaTradeLoader},k.AppTypeConst={AvaTrader:"AvaTrader",AvaTradeGo:"AvaTradeGo"},window.AccountType={Real:1,Demo:2,Contact:3,ShortFromRealToDemo:4,ShortFromDemoToDemo:5,ShortFromRealToReal:6,ShortFromDemoToReal:7},window.BusinessGroup={1:"EU",2:"BI",4:"Japan",5:"AU",8:"ATrade"}}(),angular.module("app").constant("DEPOSIT_STATUS",{1:{title:"TitleTransactionFailed",text:"change_password_popup_close_button"},3:{title:"TitleTransactionFailed",text:"change_password_validator_samePassword"},5:{title:"TitleTransactionFailed",text:"txtInvalidCvv"},430285:{title:"TitleTransactionFailed",text:"txtDoNotHonor"},430360:{title:"TitleTransactionFailed",text:"txtLowFunds"},430330:{title:"TitleTransactionFailed",text:"txtInvalidCardNumber"},430357:{title:"TitleTransactionFailed",text:"txtLostOrStolenCard"},21000120:{title:"TitleTransactionFailed",text:"txtExpiredCard"},430327:{title:"TitleTransactionFailed",text:"txtInvalidAmount"},21000020:{title:"TitleTransactionFailed",text:"txtInvalidCardNumber"},430306:{title:"TitleTransactionFailed",text:"txtInvalidExpiryDate"},17:{title:"TitleTransactionFailed",
text:"txtDepositError"},12:{title:"TitleTransactionFailed",text:"txtDepositError"},9997:{title:"titleAustralianRegulationForFirstCcDeposit",text:"txtAustralianRegulationForFirstCcDeposit"},3336:{title:"TitleTransactionFailed",text:"txtPayPalRejectedPaymentUSCountry"},3337:{title:"TitleTransactionFailed",text:"txtPayPalRejectedPaymentIndiaCountry"},3338:{title:"TitleTransactionFailed",text:"txtPayPalRejectedPaymentChinaCountry"},35:{title:"TitleTransactionFailed",text:"sharpAcademy_depositRejected"}}).constant("CODE_DEPOSIT_STATUS",{InValidToken:0,OK:1,ClearanceError:2,CCProblem:3,Uncomplete:4,CvvError:5,AmountError:6,MinMaxValidation:7,ConfirmationCodeNotEntered:8,IDNotReceived:9,CardNumberError:10,CardExpirationDateError:11,Failed:12,High:13,TradingPlatform:14,OKPENDING:15,testlior:16,TechnicalProblem:17,Rejected:18,DepositAccepted:19,DepositFraud:20,AccountFruad:21,DepositAccepptedDelayedShortly:22,DepositAccepptedDelayed48h:23,DepositAccepptedDocRequired:24,WeeklyLimitExceeded:25,ReviewByCyberSource:26,RejectedDoNotHonor:430285,RejectedLowFunds:430360,RejectedInvalidCardNumberContactBank:430330,RejectedLostOrStolenCard:430357,RejectedExpiredDate:21000120,RejectedInvalidAmount:430327,RejectedFieldLengthToShort:21000240,RejectedInvalidCardNumber:21000020,RejectedInvalidExpiryDate:430306,SafeChargePending:27,AvaPending:28,SafeChargeAccepted:29,SafeChargeRejected:30,SafeChargeTechnicalIssue:31,DinPayTechnicalIssue:32,IngenicoRestrictedCountries:35,InvalidData:9991,OkFtd:9993,PendingDocRequiredFtd:9994,PendingDocRequiredNewCard:9995,PendingDocRequiredExistCard:9996,HighRiskCountriesFTD:9998,HighRiskCountriesNFTD:9999,ThirdPartyFTDsmallDeposit:3331,ThirdPartyFTDbigDeposit:3332,ThirdPartyNFTDdepositAccepted:3333,Cancled:3334,ThirdPartyNFTDdepositAcceptedDocRequired:3335,ThirdPartyRejectUSCountry:3336,ThirdPartyRejectIndiaCountry:3337,ThirdPartyRejectChinaCountry:3338,AustralianRegulationForFirstCcDeposit:9997}).constant("SUCCESS_DEPOSIT_STATUS",{OK:1,Failed:12,DepositFraud:20,DepositAccepptedDocRequired:24,WeeklyLimitExceeded:25,ReviewByCyberSource:26,Pending:28,Canceled:29,IngenicoRestrictedCountries:35,ThirdPartyFTDsmallDeposit:3331,ThirdPartyNFTDdepositAccepted:3333,ThirdPartyDocRequired:3335,HighRiskCountry:4e3,OkFtd:9993,PendingDocRequiredFtd:9994,PendingDocRequiredExistCard:9996}).constant("DefaultStates",{UpgradeAccountClose:"my_account"}).constant("AUTH_EVENTS",{loginSuccess:"auth-login-success",loginFailed:"auth-login-failed",logoutSuccess:"auth-logout-success",sessionTimeout:"auth-session-timeout",notAuthenticated:"auth-not-authenticated",notAuthorized:"auth-not-authorized"}).constant("InputServiceType",{mail:1,tag:2,user:3}).value("MyAvaConsts",{CCards:[{CardName:"Visa",CardType:1,regex:"^4([0-9]{12}|[0-9]{15}|[0-9]{18})$",length:[13,16,19]},{CardName:"Visa Electron",CardType:111,regex:"^4((026|150|405|508|844|91[37])[0-9]{12}|(17500)[0-9]{10})$",length:[16]},{CardName:"Master Card",CardType:3,regex:"^(5[1-5]|677189)[0-9]{14}$|^(222[1-9]|2[3-6]\\d{2}|27[0-1]\\d|2720)[0-9]{12}$",length:[16]},{CardName:"JCB",CardType:125,regex:"^35(2[8-9]|[3-8][0-9])([0-9]{12}|[0-9]{15})$|^(?!(2131|1800|359\\d{1})([0-9]{12}|[0-9]{15}))$",length:[16,19]}],CCardsAtrade:[{CardName:"Visa",CardType:1,regex:"^4([0-9]{12}|[0-9]{15}|[0-9]{18})$",length:[13,16,19]},{CardName:"Master Card",CardType:3,regex:"^(5[1-5]|677189)[0-9]{14}$|^(222[1-9]|2[3-6]\\d{2}|27[0-1]\\d|2720)[0-9]{12}$",length:[16]}],TradingPlatform:{AvaTrader:1,MetaTrader4:2,MetaTrader4MT3:3,MetaTrader4MT1:4,MirrorTrader:5,FloatingSpread:6,MT4SpreadBetting:7,AvaOptions:8,AvaDirect:9,MT4LimitedRisk:10,MT4DupliTrade:11,MetaTrader5:15},PaymentMethodsDict:{CreditCard:1,Tranzila:8,TruVo:50,PayPal:3,MoneyBookers:4,WireTransfer:20,Neteller:10,WebMoney:16,AvaDebitCard:21,ChinaUnionPay:[33,38,42,44,47,48,49,51,54],ChinaUnionPayCNY2:55,ChinaUnionPayZotapay:33,ChinaUnionPayPaymentAsia:42,ChinaUnionPayRPNPay:44,AliPay:39,QQPay:40,WeChat:41,Boleto:43,QuickPayJp:34,ChinaUnionPayEzeebill:47,ChinaUnionPayAplus:48,ChinaUnionPayNova2pay:49,ChinaUnionPayFastpay:51,Praxis:52,ZotapyCreditCard:53,ChinaUnionPayNo2pay:54},PaymentStatusAva:{Success:1,Failed:2,Canceled:3},PaymentStatus:{Success:"success",Failed:"failed",Cancel:"cancelled",Pending:"pending"},PaymentStatusReason:{Blocked:"blocked_by_country"},PaymentBusinessRule:{DocsRequiredCC:"1",DocsRequiredEWallet:"2",LimitBankTransfer:"3",DocsRequiredAustralia:"4",LimitedDinPay:"5",DocsRequiredATRADE:"7"},HostsWhiteLabels:{AvaTrade:"AvaTrade",ATrade:"ATRADE",FicTrade:"FicTrade",AvaJapan:"AvaJapan",FriedbergDirectAVA:"FriedbergDirectAVA",CryptoX:"Crypto-X",AllSecurities:"AllSecurities"},BusinessGroups:{AvaCapital:1,AvaFinancial:2,AvaJapan:4,AvaAustralia:5,AvaCyprus:6,ATrade:8,SouthAfrica:9,AvaCanada:10,ADGM:11},CountryId:{Australia:14,China:45,Taiwan:209,Macao:126,HongKong:97,Canada:39,Israel:105,Japan:108,Mexico:139,SaudiArebia:188},CurrencyDict:[{Id:1,Name:"USD",Symbol:"$"},{Id:2,Name:"EUR",Symbol:""},{Id:3,Name:"JPY",Symbol:""},{Id:4,Name:"GBP",Symbol:""},{Id:5,Name:"AUD",Symbol:null},{Id:9,Name:"CNY",Symbol:""},{Id:31,Name:"MYR",Symbol:"RM"}],CCMaximumOneTimeDeposit:1e4,AppType:{AvaTrader:"AvaTrader",AvaTradeGo:"AvaTradeGo",AtradeGo:"AtradeGo",AvaTradeGoChina:"AvaTradeGoChina"},AppPlatform:{act:1,web:2,mt4:3},AppTheme:{AvaTrader:"",AvaTradeGo:" avatradego-theme "},WhiteLabel:{ATrade:"atrade"},avaEntityLabels:{AvaFinancial:"reg_selectAvaEntityBVIFSC",SouthAfrica:"reg_selectAvaEntityFSB"},SaudiArebiaWireTransfer:{Link:"https://wire2pay.com/merchants/invoice?code=AVA"},UserState:{Limited:"limited",Full:"full"},GoogleMapsType:{locality:"City",route:"Street",street_number:"BuildingNumber",floor:"Flat",postal_code:"ZipCode"},ChinaCountriesCode:"cn,hk,mo,tw,sg",ProfessionalTraderStatus:{False:0,True:1,DocMissing:2,DocRejected:3,Pending:4},ProfessionalTraderActivity:{False:0,CheckedByAva:1,ProofRequired:2},WithdrawalsTabsMenu:[{Name:"pending_withdrawl",Text:"pw_pending_withdrawals",Link:"pending_withdrawl",Index:0,IsDisabled:!1},{Name:"withdrawl_funds",Text:"withdrawl_funds",Link:"withdrawl_funds",Index:1,IsDisabled:!1}],DepositsTabsMenu:[{Name:"deposit",Text:"pd_fund_your_account",Link:"deposit",Index:0,IsDisabled:!1},{Name:"pending_deposit",Text:"pd_Headline",Link:"pending-deposit",Index:1,IsDisabled:!1}]}).value("SEOTextAdjustments",{TabTitle:{"default":"companyName",loginPage:{"default":"title_accountAccessPage",domains:["uk","za"]}},MetaDescription:{"default":"metaDescription",custom:{uk:"UK",ng:"Nigeria",za:"South Africa"}},WelcomeText:{"default":"bn_welcome",loginPage:{customTextKey:"bn_welcome_accountAccess",domains:["ru","es","cl","it"]}}}).value("eAccountStatus",{Active:0,Proccessing:2,PendingApproval:3,Error:4,Disabled:5}).value("AuthObject",{isLoggedIn:JSON.parse(sessionStorage.getItem("ngStorage-isLoggedIn"))}).value("CustomerData",JSON.parse(sessionStorage.getItem("ngStorage-userProfile"))).constant("FilesValidation",{size:{maxFileSize:10,minFileSize:0},supportdeTypes:["jpg","jpeg","tif","png","gif","pdf","doc"]}).constant("japanConstants",{quickDepositForm:{TAX:"0",SEIKYUKANJI:"",SEIKYUKANA:"",MNAME_01:"",PAY_WAY:"P02",PAY_CSV:"",R_WAY:"1",C_CODE:"54666",S_CODE:"3z6P6PtD",NAME2:"",KANA2:"",YUBIN1:"999",YUBIN2:"",ADD2:"",ADD3:"",ENTAIKIN:"0",BIKO:"",MNAME_02:"",MSUM_02:"",MNAME_03:"",MSUM_03:"",MNAME_04:"",MSUM_04:"",MNAME_05:"",MSUM_05:"",MNAME_06:"",MSUM_06:"",MNAME_07:"",MSUM_07:""}}).constant("eRequestAdditionalProperties",{ConvertedAmount:1,ExchangeRate:2,SuccessUrl:3,CancelUrl:4,CcCardNumber:5,FailUrl:6,CcExpirationMonth:7,CcExpirationYear:8,CcCountryId:9,CcLastOrderId:10,CcPaymentProductId:11,CcCurrencyCode:12,CcCrmCardType:13,CcLastThreeDigits:14,CcExpirationDate:15,CcCardType:16,CcCardHolderName:17,CcHolderIdEntityNumber:18,CcCardBillingAddress:19,CcCity:20,CcProvinceState:21,CcZipPostalCode:22,CcCvv:23,CcLanguageCode:24,CcBankCode:25,CcConvertedCurrencyCode:26,UserUrl:27,UserIp:28,SessionId:29,UserIdentity:30,CardStatus:31,CyberSourceEmail:32,IdentifierApplicationSource:33,PPEmail:34,SkrillEmail:35,NetellerEmail:36,DebitCardNumber:38,WebMoneyWalletNumber:41,BeneficiaryName:42,BankName:43,BankAddress:44,BankCountry:45,IBANBankAccountNumber:46,ABAorSwiftCode:47,tpnumber:48,UnionPayUserName:49,CcCardId:50,CcProvinceStateName:51,LocalName:52,PaymentProvider:53,AccountType:54,PraxisEmail:55,BankAccountNumber:56,FakeDeposit:57,BankBranch:58,IdentifierApplicationSource2:59,BeneficiaryAddress:60,AccountIdentify:61}).constant("SharpTraderSupportedLangs",["it","de","es","fr","ar","zh-hans"]).constant("eResponseAdditionalProperties",{DontKnow:1,PayPalToken:2,RedirectUrl:3,SessionParams:4,WeeklyLimit:5}).constant("PlatformIds",{metaTraderMt4:2,metaTraderMt3:3,metaTraderMt1:4,mirror:5,floating:6,spreadBetting:7,avaOption:8}).constant("eDocumentType",{None:0,ID_Front:1,ID_Back:2,UtiltyBill:3,Addiational:4,CC_Front:5,CC_Back:6,National_ID:7,NationalIdPaper:8,BankStatment:9,BeneficiaryStatement:10,Passport:11,DrivingLicense:12,PrimaryAlbertaDoc:13,CopyOfDischargeLetter:14,POA:15,AvaPro10Positions:16,FinancialSector:17,Portfolio:18,AddressDocument:19,FinancialDocument:20,ClientAcknowledgmentForm:21,W8Ben:22}).constant("eRegisterCategories",{PersonalInformation:1,TradingExperience:2,Profile:3,TermsandConditions:4,GeneralQuestions:5,Password:6,CompanyRepresentative:7,ContactPerson:8,ConcerningMattersConcerningCorporations:9,TradingKnowledge:10,PrimaryAccountHoldersPersonalInformation:11,PrimaryAccountHoldersEmploymentFinanceInformation:12,SecondaryAccountHoldersPersonalInformation:13,SecondaryAccountHoldersEmploymentFinanceInformation:14,LastDetails:15,UploadDocuments:16,UsingBorrowedFunds:17,TradingPlatform:18}).constant("eLanguages",{English:"en",French:"fr",Italian:"it",Hungararian:"hu",German:"de",Spanish:"es",Finnish:"fi",Arabic:"ar",Portuguese:"pt",Polish:"pl",Russian:"ru",Swedish:"sv",Hebrew:"he",SimplifiedChinese:"zh-hans",TraditionalChinese:"zh-hant"}).constant("eChineseHeader",{ChineseHeader:""}).constant("eRegistrationAction",{Real:1,Demo:2,Contact:3,ShortFromRealToDemo:4,ShortFromDemoToDemo:5,ShortFromRealToReal:6,ShortFromDemoToReal:7,MigrationToCanada:8,ShortFromForceDemoToReal:9}).constant("eBusinessGroup",{Capital:1,Financial:2,Japan:4,Australia:5,Atrade:8,SouthAfrica:9,Canada:10,ADGM:11}).constant("REGTYPES",{Both:0,Real:1,Demo:2}).constant("unirchiveReason",{changePassword:"ChangePassword",deposit:"Deposit",withdrawl:"Withdrawl"}),angular.module("app").config(["$locationProvider","$compileProvider","$httpProvider",function(a,b,c){a.html5Mode(!0),c.interceptors.push("authInterceptorService"),c.interceptors.push("httpRequestInterceptor"),b.debugInfoEnabled(!1),b.aHrefSanitizationWhitelist(/^\s*(https?|ftp|mailto|whatsapp):/)}]).run(["$rootScope","$window","$location","$anchorScroll","AuthService","$state","$timeout","AuthObject","UserProfileService","RegisterService","$sessionStorage","MyAvaConfig","UserProfile","DomainService","ngDialog","authenticationService","CommonService","LanguageService","MobileService","ReacceptTermsAndConditionsService","TrackingService","AccountService","SoliticsService","DynamicYieldService","MarketingEventsService","DecibelService","SmartBidService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){a.$state=f,a.isLossLimitPopup=!1,a.vueRoutes=["account_statement"],a.tempAccountStatementUsers=["goce@gmaill.com","qweasd@dd.com","qwerasdf@dd.com","guardianangeltest001@yopmail.com","guardianangeltest002@yopmail.com","guardianangeltest004@yopmail.com","guardianangeltest005@yopmail.com","guardianangeltest006@yopmail.com","guardianangeltest007@yopmail.com","guardianangeltest008@yopmail.com"],a.userProfile=i.getLocalUserProfile(),a.hideElements=k.hideElements,k.requestedPageBeforeLoggedIn&&delete k.requestedPageBeforeLoggedIn;c.search().WhiteLabelMode||c.search().wm;j.getUrlQuery(),u.setTrackingParameters(c),c&&c.search()&&(!c.search().wtrelogin||"1"!=c.search().wtrelogin&&"1"!=c.search().wtrelogin[0]||(sessionStorage.setItem("wtrelogin","1"),f.go("home")),window.$myava=window.$myava||{},window.$myava.platformName=c.search().p,window.$myava.tradingPlatform=c.search().tradingplatform,window.$myava.dealType=c.search().dealtype,window.$myava.serverName=c.search().mtsrv,window.$myava.sp=c.search().sp,window.$myava.ForceWebTrader=c.search().fwt,window.$myava.ForceBG=c.search().fbg),m&&!m.status?(i.setLocalUserProfile(m),r.setLanguage(),j.isFullRegisterationPage(c.$$url)||e.setIsLoggedIn(!0)):(r.setLanguage(),m&&403==m.status?"/home"!=c.$$url&&e.openSessionExpiredDialog():j.isRegisterationPage(c.$$url)||q.isLoginPage(c.$$url)||q.isTYPPage(c.$$url)||q.changePassword(c.$$url)||q.FtdMifidEmailSurvey(c.$$url)||q.isMaintenancePage(c.$$url)||(e.setIsLoggedIn(!1),g(function(){"maintenance"==k.WhiteLabelMode?document.location.href+="/maintenance":f.go("home")}))),a.$on("$stateChangeSuccess",function(b,d,e,f,g){"change_password"!==d.name&&"home"!==d.name&&q.checkPasswordExpired(f.name),q.checkAtradeRegulation(d.name),window.dataLayer.push({event:"virtual pageview",page:c.path()}),sessionStorage.wtrelogin&&"1"==sessionStorage.wtrelogin&&(sessionStorage.removeItem("wtrelogin"),a.$broadcast("logOut"))}),h.isLoggedIn||(h.isLoggedIn=!1),a.$on("$stateChangeStart",function(b,d,g,h){a.$broadcast("isLossLimitPopup",{isLossLimitPopup:!1});var l=q.getToStateURL(d);if(m=i.getLocalUserProfile(),m&&e.getIsLoggedIn()&&(k.isPartialUserProfile||"my_account.demo_expired"===d.name?a.$watch(function(){return k.isPartialUserProfile},function(a){a||"my_account.demo_expired"===d.name||t.isRecceptTermsAndConditionsNeeded(m)}):t.isRecceptTermsAndConditionsNeeded(m),a.$watch(function(){return k.UserProfileLoaded},function(a){a&&self.checkForMissingData()})),self.checkForMissingData=function(){const b=angular.injector(["ng"]),c=b.get("$http"),d=new URL(window.webApidomain+"api/RegistrationQuestionsData/GetMissingRequlationQuestion");d.search=new URLSearchParams({lang:k.userProfile.LanguageCode||"en",businessGroupId:k.userProfile.BusinessGroupId,isMigrated:k.isMigrated||!1,whiteLabelName:k.WhiteLabelName,countryId:k.userProfile.CountryID,isCorporate:k.userProfile.IsCorporate||!1,appSource:k.Asid||""}),c({url:d.href,method:"GET",headers:{token:e.getToken()}}).then(function(b){b.data.Data.questions&&Object.keys(b.data.Data.questions).length&&(a.showMissingQuestionsPopup=!0,a.mobileConfig.isMobile&&(a.vueAvaIframeFullView=!0))})["catch"](function(a){console.error(a)})},(m&&!m.status&&(!m.Accounts||0==m.Accounts.length)||j.isRegisterationPageShortDemo(l))&&i.refreshUserProfileAccounts(j.isRegisterationPage(l)),m&&403==m.status)/(home|login)/.test(l)&&(b.preventDefault(),f.go("my_account"));else if(e.getIsLoggedIn()){if(j.isRegisterationPage(l)&&g.action||q.isLoginPage(l)&&g.regType){var n=g.action||g.regType;j.fullRegToShort(n,b)}}else!e.getIsToken()&&j.isRegistrationInProgress(l)?(b.preventDefault(),f.go("register.step1",{action:1})):e.getIsToken()||j.isFullRegisterationPage(l)||q.isLoginPage(l)||q.changePassword(c.$$url)||q.FtdMifidEmailSurvey(c.$$url)||q.isMaintenancePage(c.$$url)||"home"!=d.name&&(k.requestedPageBeforeLoggedIn=c.$$path,e.setIsLoggedIn(!1),b.preventDefault(),f.go("home"))}),s.isMobileByScreenWidth(),s.isTabletByScreenWidth(),s.updateNativeMobileType(),window.addEventListener("orientationchange",function(){g(function(){s.isMobileByScreenWidth(),s.isTabletByScreenWidth()},1e3)}),a.$on("isLossLimitPopup",function(b,c){a.isLossLimitPopup=c.isLossLimitPopup&&j.isMobile.any()}),a.$on("$locationChangeSuccess",function(b,c,e,f,g){d(),a.$broadcast("scrollToTop")}),a.$on("$viewContentLoaded",function(){window._gaq&&b._gaq.push(["_trackPageview"]),(j.isMobile.iPhone()||j.isMobile.iPad())&&document.addEventListener("touchstart",{}),a.isMobileAny=j.isMobile.any()}),a.$on("scrollToTop",function(){document.querySelector("#mainWrapper").scrollIntoView({behavior:"smooth",block:"start",inline:"start"})})}]),angular.module("app").config(["$translateProvider","$translatePartialLoaderProvider",function(a,b){self.webroot="@@webroot","@webroot"==self.webroot.substring(1)&&(self.webroot="app/");var c=sessionStorage.getItem("ngStorage-whiteLabelData");c=c?JSON.parse(c):null;var d=c?c.CompanyName:"";sessionStorage.setItem("ngStorage-wlnPrefix",JSON.stringify(d));var e="/app/languages/{lang}/{lang}-{part}.js";if(b.addPart("common",0,e.replace(/-{part}/g,"")),b.addPart(d,1),a.useLoader("$translatePartialLoader",{urlTemplate:e}),a.fallbackLanguage("en"),c&&!/avatrade/i.test(c.CompanyName)){var f=[],g=[],h=/ava(\s?Trade)?\b/gim,i=/AvaDebit_|wt_forRequiredDocs/;Object.keys(a.translations()).forEach(function(b){Object.keys(a.translations(b)).forEach(function(d){if(h.test(a.translations(b)[d]))if(i.test(d))/en/i.test(b)&&g.push(d);else{var e={};e[d]=a.translations(b)[d],/en/i.test(b)&&f.push(e),a.translations(b)[d]=a.translations(b)[d].replace(h,c.CompanyName+" ")}})}),console.log("excludedKeys: ",g),console.log("affectedKeys: ",f)}}]).value("LangHashTable",{en:"en","en-us":"en","en-au":"en","en-bz":"en","en-ca":"en","en-ie":"en","en-jm":"en","en-nz":"en","en-ph":"en","en-tt":"en","en-za":"en","en-gb":"en","en-zw":"en",eng:"en",ar:"ar","ar-sa":"ar","ar-ae":"ar","ar-dz":"ar","ar-bh":"ar","ar-eg":"ar","ar-iq":"ar","ar-jo":"ar","ar-kw":"ar","ar-lb":"ar","ar-ly":"ar","ar-ma":"ar","ar-om":"ar","ar-qa":"ar","ar-sy":"ar","ar-tn":"ar","ar-ye":"ar",ara:"ar",de:"de","de-de":"de","de-at":"de","de-li":"de","de-lu":"de","de-ch":"de",es:"es","es-es":"es","es-ar":"es","es-bo":"es","es-cl":"es","es-co":"es","es-cr":"es","es-do":"es","es-ec":"es","es-sv":"es","es-gt":"es","es-hn":"es","es-mx":"es","es-ni":"es","es-pa":"es","es-py":"es","es-pe":"es","es-pr":"es","es-uy":"es","es-ve":"es",spa:"es",hu:"hu",hun:"hu",fi:"fi",fin:"fi",fr:"fr","fr-fr":"fr","fr-be":"fr","fr-ca":"fr","fr-lu":"fr","fr-mc":"fr","fr-ch":"fr",fra:"fr",fre:"fr",it:"it","it-ch":"it",ita:"it",sv:"sv","sv-fi":"sv","sv-sv":"sv",pl:"pl",nl:"nl",dut:"nl",nld:"nl",pt:"pt","pt-br":"pt",por:"pt",ru:"ru","ro-mo":"ru",rus:"ru",zh:"zh-hans","zh-hans":"zh-hans","cn-ca":"zh-hans","zh-hk":"zh-hans","zh-cn":"zh-hans","zh-sg":"zh-hans",chi:"zh-hans",zho:"zh-hans","zh-hant":"zh-hant","zh-tw":"zh-hant",zh_CN:"zh-hans",zh_cn:"zh-hans",mn:"mn","mn-mn":"mn",he:"he",ja:"ja",id:"id",ind:"id",tr:"tr","tr-TR":"tr",th:"th",tai:"th",tha:"th"}).value("myAvaSupportedLangArr",["en","fr","ar","de","es","it","mn","fi","pl","pt","sv","zh","zh-hans","zh-hant","ru","hu","nl","he","ja","tr","id","th"]).run(["$rootScope","$sessionStorage","$translate",function(a,b,c){a.$translateKeyByBG=function(a,d,e){a=a||"",d=d||[];var f=b.userProfile?b.userProfile.BusinessGroupId:b.businessGroupId,g=f&&d.indexOf(f)>-1?a+"_BG"+f:a,h=c.instant(g,e);return h===g&&(h=c.instant(a,e)),h}}]),function(){function a(a,b,c){var d=this;d.getDomainName=function(b){var c=window.webApidomain+"api/Domain/GetDomain_NewCrm?avaDomain="+b+"&type=1";return a({url:c,method:"GET",async:!0})},d.isProdEnv=function(){return/my.avatrade/i.test(location.host)||/myvip.avatrade/i.test(location.host)},d.isQaEnv=function(){return/myqa.avatrade/i.test(location.host)||/myqa2.avatrade/i.test(location.host)},d.GetCountryByIpAdress=function(){return a.post(window.webApidomain+"api/Domain/GetCountryByIpAdress_NewCrm")},d.IsChinaDomain=function(){return/(\.cn)(?:\/)?$/g.test(window.location.hostname)},d.convertSiteUrlVipToAvaTrade=function(a){return/vip.avatrade/i.test(a)?a.replace("vip","www"):a}}angular.module("app").service("DomainService",["$http","$sessionStorage","$localStorage",a])}(),angular.module("app").value("SerializeHashTable",{en:"en.js",it:"it.js",fr:"fr.js",es:"es.js",de:"de.js",sv:"sv.js",hu:"hu.js",ar:"ar.js",fi:"fi.js",ru:"ru.js",pl:"pl.js",pt:"pt.js","zh-hans":"zh-hans.js","zh-hant":"zh-hant.js"}),function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this;b.isfirstLoading=!1,q.checkUpgradeAccountPopup=function(a){var b=q.hasRealAccount(),c=null;return b||(c=q.openUpgradeAccountDialog(a)),c},q.getWhiteLabelSiteUrl=function(){var a="";if(g.whiteLabelData)a=g.whiteLabelData.SiteUrl;else{var b=q.getIsATrade();a=b?"www.atrade.co.il":"www.avatrade.com"}return a=a.indexOf("http")>-1?a:location.protocol+"//"+a},q.checkWhiteLabel=function(a){return g.WhiteLabelName&&g.WhiteLabelName.toLowerCase()==a.toLowerCase()||g.whiteLabelData&&g.whiteLabelData.Name&&g.whiteLabelData.Name.toLowerCase()==a.toLowerCase()},q.getIsEUBusinessGroup=function(){var a=g.userProfile?g.userProfile.BusinessGroupId:g.businessGroupId;return a==e.BusinessGroups.AvaCapital},q.getIsATrade=function(){return b.IsATrade=q.checkWhiteLabel(e.HostsWhiteLabels.ATrade),b.IsATrade},q.getIsAvaJapan=function(){return b.IsAvaJapan=q.checkWhiteLabel(e.HostsWhiteLabels.AvaJapan),q.getIsCorporate(),b.IsAvaJapan},q.getIsADGM=function(){var a=g.userProfile?g.userProfile.BusinessGroupId:g.businessGroupId;return a==e.BusinessGroups.ADGM?!0:!1},q.getIsCrypto=function(){g.userProfile?g.userProfile.BusinessGroupId:g.businessGroupId;return b.IsCrypto=q.checkWhiteLabel(e.HostsWhiteLabels.CryptoX),b.IsCrypto},q.getIsAvaTrade=function(){return b.IsAvaTrade=q.checkWhiteLabel(e.HostsWhiteLabels.AvaTrade),b.IsAvaTrade},q.getIsCountry=function(a){var b=p.getLocalUserProfile();return b&&b.CountryID==e.CountryId[a]},q.getIsFriedbergDirectAVA=function(){return b.IsFriedbergDirectAVA=g.WhiteLabelName&&g.WhiteLabelName==e.HostsWhiteLabels.FriedbergDirectAVA||g.whiteLabelData&&g.whiteLabelData.Name==(e.HostsWhiteLabels.FriedbergDirectAVA||"FriedbergDirectAVA"),q.getIsJoint(),b.IsFriedbergDirectAVA},q.getIsAllSecurities=function(){return b.IsAllSecurities=g.WhiteLabelName&&g.WhiteLabelName==e.HostsWhiteLabels.AllSecurities||g.whiteLabelData&&g.whiteLabelData.Name==(e.HostsWhiteLabels.AllSecurities||"AllSecurities"),q.getIsJoint(),b.IsAllSecurities},q.getIsCorporate=function(){var a=g.userProfile&&void 0!=g.userProfile.IsCorporate?g.userProfile.IsCorporate:g.AvaJapan&&void 0!=g.AvaJapan.IsCorporate?g.AvaJapan.IsCorporate:h.step1Data&&void 0!=h.step1Data.IsCorporate?h.step1Data.IsCorporate:b.IsAvaJapan&&g.dataObj&&void 0!=g.dataObj.IsCorporate?g.dataObj.IsCorporate:void 0;return b.IsCorporate=void 0!=a?JSON.parse(a):a,b.IsCorporate},q.getIsJoint=function(){var a=JSON.parse(sessionStorage.getItem("step1Data"));if(g.userProfile&&"Demo"==g.userProfile.State)b.IsJoint=!1;else{var c=g.userProfile&&void 0!=g.userProfile.IsJoint?g.userProfile.IsJoint:g.AvaCanada?g.AvaCanada.IsJoint:g.dataObj&&g.dataObj.BusinessGroupId==e.BusinessGroups.AvaCanada&&void 0!=g.dataObj.IsJoint?g.dataObj.IsJoint:a&&a.Contact?a.Contact.IsJoint:void 0;b.IsJoint=void 0!=c?JSON.parse(c):c}return b.IsJoint},q.getIsLiveChatDisabled=function(){return g.whiteLabelData.WhiteLabelDataExtension&&g.whiteLabelData.WhiteLabelDataExtension.DisableLiveChat},q.getIsWebeyezEnabled=function(){return b.IsWebeyezEnabled=d.IsWebeyezEnabled,b.IsWebeyezEnabled},q.getIsATrade(),q.getIsAvaJapan(),q.getIsCrypto(),q.getIsAvaTrade(),q.getIsFriedbergDirectAVA(),q.getIsWebeyezEnabled(),q.isMobile=function(){return document.documentElement.clientWidth<768},q.isTablet=function(){var a=document.documentElement.clientWidth;return a>=768&&992>a},q.isNativeMobile=function(){return!!g.AppType||b.IsNativeMobile||window.document.body.classList.contains("avatradego-theme")},q.OpenInNewWindow=function(a){var b=q.isNativeMobile()?"_self":"_blank",c=window.open(a,b);null==c?window.open(a,"_self"):c.focus()},q.openUpgradeAccountDialog=function(a){b.$broadcast("upgradeAccountPopup");var c=f.open({template:"views/popUp/upgrade-account.html",className:"ngdialog-theme-default",preCloseCallback:function(c){return b.$broadcast("dialogClosed"),c?void i.go(a?a:k.UpgradeAccountClose):void j.createAccountByRegType(window.AccountType.Real)}});return c.id},q.openWithdrawlErrorPopup=function(a,c,d,e,h,j){b.withdrawl_ErrorTitle=a,b.withdrawl_ErrorText=c,b.withdrawl_ErrorButton=d,b.withdrawl_hideButton=j;var k=f.open({template:"views/popUp/withdrawError.html",className:"ngdialog-theme-default withdrawal-popup",closeByDocument:!1,showClose:h,preCloseCallback:function(){e&&(void 0!=g.NoInternalRouting&&""!==g.NoInternalRouting?"deposit"===e?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_DEPOSIT"}',"*"):"upload_document"===e?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):"webTrader_trade"===e&&window.parent.postMessage('{"type":"REDIRECT_TO_TRADE"}',"*"):i.go(e))}});return k.id},b.$on("ngDialog.opened",function(a,b){if(Array.from(b[0].classList).indexOf("withdrawal-popup")>-1){var c=$(".withdrawl .amount-input")&&$(".withdrawl .amount-input")[0];c&&c.setAttribute("disabled",!0)}}),b.$on("ngDialog.closing",function(a,b){if(Array.from(b[0].classList).indexOf("withdrawal-popup")>-1){var c=$(".withdrawl .amount-input")&&$(".withdrawl .amount-input")[0];c&&c.removeAttribute("disabled")}}),q.checkAccountsSome=function(a){return g.userProfile&&g.userProfile.Accounts&&g.userProfile.Accounts.length?g.userProfile.Accounts.some(function(b){return Object.keys(a).every(function(c){return b[c]==a[c]})}):!1},q.hasUploadDocs=function(){return q.checkAccountsSome({HasUploadDocs:!0})||g.userProfile.HasUploadDocs},q.isUserApproved=function(){return g.userProfile&&g.userProfile.State.toLowerCase()==e.UserState.Full.toLowerCase()},q.hasRealAccount=function(){return q.checkAccountsSome({IsReal:!0})},q.hasActiveDemoAccount=function(){return q.checkAccountsSome({IsReal:!1})},q.hasRealAccountAndTpOnDeposited=function(){return q.checkAccountsSome({IsReal:!0,HasTPSuccessfulDeposit:!0})},q.hasRealAndOnlyPendingDeposits=function(){return q.checkAccountsSome({HasOnlyPendingDeposits:!0})},q.hasRealAccountDepositBonus=function(){return q.checkAccountsSome({IsReal:!0,AllowBonus:!0})},q.checkDepoitBonusAllowance=function(){var a=!1,c=g.userProfile;if(!c)return a;var d=c.Accounts.some(function(a){return a.HasOnlyPendingDeposits});return a=!b.IsAvaJapan&&!b.IsFriedbergDirectAVA&&!b.IsATrade&&11!=c.BusinessGroupId&&c.AllowBonus>0&&!c.hasFtd&&!d},q.checkDepoitBonusAllowanceWithoutCheckFtd=function(){var a=!1,c=g.userProfile;return c?a=!b.IsAvaJapan&&!b.IsATrade&&c.AllowBonus>0:a},b.AllowBonus=q.checkDepoitBonusAllowanceWithoutCheckFtd(),q.getBaseUrl=function(){var a=window.location.protocol+"//"+window.location.host+c.baseHref();return a},q.openOopsPopUp=function(a){return f.open({template:"views/popUp/opps-popUp.html",closeByDocument:!1,showClose:!1,preCloseCallback:function(){a||window.location.reload()}}),a},q.noBackPlease=function(){var b=a;if("undefined"==typeof b)throw new Error("window is undefined");var c="!",d=function(){b.location.href+="#",b.setTimeout(function(){b.location.href+="!"},50)};b.onhashchange=function(){b.location.hash!==c&&(b.location.hash=c)},l(function(){d(),document.body.onkeydown=function(a){var b=a.target.nodeName.toLowerCase();8===a.which&&"input"!==b&&"textarea"!==b&&a.preventDefault(),a.stopPropagation()}})},q.showLoading=function(a){l(function(){b.isLoading=a,b.backgrounDrop=a,a||q.setLoadingText(null)})},q.isMyAccountPage=function(a){return a.indexOf("my_account")>-1},q.setLoadingText=function(a){b.loadingText=a?a:null},q.isLoginPage=function(a){return a.indexOf("login")>-1},q.isTYPPage=function(a){return a.indexOf("typ")>-1},q.isMaintenancePage=function(a){return a.indexOf("maintenance")>-1},q.changePassword=function(a){return a.indexOf("change_password")>-1},q.FtdMifidEmailSurvey=function(a){return a.indexOf("typ-FtdMifid-EmailSurvey")>-1},q.getToStateURL=function(a){return"function"!=typeof a.templateUrl&&a.templateUrl?a.templateUrl:a.url},q.demoAccountLimitReachedPopUp=function(){f.open({template:"views/popUp/demo-accounts-limit-reached.html",closeByDocument:!1,showClose:!1,preCloseCallback:function(a){0!=a?j.createAccountByRegType(a):b.$broadcast("logOut")}})},q.demoAccountExpiredPopUp=function(){f.open({template:"views/popUp/demo-account-expired.html",closeByDocument:!1,showClose:!1,preCloseCallback:function(a){0!=a?j.createAccountByRegType(a):b.$broadcast("logOut")}})},q.showActGBPAccountPopUp=function(){f.open({template:"views/popUp/act-gbp-accounts-blocked.html",closeByDocument:!1,showClose:!1,preCloseCallback:function(a){0!=a?j.createAccountByRegType(a):b.$broadcast("logOut")}})},q.isDemoExpired=function(a){0==a.ExpiredDemos?a.isGbpAccounts&&q.showActGBPAccountPopUp():a.ExpiredDemos>=a.MaxDemos?q.demoAccountLimitReachedPopUp():q.demoAccountExpiredPopUp()},q.userAccountsValidation=function(a){var b=q.checkIfGbpAccount(a);b||q.checkDemoAccountLimitReached(a)},q.checkDemoAccountExpiration=function(a){return a&&a.ExpiredDemos&&a.ExpiredDemos>0},q.checkDemoAccountLimitReached=function(a){return a&&a.ExpiredDemos&&a.ExpiredDemos>0&&a.ExpiredDemos>=a.MaxDemos?(q.demoAccountLimitReachedPopUp(),!0):!1},q.checkIfGbpAccount=function(a){return a&&a.ExpiredDemos&&0==a.ExpiredDemos&&a.isGbpAccounts?(q.showActGBPAccountPopUp(),!0):!1},q.getWeeklyLimitOverrideFormPath=function(){return q.getIsATrade()?d.myAvaDomain+d.weeklyLimitOverrideFormPathAtrade:d.myAvaDomain+d.weeklyLimitOverrideFormPath},q.numberWithCommas=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},q.getTradingPlatformName=function(a){var b=e.TradingPlatform;for(var c in b)if(b.hasOwnProperty(c)&&b[c]==a)return c;return""},q.getGoogleAnalyticsEventObj=function(a,b,c){var e=d&&d.myAvaDomain?d.myAvaDomain:document.location.host,f={host:e,conversion:"Conversion",type:void 0==b||b?"DemoAccount":"RealAccount",myAvaTracker:"myAvaTracker",tp:a,tradingPlatform:c?q.getTradingPlatformName(c):""};return f},q.checkWithdrawlPopup=function(a){a=a||[];var c=n.defer(),d={};q.HasRealAccountAndTpOnDeposited=q.hasRealAccountAndTpOnDeposited();var e=a.filter(function(a){return a.IsReal&&a.WithdrawableAmount>0}).shift();if(e&&e.Equity>0&&(q.HasRealAccountAndTpOnDeposited=!0),q.HasRealAccountAndTpOnDeposited)if(q.getIsATrade()||q.isUserApproved()){if(!e){b.$broadcast("withdrawalInsufficientFunds"),d.header="withdrawl_insufficientFundsTitle",d.body="withdrawl_insufficientFundsText",d.button="common_ok";var f=i.current&&-1==window.location.href.indexOf(i.current.name)?i.current.name:"my_account";d.redirect="webtrader"==g.Asid?"webTrader_trade":f}}else{var h=q.hasUploadDocs();h?b.$broadcast("withdrawalDocumentsNotApproved"):b.$broadcast("withdrawalUploadDocsNeeded"),d.header=h?"WD_Header_DocumentNotApprove":"WD_Header_NoDocuments",d.body=h?"WD_Text_DocumentNotApprove":"WD_Text_NoDocuments",d.button=h?"ok":"TYP_uploadDocuments";var f=i.current&&-1==window.location.href.indexOf(i.current.name)?i.current.name:"my_account";d.redirect=h?"webtrader"==g.Asid?"webTrader_trade":f:"upload_document"}else d.header="withdrawl_noFundsTitle",d.body="withdrawl_noFundsText",d.button="withdrawl_depositButton",d.redirect="deposit";if(d.header){var j=g.AppType;b.mobileConfig.isMobile&&j&&"avatradego"==j.toLowerCase()&&g.userProfile.BusinessGroupName&&"south africa"==g.userProfile.BusinessGroupName.toLowerCase()?(showClose=!1,hideButton=!0):(showClose=!0,hideButton=!1),q.openWithdrawlErrorPopup(d.header,d.body,d.button,d.redirect,showClose,hideButton),c.reject(null)}else c.resolve(e);return c.promise},q.maskPassword=function(a){for(var b=[],c=0;a>c;c++)b.push("*");return b.join("")},q.setTheme=function(){b.theme="";var a=g.AppType;if(a)switch(a=a.toLowerCase()){case e.AppType.AvaTradeGo.toLowerCase():b.theme=e.AppTheme.AvaTradeGo}},q.isPartOfChinaCountry=function(a){return[45,209,126,97,41].indexOf(a)>-1},q.CreateTabMenu=function(a){switch(a){case"pending_withdrawl":q.tabMenu=e.WithdrawalsTabsMenu,q.pendings=g.userProfile.PendingWithdrawals;break;case"pending_deposit":q.tabMenu=e.DepositsTabsMenu,q.pendings=g.userProfile.PendingDeposits}return q.pendings.length>0?q.tabMenu[o("filter")(q.tabMenu,{Name:a})[0].Index].IsDisabled=!1:q.tabMenu[o("filter")(q.tabMenu,{Name:a})[0].Index].IsDisabled=!0,q.tabMenu},q.checkPasswordExpired=function(a){var c=g.passwordExpirationDays;if(q.getIsEUBusinessGroup()&&null!==c){var d=null;0>=c?d=!1:c>0&&14>=c&&(d=!0),(0==d||1==d&&""===a)&&(d?b.$broadcast("warningChangePasswordExpiration"):b.$broadcast("mustChangePasswordExpiration"),
q.dialog=f.open({template:"views/popUp/passwordExpiredPopup.html",className:"ngdialog-theme-default",closeByDocument:d,showClose:d,closeByEscape:d,controller:["$scope",function(a){a.changePasswordReminder=d,a.daysLeft=c,a.goToChangePassword=function(){i.go("change_password",{edit:"edit"}),a.closeThisDialog(0)}}]}))}},q.checkAtradeRegulation=function(a){!g.atradeRegulation||a.includes("step2")||a.includes("step3")||(q.dialog=f.open({template:"views/popUp/atradeCompleteRegulationPopup.html",className:"ngdialog-theme-default typ-popUp atrade-regulation-popup",closeByDocument:!1,showClose:!1,closeByEscape:!1,preCloseCallback:function(){window.open("register/step2?WhiteLabelMode=atrade_regulation","_parent")}}))},b.goMyAccount=function(){i.go("my_account")},b.FriedbergRegister=function(){window.open("https://www.friedbergdirectav.ca/register")},window.onkeydown=function(a){27===a.keyCode&&b.isOldCanada&&b.goMyAccount()},q.checkOldCanadianUsers=function(){q.getIsAvaTrade()&&39==g.userProfile.CountryID&&2==g.businessGroupId&&(b.isOldCanada=!0,q.dialog=f.open({template:"views/popUp/canadaMoveToFriedbergPopUp.html",className:"ngdialog-theme-default typ-popUp atrade-regulation-popup",closeByDocument:!1,showClose:!1,preCloseCallback:!1}))}}angular.module("app").service("CommonService",["$rootScope","$browser","MyAvaConfig","MyAvaConsts","ngDialog","$sessionStorage","$localStorage","$state","RegisterService","DefaultStates","$timeout","$http","$q","$filter","AccountService",b])}(window),angular.module("app").config(["$validationProvider","InputServiceType",function($validationProvider,InputServiceType){function getElementOffset(a){var b=a.getBoundingClientRect();return{top:b.top+(window.pageYOffset||document.documentElement.scrollTop),left:b.left+(window.pageXOffset||document.documentElement.scrollLeft)}}function isInViewport(a){var b=a.getBoundingClientRect(),c=document.documentElement;return b.top>=0&&b.left>=0&&b.bottom<=(window.innerHeight||c.clientHeight)&&b.right<=(window.innerWidth||c.clientWidth)}function focusFirstInvalid(a,b){var c=document.body.classList.contains("ava-device-mobile"),d=a[0].form.querySelectorAll(".question:not(.ng-hide) .ng-empty:not(.ng-not-empty-add):not(.ng-hide):not(.ng-valid):not([type=hidden])"),e=(a[0].form.querySelectorAll(".has-error"),a[0].form.querySelector(".has-error"));if(!/text|password|email|tel|number/.test(a[0].type))if(e){var f=e.id.match(/radio(\d+)_\d+/);f&&(e=e.parentNode.parentNode.querySelector("[for=radio"+f[1]+"_0]")||e.parentNode.parentNode.querySelector("#radio"+f[1]+"_0"));var g=!!e.attributes["data-googlemapstype"]&&"null"!==e.attributes["data-googlemapstype"].value;if(g&&e.disabled&&(e=e.form.querySelector(".question input[ng-autocomplete]")),e&&/hidden/.test(e.type)&&(e=e.parentNode.querySelector(".ng-empty")),e&&e!==document.activeElement){var h=e.parentNode.querySelector("[uib-dropdown]");e=h||e;var i=c?!1:isInViewport(e);e.focus({preventScroll:i}),e.scrollIntoViewIfNeeded()}}else!d.length&&a[0].form.querySelector(".submit-btn, [validation-submit]").focus()}angular.extend($validationProvider,{validCallback:function(a){if(a[0].classList.remove("has-error"),a[0].closest(".birthday-date")&&"hidden"!=a[0].type&&a[0].classList.add("notRealOne"),a[0].closest(".birthday-date-picker")&&"hidden"!=a[0].type&&a[0].classList.add("notRealOne"),a[0].closest(".radio-list-cnt")){var b=a[0].closest(".radio-list-items").children;[].slice.call(b).forEach(function(a){a.querySelector("input")&&!a.querySelector("input").checked&&a.querySelector("input").classList.add("notRealOne")}),a[0].checked&&a[0].classList.remove("notRealOne")}if(a[0].closest(".list")){var b=a[0].closest(".list").children;[].slice.call(b).forEach(function(a){a.querySelector("input")&&!a.querySelector("input").checked&&a.querySelector("input").classList.add("notRealOne")}),a[0].checked&&a[0].classList.remove("notRealOne")}a[0].closest(".question")&&a[0].closest(".question").classList.contains("ng-hide")?(a[0].closest(".question").classList.remove("has-error--item"),a[0].closest(".question").classList.remove("has-success--item")):(a[0].closest(".question")&&a[0].closest(".question").classList.remove("has-error--item"),a[0].closest(".question")&&a[0].closest(".question").classList.add("has-success--item")),focusFirstInvalid(a,!0)},invalidCallback:function(a){a[0].classList.add("has-error"),a[0].closest(".question")&&a[0].closest(".question").classList.remove("has-success--item"),a[0].closest(".question")&&a[0].closest(".question").classList.add("has-error--item"),focusFirstInvalid(a)}}),$validationProvider.showSuccessMessage=!1,$validationProvider.setExpression({charsonly:function(a,b,c,d){return/(?!^\d+$)^.+$/.test(a)}}).setDefaultMsg({charsonly:{error:"Name is not valid",success:"Thanks!"}}),$validationProvider.setExpression({minvalue:function(a,b,c,d,e){return isNaN(a)?!0:a>=~~e}}).setDefaultMsg({minvalue:{error:"Need to be bigger",success:"Thanks!"}}),$validationProvider.setExpression({requiredcvv:function(a,b,c,d,e){return"true"!==d.isactive?!0:void 0!==a&&null!==a&&""!==a}}).setDefaultMsg({requiredcvv:{error:"Need to be bigger",success:"Thanks!"}}),$validationProvider.setExpression({requiredDependent:function(a,b,c,d,e){return $(c).parents(".ng-hide").length?!0:void 0!==a&&null!==a&&""!==a}}).setDefaultMsg({requiredDependent:{}}),$validationProvider.setExpression({minlengthnumber:function(a,b,c,d,e){return a.toString().length>=~~e}}).setDefaultMsg({minlengthnumber:{error:"Need to be bigger",success:"Thanks!"}}),$validationProvider.setExpression({maxlengthnumber:function(a,b,c,d,e){return a.toString().length<=~~e}}).setDefaultMsg({maxlengthnumber:{error:"Need to be smaller",success:"Thanks!"}}),$validationProvider.setExpression({numbercvv:function(a,b,c,d,e){if("true"!==d.isactive)return!0;var f=new RegExp(d.customregex||/^[0-9]*$/);return f.test(a)}}).setDefaultMsg({numbercvv:{error:"Need to be bigger",success:"Thanks!"}}),$validationProvider.setExpression({RequiredOnCondition:function(value,scope,element,attrs,param){var qDepAttrs=element.parents(".row.question").find("question-dependeces")[0].attributes,dependenceQuestion=qDepAttrs["dependence-question"].value.replace("dataobject.",""),dependenceAnswers=qDepAttrs["dependence-answers"].value.replace(/[\[\'\]]/g,""),dependenceCondition=qDepAttrs["dependence-condition"].value.replace(/\'/g,""),isActive="scope.$parent.dataobject['"+dependenceQuestion+"']"+dependenceCondition+dependenceAnswers;return"true"===attrs.isactive||eval(isActive)?!!value||!!element[0].value:!0}}).setDefaultMsg({RequiredOnCondition:{error:"Two sides are required",success:"Thanks!"}}),$validationProvider.setExpression({minvalue2:function(a,b,c,d,e){return~~a>=~~e}}).setDefaultMsg({minvalue2:{error:"Need to be bigger",success:"Thanks!"}}),$validationProvider.setExpression({maxvalue:function(a,b,c,d,e){return e>=a}}).setDefaultMsg({maxvalue:{error:"Need to be smaller",success:"Thanks!"}}),$validationProvider.setExpression({maxvalue2:function(a,b,c,d,e){return~~e>=~~a}}).setDefaultMsg({maxvalue2:{error:"Need to be smaller",success:"Thanks!"}}),$validationProvider.setExpression({customregex:function(a,b,c,d,e){if(!a)return!0;var f=new RegExp(d.customregex||e||/^[0-9]{7,25}$/);return f.test(a)}}).setDefaultMsg({customregex:{error:"Phone Number is not valid",success:"Thanks!"}}),$validationProvider.setExpression({number:function(a,b,c,d,e){if($(c).parents(".ng-hide").length)return!0;var f=new RegExp(/^\d+$/);return f.test(a)}}).setDefaultMsg({number:{}}),$validationProvider.setExpression({checkCreditCard:function(a,b,c,d,e){if(!d.cardType)return!1;var f=JSON.parse(d.cardType);if(!f||0==f.length)return!1;var g=new RegExp(f[0].regex),h=g.test(a);return h}}).setDefaultMsg({checkCreditCard:{error:"Credit card number is not valid",success:"Thanks!"}}),$validationProvider.setExpression({checkboxradiolist:function(a,b,c,d,e){console.log(angular.fromJson(a))}}).setDefaultMsg({checkboxradiolist:{error:"Need to be checkboxradiolist",success:"Thanks!"}}),$validationProvider.setExpression({checkConfirmPassword:function(a,b,c,d,e){return a==b.$parent.dataobject.Password}}).setDefaultMsg({checkConfirmPassword:{}}),$validationProvider.setExpression({fulldate:function(a,b,c,d,e){if(b.$parent.dataobject.DateOfBirth&&b.$parent.dataobject.DateOfBirth.year&&b.$parent.dataobject.DateOfBirth.month&&b.$parent.dataobject.DateOfBirth.day||a&&a.year&&a.month&&a.day){var f=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.year:a.year,g=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.month:a.month,h=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.day:a.day,i=new Date(f,g,0).getDate();return parseInt(h)<=i}return!0}}).setDefaultMsg({fulldate:{error:"Invalid date format"}}),$validationProvider.setExpression({dateGroupRequired:function(a,b,c,d,e){if($(c).parents(".ng-hide").length)return!0;var f=c[0].attributes["ng-model"].value.split(".").filter(function(a){return!/dataobject/i.test(a)}),g=c[0].attributes["ng-model"].value.split(".").pop().replace(/(Test)$/,""),h=f.length>1?b.$parent.dataobject[f[0]]:b.$parent.dataobject,i=new Date,j=new Date(h[g].year,h[g].month-1,h[g].day);return h[g].year&&h[g].month&&h[g].day?!!(i>j):!1}}).setDefaultMsg({dateGroupRequired:{}}),$validationProvider.setExpression({ageNotValid:function(a,b,c,d,e){var f=b.$parent.dataobject.DateOfBirth&&b.$parent.dataobject.DateOfBirth.year&&b.$parent.dataobject.DateOfBirth.month&&b.$parent.dataobject.DateOfBirth.day||a&&a.year&&a.month&&a.day;if(!f)return!f;var g=new Date,h=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.year:a.year,i=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.month:a.month,j=b.$parent.dataobject.DateOfBirth?b.$parent.dataobject.DateOfBirth.day:a.day,k=new Date(h,i-1,j),l=g.getFullYear()-k.getFullYear(),m=g.getMonth()-k.getMonth();return(0>m||0===m&&g.getDate()<k.getDate())&&l--,l>=18}}).setDefaultMsg({ageNotValid:{}}),$validationProvider.setExpression({phoneNotValid:function(a,b,c,d,e){var f=a;return f&&/^\d{7,25}$/g.test(f)}}).setDefaultMsg({phoneNotValid:{}}),$validationProvider.setExpression({languageNotValid:function(a,b,c,d,e){var f=new RegExp(e);return void 0!=a&&f.test(a)}}).setDefaultMsg({languageNotValid:{}}),$validationProvider.setExpression({ageNotValid:function(a,b,c,d,e){var f=b.$parent.dataobject.DateOfBirth&&b.$parent.dataobject.DateOfBirth.year&&b.$parent.dataobject.DateOfBirth.month&&b.$parent.dataobject.DateOfBirth.day;if(!f)return!f;var g=new Date,h=new Date(b.$parent.dataobject.DateOfBirth.year,b.$parent.dataobject.DateOfBirth.month-1,b.$parent.dataobject.DateOfBirth.day),i=g.getFullYear()-h.getFullYear(),j=g.getMonth()-h.getMonth();return(0>j||0===j&&g.getDate()<h.getDate())&&i--,i>=18}}).setDefaultMsg({ageNotValid:{}}),$validationProvider.setExpression({checkConfirmPassword2:function(a,b,c,d,e){return a==d.compareto}}).setDefaultMsg({checkConfirmPassword2:{}}),$validationProvider.setExpression({checkChineseChar:function(a){var b=new RegExp(/^[\u2E80-\u2FD5\u3400-\u4DBF\u4E00-\u9FCC]+$/);return void 0!=a&&b.test(a)}}).setDefaultMsg({checkChineseChar:{}}),$validationProvider.setExpression({checkpassword:function(a,b,c,d,e){if(b.$parent.$ctrl&&"undefined"!=b.$parent.$ctrl.isValidPassword)return b.$parent.$ctrl.checkPassword(),b.$parent.$ctrl.isValidPassword;var f="_old"===e?/^(?=.*[a-zA-Z])(?=.*\d)[a-zA-Z0-9~!@#$%^&*()_]{6,15}$/:/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])[a-zA-Z0-9~!@#$%^&*()]{8,15}$/,g=!0;a&&e&&!/_old/.test(e)&&e.toLowerCase().split(" ").forEach(function(b){b.length>0&&a.toLowerCase().includes(b)&&(g=!1)});var h=a?f.test(a)&&g:!0;return h}}).setDefaultMsg({checkpassword:{}}),$validationProvider.setExpression({emailExists:function(a,b,c,d,e){var f=angular.injector(["ng"]),g=f.get("$http"),h={InputServiceType:InputServiceType.mail,Email:a};return g.post(window.webApidomain+"api/RegistrationValidation/InputValidator",h).then(function(a){return 200==a.status&&"False"==a.data})}}).setDefaultMsg({emailExists:{error:"Email already exist",success:"Thanks!"}}),$validationProvider.setExpression({requiredgroup:function(a,b,c,d,e){console.log(e)}}).setDefaultMsg({requiredgroup:{error:"Password must be 6 to 15 characters long and contain both English letters and numbers only",success:"Thanks!"}}),$validationProvider.setExpression({idNotValid:function(a,b,c,d,e){var f=String(a);if(f.length>9||f.length<5||isNaN(f))return!1;f=f.padStart(9,"0");for(var g,h=0,i=0;9>i;i++)g=Number(f.charAt(i)),g*=i%2+1,g>9&&(g-=9),h+=g;return h%10==0?!0:!1}}).setDefaultMsg({idNotValid:{}})}]),function(){function a(a,b){return{getToken:function(){return b.token||a.token},setToken:function(c){a.token=b.token=c},deleteTokenFromSession:function(){delete a.token,delete b.token},getIgnoreTokenExpiration:function(){return a.ignoreTokenExpiration||b.ignoreTokenExpiration||!1},setIgnoreTokenExpiration:function(c){a.ignoreTokenExpiration=b.ignoreTokenExpiration=c}}}angular.module("app").factory("authenticationService",["$sessionStorage","$localStorage",a])}(),function(){function a(a,b,c){return{request:function(a){return a.skipInterceptor?a:(a.headers=a.headers||{},a.headers.token=c.getToken(),a.headers.ignoreTokenExpiration=c.getIgnoreTokenExpiration(),document.cookie.match("_dyjsession=([^;]*)")&&(a.headers.clientSessionId=document.cookie.match("_dyjsession=([^;]*)")[1]),a)},responseError:function(c){return 403===c.status&&b.$broadcast("unauthorized",{reason:c.data}),a.reject(c)},response:function(a){return null!=a&&null!=a.headers("token")&&c.setToken(a.headers("token")),a}}}angular.module("app").factory("authInterceptorService",["$q","$rootScope","authenticationService",a])}(),function(){function a(a,b,c){var d=this;d.getWhiteLabelData=function(){return d.whiteLabelRequestData=d.setWhiteLabelRequestData(),a.post(window.webApidomain+"api/WhiteLabel/GetWhiteLabelData_NewCrm",d.whiteLabelRequestData)},d.setWhiteLabelRequestData=function(){return void 0==b.WhiteLabelName||"AvaTrade"==b.WhiteLabelName?{WhiteLabel:"AvaTrade",HostName:location.host,Lang:c.lang}:{WhiteLabel:b.WhiteLabelName,HostName:null,Lang:null}},d.tagManagerId=function(){return b.whiteLabelData&&b.whiteLabelData.GoogleTagManagerId?b.whiteLabelData.GoogleTagManagerId:void 0},d.gatAnalyticsAccount=function(){return b.whiteLabelData&&b.whiteLabelData.AnalyticsAccount?b.whiteLabelData.AnalyticsAccount:void 0},d.gatAnalyticsAccount=function(){return b.whiteLabelData&&b.whiteLabelData.AnalyticsAccount?b.whiteLabelData.AnalyticsAccount:void 0},d.gatWhiteLabelSiteUrl=function(){return b.whiteLabelData&&b.whiteLabelData.SiteUrl?b.whiteLabelData.SiteUrl:void 0},d.setWhiteLabelData=function(a){b.whiteLabelData=a,b.WhiteLabelName=a.Name},d.getWhiteLabelMode=function(){return b.WhiteLabelMode}}angular.module("app").service("WhiteLabelService",["$http","$sessionStorage","$localStorage",a])}(),function(){function a(a,b){return function(c){a(function(){var a=b.document.getElementById(c);a.focus()})}}angular.module("app").factory("focus",["$timeout","$window",a])}(),function(){function a(a){return function(b,c){var d={};b&&(d.stack=b.stack,d.msg=b.message);var e=a.get("$http"),f=a.get("MyAvaConfig");f.ClientLogEnabled&&e.post(f.ClientLoggerURL+"LogError",d)}}angular.module("app").factory("$exceptionHandler",["$injector",a])}(),function(){function a(a,b){return{responseError:function(c){if(c.status>=400&&c.status<=599&&-1!=c.status){var d=b.get("$http"),e=b.get("MyAvaConfig");e.ClientLogEnabled&&d.post(e.ClientLoggerURL+"LogError",c)}return a.reject(c)}}}angular.module("app").factory("httpRequestInterceptor",["$q","$injector",a])}(),function(){function a(a,b,c,d,e,f,g,h){var i=this;i.GetUserProfile=function(e){var f=d.defer();return e?a({url:window.webApidomain+"api/AccountInfo/GetMyAvaUserProfile_NewCrm",headers:{token:e},method:"GET",transformResponse:appendTransform(a.defaults.transformResponse,function(a){return b.isPartialUserProfile=!1,a})}).success(function(a){i.setLocalUserProfile(a),c.$broadcast("userProfileUpdated"),c.$broadcast("updateBonusBannerVisibility"),f.resolve(a)}).error(function(a,b){f.reject(a)}):f.resolve({}),f.promise},i.refreshUserProfile=function(){return i.GetUserProfile(h.getToken())},i.setLocalUserProfile=function(a){b.userProfile=a},i.getLocalUserProfile=function(){return b.userProfile},i.refreshUserProfileAccounts=function(a){i.counter=0,f.showLoading(!0),e(function(){i.refreshUserProfile().then(function(b){b.Accounts&&0!=b.Accounts.length?f.showLoading(!1):i.counter<g.refreshUserProfileIterations&&b.ExpiredDemos&&0==b.ExpiredDemos?(i.counter++,i.refreshUserProfileAccounts()):(f.showLoading(!1),a||f.userAccountsValidation(i.getLocalUserProfile()))})},g.refreshUserProfileTimeout)}}angular.module("app").service("UserProfileService",["$http","$sessionStorage","$rootScope","$q","$timeout","CommonService","MyAvaConfig","AuthService",a])}(),function(){function a(a,b,c,d,e){var f=this;c.mobileConfig={},angular.element(b).bind("resize",function(){f.isMobileByScreenWidth(window.innerWidth),f.isTabletByScreenWidth(window.innerWidth)}),f.isMobileByScreenWidth=function(a){var e=a;e||(e=b.innerWidth),768>e?(c.mobileConfig.isMobile=!0,c.mobileConfig.imagePath="/mobile",c.mobileConfig.screenWidth=e):e>=768&&(c.mobileConfig.isMobile=!1,c.mobileConfig.imagePath="/"),d(function(){c.$apply()})},f.isTabletByScreenWidth=function(a){var e=a;e||(e=b.innerWidth),e>=768&&1200>=e?(c.mobileConfig.isTablet=!0,c.mobileConfig.imagePath="/mobile"):(c.mobileConfig.isTablet=!1,c.mobileConfig.imagePath="/"),d(function(){c.$apply()})},f.updateNativeMobileType=function(){c.mobileConfig.isNativeMobile=!!e.AppType},f.isNativeMobile=function(a){c.mobileConfig.isNativeMobile=a&&a!=window.AppPlatform.web;var b=a&&a!=window.AppPlatform.web;return c.theme=b&&a==window.AppPlatform.mt4?" avatradego-theme ":"",b},f.DownloadApp=function(b){var c=null;return b.AccountLinks&&b.AccountLinks.MobileDownLoadLink&&(a.isAndroid()?c=b.AccountLinks.MobileDownLoadLink.GoogleStore||null:a.isiOS()&&(c=b.AccountLinks.MobileDownLoadLink.AppStore||null)),c},f.IsAndroid=function(){return a.isAndroid()},f.IsIos=function(){return a.isiOS()},f.appendTrackingParams=function(a){var b="",c="?",d=getTrackingKeys(),f=e.trackingParameter;void 0!=e.trackingParameter&&angular.forEach(d,function(a,d){jQuery.each(f[0],function(e,f){d!=e||IsNullOrEmty(f)||(b+=c+a+"="+f,"?"==c&&(c="&"))})})}}angular.module("app").service("MobileService",["$detection","$window","$rootScope","$timeout","$sessionStorage",a])}(),function(){function a(a){var b=this;b.setTrackingParameters=function(b){var c=new Date,d=b&&b.search()?b.search():void 0;if(void 0!=d){var e=[];jQuery.each(d,function(a,b){var c=a.toLowerCase();e[c]=b});var f=e.tag,g={};g.Tag=f||"",g.TagId=f||"",g.TagTwo=e.tag2||"",g.TagSource=e.ts||"",g.Referer=e.ref||"",g.DsTwo=e.ds2||"",g.EfId=e.ef_id||"",g.Gclid=e.gclid||"",g.PClickId=e.clickid||"",g.Custom1=e.custom1||"",g.Custom2=e.custom2||"",g.IsDefault=!1,g.CreatedDate="/Date("+c.getTime()+")/";var h=[];h.push(g),a.trackingParameter=h,a.CampaignName=e.cname||null,a.PromotionID=e.pid||null}}}angular.module("app").service("TrackingService",["$sessionStorage",a])}(),function(){function a(a,b){var c=this,d=!1;c.enterPageEvent=function(a){try{$solitics&&$solitics.onPageEnter(a.fullPath,"{}")}catch(b){console.log(b)}};var e=function(b){$soliticsPush.registerApp(b.CustomerID,b.Email,b.CustomerID,a.soliticsAccessToken,function(){console.log("solitics RegisterUser success: "+b.CustomerID)},function(){console.log("solitics RegisterUser Failed")})};c.registerEvent=function(){const a=b.getUserProfile();e(a)},c.loginEvent=function(a){$solitics&&$solitics.onLoginSuccess(a.CustomerID,a.Email,"avatrade"),e(a)},c.exitDepositEvent=function(a){$solitics&&!d&&$solitics.onPageLeave(a,"{}"),d=!1},c.updateDepositData=function(a,b){_isDepositPage=a,d=b},c.onTradingPlatformClick=function(a){$solitics&&$solitics.onClick(a,"{}")},c.depositEvent=function(a){d=!0,$solitics&&$solitics.emit("deposit",a.DepositAmount,'{"paymentMethod":"'+a.PaymentMethodName+'"}')},c.withdrawEvent=function(a){$solitics&&$solitics.emit("withdraw",a.WithdrawAmount,'{"paymentMethod":"'+a.PaymentMethodName+'"}')}}angular.module("app").service("SoliticsService",["MyAvaConfig","AuthService",a])}(),function(){function a(a,b,c,d,e,f,g,h,i){a.$on("$stateChangeSuccess",function(a){try{var b={fullPath:c.absUrl(),relativePath:c.url()};f.pageChanged(b),g.enterPageEvent(b),e.start(b),h.pageChanged(b)}catch(d){console.log(d)}}),a.$on("$paymentMethodChanged",function(a,b){try{var g=d.getUserProfile();if(null!==g){var i={paymentMethod:b,relativePath:c.url(),absolutePath:c.absUrl(),customerID:g.CustomerID};f.partOfThePageChanged(i),e.paymentMethodChanged(i),h.paymentMethodChanged(i)}}catch(j){console.log(j)}}),a.$on("$locationChangeStart",function(a,b,c){try{if(b.includes("my_account")&&!b.includes("LoginToken")&&c.includes("my_account?LoginToken")){var j=d.getUserProfile();if(null!==j){var k={customerId:j.CustomerID,email:j.Email};e.loginEvent(k),f.loginEvent(k),g.loginEvent(j),h.loginEvent(k),i.loginEvent(j)}}else c.includes("deposit")&&b!==c&&g.exitDepositEvent(c)}catch(l){console.log(l)}}),a.$on("signupSuccess",function(a,b){try{e.signupEvent(b),f.registerEvent(b),h.signupEvent(b),g.registerEvent(),i.registerEvent()}catch(c){console.log(c)}}),a.$on("deposit",function(a,b){try{e.depositEvent(b),g.depositEvent(b),b.IsFtd?(f.ftdEvent(b),h.ftdEvent(b)):(f.depositEvent(b),h.depositEvent(b))}catch(c){console.log(c)}}),a.$on("withdraw",function(a,b){try{e.withdrawEvent(b),f.withdrawEvent(b),g.withdrawEvent(b),h.withdrawEvent(b)}catch(c){console.log(c)}}),a.$on("proTraderSuccess",function(a){try{var c={customerId:b.selectedAccount.CustomerID,tpNumber:b.selectedAccount.TPAccountID};f.proTraderRegistrationEvent(c),f.proTraderPopupMessage(),h.proTraderRegistrationEvent(c)}catch(d){console.log(d)}}),a.$on("uploadDocuments",function(a,b){try{f.uploadDocumentsEvent(b),h.uploadDocumentsEvent(b)}catch(c){console.log(c)}}),a.$on("typPopUpEurope",function(a){try{f.typPopupEuropeMessage(),h.typEuPopup()}catch(b){console.log(b)}}),a.$on("mediumScore",function(a){try{f.appropriatenessMediumScoreMessage(),h.appropriatenessMediumScore()}catch(b){console.log(b)}}),a.$on("lowScore",function(a){try{f.appropriatenessLowScoreMessage(),h.appropriatenessLowScore()}catch(b){console.log(b)}}),a.$on("sessionExpired",function(a){try{f.sessionExpiredPopupMessage(),h.sessionExpiredEvent()}catch(b){console.log(b)}}),a.$on("upgradeAccountPopup",function(a){try{f.upgradeAccountPopupMessage(),h.upgradeAccountPopupEvent()}catch(b){console.log(b)}}),a.$on("withdrawalInsufficientFunds",function(a){try{f.insufficientFundsMessage(),h.insufficientFundsEvent()}catch(b){console.log(b)}}),a.$on("withdrawalUploadDocsNeeded",function(a){try{f.withrawalUploadDocsNeededMessage(),h.withrawalUploadDocsNeededEvent()}catch(b){console.log(b)}}),a.$on("withdrawalDocumentsNotApproved",function(a){try{f.withrawalDocumentNotApprovedMessage(),h.withrawalDocumentNotApprovedEvent()}catch(b){console.log(b)}}),a.$on("forgotPassword",function(a){try{f.forgotPasswordMessage(),h.forgotPasswordEvent()}catch(b){console.log(b)}}),a.$on("depositTransactionFailed",function(a){try{f.depositTransactionFailedMessage(),h.depositTransactionFailedEvent()}catch(b){console.log(b)}}),a.$on("warningChangePasswordExpiration",function(a){try{f.warningChangePasswordExpirationMessage(),h.warningChangePasswordExpirationEvent()}catch(b){console.log(b)}}),a.$on("mustChangePasswordExpiration",function(a){try{f.warningChangePasswordExpirationMessage(),h.mustChangePasswordExpirationEvent()}catch(b){console.log(b)}}),a.$on("removeCreditCard",function(a){try{f.removeCreditCardMessage(),h.removeCreditCardEvent()}catch(b){console.log(b)}}),a.$on("termsAndConditionsPopup",function(a){try{f.termsAndConditionsPopupMessage(),h.termsAndConditionsPopupEvent()}catch(b){console.log(b)}}),a.$on("exitUploadDocs",function(a){try{f.exitUploadDocsMessage(),h.exitUploadDocsEvent()}catch(b){console.log(b)}}),a.$on("canadaRiskDisclosurePopup",function(a){try{f.canadaRiskDisclosurePopupMessage(),h.canadaRiskDisclosurePopupEvent()}catch(b){console.log(b)}}),a.$on("onTradingPlatformClick",function(a,b){try{g.onTradingPlatformClick(b),h.onTradingPlatformClick(b)}catch(c){console.log(c)}}),a.$on("formSubmission",function(a,b){try{f.formSubmission(b)}catch(c){console.log(c)}}),a.$on("AcceptReferFriendTC",function(a){try{f.ReferFriend_TC_Accept()}catch(b){console.log(b)}}),a.$on("ReferFriendTC_ClickOnX",function(a){try{f.ReferFriend_TC_X()}catch(b){console.log(b)}}),a.$on("ReferFriendSocial_Facebook",function(a){try{f.ReferFriend_Social_Facebook()}catch(b){console.log(b)}}),a.$on("ReferFriendSocial_Whatsapp",function(a){try{f.ReferFriend_Social_Whatsapp()}catch(b){console.log(b)}}),a.$on("ReferFriendSocial_Gmail",function(a){try{f.ReferFriend_Social_Gmail()}catch(b){console.log(b)}}),a.$on("ReferFriendSocial_CopyLink",function(a){try{f.ReferFriend_Social_LinkCopy()}catch(b){console.log(b)}}),a.$on("ReferFriendDeposit",function(a){try{f.ReferFriend_Deopsit_TYP()}catch(b){console.log(b)}}),a.$on("DupliTradeClickConnect",function(a){try{f.DupliTradeClickConnect()}catch(b){console.log(b)}}),a.$on("DupliTradeClickGoTo",function(a){try{f.DupliTradeClickGoTo()}catch(b){console.log(b)}}),a.$on("DupliTradeToolTip",function(a){try{f.DupliTradeToolTip()}catch(b){console.log(b)}}),a.$on("DupliTradeThankYouConnect",function(a){try{f.DupliTradeThankYouConnect()}catch(b){console.log(b)}}),a.$on("ReferFriendFromStateDeposit",function(a){try{f.ReferFriend_Get_From_Deposit()}catch(b){console.log(b)}})}angular.module("app").service("MarketingEventsService",["$rootScope","$sessionStorage","$location","AuthService","DynamicYieldService","DecibelService","SoliticsService","SmartBidService","PushwooshService",a])}(),function(){function a(a,b,c,d){var e=this;e.loginEvent=function(a){DY.API("event",{name:"Login",properties:{dyType:"login-v1",cuid:a.customerId,cuidType:"Customer_Id"}})},e.signupEvent=function(a){var b=c.getUserProfile();null!=b&&null!=b.Accounts&&b.Accounts.length>0&&DY.API("event",{name:a.registrationType,properties:{dyType:"signup-v1",cuid:b.CustomerID,cuidType:"Customer_Id",metadata:{tpNumber:a.tpNumber}}})},e.depositEvent=function(a){void 0==a||1!=a.PaymentMethodProvider&&"Praxis"!==a.PaymentMethodName||DY.API("event",{name:"Deposit",properties:{value:a.DepositAmount,currency:a.CurrencyName,customerId:a.CustomerId,paymentMethod:a.PaymentMethodName,ftd:a.IsFtd}})},e.withdrawEvent=function(a){DY.API("event",{name:"Withdraw",properties:{value:a.WithdrawAmount,currency:a.Currency.symbol,customerId:a.CustomerId,paymentMethod:a.PaymentMethodName}})},e.start=function(a){DY.API("spa",{context:DY.recommendationContext,url:a.fullPath,countAsPageview:!0})},e.paymentMethodChanged=function(a){DY.API("spa",{context:DY.recommendationContext,url:a.absolutePath+"/"+a.paymentMethod.replace(" ","_"),countAsPageview:!1})}}angular.module("app").service("DynamicYieldService",["$location","$rootScope","AuthService","$sessionStorage",a])}(),function(){function a(a){var b=this;b.pageChanged=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("trackPageView",a.relativePath)},b.partOfThePageChanged=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("trackPageView",a.relativePath,{fragment:a.paymentMethod})},b.loginEvent=function(a){"undefined"!=typeof decibelInsight&&(decibelInsight("updateUserId",a.customerId),decibelInsight("sendGoal","login"))},b.registerEvent=function(b){if("undefined"!=typeof decibelInsight){var c=a.getUserProfile();null!==c&&null!==c.Accounts&&c.Accounts.length>0&&(decibelInsight("updateUserId",c.CustomerID),"real"==b.type.toLowerCase()?decibelInsight("sendGoal","realRegistration"):decibelInsight("sendGoal","demoRegistration"))}},b.proTraderRegistrationEvent=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","profTraderRegistration")},b.depositEvent=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Deposit",a.DepositAmount,a.CurrencyName)},b.ftdEvent=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","FirstTimeDeposit",a.DepositAmount,a.CurrencyName)},b.withdrawEvent=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Withdraw",a.WithdrawAmount,a.Currency.symbol)},b.uploadDocumentsEvent=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","docsUploadAccountConfirmation")},b.typPopupEuropeMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Real registration Thank you pop-up  EU")},b.appropriatenessMediumScoreMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Appropriateness - Medium Score")},b.appropriatenessLowScoreMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Appropriateness - Low Score")},b.proTraderPopupMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Professional trader pop-up  EU")},b.sessionExpiredPopupMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Session expired pop-up")},b.upgradeAccountPopupMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Upgrade real pop-up")},b.insufficientFundsMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Withdraw Validations - insufficient funds")},b.withrawalUploadDocsNeededMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Withdraw Validations - Need to upload docs")},b.withrawalDocumentNotApprovedMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Withdraw Validations - Docs not approved")},b.forgotPasswordMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Forgot password - In personal details")},b.depositTransactionFailedMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Deposit - transaction failed")},b.warningChangePasswordExpirationMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","GDPR Change password - Customer did not change password 6 months-14 days: Warning")},b.mustChangePasswordExpirationMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","GDPR Change password - Customer did not change password for >= 6 months: Must Change")},b.removeCreditCardMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Deposit  remove CC")},b.termsAndConditionsPopupMessage=function(){decibelInsight("sendApplicationError","Terms and condition - reacccept popup")},b.exitUploadDocsMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Upload docs - click out")},b.canadaRiskDisclosurePopupMessage=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendApplicationError","Canada risk disclosure  end of registration")},b.formSubmission=function(a){"undefined"!=typeof decibelInsight&&decibelInsight("formSubmitted",a)},b.ReferFriend_TC_Accept=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Accept T&C")},b.ReferFriend_TC_X=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Not Accept T&C (Click on X button)")},b.ReferFriend_Social_Facebook=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Click on Facebook")},b.ReferFriend_Social_Whatsapp=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Click on Whatsapp")},b.ReferFriend_Social_Gmail=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Click on Gmail")},b.ReferFriend_Social_LinkCopy=function(){
"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Link Copy")},b.ReferFriend_Deopsit_TYP=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Show in Deposit TYP")},b.DupliTradeClickConnect=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","DupliTrade - MyAccount - Click on connect to DupliTrade")},b.DupliTradeClickGoTo=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","DupliTrade - MyAccount - Click on go to DupliTrade")},b.DupliTradeToolTip=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","DupliTrade - MyAccount - Click on tooltip")},b.DupliTradeThankYouConnect=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","DupliTrade - Thank you page after registration - Click on connect to DupliTrade")},b.ReferFriend_Get_From_Deposit=function(){"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","Refer Friend - Get to Refer Friend From Deposit Page")},b.sideMenuNavigation=function(a){switch(a){case"account_info":"undefined"!=typeof decibelInsight&&decibelInsight("sendGoal","MyInfoClickSideMenu","MyInfo - Click MyInfo on the left side menu")}}}angular.module("app").service("DecibelService",["AuthService",a])}(),function(){function a(a){var b=this;b.loginEvent=function(a){b.sendPushWooshTags(a)},b.registerEvent=function(){const c=a.getUserProfile();b.sendPushWooshTags(c)},b.sendPushWooshTags=function(a){if(!(a.Tags.length&&a.Tags.indexOf("Webtrader")>-1)){const b=a.Accounts.map(function(a){return a.AccountId});Pushwoosh.push(["onReady",function(c){c.setTags({CustomerID:a.CustomerID,AccountID:b}),c.registerUser(a.CustomerID)}])}}}angular.module("app").service("PushwooshService",["AuthService",a])}(),function(){function a(a,b){var c=this;c.loginEvent=function(a){null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"login",cu_id:a.customerId,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"login",cu_id:a.customerId})},c.pageChanged=function(a){null!=b.userProfile?null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"pv",cu_id:b.userProfile.CustomerID,clid:b.userProfile.SignupAclid,page:a.fullPath}):sbidTracking.track({e:"pv",cu_id:b.userProfile.CustomerID,page:a.fullPath}):sbidTracking.track({e:"pv",page:a.fullPath});var c=sbidTracking.getFromDataStore("my_currernt_page");c&&sbidTracking.setInDataStore("myava_prev_page",c),sbidTracking.setInDataStore("my_currernt_page",window.location.href)},c.signupEvent=function(a){if(null!=a.customerId){var c=getSmartBidEventName(a.registrationType);null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:c,cu_id:a.customerId,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:c,cu_id:a.customerId})}},c.depositEvent=function(a){void 0==a||1!=a.PaymentMethodProvider&&"Praxis"!==a.PaymentMethodName||(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"deposit",cu_id:a.CustomerId,clid:b.userProfile.SignupAclid,p:[{amount:a.DepositAmount,currency:a.CurrencyName,paymentMethod:a.PaymentMethodName}]}):sbidTracking.track({e:"deposit",cu_id:a.CustomerId,p:[{amount:a.DepositAmount,currency:a.CurrencyName,paymentMethod:a.PaymentMethodName}]}))},c.withdrawEvent=function(a){null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"withdraw",cu_id:a.CustomerId,clid:b.userProfile.SignupAclid,p:[{amount:a.WithdrawAmount,currency:a.Currency.symbol,paymentMethod:a.PaymentMethodName}]}):sbidTracking.track({e:"withdraw",cu_id:a.CustomerId,p:[{amount:a.WithdrawAmount,currency:a.Currency.symbol,paymentMethod:a.PaymentMethodName}]})},c.uploadDocumentsEvent=function(a){null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"upload_documents",cu_id:a.customerID,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"upload_documents",cu_id:a.customerID})},c.ftdEvent=function(a){void 0==a||1!=a.PaymentMethodProvider&&"Praxis"!==a.PaymentMethodName||(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"first_time_deposit",cu_id:a.CustomerId,clid:b.userProfile.SignupAclid,p:[{amount:a.DepositAmount,currency:a.CurrencyName,paymentMethod:a.PaymentMethodName}]}):sbidTracking.track({e:"first_time_deposit",cu_id:a.CustomerId,p:[{amount:a.DepositAmount,currency:a.CurrencyName,paymentMethod:a.PaymentMethodName}]}))},c.paymentMethodChanged=function(a){null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"payment_method_changed",cu_id:a.customerID,clid:b.userProfile.SignupAclid,p:[{paymentMehod:a.paymentMethod}]}):sbidTracking.track({e:"payment_method_changed",cu_id:a.customerID,p:[{paymentMehod:a.paymentMethod}]})},c.proTraderRegistrationEvent=function(a){null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"professional_trader_registration",cu_id:a.customerID,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"professional_trader_registration",cu_id:a.customerID})},c.typEuPopup=function(){null!==b.customerData&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"typ_eu_popup",cu_id:b.customerData.customerId,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"typ_eu_popup",cu_id:b.customerData.customerId}))},c.appropriatenessMediumScore=function(){null!==b.customerData&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"medium_score",cu_id:b.customerData.customerId,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"medium_score",cu_id:b.customerData.customerId}))},c.appropriatenessLowScore=function(){null!==b.customerData&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"low_score",cu_id:b.customerData.customerId,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"low_score",cu_id:b.customerData.customerId}))},c.sessionExpiredEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c?null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"session_expired",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"session_expired",cu_id:c}):void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"session_expired",clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"session_expired"})},c.upgradeAccountPopupEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"upgrade_account_popup",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"upgrade_account_popup",cu_id:c}))},c.insufficientFundsEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"insufficient_funds",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"insufficient_funds",cu_id:c}))},c.withrawalUploadDocsNeededEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"withdrawal_upload_docs_needed",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"withdrawal_upload_docs_needed",cu_id:c}))},c.withrawalDocumentNotApprovedEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"withdrawal_documents_not_approved",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"withdrawal_documents_not_approved",cu_id:c}))},c.forgotPasswordEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"forgot_password",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"forgot_password",cu_id:c}))},c.depositTransactionFailedEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"deposit_transaction_failed",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"deposit_transaction_failed",cu_id:c}))},c.warningChangePasswordExpirationEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"warning_change_password_expiration",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"warning_change_password_expiration",cu_id:c}))},c.mustChangePasswordExpirationEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"must_change_password_expiration",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"must_change_password_expiration",cu_id:c}))},c.removeCreditCardEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"remove_credit_card",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"remove_credit_card",cu_id:c}))},c.termsAndConditionsPopupEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"terms_and_conditions_popup",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"terms_and_conditions_popup",cu_id:c}))},c.exitUploadDocsEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"exit_upload_docs_in_the_middle",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"exit_upload_docs_in_the_middle",cu_id:c}))},c.canadaRiskDisclosurePopupEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"canada_risk_disclosure_popup",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"canada_risk_disclosure_popup",cu_id:c}))},c.onTradingPlatformClick=function(c){var d=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==d&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"on_trading_platform_click",cu_id:d,clid:b.userProfile.SignupAclid,p:[{platform:c}]}):sbidTracking.track({e:"on_trading_platform_click",cu_id:d,p:[{platform:c}]}))},c.withrawalDocumentNotApprovedEvent=function(){var c=a.getUserProfile()?a.getUserProfile().CustomerId:null;null!==c&&(null!=b.userProfile&&void 0!=b.userProfile.SignupAclid&&null!==b.userProfile.SignupAclid?sbidTracking.track({e:"withdrawal_documents_not_approved",cu_id:c,clid:b.userProfile.SignupAclid}):sbidTracking.track({e:"withdrawal_documents_not_approved",cu_id:c}))},getSmartBidEventName=function(a){return"ShortDemo"==a?"signup_existing_customer_additional_demo":"ShortReal"==a?"signup_existing_customer_additional_real":"FullReal"==a?"signup_new_customer_real":"FullDemo"==a?"signup_new_customer_demo":"WebTraderReal"==a?"signup_webtrader_new_customer_real":"WebTraderDemo"==a?"signup_ webtrader _new_customer_demo":void 0}}angular.module("app").service("SmartBidService",["AuthService","$sessionStorage",a])}(),function(){function a(a){return{restrict:"A",link:function(a,b,c){c.$observe("val",function(a){b.prev("span")[""!=a?"addClass":"removeClass"]("active")})}}}angular.module("app").directive("floatLabel",["$window",a])}(),function(){angular.module("app").directive("ngTouchend",function(){return{link:function(a,b,c){function d(c){var d=b.attr("ng-touchend");a.$event=c,a.$apply(d)}b.bind("touchend",d)}}})}(),function(){angular.module("app").directive("ngTouchstart",function(){return{link:function(a,b,c){function d(c){var d=b.attr("ng-touchstart");a.$event=c,a.$apply(d)}b.bind("touchstart",d)}}})}(),function(){var a=function(a,b,c,d,e,f,g,h,i){function j(a){if(!/ifTrigger/i.test(a))return"";var b=a.match(/ifTrigger\(\!?([\w\.\!\=]+)\)/)[1],c=b&&b.replace(/[\=\d]+$/,""),d=a.match(/ifTrigger\((\!?)[\w\.\!\=]+\)/)[1];return' ng-if="dataobject.'+c+"!=undefined && "+d+"dataobject."+b+'"'}var k=0,l=f.appType,m=l&&l!=window.AppPlatform.web,n=a.Theme,o=function(a){var b={},c="";if(66==a.QuestionId||1==a.QuestionId,a.ValidationMessages.length>0){c='validator="';var d="",e="";angular.forEach(a.ValidationMessages,function(f,g){switch(null!=f.ValidateTrigger&&(e='valid-method="'+f.ValidateTrigger+'"'),f.Type){case 1:c+=2==f.QuestionId?"":"required,",d+=' required-error-message="'+f.Message+'" ';break;case 2:c+="minlength="+f.Value+",",d+=' minlength-error-message="'+f.Message+'" ';break;case 3:c+="maxlength="+f.Value+",",d+=' maxlength-error-message="'+f.Message+'" ',b.attr='maxlength="'+f.Value+'"';break;case 4:c+="minvalue="+f.Value+",",d+=' minvalue-error-message="'+f.Message+'" ';break;case 5:c+="maxvalue="+f.Value+",",d+=' maxvalue-error-message="'+f.Message+'" ';break;case 6:c+="requiredgroup="+k+",";break;case 7:c+="required,",d+=' required-error-message="'+f.Message+'" ';break;case 10:c+="number,",d+=' number-error-message="'+f.Message+'" ';break;case 11:c+="fulldate,",d+=' fulldate-error-message="'+f.Message+'" ';break;case 12:c+="dateGroupRequired,",d+=' date-group-required-error-message="'+f.Message+'" ';break;case 13:c+="ageNotValid,",d+=' age-not-valid-error-message="'+f.Message+'" ';break;case 14:c+="phoneNotValid,",d+=' phone-not-valid-error-message="'+f.Message+'" ';break;case 15:c+="languageNotValid="+f.Value+",",d+=' language-not-valid-error-message="'+f.Message+'" ';break;case 16:c+="requiredDependent,",d+=' required-dependent-error-message="'+f.Message+'" ';break;case 18:c+="customregex="+f.Value+",",d+=' customregex-error-message="'+f.Message+'" ';break;case 19:c+="idNotValid,",d+=' id-not-valid-error-message="'+f.Message+'" ';break;case 20:c+="RequiredOnCondition,",d+='  required-on-condition-error-message="'+f.Message+'" ';var h;switch(a.QuestionDependencies[0].OnCondition){case"=":h="{{dataobject."+a.QuestionDependencies[0].DependentQuestion+" == "+a.QuestionDependencies[0].DependentAnswer+"}}";break;case"!=":h="{{dataobject."+a.QuestionDependencies[0].DependentQuestion+" != "+a.QuestionDependencies[0].DependentAnswer+"}}";break;default:h=!1}b.attr=' data-isactive="'+h+'" '}}),c=c.slice(0,-1),c+='"',b.validator=c,b.messages=d,b.validateTrigger=e}return b},p=function(c,d,f){var g=[],k=!0;/NamePronounce/i.test(c.FieldName);var l=e.IsCorporate,p={rnd:Math.random().toString(6).slice(-6),type:"text",idPrefix:"txt",id:c.QuestionId||"",title:c.IncentiveText||"",name:c.FieldName.replace(/\./g,"")||"",placeholder:"",extraClass:{rowQuestion:"",questionText:"",inputWrapper:"",inputWrapperWidth:"",input:""},extraAttr:{inputWrapper:"",input:""},beforeInput:"",model:c.FieldName||"",validator:null,tooltip:"",autocomplete:"",ifTrigger:j(c.Action),isCorporatePrefix:void 0!=l?l?"C":"P":"",googleMapsType:c.GoogleMapsType,editBtn:"",isDisabled:"",searchIcon:""};if(/tooltip/i.test(c.Action)){var q=c.Action.match(/tooltip\((\w+\.?\w+)\,?(\w+)?\)/),s=q[1]+p.isCorporatePrefix,t=q[2]||!0;t=JSON.parse(t),p.tooltip='<p class="text-red link-help '+(t?"":"no-link")+'"'+(t?" data-tooltip=\"{{ '"+s+"Text' | translate }}\"":"")+' onclick="return true">{{ \''+s+"' | translate }}</p>"}var v=-1!=i.ChinaCountriesCode.indexOf(b.ipCountryCode);switch(c.IsDisabled&&!v&&(p.isDisabled+=" disabled"),c.QuestionType){case"AutoComplete":v&&(p.extraClass.inputWrapperWidth+=" hide ");var w="";p.idPrefix="auto",p.placeholder=p.title,p.extraClass.inputWrapper+='<div class="input-group address-line1 loading-icon">',p.extraAttr.input='ng-autocomplete="dataobject.'+p.model+'" field="'+p.name+'"  placeholder="'+p.placeholder+'" ',p.editBtn='<div class="input-group-btn"><button class="btn btn-default blue-icon edit-btn" id="editBtn" ><i class="glyphicon glyphicon-pencil"></i></button></div>',p.searchIcon=" ",g.push('<div class="row question floating-label-wrapper float-input-row'+p.extraClass.inputWrapperWidth+'" '+p.ifTrigger+'><div class="col-xs-12">'),g.push(p.extraClass.inputWrapper),g.push('<span class="text">'+c.QuestionText+"</span>"),g.push('<input float-label placeholder="'+c.QuestionText+'" type="text" id="'+p.idPrefix+p.id+'" name="'+c.FieldName+'" class="ava-input '+p.searchIcon+'" ng-model="dataobject.'+c.FieldName+'" ng-autocomplete="dataobject.'+c.FieldName+'" data-GoogleMapsType="'+p.googleMapsType+'" field="'+c.FieldName+"\" ng-class=\"{'empty': !dataobject."+c.FieldName+'}"  val="{{dataobject.'+c.FieldName+'}}" '+w+" "),g.push(' disabled data-di-field-error data-di-field-id="'+p.idPrefix+p.id+'"');var x=o(c);g.push(x.validator),g.push(x.messages),x.attr&&g.push(x.attr),g.push(">"),"iframe"==n&&g.push('<label for="'+p.idPrefix+p.id+'" class="floatingLabel">'+c.QuestionText+"</label>"),g.push(p.editBtn),g.push('<span class="flags"></span>'),g.push("</label>"),g.push("</div></div></div>");break;case"Question":k=!1,g.push("<div"),c.QuestionDependencies&&c.QuestionDependencies.length&&g.push(' class="row question ava-row inset-input-row margin-row panel-body" question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="[\''+c.QuestionDependencies[0].DependentAnswer.join("','")+"']\" "),g.push(">"+c.QuestionText+"</div> ");break;case"CheckboxRadioList":break;case"InputText":var y=j(c.Action);g.push('<div class="row question floating-label-wrapper float-input-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" >')):g.push(">"),null==c.InLine||c.InLine?(g.push('<div class="col-xs-12"><label><span class="text">'+c.QuestionText+"</span>"),g.push('<input float-label placeholder="'+c.QuestionText.replace('"',"&quot;")+'" id="txt'+p.id+'" name="'+c.FieldName+'" ng-model="dataobject.'+c.FieldName+'"'+p.isDisabled+' data-GoogleMapsType="'+p.googleMapsType+'"  val="{{dataobject.'+c.FieldName+"}}\" ng-class=\"{'empty': !dataobject."+c.FieldName+'}" class="ava-input"  type="text"'),g.push(' data-di-field-error data-di-field-id="txt'+p.id+'"')):(g.push('<div class="col-xs-12"><label><span class="label-span">'+c.QuestionText+"</span>"),g.push('<input float-label id="txt'+p.id+'" name="'+c.FieldName+'" ng-model="dataobject.'+c.FieldName+'"'+p.isDisabled+' data-GoogleMapsType="'+p.googleMapsType+'" val="{{dataobject.'+c.FieldName+"}}\" ng-class=\"{'empty': !dataobject."+c.FieldName+'}" class="ava-input"  type="text"'),g.push(' data-di-field-error data-di-field-id="txt'+p.id+'"'));var x=o(c);g.push(x.validator),g.push(x.messages),x.attr&&g.push(x.attr),g.push(">"),"iframe"==n&&g.push('<label for="txt'+p.id+'" class="floatingLabel">'+c.QuestionText+"</label>"),g.push('<span class="flags"></span>'),g.push("</label>"),g.push("</div>"),g.push('<div class="col-xs-12">'+p.tooltip+"</div>"),g.push("</div>");break;case"InputPhone":p.idPrefix="phone",p.userCountryCode=b.step1Data&&b.step1Data.PhoneNumber?b.step1Data.PhoneNumber.match(/^(\d{1,3})-\d{7,25}$/)[1]:"81",p.extraClass.inputWrapper=" iti-input-phone",p.extraAttr.inputWrapper='data-country-code="'+p.userCountryCode+'"',g.push('<div class="row question floating-label-wrapper float-input-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'">')):g.push(">"),g.push('<div class="col-xs-12"><label class="iti-input-phone" data-country-code="'+p.userCountryCode+'"><span class="text">'+c.QuestionText+"</span>"),g.push('<input float-label placeholder="'+c.QuestionText.replace('"',"&quot;")+'" id="phone'+p.id+'" name="'+c.FieldName+'" ng-model="dataobject.'+c.FieldName+'" val="{{dataobject.'+c.FieldName+'}}" class="ava-input"  type="text"'),g.push(' data-di-field-error data-di-field-id="phone'+p.id+'"');var x=o(c);g.push(x.validator),g.push(x.messages),x.attr&&g.push(x.attr),g.push(">"),g.push('<span class="flags"></span>'),g.push("</label>"),g.push("</div></div>");break;case"InputPassword":var z=sessionStorage||{FirstName:"",LastName:""},A=z.firstName+" "+z.lastName;if(/ConfirmPassword/i.test(p.name)){k=!1;break}f.isValidPassword=!1;var x=o(c);g.push('<password-cmp  password-text="'+c.QuestionText+'" id="pass'+p.id+'"  name="'+c.FieldName.toString()+'"  user-name="'+A+'" is-valid-password="'+f.isValidPassword+'" message="'+c.ValidationMessages[0].Message+'"></password-cmp>');break;case"RadioList":k=!1,p.idPrefix="radio",8==p.id&&8==a.businessGroupId||(g.push('<div class="row question input-row"'),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'"'),g.push(' ng-if="['+f.answers+"].indexOf( dataobject."+c.QuestionDependencies[0].DependentQuestion+') > -1" >')):g.push(" >"),g.push('<div class="col-xs-12"><span class="label-span" ng-class="{\'correct\' : markers.'+c.FieldName+">0, 'error': markers."+c.FieldName+'==0}">'+c.QuestionText+"</span>"),g.push('<div class="list">'),g.push(p.tooltip),angular.forEach(c.Answers,function(a,b){g.push('<label class="item" for="'+p.idPrefix+p.id+"_"+b+'">'),a.Icon&&"iframe"==n&&g.push('<i class=" fal fa-'+a.Icon+" "+a.IconColor+'"></i>');c.Action?/change/i.test(c.Action)?"dataobject."+c.Action.match(/\((\w+)\)/)[1]+"="+a.Value:c.Action:"dataobject.scores."+c.FieldName.replace(".","_")+"="+a.Score;g.push('<input id="'+p.idPrefix+p.id+"_"+b+'" message-id="msg'+p.id+'" ng-click="answerChanged(\''+p.name+"',dataobject."+c.FieldName+');radioChecked($event);" type="radio" name="'+c.FieldName+'"  ng-model="dataobject.'+c.FieldName+'"  ng-value="'+a.Value+'" ');var d=o(c);g.push(d.validator),g.push(d.messages),g.push("/>"),g.push('<div ng-if="'+!(a.Icon&&"iframe"==n)+'" class="radio-label-text">'+a.Text+"</div>"),g.push("</label>")}),g.push("</div>"),g.push('<div id="msg'+p.id+'"></div>'),g.push("</div>"));break;case"ExpansionPanel":k=!1,g.push('<uib-accordion close-others="oneAtATime" class="registration-accordion w-100">'),g.push("<uib-accordion-group is-open= "+c.DefaultValue+' class="panel-border--bottom">'),g.push("<uib-accordion-heading>"),g.push('<div class="row">'),g.push('<div class="col-xs-10">'),g.push('<span class="header-text" data-di-unmask-field>'+c.QuestionText+"</span>"),g.push("</div>"),g.push('<div class="col-xs-2">'),g.push("<span class=\"icon col-md-offset-11\" ng-class=\"{'fal fa-chevron-up': status.open, 'fal fa-chevron-down': !status.open}\"></span>"),g.push("</div>"),g.push("</div>"),g.push("</uib-accordion-heading>"),g.push(c.QuestionSubText),g.push("</uib-accordion-group></uib-accordion>");break;case"CheckBox":k=!1;var x=o(c),B="";if(g.push('<div class="row question ava-row inset-input-row margin-row" id="cnt'+p.id+'"'),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0){f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")});var C=Object.keys(a.dataObject).filter(function(a){return/step/.test(a)}).some(function(b){return Object.keys(a.dataObject[b]).indexOf(c.QuestionDependencies[0].DependentQuestion)>-1});C&&(g.push(" ng-hide "),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'"'));var D=null!=a.userProfile&&null!=a.userProfile.EnforceBusinessGroup||null!=a.enforceBG?"'true'":"'false'";B=' ng-if="['+f.answers+"].indexOf("+D+') > -1" ',g.push(B+" >")}else g.push(">");g.push('<div class="col-xs-12">'),null!=c.QuestionMarkPopup&&g.push('<div class="col-xs-4 visible-xs right-section qMarkMobile"><img class="cursor-pointer" src="/images/q_mark.png" ng-click="openUSValidationPopup(\''+c.QuestionMarkPopup+"')\" /></div>"),g.push('<div class="terms '+c.FieldName+'"><input id="chbx'+p.id+'" class="checBox-pad checkbox-custom" message-id="msg'+p.id+'"  ng-init="dataobject.'+c.FieldName+"="+f.checkboxValue(c.DefaultValue,c.FieldName)+'"  name="'+c.FieldName+'" type="checkbox" ng-model="dataobject.'+c.FieldName+'" '),null!=c.Action&&g.push("ng-click=\"trigger({action:'"+c.Action+"'})\""),g.push(x.validator),g.push(x.messages),g.push("/>"),g.push('<label class="checkbox label-custom" for="chbx'+p.id+'">'),g.push('<span class="label-text">'+c.QuestionText+"</span>"),g.push("</label>"),g.push('<div class="custom-msg-cnt" id="msg'+p.id+'"></div>'),g.push("</div>");break;case"PickList":case"CountryPickList":p.type="select",p.idPrefix="slct",p.extraClass.questionText="pickList-qs",c.Action=null!=c.Action?c.Action:" ",g.push('<div class="row question input-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'">')):g.push(">"),g.push('<div class="col-xs-12"><label><span class="label-span">'+c.QuestionText+"</span>");var E=/Android.+Mobile|iPad|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(!E){var F=null,G="step"+a.dataObject.RegistrationStep,H=a.dataObject[G]?a.dataObject[G][c.FieldName]:a.dataObj[c.FieldName];null!=H&&(F=Object.values(c.Answers).filter(function(a){return a.Value==H})),g.push('<div class="btn-group reg-dropdown-btn-group" uib-dropdown name="'+c.FieldName+'">'),g.push('<button type="button" class="btn btn-primary btn-drop-down-menu-reg" uib-dropdown-toggle >'),g.push('<span class="caret"></span>'),g.push('<span class="reg-dropdown-btn-text">'),F&&g.push(F[0].Text),g.push("</span>"),g.push("</button>"),g.push('<ul class="dropdown-menu reg-ul-dropdown-menu" role="menu">'),g.push('<li role="menuitem">'),c.Answers&&angular.forEach(c.Answers,function(a,b){var d=F&&F[0].Value==a.Value?"reg-dropdown-selected-item":"";g.push('<a class="'+d+'" href="#" ng-click="dataobject.'+c.FieldName+"='"+a.Value+"'; updateSelectedValue($event,'"+a.Text+"','"+c.FieldName+"'); answerChanged('"+p.name+"',dataobject."+c.FieldName+')">'+a.Text+"</a>")}),g.push("</li>"),g.push("</ul>"),g.push("</div>")}g.push('<select ng-hide="'+!E+'" id="'+p.idPrefix+p.id+'" name="'+c.FieldName+'" ng-change="answerChanged(\''+p.name+"',dataobject."+c.FieldName+')" ng-model="dataobject.'+c.FieldName+'" '+c.Action+" "),g.push(' data-di-field-error data-di-field-id="'+p.idPrefix+p.id+'"'),x=o(c),g.push(x.validator),g.push(x.messages),g.push(">"),g.push('<option value="" selected hidden >{{ "ChooseYourAnswer" | translate }}</option>'),c.Answers&&angular.forEach(c.Answers,function(a,b){g.push('<option value="'+a.Value+'"  ng-selected="'+f.selectValue(a.Value,c.DefaultValue,c.FieldName)+'">'+a.Text+"</option>")}),h.isiOS()&&g.push('<optgroup label=""></optgroup>'),g.push("</select>"),g.push('<span help-message class="ng-hide">'),g.push('<p class="help-message">'+p.title+"</p>"),g.push("</span>"),g.push("</label>"),g.push("</div"),g.push('<div class="col-xs-12">'+p.tooltip+"</div>");break;case"InputDate":k=!1;var x=o(c);if(m){var I="dataobject."+c.FieldName,J=/changeMaxYear/i.test(c.Action)?/now/i.test(c.Action.match(/changeMaxYear\((\w+)\)/)[1])?0:parseInt(c.Action.match(/changeMaxYear\((\w+)\)/)[1]):18,K=f.getDisplayDate(new Date(r(J))),L=f.getDisplayDate(new Date(r(95)));g.push('<div class="row question medium-input-row birthday-date-picker-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'">')):g.push(">"),g.push('<div class="col-xs-12">'),g.push('<span class="label-span">'+c.QuestionText+"</span>"),g.push('<div class="birthday-date-picker">'),g.push('<input type="date" value class="date-picker-input ava-input" id="date'+p.id+'Date" name="'+I+'" ng-model="'+I+'" '+x.validator+x.messages+' min="'+L+'" max="'+K+'" message-id="bdate_msg" />'),g.push(p.tooltip),g.push('<span class="glyphicon glyphicon-calendar"></span>'),g.push('<span ng-if="'+("iframe"==n)+'" class="plus18"></span></div><div id="bdate_msg"></div>')}else{if(g.push('<div class="row question medium-input-row birthday-date-picker-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'">')):g.push(">"),g.push('<div class="col-xs-12">'),g.push('<span class="label-span">'+c.QuestionText+"</span>"),g.push('<div class="birthday-date-picker">'),135==c.QuestionId){var M=(new Date).getFullYear();g.push(u(f,c,x,p.rnd,M-10,M))}else g.push(u(f,c,x,p.rnd));g.push(p.tooltip),g.push('<span ng-if="'+("iframe"==n)+'" class="plus18"></span></div><div style="background-color:inherited;" id="msg2_'+p.id+p.rnd+'"></div></div></div>')}break;case"CountryPhoneContainer":k=!1,p.idPrefix1="Dialing";var y=j(c.Action);c.Action=null!=c.Action?c.Action:" ",g.push('<div class="row question input-row" '+p.ifTrigger),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.push(' ng-hide "'),f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")}),g.push(' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'">')):g.push(">"),g.push('<div class="col-xs-12 question-input"><label><span class="label-span">'+c.QuestionText+"</span>"),g.push('<div class="'+p.extraClass.inputWrapperWidth+'   input-group1">'),g.push('<div class="col-xs-3 question-halfline"><select id="'+p.idPrefix+p.id+' " class=" reg-input form-control " message-id="msg1404442" name="DateOfBirthMonth" ng-model="dataobject.'+c.FieldName+'.dialingCode" ');var x=o(c);g.push(x.validator),g.push(x.messages),g.push(c.Action+" >"),g.push("</select></div>"),g.push('<div class="col-xs-9 question-halfline"><input id="phone" class=" Secondary form-control reg-input  ng-pristine ng-pending ng-empty ng-touched"  name="phone" ng-model="dataobject.'+c.FieldName+'.phone" valid-method="blur" ');
var x=o(c);g.push(x.validator),g.push(x.messages),g.push("></div></label></div></div>");break;case"UploadDocument":if(c.QuestionDependencies.length>0&&c.QuestionDependencies[0].DependentQuestionStep>0)var G="step"+c.QuestionDependencies[0].DependentQuestionStep,N=a.dataObject[G]?a.dataObject[G][c.QuestionDependencies[0].DependentQuestion]:a.dataObj[c.QuestionDependencies[0].DependentQuestion];k=!1;var y=j(c.Action);if(g.push("<div "+y+(null==c.QuestionMarkPopup?' class="row question ':' class="row question tooltip_UploadDoc "')),void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0){f.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){f.answers.push("'"+a+"'")});var O="dataobject."+c.QuestionDependencies[0].DependentQuestion;c.QuestionDependencies[0].DependentQuestionStep>0&&(O="'"+N+"'");var P=null!=c.QuestionDependencies[0].OnCondition&&"ng-hide"!=c.QuestionDependencies[0].OnCondition?"":" ng-hide";g.push(P+' "> <question-dependeces dependence-question="'+O+'" dependence-answers="['+f.answers+']" field-name="'+c.FieldName+'" dependence-condition="\''+c.QuestionDependencies[0].OnCondition+"'\"></question-dependeces> ")}else g.push(">");null!=c.QuestionMarkPopup&&g.push(' <img class="qMark qMarkUD " id="qMark'+c.QuestionId+'"  trigger-click element-id="qMark'+c.QuestionId+'"  uib-popover-template="\''+c.QuestionMarkPopup+'\'"  class="cursor-pointer" src="/images/q_mark.png" alt=""  popover-placement="right" />'),g.push('<div class="col-xs-12 question-input">'),g.push('<div class="col-xs-10 question-input">'),g.push('<span class="text">'+c.QuestionText+"</span>"),g.push('<input id="name_'+c.FieldName+'" name="'+c.FieldName+'" class="form-control reg-input input-bg-white" ng-readonly="true" ng-model="dataobject.'+c.FieldName+'.name" ');var x=o(c);g.push(x.validator),g.push(x.messages),g.push(x.attr),g.push(' valid-method="submit" /></div>'),g.push('<div class="col-xs-2 question-icon">'),g.push(' <input id="'+c.FieldName+'" type="file" ng-hide="true" class="form-control reg-input" fileread="'+c.FieldName+'" file-changed="fileChanged(\''+c.FieldName+'\')" err-input="input.errMsg" err-msg="input.typeSizeErrMsg" />'),g.push(' <img id="upload_icon_CustomerIdentity_'+c.FieldName+'"  ng-show="dataobject[\''+c.FieldName+'\'] ==null" class="img-icons cursor-pointer upload mobile-form-placeholder mobile-icon-upload" src="/images/upload_docs.png" trigger-click element-id="'+c.FieldName+'"  alt="" />'),g.push('<span id="remove_icon_CustomerIdentity_'+c.FieldName+'" ng-click="removeFile(\''+c.FieldName+"')\"  ng-show=\"dataobject['"+c.FieldName+'\']!=null" class="mobile-form-placeholder  mobile-icon img-icons glyphicon glyphicon-trash gi-1x trash-icon"></span>'),g.push("</div></div></div></div>")}return g.join("")},q=function(a,b,c,d){var e=[];switch(a.QuestionType){case"Question":e.push('<div class="row optional-input-row"><div class="col-xs-12"><span class="label-span">'+a.QuestionText+"</span></div></div>");break;case"CheckboxRadioList":e.push('<div class="row question inset-input-row"><div class="col-xs-12">'),e.push('<input id="chbx'+a.QuestionId+a.FieldName+'" class="medium checkbox-custom" name="'+a.FieldName+'" type="checkbox" ng-click="dataobject.'+a.FieldName+"=null;dataobject.scores."+a.FieldName.replace(".","_")+'=0"  ng-model="showMeObj.s'+a.QuestionId+'.show"  />'),e.push('<label class="checkbox label-custom" for="chbx'+a.QuestionId+a.FieldName+'">'),e.push('<span class="label-text">'+a.QuestionText+"</span>"),e.push("</label>"),e.push("</div></div>"),e.push('<div class="row optional-input-row"><div class="col-xs-12" ng-if="showMeObj.s'+a.QuestionId+'.show">'),e.push('<div class="list sub-list-1">'),angular.forEach(a.Answers,function(b,c){e.push('<label class="item" for="radio'+a.QuestionId+"_"+c+'">'),e.push('<input message-id="msg'+a.QuestionId+'" id="radio'+a.QuestionId+"_"+c+'" ng-click="dataobject.scores.'+a.FieldName.replace(".","_")+"="+b.Score+'"  name="'+a.FieldName+'" type="radio" ng-value="'+b.Value+'" ng-model="dataobject.'+a.FieldName+'"'),e.push('validator="required" required-error-message="Please select one of the options" />'),e.push('<div class="radio-label-text">'+b.Text+"</div>"),e.push("</label>")}),e.push('<span  id="msg'+a.QuestionId+'"></span></div></div></div>')}return e.join("")},r=function(a){var b=12*a,c=new Date;return c.setMonth(c.getMonth()+-b)},s=function(a,b,d,e){if(a.selectValue=function(b,c,d){return b=b.replace(/ /g,"_"),void 0==a.dataobject[d]?null==c?!1:(c=c.replace(/ /g,"_"),b==c?(a.dataobject[d]=c,!0):!1):b==a.dataobject[d]?!0:!1},a.checkboxValue=function(b,c){return a.dataobject&&void 0!==a.dataobject[c]?a.dataobject[c]:null!==b},a.getDisplayDate=function(a){var b=a.getDate(),c=a.getMonth()+1;return a.getFullYear()+"-"+(10>c?"0"+c:c)+"-"+(10>b?"0"+b:b)},a.content.length>1){var f=[];f.push('<div class="question"><checkboxgroup min-required="1"  required-error-message="test">'),angular.forEach(a.content,function(b,c){f.push(q(b,a.dataobject,a.content,a))}),f.push('<div class="row optional-input-row ng-scope"><div class="col-xs-12">'),f.push('<p class="validation-invalid fadeIn animated" ng-show="groupErr()">'+a.content[0].ValidationMessages[0].Message+"</p>"),f.push("</div></div></checkboxgroup></div>"),b.html(f.join("")).show(),c(b.contents())(a)}else b.html(p(a.content[0],a.dataobject,a)).show(),c(b.contents())(a),t(a.content[0])},t=function(a){if("InputDate"==a.QuestionType){var b="slct"+a.QuestionId+"Date",c=document.getElementById(b);c&&(c.defaultValue=c.max,console.log("date of birth - default date: ",c.defaultValue))}},u=function(a,b,c,d,e,f){d=d||"";var h=[],i=b.ValidationMessages;b.ValidationMessages=g("filter")(i,function(a,b,c){return 7==a.Type||16==a.Type}),c=o(b);var j=(new Date).getFullYear(),e=e||j-100,f=f||(/changeMaxYear/i.test(b.Action)?/now/i.test(b.Action.match(/changeMaxYear\((\w+)\)/)[1])?j:parseInt(b.Action.match(/changeMaxYear\((\w+)\)/)[1]):j-18),k=[{el:"select",name:"Month",max:12},{el:"select",name:"Day",max:31},{el:"select",name:"Year",max:f,min:e},{el:"input"}];return k.map(function(e){switch(e.el){case"select":h.push('<select id="slct'+b.QuestionId+e.name+'" class="birth-date-width" message-id="msg'+b.QuestionId+d+'" name="'+b.FieldName.replace(/\./g,"")+e.name+'"  class="form-control"  ng-model="dataobject.'+b.FieldName+"."+e.name.toLowerCase()+'" ng-change="dataobject.'+b.FieldName+"Test={{dataobject."+b.FieldName+'}}" '),h.push(c.validator),h.push(c.messages),h.push(' valid-method="change">');var f=void 0==typeof a.dataobject[b.FieldName];if(h.push('<option value="" ng-selected="'+f.toString()+"\">{{'"+e.name+"' | translate}}</option>"),e.max&&e.min){for(var g=e.max;g>=e.min;g--)h.push('<option value="'+g+'" >'+g+"</option>");b.ValidationMessages=i,b.ValidationMessages=b.ValidationMessages.filter(function(a){return/1[1-3]{1}/.test(a.Type)}),c=o(b),b.ValidationMessages=i}else if(e.max)for(var g=1;g<=e.max;g++)h.push('<option value="'+g+'" >'+g+"</option>");h.push("</select>");break;case"input":var j=document.querySelectorAll("input[id^='date-validator']").length+1;h.push('<input name="date_validator_'+j+'" id="date-validator-'+j+'" type="hidden" ng-model="dataobject.'+b.FieldName+'Test" ng-init="dataobject.'+b.FieldName+"Test=''\" message-id=\"msg2_"+b.QuestionId+d+'" valid-method="submit" value="{{dataobject.'+b.FieldName+'}}"'),h.push(c.validator),h.push(c.messages),h.push("/>")}}),h.join("")},v=["$scope","ngDialog",function(a,b){a.radioChecked=function(a){var b=$(a.target).closest(".list")[0].children;[].forEach.call(b,function(a){a.classList.remove("active")}),$(a.target).parent().addClass("active")},a.trigger=function(a){e.$broadcast("ClickEvent",a)},a.openUSValidationPopup=function(c){b.open({template:c,className:"ngdialog-theme-default",closeByDocument:!1,scope:a})},a.answerChanged=function(b,c){selectScore(b,c,a),AnswerDependencies(c,a)},AnswerDependencies=function(a,b){var c=b.content[0].Answers.filter(function(b){return b.Value==a}),d=null;null!=c[0].BasedOnAnswerValue&&c[0].BasedOnAnswerValue.length>0&&(d=c[0].BasedOnAnswerValue[0].BasedOnQuestionId,angular.forEach(c[0].BasedOnAnswerValue[0].BasedOnAnswerValue,function(a){var b=document.getElementById("slct"+d);if(void 0!=b)angular.forEach(b.children,function(a){-1==c[0].BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(a.value)&&(a.style.display="none")});else{var e=document.querySelectorAll('input[id^="radio'+d+'"]');angular.forEach(e,function(a){-1==c[0].BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(a.value)&&(a.labels[0].style.display="none",a.labels[0].nextElementSibling.style.display="none")})}}));var e=b.content[0].Answers.filter(function(b){return b.Value!=a});angular.forEach(e,function(a){if(a.BasedOnAnswerValue.length>0&&null==d||a.BasedOnAnswerValue.length>0&&null!=d&&a.BasedOnAnswerValue[0].BasedOnQuestionId!=d){var b=a.BasedOnAnswerValue[0].BasedOnQuestionId;angular.forEach(a.BasedOnAnswerValue[0].BasedOnAnswerValue,function(c){var d=document.getElementById("slct"+b);if(void 0!=d)angular.forEach(d.children,function(b){-1==a.BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(b.value)&&(b.style.display="block")});else{var e=document.querySelectorAll('input[id^="radio'+b+'"]');angular.forEach(e,function(b){-1==a.BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(b.value)&&(b.labels[0].style.display="block",b.labels[0].nextElementSibling.style.display="block")})}})}})},selectScore=function(b,c,d){console.log(a.dataobject[b]);var e=a.content[0].Answers;if(a.dataobject.scores=a.dataobject.scores?a.dataobject.scores:{},null!=e)for(var f=0;f<e.length;f++)if(e[f].Value==c&&e[f].Score){a.dataobject.scores[b]=e[f].Score;break}console.log(a)},a.setIntputType=function(a){var b="",c="",d="";switch(a.type.toLowerCase()){case"mousedown":case"touchstart":b="fa-eye-slash",c="fa-eye",d="text";break;case"mouseup":case"mouseleave":case"touchend":b="fa-eye",c="fa-eye-slash",d="password";break;default:return}var e=a.target.parentElement.querySelector(".ava-input");e.type=d;var f=a.target.classList;f.contains(c)&&f.remove(c),f.contains(b)||f.add(b)},a.fileChanged=function(b){var c=document.getElementById(b).files[0];a.dataobject[b]="file",document.getElementById("name_"+b).value=c.name,a.$apply(),a.removeErrorMessage(b)},a.removeFile=function(c){a.removeText="ud_sureToRemoveDocument",b.open({template:"views/upload_document/popUps/please-note.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(b){b&&(a.dataobject[c]=null,document.getElementById("name_"+c).value="",document.getElementById(c).files[0]=null,document.getElementById(c).value="",a.removeErrorMessage(c,!0))}})},a.removeErrorMessage=function(a,b){var c=b?b:!1;document.getElementById("name_"+a).closest("div").getElementsByClassName("validation-invalid").length>0&&(document.getElementById("name_"+a).closest("div").getElementsByClassName("validation-invalid")[0].parentNode.style.display="none",document.getElementById("name_"+a).classList.remove("has-error")),c&&document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].closest("div").getElementsByClassName("validation-invalid").length>0&&(document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].closest("div").getElementsByClassName("validation-invalid")[0].parentNode.style.display="none",document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].classList.remove("has-error"))},a.dateOptions={formatYear:"yyyy",startingDay:1,showWeeks:!1,showButtonBar:!1,initDate:new Date(r(18))},a.minDate=r(95),a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!a.opened},a.opened=!1,a.updateSelectedValue=function(a,b,c){var d=$(a.target).closest("li")[0].querySelectorAll("a.reg-dropdown-selected-item");d[0]&&d[0].classList&&d[0].classList.remove("reg-dropdown-selected-item"),$(a.target).addClass("reg-dropdown-selected-item");var e=$(a.target).closest(".reg-dropdown-btn-group");e[0].querySelector(".reg-dropdown-btn-text").innerText=b}}];return{require:"?ngModel",restrict:"E",replace:!0,link:s,scope:{content:"=",dataobject:"=",showMeObj:"=",form:"=",passwordform:"=",markers:"=",selectDefaultValue:"&",groupErr:"&",contentItemData:"="},controller:v}};angular.module("app").directive("contentItemMobile",["$sessionStorage","$localStorage","$compile","$timeout","$rootScope","$stateParams","$filter","$detection","MyAvaConsts",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j){var k=this;k.loggedIn=!1,k.isLoggedIn=function(a){c.isLoggedIn=a},k.logOut=function(){sessionStorage.COIPopupType=null;var a=g.token;k.setIsLoggedIn(!1),c.$reset({whiteLabelData:c.whiteLabelData}),a&&b({url:window.webApidomain+"api/Authentication/LogOut_NewCrm",method:"GET",headers:{token:a},skipInterceptor:!0}),g.$reset({dialogsDoNotShow:g.dialogsDoNotShow,lang:g.lang})},k.broadcastLoginLogOut=function(){k.getIsLoggedIn()?e.$broadcast("loggedIn"):e.$broadcast("loggedOut")},k.checkNewCrmTokenValidation=function(c){var d=c||localStorage.getItem("ngStorage-token");if(void 0!=d)return b({method:"GET",url:window.webApidomain+"api/LoginValidation/CheckNewCrmTokenValidation_NewCrm",headers:{token:d.replace(/"/g,"")}});var e=a.defer();return e.resolve(null),e.promise},k.getIsLoggedIn=function(){return g.isLoggedIn},k.getSelectedLang=function(){return g.lang},k.isLanguageSuported=function(){return-1!==h.indexOf(k.getSelectedLang())},k.setIsLoggedIn=function(a){k.isLanguageSuported()&&(g.isLoggedIn=a,j(function(){k.broadcastLoginLogOut()}))},k.getIsToken=function(){return!!k.getToken()},k.getToken=function(){return i.getToken()},k.setToken=function(a){i.setToken(a)},k.setIgnoreTokenExpiration=function(a){i.setIgnoreTokenExpiration(a)},k.setUserProfile=function(a){c.userProfile=a},k.getUserProfile=function(){return c.userProfile},k.isQa=function(){return"QA"==d.platform},k.setPlatformConfig=function(a){d.platform=a,e.$broadcast("configPlatformChange")},k.logIn=function(a,c){var d={username:a,password:c,hostname:window.location.host};return b.post(window.webApidomain+"api/LoginToken/GetLoginToken_NewCrm",d)},k.forgotPassword=function(a){var d=window.webApidomain+"api/ForgotPassword";return c&&c.whiteLabelData&&c.whiteLabelData.Name?(d+="?wl="+c.whiteLabelData.Name,c.userProfile&&c.userProfile.LanguageCode&&(d+="&lang="+c.userProfile.LanguageCode)):c.userProfile&&c.userProfile.LanguageCode&&(d+="?lang="+c.userProfile.LanguageCode),b.post(d,{email:a},{contentType:"application/json",crossDomain:!0})},k.getDomainName=function(a){var c=window.webApidomain+"api/Domain/GetDomain_NewCrm?avaDomain="+a+"&type=1";return b({url:c,method:"GET",async:!0})},k.goStateUpdateSessions=function(){c.goToAvaTrade=!0,delete c.isloggedIn,delete c.shortRegAction,delete c.customerData,delete c.customerRegData,delete c.serverName,delete c.WhiteLabelName,delete c.WhiteLabelMode,delete c.shortTradingPlatform,delete c.retURL,delete c.contactPhone,delete c.typData,delete c.registerTypOn,delete c.serverName,delete c.selectedPlatformId,delete g.token,c.AccountGuid&&delete c.AccountGuid},k.ssoLogin=function(a,c,d,e){return b({url:window.publicAPIDomain+"v1/sso/GetLoginToken",method:"GET",params:{username:a,password:c,platform:d,currency:e,isReal:!0}})},k.deleteTokenFromSession=function(){i.deleteTokenFromSession()},e.isSessionExpiredOpend=!1,k.setIsSessionExpiredOpend=function(a){e.isSessionExpiredOpend=a},k.getIsSessionExpiredOpend=function(){return e.isSessionExpiredOpend},k.openSessionExpiredDialog=function(){k.getIsSessionExpiredOpend()||(k.setIsSessionExpiredOpend(!0),k.logOut(),e.$broadcast("sessionExpired"),f.open({template:"/app/myava/views/popUp/session-expired.html",closeByDocument:!1,showClose:!1}))},k.getIsOppsDialogOpend=function(){return e.isOppsDialogOpend},k.setIsOppsDialogOpend=function(a){e.isOppsDialogOpend=a},k.openOppsDialog=function(){f.open({template:"/app/myava/views/popUp/opps-popUp.html",className:"ngdialog-theme-default"})}}angular.module("app").service("AuthService",["$q","$http","$sessionStorage","MyAvaConfig","$rootScope","ngDialog","$localStorage","myAvaSupportedLangArr","authenticationService","$timeout",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){var r=this;r.isLoggedIn=!1,a.getIsLoggedIn()&&(a.setIsLoggedIn(!0),r.isLoggedIn=!0),h.setLanguage(),0!=f.registerTypOn&&(c.registerTypOn=!0,f.registerTypOn=!0),console.log(k),r.langDirection=h.langDirection(),c.typOn=!0,console.log("auth"),f.goToAvaTrade=!1,c.$on("authLoaded",function(b,c){r.userProfile=a.getUserProfile()}),b.$on("loggedIn",function(b,c){r.isLoggedIn=a.getIsLoggedIn(),m.checkRemainder();var d=a.getUserProfile(),e=q.isNativeMobile();/typ/.test(location.href)||o.ProTraderDisable||d.BusinessGroupId!=p.Capital||e||n.showLoginAvaProPopup(a.getUserProfile())}),b.$on("loggedOut",function(b,d){r.isLoggedIn=a.getIsLoggedIn(),c.$broadcast("killChallengeWidget")}),b.$on("unauthorized",function(b,c){switch(console.log(c),c.reason){case 1:case 2:a.openOppsDialog();break;case 3:a.openSessionExpiredDialog();break;default:a.openOppsDialog()}}),b.$on("logOut",function(a,b){r.logOut(b)}),r.logOut=function(a){return"/upload_document"==e.current.url?void c.$broadcast("upload-document-check-status",{isLogOut:!0}):void(a&&0==a.goGoHome||(r.logOutGoHome(),sessionStorage.removeItem("LossLimitDataPopup"),sessionStorage.removeItem("LossLimitDataLogin")))},b.$on("upload-document-status-logout",function(a,b){b.status&&r.logOutGoHome()}),r.logOutGoHome=function(){c.activeRouteVueAva=!1,a.logOut(),e.go("home")},r.hide=function(){return g.hide()},r.isQa=function(){return a.isQa()},r.setPlatformConfig=function(b){a.setPlatformConfig(b)},r.goToAvaTrade=function(){f.isloggedIn,j.goToAvaTradeMain()},r.isWebTraderShortDemoToReal=function(){return"wtiframe"==f.WhiteLabelMode&&f.shortRegAction==window.AccountType.ShortFromDemoToReal&&(d.url().includes("step2")||d.url().includes("step3"))},r.isWebTrader="wtiframe"==f.WhiteLabelMode,window.MyAvaDomain=location.protocol+"//"+location.host+"/",i.getDomainName(location.host).then(function(a){window.AvaTradeDomain=i.convertSiteUrlVipToAvaTrade(a.data)+"/",r.avaTradeDomain=window.AvaTradeDomain})}angular.module("app").controller("AuthCtrl",["AuthService","$scope","$rootScope","$location","$state","$sessionStorage","hideElement","LanguageService","DomainService","RegisterService","CustomerData","$localStorage","BlockedDocsRemainderService","ProfessionalTraderService","MyAvaConfig","eBusinessGroup","CommonService",a])}(),function(){angular.module("app").directive("ngSwitchMultipleWhen",function(){return{priority:1200,transclude:"element",require:"^ngSwitch",link:function(a,b,c,d,e){var f=a.$eval(c.ngSwitchMultipleWhen);f=angular.isArray(f)?f:[f],angular.forEach(f,function(a){a="!"+a,d.cases[a]=d.cases[a]||[],d.cases[a].push({transclude:e,element:b})})}}})}(),function(){var a=function(a,b,c,d,e,f,g,h,i){function j(a){if(!/ifTrigger/i.test(a))return"";var b=a.match(/ifTrigger\(\!?([\w\.\!\=]+)\)/)[1],c=b&&b.replace(/[\=\d]+$/,""),d=a.match(/ifTrigger\((\!?)[\w\.\!\=]+\)/)[1];return' ng-if="dataobject.'+c+"!=undefined && "+d+"dataobject."+b+'"'}var k=0,l=function(){return f.IsATrade},m=function(a,b){var c={},d="";if(a.length>0){d='validator="';var e="",f="";angular.forEach(a,function(a,g){switch(null!=a.ValidateTrigger&&(f='valid-method="'+a.ValidateTrigger+'"'),a.Type){case 1:d+="required,",e+=' required-error-message="'+a.Message+'" ';break;case 2:d+="minlength="+a.Value+",",e+=' minlength-error-message="'+a.Message+'" ';break;case 3:d+=a.Value?"maxlength="+a.Value+",":"",e+=a.Message?' maxlength-error-message="'+a.Message+'" ':"",c.attr='maxlength="'+a.Value+'"';break;case 4:d+="minvalue="+a.Value+",",e+=' minvalue-error-message="'+a.Message+'" ';break;case 5:d+="maxvalue="+a.Value+",",e+=' maxvalue-error-message="'+a.Message+'" ';break;case 6:d+="requiredgroup="+k+",";break;case 7:d+="required,",e+=' required-error-message="'+a.Message+'" ';break;case 10:d+="number,",e+=' number-error-message="'+a.Message+'" ';break;case 11:d+="fulldate,",e+=' fulldate-error-message="'+a.Message+'" ';break;case 12:d+="dateGroupRequired,",e+=' date-group-required-error-message="'+a.Message+'" ';break;case 13:d+="ageNotValid,",e+=' age-not-valid-error-message="'+a.Message+'" ';break;case 14:d+="phoneNotValid,",e+=' phone-not-valid-error-message="'+a.Message+'" ';break;case 15:d+="languageNotValid="+a.Value+",",e+=' language-not-valid-error-message="'+a.Message+'" ';break;case 16:d+="requiredDependent,",e+=' required-dependent-error-message="'+a.Message+'" ';break;case 18:d+="customregex="+a.Value+",",e+=' customregex-error-message="'+a.Message+'" ';break;case 19:d+="idNotValid,",e+=' id-not-valid-error-message="'+a.Message+'" ';break;case 20:d+="RequiredOnCondition,",e+='  required-on-condition-error-message="'+a.Message+'" ';var h;switch(b[0].OnCondition){case"=":h="{{dataobject."+b[0].DependentQuestion+" == "+b[0].DependentAnswer+"}}";break;case"!=":h="{{dataobject."+b[0].DependentQuestion+" != "+b[0].DependentAnswer+"}}";break;default:h=!1}c.attr=' data-isactive="'+h+'" '}}),d=d.slice(0,-1),d+='"',c.validator=d,c.messages=e,c.validateTrigger=f}return c},n=function(a){var b=m(a.ValidationMessages,a.QuestionDependencies);return b},o=function(a,b){var c=" ";if(a.validator)c+=a.validator;else{var d=n(b);c+=d.validator,c+=d.messages,c+=d.validateTrigger+' message-id="validation-msg'+a.name+'"',d.attr&&(c+=d.attr)}return c},p=function(){return b.step1Preset&&Boolean(b.step1Preset.presetPassword)||b.customerData&&Boolean(b.customerData.PresetPassword)||!1},q=function(c,d,g){var i="",k=!0;/NamePronounce/i.test(c.FieldName);var l=f.IsCorporate,q={rnd:Math.random().toString(6).slice(-6),type:"text",idPrefix:"txt",id:c.QuestionId||"",title:c.IncentiveText||"",name:c.FieldName.replace(/\./g,"")||"",placeholder:"",extraClass:{rowQuestion:"",questionText:"",questionTextWidth:"col-sm-6 col-xs-12 question-label",inputWrapper:"",inputWrapperWidth:"col-sm-6 col-xs-12 question-input",input:""},extraAttr:{inputWrapper:"",input:""},beforeInput:"",inputIcon:"",model:c.FieldName||"",validator:null,tooltip:"",autocomplete:"",ifTrigger:j(c.Action),isCorporatePrefix:void 0!=l?l?"C":"P":"",googleMapsType:c.GoogleMapsType,editBtn:"",isDisabled:"",searchIcon:"",validationIndication:'<span class="validation-indication"></span>'};if(/tooltip/i.test(c.Action)){var s=c.Action.match(/tooltip\((\w+\.?\w+)\,?(\w+)?\)/),t=s[1]+q.isCorporatePrefix,u=s[2]||!0;u=JSON.parse(u),q.tooltip='<p class="text-red link-help '+(u?"":"no-link")+'"'+(u?" data-tooltip=\"{{ '"+t+"Text' | translate }}\"":"")+' onclick="return true">{{ \''+t+"' | translate }}</p>"}c.IsHalfLine&&(q.extraClass.questionTextWidth+=" questionText",q.extraClass.inputWrapperWidth+=" inputWrapper");var v=-1!=h.ChinaCountriesCode.indexOf(a.ipCountryCode);switch(c.IsDisabled&&!v&&(q.isDisabled+=" disabled"),c.QuestionType){case"AutoComplete":v&&(q.extraClass.questionTextWidth+=" hide ",q.extraClass.inputWrapperWidth+=" hide ");var w="";q.isDisabled+=" disabled",q.extraClass.questionTextWidth+=" auto-fill-margin",q.extraClass.inputWrapperWidth+=" input-group address-line1 loading-icon",q.extraClass.rowQuestion=" auto-complete-cnt",q.idPrefix="auto",q.placeholder=q.title,q.extraAttr.input='ng-autocomplete="dataobject.'+q.model+'" field="'+q.name+'"  placeholder="'+q.placeholder+'" '+w,q.editBtn='<div class="input-group-btn"><button class="btn btn-default blue-icon" id="editBtn" onclick=""><i class="glyphicon glyphicon-pencil"></i></button></div>',q.searchIcon=" ";break;case"InputText":break;case"InputPhone":q.idPrefix="phone",q.userCountryCode=a.step1Data&&a.step1Data.PhoneNumber?a.step1Data.PhoneNumber.match(/^(\d{1,3})-\d{7,25}$/)[1]:"81",q.extraClass.inputWrapper=" iti-input-phone",q.extraAttr.inputWrapper='data-country-code="'+q.userCountryCode+'"';break;case"InputPassword":var x=sessionStorage||{FirstName:"",LastName:""},y=x.firstName+" "+x.lastName;if(/ConfirmPassword/i.test(q.name)){k=!1;break}k=!1,g.isValidPassword=!1;var z=n(c);g.presetPass=p(),i='<password-cmp  password-text="'+c.QuestionText+'" id="pass'+q.id+'"  name="'+c.FieldName.toString()+'"  user-name="'+y+'" is-valid-password="'+g.isValidPassword+'" message="'+c.ValidationMessages[0].Message+'" preset-pass="'+g.presetPass+'" ></password - cmp > ';break;case"RadioList":if(k=!1,q.idPrefix="radio",8==c.QuestionId&&8==b.businessGroupId);else{var A=c.InLine?"question-inline":"";i='<div class="row question radio-list-cnt '+c.CssClass+" "+A+'"',i+=' data-di-field-error data-di-field-id="'+q.idPrefix+q.id+'"',void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(g.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){g.answers.push("'"+a+"'")}),i+=' ng-if="['+g.answers+"].indexOf( dataobject."+c.QuestionDependencies[0].DependentQuestion+') > -1" >'):i+=" >",i+='<div class="col-xs-12 question-label"><span class="input-qs">'+c.QuestionText+"</span></div>",i+=c.InLine?'<div class="col-xs-12 radio-list-items radio-el question-input">':'<div class="col-xs-12 radio-list-items question-input">',i+=q.tooltip,angular.forEach(c.Answers,function(a,b){"dataobject.scores."+c.FieldName.replace(".","_")+"="+a.Score;i+='<div class="radio-list-item radio-el"><input  id="'+q.idPrefix+c.QuestionId+"_"+b+'" message-id="msg'+c.QuestionId+'"   ng-click="answerChanged(\''+q.name+"',dataobject."+c.FieldName+')" type="radio" name="'+q.name+'"  ng-model="dataobject.'+c.FieldName+'"  ng-value="'+a.Value+'" ';var d=n(c);i+=d.validator,i+=d.messages,i+=">",i+='<label class="imglabel" for="'+q.idPrefix+c.QuestionId+"_"+b+'"></label><label class="radioLabel" for="'+q.idPrefix+c.QuestionId+b+'">'+a.Text+"</label></div>",c.InLine||(i+="<br>")}),i+='<div id="msg'+c.QuestionId+'" data-di-field-error-for="'+q.idPrefix+q.id+'"></div></div></div>'}break;case"ExpansionPanel":k=!1,i+='<div class="row question">',i+='<uib-accordion close-others="oneAtATime" class="registration-accordion w-100">',i+="<uib-accordion-group is-open= "+c.DefaultValue+' class="panel-border--bottom">',i+="<uib-accordion-heading>",i+='<div class="row">',i+='<div class="col-xs-10">',i+='<span class="header-text" data-di-unmask-field>'+c.QuestionText+"</span>",i+="</div>",i+='<div class="col-xs-2">',i+="<span class=\"icon col-md-offset-11\" ng-class=\"{'fal fa-chevron-up': status.open, 'fal fa-chevron-down': !status.open}\"></span>",i+="</div>",i+="</div>",i+="</uib-accordion-heading>",i+=c.QuestionSubText,i+="</uib-accordion-group></uib-accordion>",i+="</div>";break;case"CheckBox":k=!1;var B="";if(void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0){g.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){g.answers.push("'"+a+"'")});var C=null!=b.userProfile&&null!=b.userProfile.EnforceBusinessGroup||null!=b.enforceBG||null!=b.dataObj&&null!=b.dataObj.EnforceBusinessGroup?"'true'":"'false'";B=' ng-if="['+g.answers+"].indexOf("+C+') > -1" '}if(i='<div class="row question" '+B+">",i+='<div class="col-xs-12 chb-row">',null!=c.QuestionMarkPopup){var D="wtiframe"==b.WhiteLabelMode?"right":"top";i+=' <img class="qMark hidden-xs" id="qMark'+c.QuestionId+'"  trigger-click element-id="qMark'+c.QuestionId+'"  uib-popover-template="\''+c.QuestionMarkPopup+'\'"  class="cursor-pointer" src="/images/q_mark.png" alt=""  popover-placement="'+D+'"/>',i+=' <div class="col-xs-4 visible-xs right-section qMarkMobile"><img class="cursor-pointer" src="/images/q_mark.png" ng-click="openUSValidationPopup(\''+c.QuestionMarkPopup+"')\" /></div> "}i+='<div class="terms '+q.name+'"><input id="chbx'+c.QuestionId+'" class="checBox-pad checkbox-custom" message-id="msg'+c.QuestionId+'"  ng-init="dataobject.'+c.FieldName+"="+g.checkboxValue(c.DefaultValue,c.FieldName)+'"  name="'+q.name+'" type="checkbox" ng-model="dataobject.'+c.FieldName+'" data-di-field-error data-di-field-id="'+q.idPrefix+q.id+'"',null!=c.Action&&(i+=" ng-click=\"trigger({action:'"+c.Action+"'})\"");var z=n(c);i+=z.validator,i+=z.messages,i+=">",i+='<label class="imglabel checkbox label-custom" for="chbx'+c.QuestionId+'" ></label><label class="radioLabel">'+c.QuestionText+"</span></div>",i+=' <div  class="checkBoxErrMsg" id="msg'+c.QuestionId+'" data-di-field-error-for="chbx'+c.QuestionId+'"></div>',i+="</div></div>";break;case"PickList":case"CountryPickList":q.type="select",q.idPrefix="slct";break;case"InputDate":k=!1,"rtl"==f.direction&&(q.extraClass.rowQuestion+=" col-sm-offset-0"),i="<div "+q.ifTrigger+' class="row question '+q.extraClass.rowQuestion,void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(i+=' ng-hide"',g.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){g.answers.push("'"+a+"'")}),i+=' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+g.answers+']" field-name="'+c.FieldName+'" dependence-condition="'+c.QuestionDependencies[0].OnCondition+'">'):i+='"  >',i+='<div class="'+q.extraClass.questionTextWidth+'"><span class="input-qs">'+c.QuestionText+"</span></div>",i+='<div class="'+q.extraClass.inputWrapperWidth+' birthday-date">';var E=e("filter")(c.ValidationMessages,function(a,b,c){return 7==a.Type||16==a.Type}),z=m(E,c.QuestionDependencies);if(135==c.QuestionId){var F=(new Date).getFullYear();i+=r(g,c,z,q.rnd,F-10,F)}else i+=r(g,c,z,q.rnd);i+=q.validationIndication,i+=q.tooltip,i+='<div style="background-color:inherited;" id="msg2_'+q.id+q.rnd+'"></div>',i+="</div></div>";break;case"Question":k=!1,null!=c.QuestionMarkPopup&&(i+=' <img class="qMarkUD hidden-xs" id="qMark'+c.QuestionId+'"  trigger-click element-id="qMark'+c.QuestionId+'"  uib-popover-template="\''+c.QuestionMarkPopup+'\'"  class="cursor-pointer" src="/images/q_mark.png" alt=""  popover-placement="top" />',i+=' <div class="col-xs-4 visible-xs right-section popup-ud qMarkMobile"><img class="cursor-pointer" src="/images/q_mark.png" ng-click="openUSValidationPopup(\''+c.QuestionMarkPopup+"')\" /></div> "),i='<div class="text-question" ',c.QuestionDependencies&&c.QuestionDependencies.length&&(i+='question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="[\''+c.QuestionDependencies[0].DependentAnswer.join("','")+"']\" "),i+=">"+c.QuestionText+"</div>";break;case"CountryPhoneContainer":k=!1,q.idPrefix1="Dialing",i='<div class="row question '+q.extraClass.rowQuestion+'">',i+='<div class="'+q.extraClass.questionTextWidth+' ">',i+='<span class="input-qs">'+c.QuestionText+"</span></div>",i+='<div class="'+q.extraClass.inputWrapperWidth+' birthday-date  input-group1">',i+='<select id="'+q.idPrefix+q.id+' " class="dialing-code-width reg-input form-control" message-id="msg1404442" name="DateOfBirthMonth" ng-model="dataobject.'+c.FieldName+'.dialingCode" ',i+=o(q,c),i+=c.Action+" >",i+="</select>",i+='<input id="phone" class=" form-control reg-input  ng-pristine ng-pending ng-empty ng-touched"  name="phone" ng-model="dataobject.'+c.FieldName+'.phone" valid-method="blur">',i+=q.validationIndication,i+="</div></div>";break;case"UploadDocument":if(c.QuestionDependencies.length>0&&c.QuestionDependencies[0].DependentQuestionStep>0)var G="step"+c.QuestionDependencies[0].DependentQuestionStep,H=b.dataObject[G]?b.dataObject[G][c.QuestionDependencies[0].DependentQuestion]:b.dataObj[c.QuestionDependencies[0].DependentQuestion];if(k=!1,i="<div "+q.ifTrigger+(null==c.QuestionMarkPopup?' class="row question ':' class="row question tooltip_UploadDoc ')+q.extraClass.rowQuestion,void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0){g.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){g.answers.push("'"+a+"'")});var I="dataobject."+c.QuestionDependencies[0].DependentQuestion;c.QuestionDependencies[0].DependentQuestionStep>0&&(I="'"+H+"'");var J=null!=c.QuestionDependencies[0].OnCondition&&"ng-hide"!=c.QuestionDependencies[0].OnCondition?"":" ng-hide";
i+=J+'"> <question-dependeces dependence-question="'+I+'" dependence-answers="['+g.answers+']" field-name="'+c.FieldName+'" dependence-condition="\''+c.QuestionDependencies[0].OnCondition+"'\"></question-dependeces> "}else i+='">';null!=c.QuestionMarkPopup&&(i+=' <img class="qMark qMarkUD hidden-xs" id="qMark'+c.QuestionId+'"  trigger-click element-id="qMark'+c.QuestionId+'"  uib-popover-template="\''+c.QuestionMarkPopup+'\'"  class="cursor-pointer" src="/images/q_mark.png" alt=""  popover-placement="top" />',i+=' <div class="col-xs-4 visible-xs right-section popup-ud qMarkMobile"><img class="cursor-pointer" src="/images/q_mark.png" ng-click="openUSValidationPopup(\''+c.QuestionMarkPopup+"')\" /></div> "),i+='<div class="col-sm-6 col-xs-12 question-label"><p>'+c.QuestionText+"</p></div>",i+='<div class="col-sm-6 col-xs-12 question-input">',i+='<input id="name_'+c.FieldName+'" name="'+c.FieldName+'" class="form-control reg-input input-bg-white" ng-readonly="true" ng-model="dataobject.'+c.FieldName+'.name" ';var K=o(q,c);i+=K+' valid-method="submit" />',i+=' <input id="'+c.FieldName+'" type="file" ng-hide="true" class="form-control reg-input ng-hide" fileread="'+c.FieldName+'" file-changed="fileChanged(\''+c.FieldName+'\')" err-input="input.errMsg" err-msg="input.typeSizeErrMsg"/> ',i+=' <img id="upload_icon_CustomerIdentity_'+c.FieldName+'"  ng-show="dataobject[\''+c.FieldName+"']==null||dataobject['"+c.FieldName+'\']==undefined" class="img-icons cursor-pointer upload mobile-form-placeholder" src="/images/upload_docs.png" trigger-click element-id="'+c.FieldName+'"  alt=""  />',i+='<span id="remove_icon_CustomerIdentity_'+c.FieldName+'" ng-click="removeFile(\''+c.FieldName+"')\"  ng-show=\"dataobject['"+c.FieldName+"']!=null&&dataobject['"+c.FieldName+'\']!=undefined" class="mobile-form-placeholder img-icons glyphicon glyphicon-trash gi-1x trash-icon"></span>',i+='<span id="validation-msg'+q.name+'"></span>',i+=q.validationIndication,i+="</div>",i+="</div></div></div>"}if(k){i="<div "+q.ifTrigger+' class="row question '+q.extraClass.rowQuestion,void 0!=c.QuestionDependencies&&c.QuestionDependencies.length>0?(i+=' ng-hide "',g.answers=[],c.QuestionDependencies[0].DependentAnswer.map(function(a){g.answers.push("'"+a+"'")}),i+=' question-dependeces dependence-question="dataobject.'+c.QuestionDependencies[0].DependentQuestion+'" dependence-answers="['+g.answers+']" field-name="'+c.FieldName+'" dependence-condition="'+c.QuestionDependencies[0].OnCondition+'">'):i+='">',null==c.InLine||c.InLine?(i+='<div class="'+q.extraClass.questionTextWidth+q.extraClass.questionText+'" ><span class="input-qs">'+c.QuestionText+"</span></div>",i+='<div class="'+q.extraClass.inputWrapperWidth+q.extraClass.inputWrapper+'" '+q.extraAttr.inputWrapper+" >"):(i+='<div class="col-sm-6 col-xs-12" ><span class="input-qs">'+c.QuestionText+"</span></div>",i+='<div class="col-sm-6 col-xs-12" '+q.extraAttr.inputWrapper+" >"),i+=q.beforeInput,i+=q.tooltip;var K=o(q,c);switch(q.type){case"select":c.Action=null!=c.Action?c.Action:" ",i+='<div class="selcetDiv"><select id="'+q.idPrefix+q.id+'" class="mySelect"  name="'+q.name+'"  class="form-control" ng-change="answerChanged(\''+q.name+"',dataobject."+c.FieldName+')"  ng-model="dataobject.'+c.FieldName+'" '+c.Action+" ",i+=K,i+=' data-di-field-error data-di-field-id="'+q.idPrefix+q.id+'"',i+=">",c.Answers&&c.Answers.map(function(a){i+='<option value="'+a.Value+'"  ng-selected="'+g.selectValue(a.Value,c.DefaultValue,c.FieldName)+'">'+a.Text+"</option>"}),i+="</select>",i+='<span id="validation-msg'+q.name+'" data-di-field-error-for="'+q.idPrefix+q.id+'"></span>',i+=q.validationIndication,i+="</div>";break;default:i+='<input id="'+q.idPrefix+q.id+'"  type="'+q.type+'" name="'+q.name+'" ',i+='ng-model="dataobject.'+q.model+'" data-GoogleMapsType="'+q.googleMapsType+'" class="form-control reg-input '+q.searchIcon+q.extraClass.input+'" title= "'+q.title+'" '+q.extraAttr.input,i+=K,i+=q.autocomplete,i+=q.isDisabled,i+=' data-di-field-error data-di-field-id="'+q.idPrefix+q.id+'"',i+="/>",i+=q.editBtn,i+=q.inputIcon,i+='<span id="validation-msg'+q.name+'" data-di-field-error-for="'+q.idPrefix+q.id+'"></span>',i+=q.validationIndication}i+="</div></div>"}return i},r=function(a,b,c,d,e,f){d=d||"";var g="",h=(new Date).getFullYear();e=e||h-100,f=f||(/changeMaxYear/i.test(b.Action)?/now/i.test(b.Action.match(/changeMaxYear\((\w+)\)/)[1])?h:parseInt(b.Action.match(/changeMaxYear\((\w+)\)/)[1]):h-18);var i=[{el:"select",name:"Month",max:12},{el:"select",name:"Day",max:31},{el:"select",name:"Year",max:f,min:e},{el:"input"}];return i.map(function(e){switch(e.el){case"select":g+='<select id="slct'+b.QuestionId+e.name+'" class="birth-date-width" message-id="msg'+b.QuestionId+d+'" name="'+b.FieldName.replace(/\./g,"")+e.name+'"  class="form-control"  ng-model="dataobject.'+b.FieldName+"."+e.name.toLowerCase()+'" ng-change="dataobject.'+b.FieldName+"Test={{dataobject."+b.FieldName+'}}" ',g+=c.validator,g+=c.messages,g+=' valid-method="change">';var f=void 0==typeof a.dataobject[b.FieldName];if(g+='<option value="" ng-selected="'+f.toString()+"\">{{'"+e.name+"' | translate}}</option>",e.max&&e.min){for(var h=e.max;h>=e.min;h--)g+='<option value="'+h+'" >'+h+"</option>";var i=b.ValidationMessages.filter(function(a){return/1[1-3]{1}/.test(a.Type)});c=m(i,b.QuestionDependencies)}else if(e.max)for(var h=1;h<=e.max;h++)g+='<option value="'+h+'" >'+h+"</option>";g+="</select>";break;case"input":var j=document.querySelectorAll("input[id^='date-validator']").length+1;g+='<input name="date_validator_'+j+'" id="date-validator-'+j+'" type="hidden" ng-model="dataobject.'+b.FieldName+'Test" ng-init="dataobject.'+b.FieldName+"Test=''\" message-id=\"msg2_"+b.QuestionId+d+'" valid-method="submit" ',g+=c.validator,g+=c.messages,g+="/>"}}),g},s=function(a,b,c,d){var e="";switch(a.QuestionType){case"Question":e='<div style="padding-bottom: 5px;">'+a.QuestionText+"</div>";break;case"CheckboxRadioList":var f=l()?"col-sm-9 ":"col-sm-8 col-xs-11 col-xs-offset-1 ",g=l()?" ":"col-xs-12";e='<div style="min-height: 40px;" class="row "><div class="col-sm-2 '+g+'"><div class="radio-list-item checkbox-el"><input  id="chbx'+a.QuestionId+a.FieldName.replace(/\./g,"")+'" ng-init="showMeObj.s'+a.QuestionId+".show="+a.DefaultValue+'" name="'+a.FieldName.replace(/\./g,"")+'" type="checkbox"   ng-click="dataobject.'+a.FieldName+"=null;dataobject.scores."+a.FieldName.replace(".","_")+'=0"  ng-model="showMeObj.s'+a.QuestionId+'.show" ng-checked="'+a.DefaultValue+'"  ',e+=" >",e+='<label class="imglabel" for="chbx'+a.QuestionId+a.FieldName.replace(/\./g,"")+'"><span class="radioLabel">'+a.QuestionText+"</span></label></div></div>",e+='<div class="'+f+'checkbox-radio-list-items radio-el" ng-if="showMeObj.s'+a.QuestionId+'.show">',angular.forEach(a.Answers,function(b,c){e+='<div class="checkbox-radio-list-item radio-el"><input  message-id="msg'+a.QuestionId+'"  id="radio'+a.QuestionId+"_"+c+'" ng-click="dataobject.scores.'+a.FieldName.replace(".","_")+"="+b.Score+'"  name="'+a.FieldName.replace(/\./g,"")+'" type="radio" ng-value="'+b.Value+'" ng-model="dataobject.'+a.FieldName+'"',e+='validator="required" required-error-message="'+a.ValidationMessages[0].Message+'" >',e+='<label class="radioLabel" for="radio'+a.QuestionId+"_"+c+'">'+b.Text+"</label></div>"}),e+='<div class="row"><div class="col-xs-12"><span  id="msg'+a.QuestionId+'"></span></div></div></div></div>'}return e},t=function(a){var b=angular.element(".file-link");angular.forEach(b,function(a){if(a.href.indexOf("/media/Resources/PDF")>=0){var b=a.href.split("?")[0];b+="?v="+Date.now(),a.href=b}})},u=function(a,b,d,e){if(a.form=e[0],a.selectValue=function(b,c,d){return b=b.replace(/ /g,"_"),void 0==a.dataobject[d]?null==c?!1:(c=c.replace(/ /g,"_"),b==c?(a.dataobject[d]=c,!0):!1):b==a.dataobject[d]?!0:!1},a.checkboxValue=function(b,c){return a.dataobject&&void 0!==a.dataobject[c]?a.dataobject[c]:null!==b},a.content.length>1){var f="";f+='<div class="question question-inline" style="height:100%"><checkboxgroup min-required="1"  required-error-message="test">',angular.forEach(a.content,function(b,c){f+=s(b,a.dataobject,a.content,a)}),f+='<span  style="margin-top:-10px;" class="validation-invalid fadeIn animated" id="sveta" ng-show="groupErr()">'+a.content[0].ValidationMessages[0].Message+"</span></checkboxgroup></div>",b.html(f).show(),t(b),c(b.contents())(a)}else b.html(q(a.content[0],a.dataobject,a)).show(),t(b),c(b.contents())(a);a.content[0]&&a.content[0].IsHalfLine&&(b[0].classList.add("question-halfline"),a.content[0].HalfLineEven&&b[0].classList.add("question-halfline-even"))},v=["$scope",function(a){var b=function(){a.opened=!1};a.trigger=function(a){f.$broadcast("ClickEvent",a)},a.openUSValidationPopup=function(b){g.open({template:b,className:"ngdialog-theme-default",closeByDocument:!1,scope:a})},a.answerChanged=function(b,d){updateScore(b,d,a),c(d,a)},updateScore=function(a,b,c){console.log(c.dataobject[a]);var d=c.content[0].Answers;if(c.dataobject.scores=c.dataobject.scores?c.dataobject.scores:{},d)for(var e=0;e<d.length;e++)if(d[e].Value==b&&void 0!=d[e].Score){c.dataobject.scores[a]=d[e].Score;break}console.log(c)};var c=function(a,b){var c=b.content[0].Answers.filter(function(b){return b.Value==a}),d=null;null!=c[0].BasedOnAnswerValue&&c[0].BasedOnAnswerValue.length>0&&(d=c[0].BasedOnAnswerValue[0].BasedOnQuestionId,angular.forEach(c[0].BasedOnAnswerValue[0].BasedOnAnswerValue,function(a){var b=document.getElementById("slct"+d);if(void 0!=b)angular.forEach(b.children,function(a){-1==c[0].BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(a.value)&&(a.style.display="none")});else{var e=document.querySelectorAll('input[id^="radio'+d+'"]');angular.forEach(e,function(a){-1==c[0].BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(a.value)&&(a.labels[0].style.display="none",a.labels[0].nextElementSibling.style.display="none")})}}));var e=b.content[0].Answers.filter(function(b){return b.Value!=a});angular.forEach(e,function(a){if(a.BasedOnAnswerValue.length>0&&null==d||a.BasedOnAnswerValue.length>0&&null!=d&&a.BasedOnAnswerValue[0].BasedOnQuestionId!=d){var b=a.BasedOnAnswerValue[0].BasedOnQuestionId;angular.forEach(a.BasedOnAnswerValue[0].BasedOnAnswerValue,function(c){var d=document.getElementById("slct"+b);if(void 0!=d)angular.forEach(d.children,function(b){-1==a.BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(b.value)&&(b.style.display="block")});else{var e=document.querySelectorAll('input[id^="radio'+b+'"]');angular.forEach(e,function(b){-1==a.BasedOnAnswerValue[0].BasedOnAnswerValue.indexOf(b.value)&&(b.labels[0].style.display="block",b.labels[0].nextElementSibling.style.display="block")})}})}})};a.fileChanged=function(b){var c=document.getElementById(b).files[0];a.dataobject[b]="file",document.getElementById("name_"+b).value=c.name,a.$apply(),a.removeErrorMessage(b)},a.removeFile=function(b){a.removeText="ud_sureToRemoveDocument",g.open({template:"views/upload_document/popUps/please-note.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(c){c&&(a.dataobject[b]=null,document.getElementById("name_"+b).value="",document.getElementById(b).files[0]=null,document.getElementById(b).value="",a.removeErrorMessage(b,!0))}})},a.removeErrorMessage=function(a,b){var c=b?b:!1;document.getElementById("name_"+a).closest("div").getElementsByClassName("validation-invalid").length>0&&(document.getElementById("name_"+a).closest("div").getElementsByClassName("validation-invalid")[0].parentNode.style.display="none",document.getElementById("name_"+a).classList.remove("has-error")),c&&document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].closest("div").getElementsByClassName("validation-invalid").length>0&&(document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].closest("div").getElementsByClassName("validation-invalid")[0].parentNode.style.display="none",document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)')[0].classList.remove("has-error"))},a.setIntputType=function(a){var b="",c="",d="";switch(a.type.toLowerCase()){case"mousedown":case"touchstart":b="fa-eye-slash",c="fa-eye",d="text";break;case"mouseup":case"mouseleave":case"touchend":b="fa-eye",c="fa-eye-slash",d="password";break;default:return}var e=a.target.parentElement.querySelector(".form-control");e.type=d;var f=a.target.classList;f.contains(c)&&f.remove(c),f.contains(b)||f.add(b)},a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!a.opened},b()}];return{require:["^form","?ngModel"],restrict:"E",replace:!0,link:u,scope:{categoryId:"=",content:"=",dataobject:"=",showMeObj:"=",passwordform:"=",selectDefaultValue:"&",groupErr:"&",fileChanged:"&",contentItemData:"="},controller:v}};angular.module("app").directive("contentItem",["$localStorage","$sessionStorage","$compile","$timeout","$filter","$rootScope","ngDialog","MyAvaConsts","eRegisterCategories",a])}(),function(){var a=function(){return{restrict:"E",controller:["$scope","$attrs",function(a,b){var c,d=this,e=[];d.validate=function(){var a=0;angular.forEach(e,function(b){b.$modelValue&&a++});var b=a>=c;angular.forEach(e,function(a){a.$setValidity("checkboxGroupmin",b,d)})},d.register=function(a){e.push(a)},d.deregister=function(a){if(void 0!=this.ngModels){var b=this.ngModels.indexOf(a);-1!=b&&this.ngModels.splice(b,1)}},a.$watch(b.minRequired,function(a){c=parseInt(a,10),d.validate()})}]}};angular.module("app").directive("checkboxgroup",a)}(),function(){var a=function(){return{require:"ngModel",scope:{otherModelValue:"=compareTo"},link:function(a,b,c,d){d.$validators.compareTo=function(b){return b==a.otherModelValue},a.$watch("otherModelValue",function(a){d.$dirty&&d.$validate()})}}};angular.module("app").directive("compareTo",a)}(),function(){var a=function(){return{restrict:"E",require:["?^checkboxgroup","?ngModel"],link:function(a,b,c,d){var e=d[0],f=d[1];"checkbox"==c.type&&e&&f&&(e.register(f),a.$watch(function(){return f.$modelValue},e.validate),a.$on("$destroy",function(){e.deregister(f)}))}}};angular.module("app").directive("input",a)}(),function(){var a=function(){return{restrict:"A",link:function(a,b,c){var d=parseInt(c.limitTo);angular.element(b).on("keypress",function(a){this.value.length==d&&a.preventDefault()})}}};angular.module("app").directive("limitTo",a)}(),function(){var a=function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=a?a.replace(/[^0-9]/g,""):null;return b!=a&&(d.$setViewValue(b),d.$render()),b})}}};angular.module("app").directive("numericOnly",a)}(),function(){var a=function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){var b=a?a.replace(/[^\u0590-\u05FF\s]/g,""):null;return b!=a&&(d.$setViewValue(b),d.$render()),b})}}};angular.module("app").directive("hebrewOnly",a)}(),function(){var a=function(){return{require:"ngModel",link:function(a,b,c,d){d.$parsers.push(function(a){a&&(a=a.toString());var b=a?a.replace(/[^0-9]/g,""):null;return b!=a&&(d.$setViewValue(b),d.$render()),b=parseInt(b)})}}};angular.module("app").directive("numericWithoutDecimal",a)}(),angular.module("passwordModule",[]).controller("credentialsController",["$scope",function(a){a.credentials={password:"hello"}}]).directive("passwordStrength",[function(){return{require:"ngModel",restrict:"E",scope:{password:"=ngModel"},link:function(a,b,c,d){function e(a){return a?1:0}a.$watch("password",function(b){a.strength=e(b&&b.length>=8)+e(b&&/[A-z]/.test(b))+e(b&&/(?=.*\W)/.test(b))+e(b&&/\d/.test(b))},!0)},template:'<div class="progress" style="width:220px;"><div class="progress-bar progress-bar-danger" style="width: {{strength >= 1 ? 25 : 0}}%">aa</div><div class="progress-bar progress-bar-warning" style="width: {{strength >= 2 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-info" style="width: {{strength >= 3 ? 25 : 0}}%"></div><div class="progress-bar progress-bar-success" style="width: {{strength >= 4 ? 25 : 0}}%"></div></div>'}}]).directive("patternValidator",[function(){return{require:"ngModel",restrict:"A",link:function(a,b,c,d){d.$parsers.unshift(function(a){var b=new RegExp(c.patternValidator),e=b.test(a);return d.$setValidity("passwordPattern",e),a})}}}]),function(){var a=function(){return{restrict:"EA",link:function(a,b){a.total=a.total||100,a.margin=a.margin||24,a.isOldLogic=a.isOldLogic||!1,a.getProgressStepText=function(b){var c=function(b){if(a.isOldLogic)switch(b){case 1:return"pb_login";case 3:return"pb_Financial";case a.totalSteps:return"pb_Finish";default:return"pb_UserProfile"}else switch(b){case 1:return"pb_UserProfile";case 3:case a.totalSteps:return"pb_Finish";default:return"pd_personalDetails"}}(b);return c},a.getProgress=function(){return a.totalSteps&&a.currentStep?a.currentStep==a.totalSteps?100:a.total/a.totalSteps*(a.currentStep-.5):a.complete/a.total*100}},scope:{total:"=total",complete:"=complete",stylev:"=stylev",barText:"=",barTextPos:"=",barTextClass:"=",barClass:"@barClass",completedClass:"=?",totalSteps:"=",currentStep:"=",margin:"=?",isOldLogic:"="},transclude:!0,template:'<div class="progress-wrapper" style="color:#c2d835;margin: 34px {{margin}}px 3.5em; position:relative; width:85%; left:3%;" class=" {{barClass}}"><div class="progress" style="height: 6px; margin-bottom: 0;"><div id="tnxProgBar" class="progress-bar" title="{{ getProgress() | number:0 }}%" ng-attr-style="width:{{ getProgress() }}%;color:currentColor;background-color: currentColor;"></div></div><div ng-if="totalSteps" class="progress-steps" ng-class="{\'progress-bar-old\':(isOldLogic)}"><span ng-repeat="step in [] | range:totalSteps" class="progress-steps--item" ng-class="{ready: ($index+1) < currentStep, active: ($index+1) == currentStep}" data-text="{{ getProgressStepText($index+1) | translate }}">{{ $index + 1 }}</span></div><div ng-if="!totalSteps && barText" id="tnxProgBarPerc" ng-attr-style="margin-left:{{ getProgress() - barTextPos }}%" class="{{barTextClass}}">{{barText}}</div></div>'}};angular.module("app").directive("progressBar",a)}(),function(){var a=function(){var a=function(a,b,c){a.$last&&a.$parent.step2&&(a.$parent.step2.showStep2=!0)};return{link:a}};angular.module("app").directive("myRepeatDirective",a)}(),angular.module("app").directive("stringToElement",[function(){return{replace:!0,scope:{data:"@"},link:function(a,b,c,d){var e=angular.element(a.data);b.replaceWith(e)}}}]),angular.module("app").directive("abTesting",["AB_Testing_Hash","$state","$filter","$compile","$rootScope",function(a,b,c,d,e){return{replace:!0,scope:{param:"@"},link:function(b,f,g,h){b.trackingPixelArr=[];var i;if(a)if(b.param&&"index"==b.param){i="BasePage",b.temp_trackingPixelArr=c("getByProperty")("PageName",i,a);var j=angular.element(b.temp_trackingPixelArr[0].Html);d(j)(e),document.getElementsByTagName("head")[0].appendChild(j[0])}else i=window.location.href.substring(window.location.href.lastIndexOf("/")+1),b.trackingPixelArr=c("getByProperty")("PageName",i,a)},template:'<string-to-element  ng-repeat="trackingPixel in trackingPixelArr"  data="{{trackingPixel.Html}}"></string-to-element>'}}]),angular.module("app").directive("googleTagManager",["$rootScope","WhiteLabelService",function(a,b){return{restrict:"E",link:function(c,d,e,f){a.$on("$viewContentLoaded",function(){var a=b.tagManagerId()||"GTM-KLRBJ5";/avatrademt5\.jp/i.test(window.location.hostname)&&(a="GTM-KLMBWH"),d.replaceWith('<!-- Google Tag Manager --><noscript><iframe src="//www.googletagmanager.com/ns.html?id="'+a+"\" height=\"0\" width=\"0\" style=\"display: none; visibility: hidden\"></iframe></noscript> <script>(function (w, d, s, l, i) {w[l] = w[l] || []; w[l].push({'gtm.start': new Date().getTime(), event: 'gtm.js'}); var f = d.getElementsByTagName(s)[0], j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer','"+a+"');</script><!-- End Google Tag Manager -->")})}}}]),function(){var a=function(){return{restrict:"A",scope:{elementId:"@",elementType:"@"},link:function(a,b){b.bind("click",function(b){switch(a.elementType){case"img":angular.element("#"+a.elementId).triggerHandler("click");break;default:angular.element(b.target).siblings("#"+a.elementId).addClass("choosen"),angular.element(b.target).siblings("#"+a.elementId).trigger("click")}})}}};angular.module("app").directive("triggerClick",a)}(),function(){var a=function(){return{restrict:"A",scope:{minMaxIsValid:"="},require:"ngModel",link:function(a,b,c,d){function e(a){return angular.isUndefined(a)||""===a||null===a||a!==a}function f(){if(!a.$eval(c.avaUseExchangeRate))return 1;var b=a.$eval(c.avaExchangeRate),d=b?b.ExchangeRate:1;return d}var g=!0,h=!0;a.$watch(c.ngMax,function(){d.$isDirty&&d.$setViewValue(d.$viewValue)});var i=function(b){var d=a.$eval(c.avaMaxValue)||1/0,g=f();return h=d>0&&(e(b)||b/g>d)?!1:!0,j(b),b},j=function(b){var d=a.$eval(c.avaMinValue)||0,i=f();g=e(b)||d>b/i?!1:!0,a.minMaxIsValid=g&&h};c.$observe("avaMaxValue",function(a){"function"==typeof i&&i(d.$modelValue)}),c.$observe("avaMinValue",function(a){"function"==typeof i&&i(d.$modelValue)}),c.$observe("avaExchangeRate",function(a){"function"==typeof i&&i(d.$modelValue)}),d.$parsers.unshift(i),d.$formatters.unshift(i)}}};angular.module("app").directive("myAvaMinMax",a)}();var card=function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={exports:{},id:d,loaded:!1};return a[d].call(e.exports,e,e.exports,b),e.loaded=!0,e.exports}var c={};return b.m=a,b.c=c,b.p="",b(0)}([function(a,b,c){(function(b){var d,e,f,g,h=function(a,b){return function(){return a.apply(b,arguments)}};c(1),e=c(5),g=c(6),f=c(7),d=function(){function a(a){this.maskCardNumber=h(this.maskCardNumber,this);var b;return this.options=f(!0,this.defaults,a),this.options.form?(this.$el=e(this.options.form),this.options.container?(this.$container=e(this.options.container),0==this.$container.length?void console.log("Container Node not found"):(b=e.isDOMElement(this.$container)?this.$container:this.$container[0],void(b.getAttribute(this.initializedDataAttr)||(b.setAttribute(this.initializedDataAttr,!0),this.render(),this.attachHandlers(),this.handleInitialPlaceholders())))):void console.log("Please provide a container")):void console.log("Please provide a form")}var b;return a.prototype.initializedDataAttr="data-jp-card-initialized",a.prototype.cardTemplate='<div class="jp-card-container"><div class="jp-card"><div class="jp-card-front"><div class="jp-card-logo jp-card-visa">visa</div><div class="jp-card-logo jp-card-visaelectron">visa</div><div class="jp-card-logo jp-card-mastercard">MasterCard</div><div class="jp-card-logo jp-card-jcb">C</div><div class="jp-card-lower"><div class="jp-card-shiny"></div><div class="jp-card-cvc jp-card-display" data-di-mask>{{cvc}}</div><div class="jp-card-number jp-card-display" data-di-mask>{{number}}</div><div class="jp-card-name jp-card-display" data-di-mask>{{name}}</div><div class="jp-card-expiry jp-card-display" data-before="{{monthYear}}" data-after="{{validDate}}" data-di-mask>{{expiry}}</div></div></div><div class="jp-card-back"><div class="jp-card-bar"></div><div class="jp-card-cvc jp-card-display" data-di-mask>{{cvc}}</div><div class="jp-card-shiny"></div></div></div></div>',a.prototype.template=function(a,b){return a.replace(/\{\{(.*?)\}\}/g,function(a,c,d){return b[c]})},a.prototype.cardTypes=["jp-card-visa","jp-card-visaelectron","jp-card-visadebit","jp-card-mastercard","jp-card-jcb"],a.prototype.defaults={formatting:!0,formSelectors:{numberInput:'input[name="number"]',expiryInput:'input[name="expiry"]',cvcInput:'input[name="cvc"]',nameInput:'input[name="name"]'},cardSelectors:{cardContainer:".jp-card-container",card:".jp-card",numberDisplay:".jp-card-number",expiryDisplay:".jp-card-expiry",cvcDisplay:".jp-card-cvc",nameDisplay:".jp-card-name"},messages:{validDate:"valid\nthru",monthYear:"month/year"},placeholders:{number:"&bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull; &bull;&bull;&bull;&bull;",cvc:"&bull;&bull;&bull;",expiry:"&bull;&bull;/&bull;&bull;",name:"Full Name"},masks:{cardNumber:!1},classes:{valid:"jp-card-valid",invalid:"jp-card-invalid"},debug:!1},a.prototype.render=function(){var a,b,c,d,g,h,i,j;e.append(this.$container,this.template(this.cardTemplate,f({},this.options.messages,this.options.placeholders))),g=this.options.cardSelectors;for(c in g)i=g[c],this["$"+c]=e.find(this.$container,i);h=this.options.formSelectors;for(c in h)i=h[c],i=this.options[c]?this.options[c]:i,d=e.find(this.$el,i),!d.length&&this.options.debug&&console.error("Card can't find a "+c+" in your form."),this["$"+c]=d;return this.options.formatting&&(Payment.formatCardNumber(this.$numberInput),Payment.formatCardCVC(this.$cvcInput),Payment.formatCardExpiry(this.$expiryInput)),this.options.width&&(a=e(this.options.cardSelectors.cardContainer)[0],b=parseInt(a.clientWidth||window.getComputedStyle(a).width),a.style["max-width"]=this.options.width+"px"),("undefined"!=typeof navigator&&null!==navigator?navigator.userAgent:void 0)&&(j=navigator.userAgent.toLowerCase(),-1!==j.indexOf("safari")&&-1===j.indexOf("chrome")&&e.addClass(this.$card,"jp-card-safari")),/MSIE 10\./i.test(navigator.userAgent)&&e.addClass(this.$card,"jp-card-ie-10"),/rv:11.0/i.test(navigator.userAgent)?e.addClass(this.$card,"jp-card-ie-11"):void 0},a.prototype.attachHandlers=function(){var a,c;return c=[this.validToggler("cardNumber")],this.options.masks.cardNumber&&c.push(this.maskCardNumber),b(this.$numberInput,this.$numberDisplay,{fill:!1,filters:c}),e.on(this.$numberInput,"payment.cardType",this.handle("setCardType")),a=[function(a){return a.replace(/(\s+)/g,"")}],a.push(this.validToggler("cardExpiry")),b(this.$expiryInput,this.$expiryDisplay,{join:function(a){return 2===a[0].length||a[1]?"/":""},filters:a}),b(this.$cvcInput,this.$cvcDisplay,{filters:this.validToggler("cardCVC")}),e.on(this.$cvcInput,"focus",this.handle("flipCard")),e.on(this.$cvcInput,"blur",this.handle("unflipCard")),b(this.$nameInput,this.$nameDisplay,{fill:!1,filters:this.validToggler("cardHolderName"),join:" "})},a.prototype.handleInitialPlaceholders=function(){var a,b,c,d,f;c=this.options.formSelectors,d=[];for(b in c)f=c[b],a=this["$"+b],e.val(a)?(e.trigger(a,"paste"),d.push(setTimeout(function(){return e.trigger(a,"keyup input")}))):d.push(void 0);return d},a.prototype.handle=function(a){return function(b){return function(c){var d;return d=Array.prototype.slice.call(arguments),d.unshift(c.target),b.handlers[a].apply(b,d)}}(this)},a.prototype.validToggler=function(a){var b;return"cardExpiry"===a?b=function(a){var b;return b=Payment.fns.cardExpiryVal(a),Payment.fns.validateCardExpiry(b.month,b.year)}:"cardCVC"===a?b=function(a){return function(b){return Payment.fns.validateCardCVC(b,a.cardType)}}(this):"cardNumber"===a?b=function(a){return Payment.fns.validateCardNumber(a)}:"cardHolderName"===a&&(b=function(a){return""!==a}),function(a){return function(c,d,e){var f;return f=b(c),a.toggleValidClass(d,f),a.toggleValidClass(e,f),c}}(this)},a.prototype.toggleValidClass=function(a,b){return e.toggleClass(a,this.options.classes.valid,b),e.toggleClass(a,this.options.classes.invalid,!b)},a.prototype.maskCardNumber=function(a,b,c){var d,e;return d=this.options.masks.cardNumber,e=a.split(" "),e.length>=3?(e.forEach(function(a,b){return b!==e.length-1?e[b]=e[b].replace(/\d/g,d):void 0}),e.join(" ")):a.replace(/\d/g,d)},a.prototype.handlers={setCardType:function(a,b){var c;return c=b.data,e.hasClass(this.$card,c)?void 0:(e.removeClass(this.$card,"jp-card-unknown"),e.removeClass(this.$card,this.cardTypes.join(" ")),e.addClass(this.$card,"jp-card-"+c),e.toggleClass(this.$card,"jp-card-identified","unknown"!==c),this.cardType=c)},flipCard:function(){return e.addClass(this.$card,"jp-card-flipped")},unflipCard:function(){return e.removeClass(this.$card,"jp-card-flipped")}},b=function(a,b,c){var d,f,g;return null==c&&(c={}),c.fill=c.fill||!1,c.filters=c.filters||[],c.filters instanceof Array||(c.filters=[c.filters]),c.join=c.join||"","function"!=typeof c.join&&(d=c.join,c.join=function(){return d}),g=function(){var a,c,d;for(d=[],a=0,c=b.length;c>a;a++)f=b[a],d.push(f.textContent);return d}(),e.on(a,"focus",function(){return e.addClass(b,"jp-card-focused")}),e.on(a,"blur",function(){return e.removeClass(b,"jp-card-focused")}),e.on(a,"keyup change paste input",function(d){var f,h,i,j,k,l,m,n,o,p,q,r,s;for(s=function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)f=a[b],d.push(e.val(f));return d}(),k=c.join(s),s=s.join(k),s===k&&(s=""),q=c.filters,j=0,m=q.length;m>j;j++)h=q[j],s=h(s,a,b);for(r=[],i=l=0,n=b.length;n>l;i=++l)o=b[i],p=c.fill?s+g[i].substring(s.length):s||g[i],r.push(o.textContent=p);return r}),a},a}(),a.exports=d,b.Card=d}).call(b,function(){return this}())},function(a,b,c){var d=c(2);"string"==typeof d&&(d=[[a.id,d,""]]);c(4)(d,{});d.locals&&(a.exports=d.locals)},function(a,b,c){b=a.exports=c(3)(),b.push([a.id,".jp-card,.dir-ltr{direction: ltr!important}.myAvaRtl .dir-ltr{text-align: right}.jp-card-align--center > .jp-card-container{margin: auto}.jp-card.jp-card-safari.jp-card-identified .jp-card-front:before,.jp-card.jp-card-safari.jp-card-identified .jp-card-back:before{background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%)}.jp-card.jp-card-ie-10.jp-card-flipped,.jp-card.jp-card-ie-11.jp-card-flipped{-webkit-transform: 0deg;-moz-transform: 0deg;-ms-transform: 0deg;-o-transform: 0deg;transform: 0deg}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-front,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-front{-webkit-transform: rotateY(0deg);-moz-transform: rotateY(0deg);-ms-transform: rotateY(0deg);-o-transform: rotateY(0deg);transform: rotateY(0deg)}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back{-webkit-transform: rotateY(0deg);-moz-transform: rotateY(0deg);-ms-transform: rotateY(0deg);-o-transform: rotateY(0deg);transform: rotateY(0deg)}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back:after,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back:after{left: 18%}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-cvc,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-cvc{-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-ms-transform: rotateY(180deg);-o-transform: rotateY(180deg);transform: rotateY(180deg);left: 5%}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny{left: 84%}.jp-card.jp-card-ie-10.jp-card-flipped .jp-card-back .jp-card-shiny:after,.jp-card.jp-card-ie-11.jp-card-flipped .jp-card-back .jp-card-shiny:after{left: -480%;-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-ms-transform: rotateY(180deg);-o-transform: rotateY(180deg);transform: rotateY(180deg)}.jp-card.jp-card-ie-10.jp-card-amex .jp-card-back,.jp-card.jp-card-ie-11.jp-card-amex .jp-card-back{display: none}.jp-card-logo{height: 36px;width: 60px;font-style: italic}.jp-card-logo,.jp-card-logo:before,.jp-card-logo:after{box-sizing: border-box}.jp-card-logo.jp-card-amex{text-transform: uppercase;font-size: 4px;font-weight: bold;color: white;background-image: repeating-radial-gradient(circle at center, #fff 1px, #999 2px);background-image: repeating-radial-gradient(circle at center, #fff 1px, #999 2px);border: 1px solid #EEE}.jp-card-logo.jp-card-amex:before,.jp-card-logo.jp-card-amex:after{width: 28px;display: block;position: absolute;left: 16px}.jp-card-logo.jp-card-amex:before{height: 28px;content: 'american';top: 3px;text-align: left;padding-left: 2px;padding-top: 11px;background: #267AC3}.jp-card-logo.jp-card-amex:after{content: 'express';bottom: 11px;text-align: right;padding-right: 2px}.jp-card.jp-card-amex.jp-card-flipped{-webkit-transform: none;-moz-transform: none;-ms-transform: none;-o-transform: none;transform: none}.jp-card.jp-card-amex.jp-card-identified .jp-card-front:before,.jp-card.jp-card-amex.jp-card-identified .jp-card-back:before{background-color: #108168}.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-logo.jp-card-amex{opacity: 1}.jp-card.jp-card-amex.jp-card-identified .jp-card-front .jp-card-cvc{visibility: visible}.jp-card.jp-card-amex.jp-card-identified .jp-card-front:after{opacity: 1}.jp-card-logo.jp-card-discover{background: #f60;color: #111;text-transform: uppercase;font-style: normal;font-weight: bold;font-size: 10px;text-align: center;overflow: hidden;z-index: 1;padding-top: 9px;letter-spacing: .03em;border: 1px solid #EEE}.jp-card-logo.jp-card-discover:before,.jp-card-logo.jp-card-discover:after{content: ' ';display: block;position: absolute}.jp-card-logo.jp-card-discover:before{background: white;width: 200px;height: 200px;border-radius: 200px;bottom: -5%;right: -80%;z-index: -1}.jp-card-logo.jp-card-discover:after{width: 8px;height: 8px;border-radius: 4px;top: 10px;left: 27px;background-color: #f60;background-image: -webkit-radial-gradient(#f60, #fff);background-image: radial-gradient( #f60, #fff);content: 'network';font-size: 4px;line-height: 24px;text-indent: -7px}.jp-card .jp-card-front .jp-card-logo.jp-card-discover{right: 12%;top: 18%}.jp-card.jp-card-discover.jp-card-identified .jp-card-front:before,.jp-card.jp-card-discover.jp-card-identified .jp-card-back:before{background-color: #86B8CF}.jp-card.jp-card-discover.jp-card-identified .jp-card-logo.jp-card-discover{opacity: 1}.jp-card.jp-card-discover.jp-card-identified .jp-card-front:after{-webkit-transition: 400ms;-moz-transition: 400ms;transition: 400ms;content: ' ';display: block;background-color: #f60;background-image: -webkit-linear-gradient(#f60, #ffa366, #f60);background-image: linear-gradient(#f60, #ffa366, #f60);height: 50px;width: 50px;border-radius: 25px;position: absolute;left: 100%;top: 15%;margin-left: -25px;box-shadow: inset 1px 1px 3px 1px rgba(0, 0, 0, 0.5)}.jp-card-logo.jp-card-visa,.jp-card-logo.jp-card-visaelectron,.jp-card-logo.jp-card-visadebit{background: white;text-transform: uppercase;color: #1A1876;text-align: center;font-weight: bold;font-size: 15px;line-height: 18px}.jp-card-logo.jp-card-visa:before,.jp-card-logo.jp-card-visaelectron:before,.jp-card-logo.jp-card-visadebit:before,.jp-card-logo.jp-card-visa:after,.jp-card-logo.jp-card-visaelectron:after,.jp-card-logo.jp-card-visadebit:after{content: ' ';display: block;width: 100%;height: 25%}.jp-card-logo.jp-card-visaelectron:after{content: 'Electron';font-size: 8px;font-weight: bold;line-height: 1.5}.jp-card-logo.jp-card-visadebit:after{content: 'Debit';font-size: 8px;font-weight: bold;line-height: 1.5}.jp-card-logo.jp-card-visa:before,.jp-card-logo.jp-card-visaelectron:before,.jp-card-logo.jp-card-visadebit:before{background: #1A1876}.jp-card-logo.jp-card-visa:after,.jp-card-logo.jp-card-visaelectron:after,.jp-card-logo.jp-card-visadebit:after{background: #E79800}.jp-card.jp-card-visa.jp-card-identified .jp-card-front:before,.jp-card.jp-card-visaelectron.jp-card-identified .jp-card-front:before,.jp-card.jp-card-visadebit.jp-card-identified .jp-card-front:before.jp-card.jp-card-visa.jp-card-identified .jp-card-back:before,.jp-card.jp-card-visaelectron.jp-card-identified .jp-card-back:before,.jp-card.jp-card-visadebit.jp-card-identified .jp-card-back:before{background-color: #191278}.jp-card.jp-card-visa.jp-card-identified .jp-card-logo.jp-card-visa,.jp-card.jp-card-visaelectron.jp-card-identified .jp-card-logo.jp-card-visaelectron,.jp-card.jp-card-visadebit.jp-card-identified .jp-card-logo.jp-card-visadebit{opacity: 1}.jp-card-logo.jp-card-mastercard{color: white;font-weight: bold;text-align: center;font-size: 9px;line-height: 36px;z-index: 1;text-shadow: 1px 1px rgba(0, 0, 0, 0.6)}.jp-card-logo.jp-card-mastercard:before,.jp-card-logo.jp-card-mastercard:after{content: ' ';display: block;width: 36px;top: 0;position: absolute;height: 36px;border-radius: 18px}.jp-card-logo.jp-card-mastercard:before{left: 0;background: red;z-index: -1}.jp-card-logo.jp-card-mastercard:after{right: 0;background: #FFAB00;z-index: -2}.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front .jp-card-logo.jp-card-mastercard,.jp-card.jp-card-mastercard.jp-card-identified .jp-card-back .jp-card-logo.jp-card-mastercard{box-shadow: none}.jp-card.jp-card-mastercard.jp-card-identified .jp-card-front:before,.jp-card.jp-card-mastercard.jp-card-identified .jp-card-back:before{background-color: #0061A8}.jp-card.jp-card-mastercard.jp-card-identified .jp-card-logo.jp-card-mastercard{opacity: 1}.jp-card-logo.jp-card-maestro{color: white;font-weight: bold;text-align: center;font-size: 14px;line-height: 36px;z-index: 1;text-shadow: 1px 1px rgba(0, 0, 0, 0.6)}.jp-card-logo.jp-card-maestro:before,.jp-card-logo.jp-card-maestro:after{content: ' ';display: block;width: 36px;top: 0;position: absolute;height: 36px;border-radius: 18px}.jp-card-logo.jp-card-maestro:before{left: 0;background: #0064CB;z-index: -1}.jp-card-logo.jp-card-maestro:after{right: 0;background: #c00;z-index: -2}.jp-card.jp-card-maestro.jp-card-identified .jp-card-front .jp-card-logo.jp-card-maestro,.jp-card.jp-card-maestro.jp-card-identified .jp-card-back .jp-card-logo.jp-card-maestro{box-shadow: none}.jp-card.jp-card-maestro.jp-card-identified .jp-card-front:before,.jp-card.jp-card-maestro.jp-card-identified .jp-card-back:before{background-color: #0B2C5F}.jp-card.jp-card-maestro.jp-card-identified .jp-card-logo.jp-card-maestro{opacity: 1}.jp-card-logo.jp-card-dankort{width: 60px;height: 36px;padding: 3px;border-radius: 8px;border: #000 1px solid;background-color: #fff}.jp-card-logo.jp-card-dankort .dk{position: relative;width: 100%;height: 100%;overflow: hidden}.jp-card-logo.jp-card-dankort .dk:before{background-color: #ED1C24;content: '';position: absolute;width: 100%;height: 100%;display: block;border-radius: 6px}.jp-card-logo.jp-card-dankort .dk:after{content: '';position: absolute;top: 50%;margin-top: -7.7px;right: 0;width: 0;height: 0;border-style: solid;border-width: 7px 7px 10px 0;border-color: transparent #ED1C24 transparent transparent;z-index: 1}.jp-card-logo.jp-card-dankort .d,.jp-card-logo.jp-card-dankort .k{position: absolute;top: 50%;width: 50%;display: block;height: 15.4px;margin-top: -7.7px;background: white}.jp-card-logo.jp-card-dankort .d{left: 0;border-radius: 0 8px 10px 0}.jp-card-logo.jp-card-dankort .d:before{content: '';position: absolute;top: 50%;left: 50%;display: block;background: #ED1C24;border-radius: 2px 4px 6px 0px;height: 5px;width: 7px;margin: -3px 0 0 -4px}.jp-card-logo.jp-card-dankort .k{right: 0}.jp-card-logo.jp-card-dankort .k:before,.jp-card-logo.jp-card-dankort .k:after{content: '';position: absolute;right: 50%;width: 0;height: 0;border-style: solid;margin-right: -1px}.jp-card-logo.jp-card-dankort .k:before{top: 0;border-width: 8px 5px 0 0;border-color: #ED1C24 transparent transparent transparent}.jp-card-logo.jp-card-dankort .k:after{bottom: 0;border-width: 0 5px 8px 0;border-color: transparent transparent #ED1C24 transparent}.jp-card.jp-card-dankort.jp-card-identified .jp-card-front:before,.jp-card.jp-card-dankort.jp-card-identified .jp-card-back:before{background-color: #0055C7}.jp-card.jp-card-dankort.jp-card-identified .jp-card-logo.jp-card-dankort{opacity: 1}.jp-card-logo.jp-card-elo{height: 50px;width: 50px;border-radius: 100%;background: black;color: white;text-align: center;text-transform: lowercase;font-size: 21px;font-style: normal;letter-spacing: 1px;font-weight: bold;padding-top: 13px}.jp-card-logo.jp-card-elo .e,.jp-card-logo.jp-card-elo .l,.jp-card-logo.jp-card-elo .o{display: inline-block;position: relative}.jp-card-logo.jp-card-elo .e{-webkit-transform: rotate(-15deg);-moz-transform: rotate(-15deg);-ms-transform: rotate(-15deg);-o-transform: rotate(-15deg);transform: rotate(-15deg)}.jp-card-logo.jp-card-elo .o{position: relative;display: inline-block;width: 12px;height: 12px;right: 0;top: 7px;border-radius: 100%;background-image: -webkit-linear-gradient( #ff0 50%, red 50%);background-image: linear-gradient( #ff0 50%, red 50%);-webkit-transform: rotate(40deg);-moz-transform: rotate(40deg);-ms-transform: rotate(40deg);-o-transform: rotate(40deg);transform: rotate(40deg);text-indent: -9999px}.jp-card-logo.jp-card-elo .o:before{content: '';position: absolute;width: 49%;height: 49%;background: black;border-radius: 100%;text-indent: -99999px;top: 25%;left: 25%}.jp-card.jp-card-elo.jp-card-identified .jp-card-front:before,.jp-card.jp-card-elo.jp-card-identified .jp-card-back:before{background-color: #6F6969}.jp-card.jp-card-elo.jp-card-identified .jp-card-logo.jp-card-elo{opacity: 1}.jp-card-logo.jp-card-dinersclub{font-family: serif;height: 40px;width: 100px;color: white;font-size: 17px;font-style: normal;letter-spacing: 1px}.jp-card-logo.jp-card-dinersclub::before,.jp-card-logo.jp-card-dinersclub::after{display: block;position: relative}.jp-card-logo.jp-card-dinersclub::before{content: 'Diners Club'}.jp-card-logo.jp-card-dinersclub::after{content: 'International';text-transform: uppercase;font-size: 0.6em}.jp-card.jp-card-dinersclub .jp-card-front .jp-card-logo{box-shadow: none !important}.jp-card.jp-card-dinersclub.jp-card-identified .jp-card-front:before,.jp-card.jp-card-dinersclub.jp-card-identified .jp-card-back:before{background-color: #999}.jp-card.jp-card-dinersclub.jp-card-identified .jp-card-logo.jp-card-dinersclub{opacity: 1}.jp-card-container{-webkit-perspective: 1000px;-moz-perspective: 1000px;perspective: 1000px;width: 350px;max-width: 100%;height: 200px;z-index: 1;position: relative;margin-bottom: 1em}.jp-card{font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;line-height: 1;position: relative;width: 100%;height: 100%;min-width: 300px;border-radius: 10px;-webkit-transform-style: preserve-3d;-moz-transform-style: preserve-3d;-ms-transform-style: preserve-3d;-o-transform-style: preserve-3d;transform-style: preserve-3d;-webkit-transition: all 400ms linear;-moz-transition: all 400ms linear;transition: all 400ms linear}.jp-card>*,.jp-card>*:before,.jp-card>*:after{-moz-box-sizing: border-box;-webkit-box-sizing: border-box;box-sizing: border-box;font-family: inherit}.jp-card.jp-card-flipped{-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-ms-transform: rotateY(180deg);-o-transform: rotateY(180deg);transform: rotateY(180deg)}.jp-card .jp-card-front,.jp-card .jp-card-back{-webkit-backface-visibility: hidden;backface-visibility: hidden;-webkit-transform-style: preserve-3d;-moz-transform-style: preserve-3d;-ms-transform-style: preserve-3d;-o-transform-style: preserve-3d;transform-style: preserve-3d;-webkit-transition: all 400ms linear;-moz-transition: all 400ms linear;transition: all 400ms linear;width: 100%;height: 100%;position: absolute;top: 0;left: 0;overflow: hidden;border-radius: 10px;background: #DDD}.jp-card .jp-card-front:before,.jp-card .jp-card-back:before{content: ' ';display: block;position: absolute;width: 100%;height: 100%;top: 0;left: 0;opacity: 0;border-radius: 10px;-webkit-transition: all 400ms ease;-moz-transition: all 400ms ease;transition: all 400ms ease}.jp-card .jp-card-front:after,.jp-card .jp-card-back:after{content: ' ';display: block}.jp-card .jp-card-front .jp-card-display,.jp-card .jp-card-back .jp-card-display{color: #fff;font-weight: normal;opacity: 0.5;-webkit-transition: opacity 400ms linear;-moz-transition: opacity 400ms linear;transition: opacity 400ms linear}.jp-card .jp-card-front .jp-card-display.jp-card-focused,.jp-card .jp-card-back .jp-card-display.jp-card-focused{opacity: 1;font-weight: 700}.jp-card .jp-card-front .jp-card-cvc,.jp-card .jp-card-back .jp-card-cvc{font-family: 'Bitstream Vera Sans Mono', Consolas, Courier, monospace;font-size: 14px}.jp-card .jp-card-front .jp-card-shiny,.jp-card .jp-card-back .jp-card-shiny{width: 50px;height: 35px;border-radius: 5px;background: #CCC;position: relative}.jp-card .jp-card-front .jp-card-shiny:before,.jp-card .jp-card-back .jp-card-shiny:before{content: ' ';display: block;width: 70%;height: 60%;border-top-right-radius: 5px;border-bottom-right-radius: 5px;background: #d9d9d9;position: absolute;top: 20%}.jp-card .jp-card-front .jp-card-logo{position: absolute;opacity: 0;right: 5%;top: 8%;-webkit-transition: 400ms;-moz-transition: 400ms;transition: 400ms}.jp-card .jp-card-front .jp-card-lower{width: 80%;position: absolute;left: 10%;bottom: 30px}@media only screen and (max-width: 480px){.jp-card .jp-card-front .jp-card-lower{width: 90%;left: 5%}}.jp-card .jp-card-front .jp-card-lower .jp-card-cvc{visibility: hidden;float: right;position: relative;bottom: 5px}.jp-card .jp-card-front .jp-card-lower .jp-card-number{font-family: 'Bitstream Vera Sans Mono', Consolas, Courier, monospace;font-size: 1.6em;clear: both;margin-bottom: 30px}.jp-card .jp-card-front .jp-card-lower .jp-card-expiry{font-family: 'Bitstream Vera Sans Mono', Consolas, Courier, monospace;letter-spacing: 0em;position: relative;float: right;width: 25%}.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before,.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after{font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight: bold;font-size: 7px;white-space: pre;display: block;opacity: .5}.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:before{content: attr(data-before);margin-bottom: 2px;font-size: 7px;text-transform: uppercase}.jp-card .jp-card-front .jp-card-lower .jp-card-expiry:after{position: absolute;content: attr(data-after);text-align: right;right: 100%;margin-right: 5px;margin-top: 2px;bottom: 0}.jp-card .jp-card-front .jp-card-lower .jp-card-name{text-transform: uppercase;font-family: 'Bitstream Vera Sans Mono', Consolas, Courier, monospace;font-size: 1.5em;max-height: 45px;position: absolute;bottom: 0;width: 60%;max-width: 190px;display: -webkit-box;-webkit-line-clamp: 2;-webkit-box-orient: horizontal;overflow: hidden;text-overflow: ellipsis}.jp-card .jp-card-back{-webkit-transform: rotateY(180deg);-moz-transform: rotateY(180deg);-ms-transform: rotateY(180deg);-o-transform: rotateY(180deg);transform: rotateY(180deg)}.jp-card .jp-card-back .jp-card-bar{background-color: #444;background-image: -webkit-linear-gradient(#444, #333);background-image: linear-gradient(#444, #333);width: 100%;height: 20%;position: absolute;top: 10%}.jp-card .jp-card-back:after{content: ' ';display: block;background-color: #fff;background-image: -webkit-linear-gradient(#fff, #fff);background-image: linear-gradient(#fff, #fff);width: 80%;height: 16%;position: absolute;top: 40%;left: 2%}.jp-card .jp-card-back .jp-card-cvc{position: absolute;top: 40%;left: 85%;-webkit-transition-delay: 600ms;-moz-transition-delay: 600ms;transition-delay: 600ms}.jp-card .jp-card-back .jp-card-shiny{position: absolute;top: 66%;left: 2%}.jp-card .jp-card-back .jp-card-shiny:after{content: 'This card has been issued by Jesse Pollak and is licensed for anyone to use anywhere for free. It comes with no warranty. For support issues, please visit: github.com/jessepollak/card.';position: absolute;left: 120%;top: 5%;color: white;font-size: 7px;width: 230px;opacity: .5}.jp-card.jp-card-identified{box-shadow: 0 0 20px rgba(0, 0, 0, 0.3)}.jp-card.jp-card-identified .jp-card-front,.jp-card.jp-card-identified .jp-card-back{background-color: #000;background-color: rgba(0, 0, 0, 0.5)}.jp-card.jp-card-identified .jp-card-front:before,.jp-card.jp-card-identified .jp-card-back:before{-webkit-transition: all 400ms ease;-moz-transition: all 400ms ease;transition: all 400ms ease;background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 70% 70%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 90% 20%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-radial-gradient(circle at 15% 80%, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);opacity: 1}.jp-card.jp-card-identified .jp-card-front .jp-card-logo,.jp-card.jp-card-identified .jp-card-back .jp-card-logo{box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3)}.jp-card.jp-card-identified.no-radial-gradient .jp-card-front:before,.jp-card.jp-card-identified.no-radial-gradient .jp-card-back:before{background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), -webkit-linear-gradient(-245deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%);background-image: repeating-linear-gradient(45deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(135deg, rgba(255, 255, 255, 0.05) 1px, rgba(255, 255, 255, 0) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.03) 4px), repeating-linear-gradient(90deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), repeating-linear-gradient(210deg, rgba(255, 255, 255, 0) 1px, rgba(255, 255, 255, 0.03) 2px, rgba(255, 255, 255, 0.04) 3px, rgba(255, 255, 255, 0.05) 4px), linear-gradient(-25deg, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, 0.2) 70%, rgba(255, 255, 255, 0) 90%)}.jp-card-logo.jp-card-jcb,.jp-card-logo.jp-card-jcb:before,.jp-card-logo.jp-card-jcb:after{width: 10px;height: 30px;border-top-left-radius: 4px;border-bottom-right-radius: 4px;background-color: #d8203c;color: #fff;-webkit-box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);-moz-box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);box-shadow: 0 0 0 2px rgba(255, 255, 255, 0.3);line-height: 2.25;text-align: center;font-style: normal;background-image: -webkit-linear-gradient(left, rgba(0, 0, 0, .3), rgba(0, 0, 0, 0));background-image: linear-gradient(to right, rgba(0, 0, 0, .3), rgba(0, 0, 0, 0))}.jp-card-logo.jp-card-jcb{margin: 0 15px}.jp-card-logo.jp-card-jcb:before,.jp-card-logo.jp-card-jcb:after{position: absolute;top: 0}.jp-card-logo.jp-card-jcb:before{content: 'J';background-color: #1f4f90;left: -webkit-calc(-100% - 2px);left: -moz-calc(-100% - 2px);left: calc(-100% - 2px)}.jp-card-logo.jp-card-jcb:after{content: 'B';background-color: #4cac45;right: -webkit-calc(-100% - 2px);right: -moz-calc(-100% - 2px);right: calc(-100% - 2px)}.jp-card.jp-card-jcb.jp-card-identified .jp-card-logo.jp-card-jcb{opacity: 1}.jp-card.jp-card-jcb.jp-card-identified .jp-card-front:before,.jp-card.jp-card-jcb.jp-card-identified .jp-card-back:before{background-color: #0055C7}.jp-card-logo.jp-card-visadelta{background: -webkit-linear-gradient(left bottom, #fff 52%, #0063b0 55%);background: linear-gradient(to right top, #fff 52%, #0063b0 55%);color: #fff;font-style: normal;text-transform: uppercase;font-size: 9px;text-align: right;padding: 4px;border-radius: 4px}.jp-card-logo.jp-card-visadelta:before,.jp-card-logo.jp-card-visadelta:after{content: '';position: absolute;left: 0;bottom: 0}.jp-card-logo.jp-card-visadelta:before{background: -webkit-linear-gradient(left bottom, transparent 52%, #f1a628 55%);background: linear-gradient(to right top, transparent 52%, #f1a628 55%);width: 32px;height: 19px}.jp-card-logo.jp-card-visadelta:after{background: -webkit-linear-gradient(left bottom, transparent 52%, #e2042b 55%);background: linear-gradient(to right top, transparent 52%, #e2042b 55%);width: 17px;height: 10px}.jp-card.jp-card-visadelta.jp-card-identified .jp-card-logo.jp-card-visadelta{opacity: 1}.jp-card.jp-card-visadelta.jp-card-identified .jp-card-front:before,.jp-card.jp-card-visadelta.jp-card-identified .jp-card-back:before{background-color: #108168}",""]);
},function(a,b){a.exports=function(){var a=[];return a.toString=function(){for(var a=[],b=0;b<this.length;b++){var c=this[b];c[2]?a.push("@media "+c[2]+"{"+c[1]+"}"):a.push(c[1])}return a.join("")},a.i=function(b,c){"string"==typeof b&&(b=[[null,b,""]]);for(var d={},e=0;e<this.length;e++){var f=this[e][0];"number"==typeof f&&(d[f]=!0)}for(e=0;e<b.length;e++){var g=b[e];"number"==typeof g[0]&&d[g[0]]||(c&&!g[2]?g[2]=c:c&&(g[2]="("+g[2]+") and ("+c+")"),a.push(g))}},a}},function(a,b,c){function d(a,b){for(var c=0;c<a.length;c++){var d=a[c],e=n[d.id];if(e){e.refs++;for(var f=0;f<e.parts.length;f++)e.parts[f](d.parts[f]);for(;f<d.parts.length;f++)e.parts.push(j(d.parts[f],b))}else{for(var g=[],f=0;f<d.parts.length;f++)g.push(j(d.parts[f],b));n[d.id]={id:d.id,refs:1,parts:g}}}}function e(a){for(var b=[],c={},d=0;d<a.length;d++){var e=a[d],f=e[0],g=e[1],h=e[2],i=e[3],j={css:g,media:h,sourceMap:i};c[f]?c[f].parts.push(j):b.push(c[f]={id:f,parts:[j]})}return b}function f(a,b){var c=q(),d=t[t.length-1];if("top"===a.insertAt)d?d.nextSibling?c.insertBefore(b,d.nextSibling):c.appendChild(b):c.insertBefore(b,c.firstChild),t.push(b);else{if("bottom"!==a.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");c.appendChild(b)}}function g(a){a.parentNode.removeChild(a);var b=t.indexOf(a);b>=0&&t.splice(b,1)}function h(a){var b=document.createElement("style");return b.type="text/css",f(a,b),b}function i(a){var b=document.createElement("link");return b.rel="stylesheet",f(a,b),b}function j(a,b){var c,d,e;if(b.singleton){var f=s++;c=r||(r=h(b)),d=k.bind(null,c,f,!1),e=k.bind(null,c,f,!0)}else a.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(c=i(b),d=m.bind(null,c),e=function(){g(c),c.href&&URL.revokeObjectURL(c.href)}):(c=h(b),d=l.bind(null,c),e=function(){g(c)});return d(a),function(b){if(b){if(b.css===a.css&&b.media===a.media&&b.sourceMap===a.sourceMap)return;d(a=b)}else e()}}function k(a,b,c,d){var e=c?"":d.css;if(a.styleSheet)a.styleSheet.cssText=u(b,e);else{var f=document.createTextNode(e),g=a.childNodes;g[b]&&a.removeChild(g[b]),g.length?a.insertBefore(f,g[b]):a.appendChild(f)}}function l(a,b){var c=b.css,d=b.media;if(d&&a.setAttribute("media",d),a.styleSheet)a.styleSheet.cssText=c;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c))}}function m(a,b){var c=b.css,d=b.sourceMap;d&&(c+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(d))))+" */");var e=new Blob([c],{type:"text/css"}),f=a.href;a.href=URL.createObjectURL(e),f&&URL.revokeObjectURL(f)}var n={},o=function(a){var b;return function(){return"undefined"==typeof b&&(b=a.apply(this,arguments)),b}},p=o(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),q=o(function(){return document.head||document.getElementsByTagName("head")[0]}),r=null,s=0,t=[];a.exports=function(a,b){b=b||{},"undefined"==typeof b.singleton&&(b.singleton=p()),"undefined"==typeof b.insertAt&&(b.insertAt="bottom");var c=e(a);return d(c,b),function(a){for(var f=[],g=0;g<c.length;g++){var h=c[g],i=n[h.id];i.refs--,f.push(i)}if(a){var j=e(a);d(j,b)}for(var g=0;g<f.length;g++){var i=f[g];if(0===i.refs){for(var k=0;k<i.parts.length;k++)i.parts[k]();delete n[i.id]}}}};var u=function(){var a=[];return function(b,c){return a[b]=c,a.filter(Boolean).join("\n")}}()},function(a,b){(function(){var b,c,d;b=function(a){return b.isDOMElement(a)?a:document.querySelectorAll(a)},b.isDOMElement=function(a){return a&&null!=a.nodeName},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,b.trim=function(a){return null===a?"":(a+"").replace(d,"")},c=/\r/g,b.val=function(a,b){var d;return arguments.length>1?a.value=b:(d=a.value,"string"==typeof d?d.replace(c,""):null===d?"":d)},b.preventDefault=function(a){return"function"==typeof a.preventDefault?void a.preventDefault():(a.returnValue=!1,!1)},b.normalizeEvent=function(a){var c;return c=a,a={which:null!=c.which?c.which:void 0,target:c.target||c.srcElement,preventDefault:function(){return b.preventDefault(c)},originalEvent:c,data:c.data||c.detail},null==a.which&&(a.which=null!=c.charCode?c.charCode:c.keyCode),a},b.on=function(a,c,d){var e,f,g,h,i,j,k,l;if(a.length)for(f=0,h=a.length;h>f;f++)e=a[f],b.on(e,c,d);else{if(!c.match(" "))return k=d,d=function(a){return a=b.normalizeEvent(a),k(a)},a.addEventListener?a.addEventListener(c,d,!1):a.attachEvent?(c="on"+c,a.attachEvent(c,d)):void(a["on"+c]=d);for(l=c.split(" "),g=0,i=l.length;i>g;g++)j=l[g],b.on(a,j,d)}},b.addClass=function(a,c){var d;return a.length?function(){var e,f,g;for(g=[],e=0,f=a.length;f>e;e++)d=a[e],g.push(b.addClass(d,c));return g}():a.classList?a.classList.add(c):a.className+=" "+c},b.hasClass=function(a,c){var d,e,f,g;if(a.length){for(e=!0,f=0,g=a.length;g>f;f++)d=a[f],e=e&&b.hasClass(d,c);return e}return a.classList?a.classList.contains(c):new RegExp("(^| )"+c+"( |$)","gi").test(a.className)},b.removeClass=function(a,c){var d,e,f,g,h,i;if(a.length)return function(){var d,f,g;for(g=[],d=0,f=a.length;f>d;d++)e=a[d],g.push(b.removeClass(e,c));return g}();if(a.classList){for(h=c.split(" "),i=[],f=0,g=h.length;g>f;f++)d=h[f],i.push(a.classList.remove(d));return i}return a.className=a.className.replace(new RegExp("(^|\\b)"+c.split(" ").join("|")+"(\\b|$)","gi")," ")},b.toggleClass=function(a,c,d){var e;return a.length?function(){var f,g,h;for(h=[],f=0,g=a.length;g>f;f++)e=a[f],h.push(b.toggleClass(e,c,d));return h}():d?b.hasClass(a,c)?void 0:b.addClass(a,c):b.removeClass(a,c)},b.append=function(a,c){var d;return a.length?function(){var e,f,g;for(g=[],e=0,f=a.length;f>e;e++)d=a[e],g.push(b.append(d,c));return g}():a.insertAdjacentHTML("beforeend",c)},b.find=function(a,b){return(a instanceof NodeList||a instanceof Array)&&(a=a[0]),a.querySelectorAll(b)},b.trigger=function(a,b,c){var d,e,f;try{f=new CustomEvent(b,{detail:c})}catch(e){d=e,f=document.createEvent("CustomEvent"),f.initCustomEvent?f.initCustomEvent(b,!0,!0,c):f.initEvent(b,!0,!0,c)}return a.dispatchEvent(f)},a.exports=b}).call(this)},function(a,b,c){(function(b){(function(){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};e=c(5),i=/(\d{1,4})/g,h=[{type:"visa",pattern:/^4/,format:i,length:[13,16,19],cvcLength:[3],luhn:!0},{type:"visaelectron",pattern:/^4(026|17500|405|508|844|91[37])/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"mastercard",pattern:/^(5[1-5]|677189)|^(222[1-9]|2[3-6]\d{2}|27[0-1]\d|2720)/,format:i,length:[16],cvcLength:[3],luhn:!0},{type:"jcb",pattern:/^(35(2[89]|[3-8][0-9]))/,format:i,length:[16,19],cvcLength:[3],luhn:!0}],f=function(a){var b,c,d,e;for(a=(a+"").replace(/\D/g,""),d=0,e=h.length;e>d;d++)c=h[d],c.pattern.test(a)&&(b=c);return b},g=function(a){var b,c,d;for(c=0,d=h.length;d>c;c++)if(b=h[c],b.type===a)return b},r=function(a){var b,c,d,e,f,g;for(f=!0,g=0,c=(a+"").split("").reverse(),d=0,e=c.length;e>d;d++)b=c[d],b=parseInt(b,10),(f=!f)&&(b*=2),b>9&&(b-=9),g+=b;return g%10===0},q=function(a){var b,c,d;try{if(null!=a.selectionStart&&a.selectionStart!==a.selectionEnd)return!0;if(null!=("undefined"!=typeof document&&null!==document&&null!=(d=document.selection)?d.createRange:void 0)&&document.selection.createRange().text)return!0}catch(c){b=c}return!1},s=function(a){return setTimeout(function(b){return function(){var b,c;return b=a.target,c=e.val(b),c=d.fns.formatCardNumber(c),e.val(b,c),e.trigger(b,"change")}}(this))},l=function(a){var b,c,d,g,h,i,j,k,l,m,n;if(c=a.which?String.fromCharCode(a.which):"",/^\d+$/.test(c)){for(k=a.target,n=e.val(k),b=f(n+c),i=(n.replace(/\D/g,"")+c).length,m=[16],b&&(m=b.length),d=g=0,h=m.length;h>g;d=++g)if(l=m[d],!(i>=l&&m[d+1])&&i>=l)return;if(!q(k))return j=b&&"amex"===b.type?/^(\d{4}|\d{4}\s\d{6})$/:/(?:^|\s)(\d{4})$/,j.test(n)?(a.preventDefault(),e.val(k,n+" "+c),e.trigger(k,"change")):void 0}},j=function(a){var b,c;return b=a.target,c=e.val(b),a.meta||8!==a.which||q(b)?void 0:/\d\s$/.test(c)?(a.preventDefault(),e.val(b,c.replace(/\d\s$/,"")),e.trigger(b,"change")):/\s\d?$/.test(c)?(a.preventDefault(),e.val(b,c.replace(/\s\d?$/,"")),e.trigger(b,"change")):void 0},m=function(a){var b,c,d,f;return b=String.fromCharCode(a.which),/^\d+$/.test(b)?(c=a.target,f=e.val(c),d=f+b,/^\d$/.test(d)&&"0"!==d&&"1"!==d?(a.preventDefault(),e.val(c,"0"+d+" / "),e.trigger(c,"change")):/^\d\d$/.test(d)?(a.preventDefault(),e.val(c,d+" / "),e.trigger(c,"change")):void 0):void 0},p=function(a){var b,c,d;return b=String.fromCharCode(a.which),/^\d+$/.test(b)?(c=a.target,d=e.val(c)+b,/^\d$/.test(d)&&"0"!==d&&"1"!==d?(a.preventDefault(),e.val(c,"0"+d),e.trigger(c,"change")):/^\d\d$/.test(d)?(a.preventDefault(),e.val(c,""+d),e.trigger(c,"change")):void 0):void 0},n=function(a){var b,c,d;return b=String.fromCharCode(a.which),/^\d+$/.test(b)?(c=a.target,d=e.val(c),/^\d\d$/.test(d)?(e.val(c,d+" / "),e.trigger(c,"change")):void 0):void 0},o=function(a){var b,c,d;return b=String.fromCharCode(a.which),"/"===b?(c=a.target,d=e.val(c),/^\d$/.test(d)&&"0"!==d?(e.val(c,"0"+d+" / "),e.trigger(c,"change")):void 0):void 0},k=function(a){var b,c;if(!a.metaKey&&(b=a.target,c=e.val(b),8===a.which&&!q(b)))return/\d(\s|\/)+$/.test(c)?(a.preventDefault(),e.val(b,c.replace(/\d(\s|\/)*$/,"")),e.trigger(b,"change")):/\s\/\s?\d?$/.test(c)?(a.preventDefault(),e.val(b,c.replace(/\s\/\s?\d?$/,"")),e.trigger(b,"change")):void 0},y=function(a){var b;return a.metaKey||a.ctrlKey?!0:32===a.which?a.preventDefault():0===a.which?!0:a.which<33?!0:(b=String.fromCharCode(a.which),/[\d\s]/.test(b)?void 0:a.preventDefault())},u=function(a){var b,c,d,g;if(d=a.target,c=String.fromCharCode(a.which),/^\d+$/.test(c)&&!q(d))if(g=(e.val(d)+c).replace(/\D/g,""),b=f(g)){if(!(g.length<=b.length[b.length.length-1]))return a.preventDefault()}else if(!(g.length<=16))return a.preventDefault()},w=function(a,b){var c,d,f;return d=a.target,c=String.fromCharCode(a.which),/^\d+$/.test(c)&&!q(d)?(f=e.val(d)+c,f=f.replace(/\D/g,""),f.length>b?a.preventDefault():void 0):void 0},v=function(a){return w(a,6)},x=function(a){return w(a,2)},z=function(a){return w(a,4)},t=function(a){var b,c,d;return c=a.target,b=String.fromCharCode(a.which),/^\d+$/.test(b)&&!q(c)?(d=e.val(c)+b,d.length<=4?void 0:a.preventDefault()):void 0},A=function(a){var b,c,f,g,i;return g=a.target,i=e.val(g),f=d.fns.cardType(i)||"unknown",e.hasClass(g,f)?void 0:(b=function(){var a,b,d;for(d=[],a=0,b=h.length;b>a;a++)c=h[a],d.push(c.type);return d}(),e.removeClass(g,"unknown"),e.removeClass(g,b.join(" ")),e.addClass(g,f),e.toggleClass(g,"identified","unknown"!==f),e.trigger(g,"payment.cardType",f))},d=function(){function a(){}return a.fns={cardExpiryVal:function(a){var b,c,d,e;return a=a.replace(/\s/g,""),d=a.split("/",2),b=d[0],e=d[1],2===(null!=e?e.length:void 0)&&/^\d+$/.test(e)&&(c=(new Date).getFullYear(),c=c.toString().slice(0,2),e=c+e),b=parseInt(b,10),e=parseInt(e,10),{month:b,year:e}},validateCardNumber:function(a){var b,c;return a=(a+"").replace(/\s+|-/g,""),/^\d+$/.test(a)?(b=f(a),b?(c=a.length,B.call(b.length,c)>=0&&(b.luhn===!1||r(a))):!1):!1},validateCardExpiry:function(b,c){var d,f,g,h,i;return"object"==typeof b&&"month"in b?(h=b,b=h.month,c=h.year):"string"==typeof b&&B.call(b,"/")>=0&&(i=a.fns.cardExpiryVal(b),b=i.month,c=i.year),b&&c?(b=e.trim(b),c=e.trim(c),/^\d+$/.test(b)&&/^\d+$/.test(c)?(b=parseInt(b,10),b&&12>=b?(2===c.length&&(g=(new Date).getFullYear(),g=g.toString().slice(0,2),c=g+c),f=new Date(c,b),d=new Date,f.setMonth(f.getMonth()-1),f.setMonth(f.getMonth()+1,1),f>d):!1):!1):!1},validateCardCVC:function(a,b){var c,d;return a=e.trim(a),/^\d+$/.test(a)?b&&g(b)?(c=a.length,B.call(null!=(d=g(b))?d.cvcLength:void 0,c)>=0):a.length>=3&&a.length<=3:!1},cardType:function(a){var b;return a?(null!=(b=f(a))?b.type:void 0)||null:null},formatCardNumber:function(a){var b,c,d,e;return(b=f(a))?(e=b.length[b.length.length-1],a=a.replace(/\D/g,""),a=a.slice(0,e),b.format.global?null!=(d=a.match(b.format))?d.join(" "):void 0:(c=b.format.exec(a),null!=c&&c.shift(),null!=c?c.join(" "):void 0)):a}},a.restrictNumeric=function(a){return e.on(a,"keypress",y)},a.cardExpiryVal=function(b){return a.fns.cardExpiryVal(e.val(b))},a.formatCardCVC=function(b){return a.restrictNumeric(b),e.on(b,"keypress",t),b},a.formatCardExpiry=function(b){var c,d;return a.restrictNumeric(b),b.length&&2===b.length?(c=b[0],d=b[1],this.formatCardExpiryMultiple(c,d)):(e.on(b,"keypress input",v),e.on(b,"keypress input",m),e.on(b,"keypress input",o),e.on(b,"keypress input",n),e.on(b,"keydown input",k)),b},a.formatCardExpiryMultiple=function(a,b){return e.on(a,"keypress input",x),e.on(a,"keypress input",p),e.on(b,"keypress input",z)},a.formatCardNumber=function(b){return a.restrictNumeric(b),e.on(b,"keypress input",u),e.on(b,"keypress input",l),e.on(b,"keydown input",j),e.on(b,"keyup blur input",A),e.on(b,"paste input",s),b},a.getCardArray=function(){return h},a.setCardArray=function(a){return h=a,!0},a.addToCardArray=function(a){return h.push(a)},a.removeFromCardArray=function(a){var b,c;for(b in h)c=h[b],c.type===a&&h.splice(b,1);return!0},a}(),a.exports=d,b.Payment=d}).call(this)}).call(b,function(){return this}())},function(a,b,c){"use strict";a.exports=c(8)},function(a,b,c){"use strict";var d=c(9),e=function f(){var a,b,c,e,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;for("boolean"==typeof i&&(l=i,i=arguments[1]||{},j=2),"object"==typeof i||d.fn(i)||(i={});k>j;j++)if(a=arguments[j],null!=a){"string"==typeof a&&(a=a.split(""));for(b in a)c=i[b],e=a[b],i!==e&&(l&&e&&(d.hash(e)||(g=d.array(e)))?(g?(g=!1,h=c&&d.array(c)?c:[]):h=c&&d.hash(c)?c:{},i[b]=f(l,h,e)):"undefined"!=typeof e&&(i[b]=e))}return i};e.version="1.1.3",a.exports=e},function(a,b){"use strict";var c,d=Object.prototype,e=d.hasOwnProperty,f=d.toString;"function"==typeof Symbol&&(c=Symbol.prototype.valueOf);var g=function(a){return a!==a},h={"boolean":1,number:1,string:1,undefined:1},i=/^([A-Za-z0-9+\/]{4})*([A-Za-z0-9+\/]{4}|[A-Za-z0-9+\/]{3}=|[A-Za-z0-9+\/]{2}==)$/,j=/^[A-Fa-f0-9]+$/,k={};k.a=k.type=function(a,b){return typeof a===b},k.defined=function(a){return"undefined"!=typeof a},k.empty=function(a){var b,c=f.call(a);if("[object Array]"===c||"[object Arguments]"===c||"[object String]"===c)return 0===a.length;if("[object Object]"===c){for(b in a)if(e.call(a,b))return!1;return!0}return!a},k.equal=function(a,b){if(a===b)return!0;var c,d=f.call(a);if(d!==f.call(b))return!1;if("[object Object]"===d){for(c in a)if(!(k.equal(a[c],b[c])&&c in b))return!1;for(c in b)if(!(k.equal(a[c],b[c])&&c in a))return!1;return!0}if("[object Array]"===d){if(c=a.length,c!==b.length)return!1;for(;c--;)if(!k.equal(a[c],b[c]))return!1;return!0}return"[object Function]"===d?a.prototype===b.prototype:"[object Date]"===d?a.getTime()===b.getTime():!1},k.hosted=function(a,b){var c=typeof b[a];return"object"===c?!!b[a]:!h[c]},k.instance=k["instanceof"]=function(a,b){return a instanceof b},k.nil=k["null"]=function(a){return null===a},k.undef=k.undefined=function(a){return"undefined"==typeof a},k.args=k.arguments=function(a){var b="[object Arguments]"===f.call(a),c=!k.array(a)&&k.arraylike(a)&&k.object(a)&&k.fn(a.callee);return b||c},k.array=Array.isArray||function(a){return"[object Array]"===f.call(a)},k.args.empty=function(a){return k.args(a)&&0===a.length},k.array.empty=function(a){return k.array(a)&&0===a.length},k.arraylike=function(a){return!!a&&!k.bool(a)&&e.call(a,"length")&&isFinite(a.length)&&k.number(a.length)&&a.length>=0},k.bool=k["boolean"]=function(a){return"[object Boolean]"===f.call(a)},k["false"]=function(a){return k.bool(a)&&Boolean(Number(a))===!1},k["true"]=function(a){return k.bool(a)&&Boolean(Number(a))===!0},k.date=function(a){return"[object Date]"===f.call(a)},k.date.valid=function(a){return k.date(a)&&!isNaN(Number(a))},k.element=function(a){return void 0!==a&&"undefined"!=typeof HTMLElement&&a instanceof HTMLElement&&1===a.nodeType},k.error=function(a){return"[object Error]"===f.call(a)},k.fn=k["function"]=function(a){var b="undefined"!=typeof window&&a===window.alert;if(b)return!0;var c=f.call(a);return"[object Function]"===c||"[object GeneratorFunction]"===c||"[object AsyncFunction]"===c},k.number=function(a){return"[object Number]"===f.call(a)},k.infinite=function(a){return a===1/0||a===-(1/0)},k.decimal=function(a){return k.number(a)&&!g(a)&&!k.infinite(a)&&a%1!==0},k.divisibleBy=function(a,b){var c=k.infinite(a),d=k.infinite(b),e=k.number(a)&&!g(a)&&k.number(b)&&!g(b)&&0!==b;return c||d||e&&a%b===0},k.integer=k["int"]=function(a){return k.number(a)&&!g(a)&&a%1===0},k.maximum=function(a,b){if(g(a))throw new TypeError("NaN is not a valid value");if(!k.arraylike(b))throw new TypeError("second argument must be array-like");for(var c=b.length;--c>=0;)if(a<b[c])return!1;return!0},k.minimum=function(a,b){if(g(a))throw new TypeError("NaN is not a valid value");if(!k.arraylike(b))throw new TypeError("second argument must be array-like");for(var c=b.length;--c>=0;)if(a>b[c])return!1;return!0},k.nan=function(a){return!k.number(a)||a!==a},k.even=function(a){return k.infinite(a)||k.number(a)&&a===a&&a%2===0},k.odd=function(a){return k.infinite(a)||k.number(a)&&a===a&&a%2!==0},k.ge=function(a,b){if(g(a)||g(b))throw new TypeError("NaN is not a valid value");return!k.infinite(a)&&!k.infinite(b)&&a>=b},k.gt=function(a,b){if(g(a)||g(b))throw new TypeError("NaN is not a valid value");return!k.infinite(a)&&!k.infinite(b)&&a>b},k.le=function(a,b){if(g(a)||g(b))throw new TypeError("NaN is not a valid value");return!k.infinite(a)&&!k.infinite(b)&&b>=a},k.lt=function(a,b){if(g(a)||g(b))throw new TypeError("NaN is not a valid value");return!k.infinite(a)&&!k.infinite(b)&&b>a},k.within=function(a,b,c){if(g(a)||g(b)||g(c))throw new TypeError("NaN is not a valid value");if(!k.number(a)||!k.number(b)||!k.number(c))throw new TypeError("all arguments must be numbers");var d=k.infinite(a)||k.infinite(b)||k.infinite(c);return d||a>=b&&c>=a},k.object=function(a){return"[object Object]"===f.call(a)},k.primitive=function(a){return a&&("object"==typeof a||k.object(a)||k.fn(a)||k.array(a))?!1:!0},k.hash=function(a){return k.object(a)&&a.constructor===Object&&!a.nodeType&&!a.setInterval},k.regexp=function(a){return"[object RegExp]"===f.call(a)},k.string=function(a){return"[object String]"===f.call(a)},k.base64=function(a){return k.string(a)&&(!a.length||i.test(a))},k.hex=function(a){return k.string(a)&&(!a.length||j.test(a))},k.symbol=function(a){return"function"==typeof Symbol&&"[object Symbol]"===f.call(a)&&"symbol"==typeof c.call(a)},a.exports=k}]),hasRequire=window&&window.angular?!1:"function"==typeof require;!function(a,b,c,d,e){"use strict";d.module("app").controller("CardCtrl",["$scope",function(a){}]).directive("card",["$timeout",function(a){return{restrict:"A",scope:{cardContainer:"@",width:"@",placeholders:"=",options:"=",messages:"="},controller:"CardCtrl",link:function(b,e,f,g){var h={number:"   ",name:"Full Name",expiry:"/",cvc:""},i={validDate:"valid\nthru",monthYear:"month/year"},j={debug:!1,formatting:!0},k=d.extend(h,b.placeholders),l=d.extend(i,b.messages),m=d.extend(j,b.options),n={form:'[name="'+f.name+'"]',container:b.cardContainer,formSelectors:{},width:m.width,messages:{validDate:l.validDate,monthYear:l.monthYear},placeholders:{number:k.number,name:k.name,expiry:k.expiry,cvc:k.cvc},formatting:m.formatting,debug:m.debug};n.width=n.width||b.width||350,g.numberInput&&g.numberInput.length>0&&(n.formSelectors.numberInput='input[name="'+g.numberInput[0].name+'"]'),g.expiryInput&&g.expiryInput.length>0&&(n.formSelectors.expiryInput='input[name="'+g.expiryInput[0].name+'"]'),g.cvcInput&&g.cvcInput.length>0&&(n.formSelectors.cvcInput='input[name="'+g.cvcInput[0].name+'"]'),g.nameInput&&g.nameInput.length>0&&(n.formSelectors.nameInput='input[name="'+g.nameInput[0].name+'"]'),a().then(function(){new c(n)}).then()}}}]).directive("cardNumber",["$compile",function(a){return{restrict:"A",require:["^card","ngModel"],link:function(a,c,d,e){var f=e[0];f.numberInput=c,a.$watch("ngModel",function(a,d){if((d||a)&&(d!==a||a)){var e=b.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),c[0].dispatchEvent(e)}})}}}]).directive("cardName",["$compile",function(a){return{restrict:"A",require:["^card","ngModel"],link:function(a,c,d,e){var f=e[0];f.nameInput=c,a.$watch("ngModel",function(a,d){if((d||a)&&(d!==a||a)){var e=b.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),c[0].dispatchEvent(e)}})}}}]).directive("cardExpiry",["$compile",function(a){return{restrict:"A",require:["^card","ngModel"],link:function(a,c,d,e){var f=e[0];f.expiryInput=c,a.$watch("ngModel",function(a,d){if((d||a)&&(d!==a||a)){var e=b.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),c[0].dispatchEvent(e)}})}}}]).directive("cardCvc",["$compile",function(a){return{restrict:"A",require:["^card","ngModel"],link:function(a,c,d,e){var f=e[0];f.cvcInput=c,a.$watch("ngModel",function(a,d){if((d||a)&&(d!==a||a)){var e=b.createEvent("HTMLEvents");e.initEvent("keyup",!1,!0),c[0].dispatchEvent(e)}})}}}])}(window,window.document,hasRequire?require("card"):window.Card,hasRequire?require("angular"):window.angular),function(){angular.module("app").directive("onCarouselChange",["$parse",function(a){return{require:"^uibCarousel",link:function(b,c,d,e){var f=a(d.onCarouselChange),g=e.select;e.select=function(a,c,d){return a!==this.currentSlide&&f(b,{nextSlide:a,direction:c,nextIndex:this.getCurrentIndex()}),g.apply(this,arguments)}}}}])}(),function(){var a=function(a,b,c,d,e,f,g,h){return{link:function(c,f,h,i){function j(a,b,c,d){if(c=c||!1,d=d||!0,"createEvent"in document){var e=document.createEvent("HTMLEvents");e.initEvent(b,c,d),a.dispatchEvent(e)}else a.fireEvent("on"+b)}function k(){d.GetCountryByIpAdress().then(function(a){var b=a.data,c=document.createElement("script"),d=document.getElementsByTagName("script")[0];b!=e.CountryId.China?c.src="https://maps.googleapis.com/maps/api/js?key=AIzaSyA-kdIwNXb4NNqZYcCQ5gAnVmSbrb_p_Vo&libraries=places&callback=lazyLoadApi":c.src="http://maps.google.cn/maps/api/js?key=AIzaSyA-kdIwNXb4NNqZYcCQ5gAnVmSbrb_p_Vo&libraries=places&callback=lazyLoadApi",d.parentNode.insertBefore(c,d)})}const l=sessionStorage.getItem("CountriesForAvaTrade")?JSON.parse(sessionStorage.getItem("CountriesForAvaTrade")).DefaultCountryCode:"";var m=g.selectedCountryCode?g.selectedCountryCode:g.userProfile&&g.userProfile.CountryCode?g.userProfile.CountryCode:l,n={language:"en",types:["address"],componentRestrictions:{country:m}},o=!1;if("il"===m&&(o=!0,n={language:"he",types:["(cities)"],componentRestrictions:{country:"il"}}),!h.field)throw'ngAutoComplete require "field" attribute!!!';var p=h.field,q=function(){c.options&&(c.options.types&&(n.types=[],n.types.push(c.options.types)),c.options.bounds&&(n.bounds=c.options.bounds),c.options.country&&(n.componentRestrictions={country:c.options.country}))};k(),q();var r={locality:"long_name",route:"long_name",street_number:"short_name",floor:"short_name",postal_code:"short_name",postal_town:"long_name"},s=function(){if(document.getElementById("editBtn").addEventListener("click",u),t(),"undefined"!=typeof google){const a=document.querySelector(".address-line1 input");a&&(a.disabled=!1,document.querySelector(".address-line1.loading-icon")&&document.querySelector(".address-line1.loading-icon").classList.remove("loading-icon"),a.classList.add("search-icon")),console.log("google maps loaded"),c.gPlace=new google.maps.places.Autocomplete(f[0],n),c.gPlace.setComponentRestrictions(n.componentRestrictions),google.maps.event.addListener(c.gPlace,"place_changed",function(){c.$apply(function(){document.getElementsByName(e.GoogleMapsType.locality)[0].disabled?u():t(),c.details=c.gPlace.getPlace(),c.dataobject[p]=f.val().split(",").toString().length>47?f.val().split(",").toString().substring(0,46)+"...":f.val().split(",").toString();for(var a,b=0;b<(void 0!=c.details.address_components?c.details.address_components.length:0);b++){if(a=c.details.address_components[b].types[0],r[a]&&!o){var d=c.details.address_components[b][r[a]];"postal_town"==a&&""==c.dataobject[e.GoogleMapsType.locality]&&(a="locality"),c.dataobject[e.GoogleMapsType[a]]=d,document.getElementsByName(e.GoogleMapsType[a])[0].classList.add("border-success","ng-valid","ng-touched")}if(o){var g=f[0].value=c.dataobject.City.split(","),d=g[0];c.dataobject[e.GoogleMapsType[a]]=d,document.getElementsByName(e.GoogleMapsType[a])[0].classList.add("border-success","ng-valid","ng-touched")}}setTimeout(function(){j(document.getElementsByName(e.GoogleMapsType[a])[0],"blur")},1e3)})})}else console.log("google maps not loaded")},t=function(){for(var a in r)c.dataobject[e.GoogleMapsType[a]]="",document.getElementsByName(e.GoogleMapsType[a])[0]&&document.getElementsByName(e.GoogleMapsType[a])[0].classList.remove("border-success","ng-valid","ng-touched")},u=function(){for(var a in r)document.getElementsByName(e.GoogleMapsType[a])[0]&&(document.getElementsByName(e.GoogleMapsType[a])[0].disabled=!1,document.getElementsByName(e.GoogleMapsType[a])[0].classList.remove("border-success","ng-valid","ng-touched"))};window.lazyLoadApi=function(){s();var c=b.defer();return a.initialize=function(){c.resolve()},a.attachEvent?a.attachEvent("onload",s):a.addEventListener("load",s,!1),c.promise}}}};angular.module("app").directive("ngAutocomplete",["$window","$q","CommonService","DomainService","MyAvaConsts","$timeout","$sessionStorage","$filter",a])}(),angular.module("app").directive("heightWatcher",["MobileService",function(a){return{scope:{isMobile:"=",isTablet:"="},link:function(b,c,d){b.$watch(function(){return c.height()},function(c,d){a.isMobileByScreenWidth(),a.isTabletByScreenWidth(),b.isMobile?angular.element("#main-container").attr("style","margin-top: "+(15+c)+"px"):b.isTablet?angular.element("#main-container").attr("style","margin-top: "+(15+c)+"px"):angular.element("#main-container").attr("style","")}),window.addEventListener("orientationchange",function(){90==window.orientation||-90==window.orientation?b.isMobile?angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px"):b.isTablet&&angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px"):b.isMobile?angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px"):b.isTablet&&angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px")}),b.$watch("isMobile",function(a,d){b.isMobile&&(a?angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px"):angular.element("#main-container").attr("style",""))}),b.$watch("isTablet",function(a,d){b.isTablet?a?angular.element("#main-container").attr("style","margin-top: "+(15+c.height())+"px"):angular.element("#main-container").attr("style",""):b.isMobile||b.isTablet||a||angular.element("#main-container").attr("style","")})}}}]),function(){angular.module("app").directive("hrefTarget",function(){return{restrict:"A",link:function(a,b,c){"_blank"==a.urltarget&&b.attr("target","_blank")},scope:{urltarget:"="}}})}(),function(){var a=function(a){return{restrict:"AEC",scope:{dependenceQuestion:"=",dependenceAnswers:"=",dependenceCondition:"=",fieldName:"@"},link:function(a,b,c){a.$watch("dependenceQuestion",function(c){var d="QUESTION-DEPENDECES"==b[0].tagName?$(b).parent():b,e=!0;a.dependenceCondition&&(e="null"!=a.dependenceCondition&&"ng-hide"!=a.dependenceCondition?!1:!0),console.log(b),e&&(c?("string"!=typeof c&&(c=c.toString()),-1!=a.dependenceAnswers.map(String).indexOf(c)?(d.removeClass("ng-hide"),d.parent().parent().parent()[0]&&d.parent().parent().parent().parent()[0].classList.contains("ng-hide")&&d.parent().parent().parent().parent().removeClass("ng - hide")):(a.$parent.dataobject[a.fieldName]=void 0,d.addClass("ng-hide"))):d.addClass("ng-hide"))},!0)}}};angular.module("app").directive("questionDependeces",["$sessionStorage",a])}(),angular.module("app").directive("categoryDisplay",["$timeout",function(a){return{restrict:"A",scope:{watcher:"=",fieldName:"@"},link:function(b,c){b.watcher;a(function(){b.$watchCollection("watcher",function(b){a(function(){var a=!1;c&&(angular.forEach(c.context.children[0].children[1].children,function(b,c){b.classList.contains("content-item")&&b.children[0]&&b.children[0].classList.contains("row")&&b.children[0].classList.contains("question")&&!b.children[0].classList.contains("ng-hide")&&(a=!0)}),a||c.addClass("ng-hide"))},100)})}),a(function(){var a=!1;console.log(c),angular.forEach(c.context.children[0].children[1].children,function(b,c){b.classList.contains("content-item")&&b.children[0]&&b.children[0].classList.contains("row")&&b.children[0].classList.contains("question")&&!b.children[0].classList.contains("ng-hide")&&(a=!0)}),a||c.addClass("ng-hide")})}}}]),function(){angular.module("app").directive("compileTemplate",["$compile","$parse",function(a,b){return{link:function(c,d,e){function f(){return(g(c)||"").toString()}var g=b(e.ngBindHtml);c.$watch(f,function(){a(d,null,-9999)(c)})}}}])}();var addAccountBtn=["$scope","$element","$attrs","RegisterService","$sessionStorage","$state","$rootScope","AuthObject","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j){function k(){return g.IsAvaJapan&&g.IsCorporate?!1:!0}function l(){return!j.hasRealAccount()}var m=this;m.showRealDemo=!1,m.showUpgradeToRealBtn=l(),m.showAddAccountButtons=!0,m.showAddDemoAccountBtn=k(),m.isCollapsed=!1,m.mobileConfig=g.mobileConfig,m.isLoggedIn=i.getIsLoggedIn(),m.isWebTrader="wtiframe"==e.WhiteLabelMode,a.$on("registrationStarted",function(a,b){m.showAddAccountButtons=!1}),a.$on("registrationFinished",function(a,b){m.showAddAccountButtons=!0,m.showAddDemoAccountBtn=k()}),a.$on("shortDemoToRealregFinished",function(a,b){m.isCollapsed=!1,m.showUpgradeToRealBtn=l()}),g.$on("$stateChangeSuccess",function(a,b,c,e,f){d.checkIfRegistrationState(b.name)?d.registrationStarted():d.checkIfRegistrationState(e.name)&&d.registrationFinished(),g.showProgressBarMobile=/step/i.test(b.url)}),a.$on("loggedIn",function(a,b){m.isLoggedIn=!0}),a.$on("loggedOut",function(a,b){m.isLoggedIn=!1}),m.loggedIn=e.isLoggedIn;m.setShowRealDemo=function(a){h.isLoggedIn=!0,m.showRealDemo=a},m.createAccountByRegType=function(b){g.$broadcast("updateIsShowHamburger"),d.getRegistrationAction(i.getToken(),b).success(function(a){d.NavigateByAction(a)}).error(function(b){a.loginError=!0})}}];angular.module("app").component("addAccountBtn",{templateUrl:"components/add-an-account-button/add-an-account-button.html",controller:addAccountBtn}),function(a){function b(a,b,c,d,e,f){var g=this;g.GetMaxAmountForCreditCard=function(){return a.post(window.webApidomain+"api/Deposit/GetMaxAmountForCreditCard_NewCrm")},g.isAustralia=function(){return g.userProfile=f.getLocalUserProfile(),g.userProfile&&14==g.userProfile.CountryID},g.GetMinDepositForBonus=function(b,c,d){var e={currency:b,country:c,whiteLabel:d};return g.userProfile=f.getLocalUserProfile(),a.post(window.webApidomain+"api/deposit/GetMinDepositForBonus",e)}}angular.module("app").service("DepositBonusService",["$http","$localStorage","$sessionStorage","$rootScope","UserProfile","AccountService",b])}(window),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=this;a.calculated=!1,a.data={bonusAmount:0,bonusCurrencyId:1,bonusCurrencyName:"",depositAmount:""},p.Taiwan=209,a.bonusCurrencyName;var q=function(){p.userProfile=k.getLocalUserProfile();var a=[];if(p.userProfile){var b=p.userProfile.Accounts;if(b&&b.length>0)for(var c=[],d=0;d<b.length;d++)b[d].IsReal&&-1==c.indexOf(b[d].CurrencyBase)&&b[d].AllowBonus&&(c.push(b[d].CurrencyBase),a.push({id:b[d].CurrencyBase,code:b[d].CurrencyBaseName}))}return a},r=function(b){for(var c=0;c<a.currencies.length;c++)a.currencies[c].id==b&&(a.data.bonusCurrencyName=a.currencies[c].code)},s=function(){a.showCurrencyWarning=!1,a.showMinWarning=!1,a.showMaxWarning=!1};a.checkMinMax=function(b){
s(),void 0!=a.data.depositAmount&&i.GetMinDepositForBonus(a.data.bonusCurrencyId,p.userProfile.CountryID,c.WhiteLabelName).then(function(c){a.minDepositForBonus=c.data||100,""===a.data.depositAmount?a.showMinWarning=!1:a.data.depositAmount<a.minDepositForBonus&&(a.showMinWarning=!0,b&&(a.data.depositAmount=a.minDepositForBonus))})},a.calculateBonus=function(){a.checkMinMax(!0);var b=c.selectedAccount;b=c.selectedAccount&&c.selectedAccount.AllowBonus?c.selectedAccount:g("filter")(p.userProfile.Accounts,{IsReal:!0,AllowBonus:!0})[0],h.calculateDepositBonus(a.data.bonusCurrencyId,a.data.depositAmount,b.AccountId).success(function(b){a.calculated=!0,a.data.bonusAmount=b.BonusAmount,a.data.bonusGift=h.getGiftHref(b.Gift),r(a.data.bonusCurrencyId)}).error(function(a){console.log("error calculating bonus",a)})},a.fillCurrencies=function(){var c=q();c.length>0?(a.data.bonusCurrencyId=c[0].id,a.currencies=c):b.$broadcast("updateBonusBannerVisibility",{visible:!1})},a.checkAccounts=function(){a.showCurrencyWarning=-1==userCurrencies.indexOf(a.data.bonusCurrencyId),a.calculated=!1},a.scrollToAmount=function(){o.IsAndroid()&&f(function(){e("calculateBonusForm")},400)},a.addAccount=function(){j.createAccountByRegType(window.AccountType.Real)},a.goDeposit=function(){a.checkMinMax(!0),h.setSelectedDeposit(a.data),d.go("deposit")},a.BackToDeposit=function(){a.checkMinMax(!0),p.userProfile.CountryID==p.Taiwan?(""==a.data.bonusCurrencyName&&(a.data.bonusCurrencyName=r(a.data.bonusCurrencyId)),p.setTaiwanPMAndGoToDeposit(a.data.depositAmount,a.data.bonusCurrencyName)):p.setSelectedPMAndGoToDeposit(a.data.depositAmount)},p.setTaiwanPMAndGoToDeposit=function(b,c){a.data.paymentMethodId=m.PaymentMethodsDict.ChinaUnionPay[1];var d={currencyName:c,amount:b,cameFromBonus:!0};h.calculateCNYCurrencyRate(d).then(function(b){a.data.depositAmount=b.data.BaseDepositAmount,a.goDeposit()})},p.setSelectedPMAndGoToDeposit=function(b){i.GetMaxAmountForCreditCard().then(function(c){b>c.data?a.data.paymentMethodId=m.PaymentMethodsDict.WireTransfer:a.data.paymentMethodId=m.PaymentMethodsDict.CreditCard,a.goDeposit()})},a.openTCUrl={},a.openTC=function(){if(p.userProfile){var b="";b=n.getWhiteLabelSiteUrl()+"/common/bonus-terms-and-conditions",a.openTCUrl=b}},a.resetBonus=function(){a.calculated=!1};var t=function(){a.fillCurrencies(),s(),a.openTC()};t()}angular.module("app").controller("DepositBonusCtrl",["$scope","$rootScope","$sessionStorage","$state","$anchorScroll","$timeout","$filter","DepositService","DepositBonusService","RegisterService","AccountService","whiteLabelData","MyAvaConsts","CommonService","MobileService",a])}();var valuesSliderCmp=["$scope","$element","$attrs","RegisterService","DepositService","AccountService","$sessionStorage","$localStorage","$state","$rootScope","AuthObject","AuthService","$filter","$timeout","MyAvaConsts","DEPOSIT_STATUS","ngDialog",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(a,b,c){for(var d=Math.floor(a/b),e=Math.floor(d/c),f=new Array(c),g=0;c-1>g;g++)f[g]=e*b,f[g]=0==g?f[g]:f[g]+f[g-1];return f}var s=this;s.amount=s.amount||s.minDeposit,s.minDeposit=s.minDeposit,s.maxDeposit=s.maxDeposit,s.baseCurrencyAmount=s.baseCurrencyAmount,s.setDepositsTicks=function(){var a;switch(s.maxDeposit){case 5e3:a=5;break;case 1e5:case 999999:a=null;break;default:a=4}s.deposits=a&&r(s.maxDeposit,500,a).map(function(a){return{value:a,popoverIsOpen:!1}})},s.setDepositsTicks(),s.sliderControl={},s.sliderInit=function(){s.slider_toggle={options:{floor:s.minDeposit,ceil:s.maxDeposit,step:100,enforceStep:!1,showSelectionBar:!0,startRender:!0,getSelectionBarColor:function(a){return"#2882c0"},translate:function(a,b,c){return"model"==c?"":s.currencyBaseName?m("isoCurrency")(a,s.currencyBaseName,0):a}}}},s.visaControl.updateSlider=function(){n(function(){s.slider_toggle.options.floor=s.minDeposit,s.slider_toggle.options.ceil=s.maxDeposit,s.setDepositsTicks(),s.sliderControl.updateSlider()})},s.refreshSlider=function(){n(function(){s.sliderInit(),a.$broadcast("rzSliderForceRender"),s.showDepositSlider=!0})},s.refreshSlider()}];angular.module("app").component("valuesSliderCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",amount:"=",pointerTooltip:"=",baseCurrencyAmount:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",isSpecialCurrencySign:"="},templateUrl:"components/values-slider-cmp/values-slider-cmp.html",controller:valuesSliderCmp});var loginLoader=["$scope","AccountService","$state","$timeout","$stateParams","AuthService","$rootScope","ngDialog","$sessionStorage","$localStorage","MyAvaConfig","whiteLabelData",function(a,b,c,d,e,f,g,h,i,j,k,l){var m=this;g.typOn=!1,f.setIsLoggedIn(!1),window.$myava=window.$myava||{},e.tradingplatform&&(i.tradingplatform=e.tradingplatform),e.dealtype&&(i.dealtype=e.dealtype),e.mtsrv&&(i.serverName=e.mtsrv),e.WhiteLabelMode&&(i.WhiteLabelMode=e.WhiteLabelMode),e.WhiteLabelName&&(i.WhiteLabelName=e.WhiteLabelName||void 0,window.$myava.WhiteLabel={name:i.WhiteLabelName,mode:void 0!=i.WhiteLabelMode?i.WhiteLabelMode:""});var m=this;e.WhiteLabelMode&&(i.WhiteLabelMode=e.WhiteLabelMode),e.WhiteLabelName&&(i.WhiteLabelName=e.WhiteLabelName||void 0),g.$broadcast("updateContactNumber"),$myava.security={licenseKey:"12345-0000-6PZQ-45678-GO71JZ"},window.$myava.WidgetLoginSuccessEvent=function(){f.goStateUpdateSessions()},m.email="",m.email=e.email,m.regType=e.regType,window.$myava.regType=e.regType,""!=m.email&&(window.loginEmail=m.email),window.$myava.isQAPlatform=f.isQa(),g.$on("configPlatformChange",function(a,b){window.$myava.isQAPlatform=f.isQa()}),console.log("login"),m.clickTest=function(){alert("click Test")},m.check=!0;var n=function(){window.$myava=window.$myava||{},window.$myava.LoginLayout=new Object,window.$myava.LoginLayout.settings={Width:"100%",Height:"100%",CssClass:"",ForColor:"",BackColor:"",Title:"",Lang:j.lang,Style:"StyleBLogin.css",ShowTitle:!1,widgetContainerId:"avaloginWidgetContainer"},window.$myava.email=i.email||"",i.email&&delete i.email,window.$myava.loginWidget=new Object,window.$myava.loginWidget.configs={servicesDomain:k.servicesDomain,myAvaWebroot:k.myAvaWebroot,myAvaDomain:k.myAvaDomain,cdnResourcesDomain:k.cdnResourcesDomain,version:k.version,whiteLabel:k.defaultWhiteLabelName?{name:k.defaultWhiteLabelName}:{name:l.Name}};var a=document.createElement("script"),b=document.getElementsByTagName("script")[0],c="";k.version&&(c="?v="+k.version),a.src=k.cdnResourcesDomain+"Widgets/Login/scripts/myAvaLoginData.js"+c,b.parentNode.insertBefore(a,b)};n()}];angular.module("app").component("loginLoader",{bindings:{},templateUrl:"components/login-loader/login-loader.html",controller:loginLoader});var googleAnalyticsEventCmp=["$window",function(a){function b(a){var b=a;if(a.indexOf("://")>-1){var c=a.match(/:\/\/(www[0-9]?\.)?(.[^\/:]+)/i);null!=c&&c.length>2&&"string"==typeof c[2]&&c[2].length>0&&(b=c[2])}return""!=b&&(b=b.replace("myqa.",""),b=b.replace("mystg.",""),b=b.replace("my.",""),b=b.replace("myvip.","")),b}var c=this;if("undefined"!=typeof a.ga&&"function"==typeof a.ga){var d="set",e="send";c.trackerId&&""!==c.trackerId&&(d=c.trackerId+"."+d,e=c.trackerId+"."+e),c.host&&a.ga(d,"dimension8",c.host),c.tp&&a.ga(d,"dimension6",c.tp),a.ga(e,"event",c.category,c.action,"")}try{"object"!=typeof dataLayer&&(dataLayer=[]);var f=b(c.host);dataLayer.push({event:"DemoAccount"==c.action?"Demo Account Registration":"Real Account Registration",host_name:f,tp_number:c.tp,trading_platform:c.tradingPlatform})}catch(g){}}];angular.module("app").component("googleAnalyticsEventCmp",{bindings:{tp:"=",category:"=",action:"=",host:"=",trackerId:"=",tradingPlatform:"="},controller:googleAnalyticsEventCmp});var sharpTraderCmp=["$scope","$rootScope","$sessionStorage","whiteLabelData","AccountService","SharpTraderService","AuthService","CommonService",function(a,b,c,d,e,f,g,h){function i(){var a=d&&d.SharpTraderLink?d.SharpTraderLink:"";if(a){var b=e.getLocalUserProfile();b&&b.LanguageCode&&"en"!=b.LanguageCode&&f.isLanguageSuported(b.LanguageCode.toLowerCase())&&(a+=b.LanguageCode.toLowerCase()+"/")}return a}function j(){var a=h.hasRealAccount()||h.hasActiveDemoAccount();return a&&!f.checkWhiteLabel("ATrade")&&!f.checkWhiteLabel("Crypto-X")&&!!k.sharpTradeLink}var k=this;k.sharpTradeLink=i(),k.IsShowSharpTrader=j(),a.$on("registrationFinished_ST",function(a,b){k.IsShowSharpTrader=j()})}];angular.module("app").component("sharpTrader",{bindings:{},templateUrl:"components/sharp-trader/sharp-trader-cmp.html",controller:sharpTraderCmp}),function(){function a(a,b){var c=this;c.isLanguageSuported=function(b){return-1!==a.indexOf(b)},c.checkWhiteLabel=function(a){return b.checkWhiteLabel(a)}}angular.module("app").service("SharpTraderService",["SharpTraderSupportedLangs","CommonService",a])}();var countdownTimer=["$scope","$timeout","AccountService","MyAvaConfig","$interval","AuthService",function(a,b,c,d,e,f){var g=this;g.startInterval=function(){var a=e(function(){return g.seconds<=0?(f.getIsLoggedIn()&&c.GetAccountsBalances(),e.cancel(a),void b(function(){g.seconds=1e3*h,f.getIsLoggedIn()&&g.startInterval()},500)):void(g.seconds-=1e3)},1e3)};var h=d.CountDownTimer?d.CountDownTimer:60;g.seconds=1e3*h,b(function(){g.startInterval()},0)}];angular.module("app").component("countdownTimer",{templateUrl:"components/countdown-timer/countdown-timer.html",controller:countdownTimer}),function(){"use strict";function a(){return{restrict:"EA",scope:{time:"@"},bindToController:!0,controller:"DyFlipClockController",controllerAs:"vm",templateUrl:"src/js/angular-flip-clock-directive/angular-flip-clock-directive.html"}}function b(a){function b(){return l(h(n()))}function c(){return m(h(n()))}function d(){return l(i(n()))}function e(){return m(i(n()))}function f(){return l(j(n()))}function g(){return m(j(n()))}function h(a){return Math.floor((a%r-i(a))/q)}function i(a){return Math.floor((a%q-j(a))/p)}function j(a){return Math.floor((a%p-k(a))/o)}function k(a){return Math.floor(a%o)}function l(a){return(a%100-m(a))/10}function m(a){return a%10}function n(){var a=window.parseInt(s.time,10),b=a!==a;return b?0:a}var o=1e3,p=60*o,q=60*p,r=24*q,s=this;s.time=0,s.getHoursTensPlace=b,s.getHoursOnesPlace=c,s.getMinutesTensPlace=d,s.getMinutesOnesPlace=e,s.getSecondsTensPlace=f,s.getSecondsOnesPlace=g}function c(){return{restrict:"EA",scope:{text:"@",hideDivider:"="},bindToController:!0,controller:"DyFlipClockLabelController",controllerAs:"vm",templateUrl:"src/js/angular-flip-clock-label-directive/angular-flip-clock-label-directive.html"}}function d(){}function e(){return{restrict:"EA",scope:{},bindToController:!0,controllerAs:"vm",controller:"DyFlipClockNumberController",templateUrl:"src/js/angular-flip-clock-number-directive/angular-flip-clock-number-directive.html"}}function f(a,b,c){function d(){a.$watch(function(){return b(c.value)(a.$parent)},function(a,b){h.currentValue=a,h.previousValue=b})}function e(a){return h.currentValue===a}function f(a){return h.previousValue!==h.currentValue&&a===h.previousValue}function g(){return h.previousValue!==h.currentValue}var h=this;h.numbers=[0,1,2,3,4,5,6,7,8,9],h.currentValue=0,h.previousValue=0,h.isActive=e,h.isBefore=f,h.isAnimated=g,d()}angular.module("dyFlipClock",["dyFlipClock.dyFlipClockDirective","dyFlipClock.dyFlipClockNumberDirective","dyFlipClock.dyFlipClockLabelDirective"]),angular.module("dyFlipClock.dyFlipClockDirective",["dyFlipClock.dyFlipClockNumberDirective","dyFlipClock.dyFlipClockLabelDirective"]).directive("dyFlipClock",a).controller("DyFlipClockController",b),a.$inject=[],b.$inject=["$interval"],angular.module("dyFlipClock.dyFlipClockLabelDirective",[]).directive("dyFlipClockLabel",c).controller("DyFlipClockLabelController",d),c.$inject=[],d.$inject=[],angular.module("dyFlipClock.dyFlipClockNumberDirective",[]).directive("dyFlipClockNumber",e).controller("DyFlipClockNumberController",f),e.$inject=[],f.$inject=["$scope","$parse","$attrs"],angular.module("dyFlipClock").run(["$templateCache",function(a){a.put("src/js/angular-flip-clock-directive/angular-flip-clock-directive.html",'<div class="dy-flip-clock">\n  <dy-flip-clock-number value="vm.getMinutesTensPlace()"></dy-flip-clock-number>\n  <dy-flip-clock-number value="vm.getMinutesOnesPlace()"></dy-flip-clock-number>\n\n  <dy-flip-clock-label text=""></dy-flip-clock-label>\n  <dy-flip-clock-number value="vm.getSecondsTensPlace()"></dy-flip-clock-number>\n  <dy-flip-clock-number value="vm.getSecondsOnesPlace()"></dy-flip-clock-number>\n  </ul>\n</div>\n')}]),angular.module("dyFlipClock").run(["$templateCache",function(a){a.put("src/js/angular-flip-clock-label-directive/angular-flip-clock-label-directive.html",'<span class="dy-flip-clock-divider" ng-class="{\'dy-flip-clock-divider-hidden\': !!vm.hideDivider}">\n  <span class="dy-flip-clock-label">{{vm.text}}</span>\n  <span class="dy-flip-clock-dot dy-flip-clock-dot-top"></span>\n  <span class="dy-flip-clock-dot dy-flip-clock-dot-bottom"></span>\n</span>\n')}]),angular.module("dyFlipClock").run(["$templateCache",function(a){a.put("src/js/angular-flip-clock-number-directive/angular-flip-clock-number-directive.html",'<ul class="dy-flip-clock-number" ng-class="{\'dy-flip-clock-number-animated\': vm.isAnimated()}">\n  <li\n    ng-repeat="number in ::vm.numbers"\n    class="dy-flip-clock-number-digit"\n    ng-class="{\'dy-flip-clock-number-digit-active\': vm.isActive(number), \'dy-flip-clock-number-digit-before\': vm.isBefore(number)}"\n  >\n    <div class="dy-flip-clock-card">\n      <div class="dy-flip-clock-card-up">\n        <div class="dy-flip-clock-card-shadow"></div>\n        <div class="dy-flip-clock-card-value dy-flip-clock-card-value-up">{{::number}}</div>\n      </div>\n      <div class="dy-flip-clock-card-down">\n        <div class="dy-flip-clock-card-shadow"></div>\n        <div class="dy-flip-clock-card-value dy-flip-clock-card-value-down">{{::number}}</div>\n      </div>\n    </div>\n  </li>\n</ul>\n')}])}();var passwordCmp=["$scope","$timeout","$filter","$localStorage","$sessionStorage","$rootScope","CommonService",function(a,b,c,d,e,f,g){var h=this;console.log("passwordCmp"),h.editPasswordParams=a.$parent.editPasswordParams,h.isMobile=f.mobileConfig.isMobile,h.isChangePassword="newPass"==this.name?!0:!1,h.touched=!1,h.theme=e.Theme,h.pwd=e.dataObject&&e.dataObject.step2?e.dataObject.step2.Password:"",h.focus=function(){this.touched=!0},h.presetPassword=function(){h.pwd="Newpass1",h.disabled=!0},h.presetPass&&h.presetPassword(),h.deletePassword=function(){h.pwd="",this.checkPassword(),document.getElementById("input"+this.id).classList.remove("ng-not-empty"),document.getElementById("input"+this.id).classList.add("ng-empty")},h.checkPassword=function(){for(var b=0;b<this.validationList.length;b++)this.checkPasswordValidation(h.pwd,this.validationList[b].validation,this.validationList[b].type)?(this.validationList[b]["class"]="black-text",this.validationList[b].isValid=!0):(this.validationList[b]["class"]="red-text",this.validationList[b].isValid=!1);h.isValidPassword=c("filter")(this.validationList,{isValid:!0}).length==this.validationList.length,e.tmppwd=h.pwd,h.isChangePassword?a.$parent.$parent.newPass=h.pwd:a.$parent.dataobject.Password=h.pwd,null!=a.$parent.editPasswordParams&&(a.$parent.editPasswordParams.newPass=a.$parent.editPasswordParams.repeatPass=h.pwd)},h.checkName=function(a){var b=!0;return this.userName.toLowerCase().split(" ").forEach(function(c){c.length>0&&a.toLowerCase().includes(c)&&(b=!1)}),b},h.checkLowerCase=function(a){var b=new RegExp("[a-z]");return b.test(a)},h.checkUpperCase=function(a){var b=new RegExp("[A-Z]");return b.test(a)},h.checkForbiddenChars=function(a){var b=new RegExp(/^[a-zA-Z0-9_!@#$%^&*]*$/);return b.test(a)},h.checkCharsAmount=function(a){return a?a.length>7&&a.length<16:0},h.checkPasswordValidation=function(a,b,c){switch(c){case"regex":var d=new RegExp(b);return d.test(a);case"func":for(var e=!1,f=b.split(","),g=0;g<f.length;g++){if(!this[f[g]](a)){e=!1;break}e=!0}return e}},h.validationList=[{id:"lowerUpperCaseAndName",validation:(h.isChangePassword&&null==h.userName?"":"checkName,")+"checkLowerCase,checkUpperCase,checkForbiddenChars",text:"passwordValidationTextLowerUpperCaseAndName","class":"red-text",type:"func",isValid:!1},{id:"number",validation:"[0-9]",text:"passwordValidationTextNumber","class":"red-text",type:"regex",isValid:!1},{id:"characters",validation:"checkCharsAmount",text:"passwordValidationTextCharacters","class":"red-text",type:"func",isValid:!1}],h.setIntputType=function(a){var b="",c="",d="";switch(a.type.toLowerCase()){case"mousedown":case"touchstart":b="fa-eye-slash",c="fa-eye",d="text";break;case"mouseup":case"mouseleave":case"touchend":b="fa-eye",c="fa-eye-slash",d="password";break;default:return}var e=a.target.parentElement.querySelector(".form-control");e.type=d;var f=a.target.classList;f.contains(c)&&f.remove(c),f.contains(b)||f.add(b)}}];angular.module("app").component("passwordCmp",{bindings:{passwordText:"@",id:"@",name:"@",userName:"@",isValidPassword:"=",message:"@",validation:"@",presetPass:"="},templateUrl:"components/password/password-cmp.html",controller:passwordCmp});var pushwooshSubscriptionWidget=["$scope","$localStorage",function(a,b){var c=this;c.dismiss=function(){document.getElementById("widget").classList.remove("widget_state_show"),b.isPushwooshDenied=!0},Pushwoosh.push(["onSubscribe",function(){document.getElementById("widget").classList.remove("widget_state_show")}]),Pushwoosh.push(function(){const a=document.cookie.split(";").some(function(a){return a.indexOf("INTERNAL_IS_DEVICE_REGISTER=1")>=0});var c=[],d=Pushwoosh.driver.getPermission(),e=Pushwoosh.isSubscribed();c.push(d),c.push(e),Promise.all(c).then(function(c){var d=c[0],e=c[1];"denied"!==d&&!e&&!b.isPushwooshDenied&&!a,1})})}];angular.module("app").component("pushwooshSubscriptionWidget",{bindings:{},templateUrl:"components/pushwoosh-subscription-widget/pushwoosh-subscription-widget.html",controller:pushwooshSubscriptionWidget});var tabMenuCmp=["$scope","$rootScope","$state","$filter","MyAvaConsts","CommonService",function(a,b,c,d,e,f){var g=this;g.currentTab=this.activeTab,g.tabsMenu=this.tabsMenu,g.active=d("filter")(g.tabsMenu,{Name:g.currentTab})[0].Index,g.SwitchTab=function(a,b){c.go(b)}}];angular.module("app").component("tabMenuCmp",{bindings:{tabsMenu:"=",activeTab:"@"},templateUrl:"components/tab-menu/tab-menu-cmp.html",controller:tabMenuCmp});var bannerCmp=["$scope","$sce","$filter","$location","$http","$sessionStorage","$localStorage","UserProfileService","$rootScope",function(a,b,c,d,e,f,g,h,i){function j(){a.carusel_id=n.caruselId,a.currentRoute=d.$$path,a.banners=[],a.Allbanners=[],a.pages=[],k().then(function(b){a.pages=b.data.pages,a.Allbanners=b.data.banners,a.banners=l()},function(b){a.banners=[],a.pages=[],console.error(b.data.Message)})}function k(){var a=null,b=null,c=h.getLocalUserProfile();c?(a=c.CountryID,b=c.LanguageId):f&&f.userProfile&&(a=f.userProfile.CountryID);var d="AvaTrade";f&&f.WhiteLabelName&&(d=f.whiteLabelData.Name);var g=null;f&&f.userProfile&&(g=f.userProfile.BusinessGroupId);var i="";return f&&f.token&&(i=f.token),e.get(window.webApidomain+"api/banner/Get?whitelabel="+d+"&businessgroupid="+g+"&countryid="+a+"&languageid="+b)}function l(){var b=m(),d=c("filter")(a.Allbanners,function(a,c,d){return a.exclued_routes&&b&&a.exclued_routes.length>0&&-1!==a.exclued_routes.indexOf(b.id)||a.include_routes&&a.include_routes.length>0&&(!b||b&&-1===a.include_routes.indexOf(b.id))||i.mobileConfig&&i.mobileConfig.isMobile!==a.for_mobile?void 0:a});return d||[]}function m(){var b=c("filter")(a.pages,function(b,c,d){return b.route===a.currentRoute});return b&&1===b.length?b[0]:null}var n=this;a.getSanitizeContent=function(c){var d=a.banners[c];return b.trustAsHtml(d.content)},i.$on("$stateChangeSuccess",function(b,c,d,e,f){a.currentRoute=c.url,a.banners=l()}),i.$on("userProfileUpdated",function(b,c){k().then(function(b){a.pages=b.data.pages,a.Allbanners=b.data.banners,a.banners=l()},function(b){a.banners=[],a.pages=[],console.error(b.data.Message)})}),j()}];angular.module("app").component("bannerCmp",{bindings:{caruselId:"@"},templateUrl:"components/banners/banner-cmp.html",controller:bannerCmp}),function(){var a=["$sessionStorage","$rootScope","$scope","$location","AuthService","AccountService","LanguageService","WhiteLabelService","CommonService","$state","$localStorage",function(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.wl=a.WhiteLabelName,l.wm="iframe",l.token=a.token,l.lang=a.userProfile?a.userProfile.LanguageCode:"en",l.iframeEl=null,l.globalDialogOpened=!1,l.isVueAppReady=!1,c.showVueAvaIframe=!1,l.isNativeMobile=i.isNativeMobile();const m=["account_statement","personal_details","upload_document","account_info","refer_friend","pending_withdrawl"];var n="",o=window.location.hostname.match(/^([\w\d]+)./);switch(o=o&&o[1].replace(/[my|vip]+/g,"")){case"localhos":n="http://localhost:8080";break;case"qa2":n="https://qa2app.avatrade.com:4445";break;case"qa3":n="https://qa2app.avatrade.com:4445";break;case"qa4":n="https://qa4app.avatrade.com:4445";break;case"stg":n="https://stgapp.avatrade.com";break;default:n="https://app.avatrade.com"}this.$onInit=function(){i.showLoading(!0)};var p=function(){c.userProfile=a.userProfile,l.token=a.token,l.lang=a.userProfile?a.userProfile.LanguageCode:"en",l.iframeEl=document.querySelector("#vue-app--wrapper > iframe");var d=l.activeUrl||"";const e=a.businessGroupId?"&bgId="+a.businessGroupId:"",f=new URLSearchParams(window.location.search).get("cfa")||k.cfa?"&cfa=true":"";var g=n+"/"+d+"?noir=true&wl="+l.wl+"&wm="+l.wm+"&AppType=myava&theme=myava&lang="+l.lang+"&token="+l.token+e+f;!l.token||l.iframeEl&&l.iframeEl.src===g||(l.iframeEl?l.iframeEl.src=g:(l.iframeEl=document.createElement("iframe"),l.iframeEl.src=g,l.iframeEl.style.width="100%",l.iframeEl.style.minHeight=b.mobileConfig.isMobile?"100vh":"1500px",l.iframeEl.style.border="none",$("#vue-app--wrapper").append(l.iframeEl)))};l.goToPersonalDetails=function(){j.go("personal_details")},l.goToMyAccount=function(){j.go("my_account")};var q=function(a){if(/"appID":"VueAva"/i.test(a.data)){var b=JSON.parse(a.data)||{};if(/VUE_APP_READY/gi.test(b.type)?(i.showLoading(!1),l.isVueAppReady=!0):/REDIRECT_TO_CRM/gi.test(b.type)&&(c.showVueAvaIframe=!!l.activeUrl,b.payload&&j.go(b.payload)),b.tokenExpired&&e.logOut(),("update_language"===b.type.toLowerCase()||"updateLanguage"===b.type)&&(b.payload!==c.userProfile.LanguageCode?(i.showLoading(!0),f.ChangeLanguage(b.payload).then(function(){r()},function(a){c.editSection.editLangError=!0,console.log(a.data.Message)})):i.showLoading(!1)),console.log(b),"show_loader"===b.type.toLowerCase()&&i.showLoading(!0),"hide_loader"===b.type.toLowerCase()&&i.showLoading(!1),"download_document"===b.type.toLowerCase()){var d=document.createElement("a");d.href=b.payload.src,d.setAttribute("href",b.payload.src),document.body.appendChild(d),d.click()}"scroll_to"===b.type.toLowerCase()&&scrollTo(b.payload.x,b.payload.y),"internal_transfer_redirect"===b.type.toLowerCase()&&l.goToMyAccount(),"pending_withdrawal_redirect"===b.type.toLowerCase()&&(l.isNativeMobile||l.goToMyAccount()),"pending_withdrawal_update_sub_menu"===b.type.toLowerCase()&&(l.GetTabMenu=i.CreateTabMenu("pending_withdrawl")),"pending_withdrawal_update_user_data"===b.type.toLowerCase()&&f.GetUserProfile().then(function(a){f.GetAccountsBalances(),f.refreshEquity()}),"open_chat"===b.type.toLowerCase()&&angular.element(document.querySelector("#help_btn")).click(),"decibel_goal"===b.type.toLowerCase()&&decibelInsight("sendGoal",b.payload.name,b.payload.description),l.globalDialogOpened=b.payload&&b.payload.globalDialogOpened}},r=function(){f.refreshUserProfile().then(function(){g.setLanguage(),b.$broadcast("updateLeftSideMenu"),b.$broadcast("BGUpdate"),c.userProfile=f.getLocalUserProfile(),h.getWhiteLabelData().then(function(a){h.setWhiteLabelData(a.data),i.showLoading(!1),l.goToPersonalDetails()})})},s=function(a){if(l.iframeEl){var b={appID:"MyAva",type:a.type,payload:a.payload};l.iframeEl.contentWindow.postMessage(JSON.stringify(b),"*")}};p(),window.addEventListener("message",q,!1),c.$on("userProfileUpdated",function(a,b){m.includes(j.current.name)||p()}),c.$on("loggedIn",function(a,b){window.addEventListener("message",q,!1)}),c.$on("loggedOut",function(a,b){window.removeEventListener("message",q,!1)}),c.$watch(function(){return l.isVueAppReady&&l.activeUrl},function(a,b){if(c.showVueAvaIframe=!1,a){var d={type:"redirect",payload:{URL:a}};s(d)}}),window.onscroll=function(){if(l.iframeEl&&l.globalDialogOpened){var a=document.documentElement,b=document.body,c=a&&a.scrollTop||b&&b.scrollTop||0,d={type:"window-scroll",payload:{windowHeight:window.innerHeight,windowWidth:window.innerWidth,top:c}};s(d)}}}];angular.module("app").component("vueAva",{bindings:{activeUrl:"="},templateUrl:"components/vue-ava/vue-ava.html",controller:a})}(),function(){var a=["$sessionStorage","$rootScope","$scope","AuthService","RegisterService",function(a,b,c,d,e){var f=this;f.wl=a.WhiteLabelName,f.wm="iframe",f.token=a.token,f.lang=a.userProfile?a.userProfile.LanguageCode:"en",f.iframeEl=null;var g="",h=window.location.hostname.match(/^([\w\d]+)./);switch(h=h&&h[1].replace(/[my|vip]+/g,"")){case"localhos":g="http://localhost:8080";break;case"qa2":g="https://qa2app.avatrade.com:4445";break;case"qa3":g="https://qa2app.avatrade.com:4445";break;case"qa4":g="https://qa4app.avatrade.com:4445";break;case"stg":g="https://stgapp.avatrade.com";break;default:g="https://app.avatrade.com"}var i=function(){c.userProfile=a.userProfile,f.token=a.token,f.lang=a.userProfile?a.userProfile.LanguageCode:"en",f.iframeEl=document.querySelector("#vue-popup--wrapper > iframe");var b=f.activeUrl||f.popup||"loss-limit";const d=a.businessGroupId?"&bgId="+a.businessGroupId:"";var h=g+"/"+b+"?noir=true&wl="+f.wl+"&wm="+f.wm+"&AppType=myava&theme=myavaPopup&lang="+f.lang+"&token="+f.token+d;if(c.src=h,f.token&&(!f.iframeEl||f.iframeEl.src!==h)){f.iframeEl?f.iframeEl.src=h:(f.iframeEl=document.createElement("iframe"),f.iframeEl.src=h,f.iframeEl.id="avaPopup",f.iframeEl.style.width="100%",f.iframeEl.style.border="none",$("#vue-popup--wrapper").append(f.iframeEl));var i=e.isMobile.iPhone()||e.isMobile.iPad(),j=i?"ios-frame":"";$("#avaPopup").addClass(j)}};i();var j=function(a){if(/"appID":"VueAva"/i.test(a.data)){var e=JSON.parse(a.data)||{};e.tokenExpired&&d.logOut(),"close_loss_limit"===e.type.toLowerCase()&&b.$broadcast("closeLossLimitPopup"),"CLOSE_MISSING_QUESTIONS_POPUP"===e.type&&(b.showMissingQuestionsPopup=!1),/VUE_AVA_IFRAME_FULL_VIEW/i.test(e.type)&&(b.vueAvaIframeFullView=!0,c.vueAvaIframeFullView=!0),"save_loss_limit"===e.type.toLowerCase()&&(b.$broadcast("saveLossLimitPopup",{popup:e.payload.popup}),sessionStorage.LossLimitDataPopup=e.payload.popup)}};window.addEventListener("message",j,!1),c.$on("loggedOut",function(a,b){window.removeEventListener("message",j,!1)})}];angular.module("app").component("vuePopup",{bindings:{popup:"="},templateUrl:"components/vue-popup/vue-popup.html",controller:a})}();var tpRegulationInfo=["$scope","$localStorage","AccountService",function(a,b,c){var d=this;self.userProfile=c.getLocalUserProfile(),d.selectedCountryId=self.userProfile?self.userProfile.CountryID:b.step1Data?b.step1Data.selectedCountryId:null}];angular.module("app").component("tpRegulationInfo",{templateUrl:"components/tp-regulation-info/tp-regulation-info.html",controller:tpRegulationInfo});var tpRegulationInfoFrance=["$scope","$sessionStorage",function(a,b){a.isEnforceBusinessGroup=null!=b.userProfile&&null!=b.userProfile.EnforceBusinessGroup||null!=b.enforceBG||null!=b.dataObj&&null!=b.dataObj.EnforceBusinessGroup}];angular.module("app").component("tpRegulationInfoFrance",{templateUrl:"components/tp-regulation-info/tp-regulation-info-france/tp-regulation-info-france.html",controller:tpRegulationInfoFrance}),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=this;s.isShowHamburger=!0,s.whiteLabelData=d,s.userProfile=j.getLocalUserProfile(),s.isLoggedIn=k.getIsLoggedIn(),s.logoSrc=s.whiteLabelData.Logo,s.isAvaJapan=l.getIsAvaJapan(),s.isFriedbergDirectAVA=l.getIsFriedbergDirectAVA(),s.companyName=s.whiteLabelData.CompanyName,g.showProgressBarMobile=/step/i.test(r.$$url);var t=function(){return!s.isLoggedIn&&/^\/(app\/myava)?\/?(login)?\/?$/i.test(location.pathname)};g.$on("$stateChangeSuccess",function(a,b,c,d,e){"maintenance"==b.name?g.isMaintenancePage=!0:"deposit"==b.name?g.isDeposit=!0:(g.isDeposit=!1,g.isDepositPraxis=!1)});var u=function(){f.testDomain=f.testDomain||"";var a=/localhost/.test(location.hostname)?f.testDomain:location.hostname,b=a.match(/(\.\w{2})(?:\/)?$/g);return b?b.shift().replace(".",""):null};s.updatePageTitle=function(){if(g.companyName=s.companyName,t()){var a=u(),b=q.TabTitle.loginPage["default"];b+=q.TabTitle.loginPage.domains.indexOf(a)>-1?"_"+a:"",c(b,{companyName:s.companyName}).then(function(a){g.companyNameSentence=a})}},s.updateWelcomeTextByDomain=function(){var b=q.WelcomeText["default"],c="";t()&&(c=a("translate")(q.WelcomeText.loginPage.customTextKey,{companyName:s.companyName})),s.welcomeText=c&&-1==c.indexOf(b)?c:a("translate")(b)},s.updateMetaDescription=function(){var a=q.MetaDescription["default"],b=u(),d=s.companyName;d+=b&&q.MetaDescription.custom[b]?" "+q.MetaDescription.custom[b]:"",c(a,{companyName:d}).then(function(a){g.metaDescription=a,document.querySelector("meta[name='description']").content=document.querySelector("meta[property='og:description']").content=document.querySelector("meta[name='twitter:description']").content=a})},s.updateSEOTexts=function(){s.updateMetaDescription(),s.updatePageTitle(),s.updateWelcomeTextByDomain()},g.Favicon=s.whiteLabelData.Favicon||"favicon-avatrade",g.$on("updateIsShowHamburger",function(a,b){s.isShowHamburger=!s.isShowHamburger}),i.$on("loggedIn",function(a,b){s.updateAuthenticationStatus(!0)}),i.$on("loggedOut",function(a,b){s.updateAuthenticationStatus(!1)}),i.$on("userProfileUpdated",function(a,b){s.userProfile=j.getLocalUserProfile()}),i.$on("updateRegType",function(a,b){s.updateSubHeadeWelcomtText()}),g.$on("$translateChangeEnd",function(a,b){s.updateSubHeadeWelcomtText()}),s.updateAuthenticationStatus=function(a){s.isLoggedIn=a,s.userProfile=a?j.getLocalUserProfile():null,s.updateSubHeadeWelcomtText()},s.goToWhiteLabelSite=function(){if(s.isLoggedIn)b.go("my_account");else{var a=l.getWhiteLabelSiteUrl();window.open(a,"_blank")}},s.openChatWindow=function(){m.open({template:"views/sideBox/views/help/help.html",scope:i,closeByDocument:!1,showClose:!0,controller:"SideBoxCtrl"})},s.updateSubHeadeWelcomtText=function(){s.updateSEOTexts();var b=k.getToken();if(void 0==b||void 0!=s.userProfile||e.dataObject){if(s.isLoggedIn&&s.userProfile)s.subHeadeWelcomtText=", "+e.userProfile.FirstName+" "+e.userProfile.LastName;else if(s.isAvaJapan&&e.regType){var c=Object.keys(p).filter(function(a){return p[a]==e.regType}).shift();s.subHeadeWelcomtText="  "+a("translate")("bn_welcome_"+c+"AccountOpenForm")}else if(sessionStorage.getItem("step1Data")||e.step1Data||f.step1Data){var d=JSON.parse(sessionStorage.getItem("step1Data"))||e.step1Data||f.step1Data;if(d){var g=d.FirstName||(d.Contact?d.Contact.FirstName:""),h=d.LastName||(d.Contact?d.Contact.LastName:"");(g||h)&&(s.subHeadeWelcomtText=", "+g+" "+h)}}}else j.GetUserProfile(b).then(function(){s.userProfile?(s.subHeadeWelcomtText=", "+s.userProfile.FirstName+" "+s.userProfile.LastName,s.subHeadeWelcomtText+=s.isAvaJapan?" "+a("translate")("Mr"):""):s.isLoggedIn||(s.subHeadeWelcomtText=", "+s.whiteLabelData.CompanyName,f&&f.lang&&f.lang==n.SimplifiedChinese&&(s.subHeadeWelcomtText+=o.ChineseHeader))})},s.updateSubHeadeWelcomtText(),i.showLiveChat=function(){return void 0!=d.WhiteLabelDataExtension?!d.WhiteLabelDataExtension.DisableLiveChat:!0},i.ShowLiveChat=i.showLiveChat()}angular.module("app").controller("HeaderCtrl",["$filter","$state","$translate","whiteLabelData","$sessionStorage","$localStorage","$rootScope","AuthObject","$scope","AccountService","AuthService","CommonService","ngDialog","eLanguages","eChineseHeader","REGTYPES","SEOTextAdjustments","$location",a]);
}(),function(a,b,c){"use strict";function d(a){return D(a)?a:Object.keys(a).map(function(b){return a[b]})}function e(a){return null===a}function f(a,b){var d=Object.keys(a);return-1==d.map(function(d){return b[d]!==c&&b[d]==a[d]}).indexOf(!1)}function g(a,b){if(""===b)return a;var c=a.indexOf(b.charAt(0));return-1===c?!1:g(a.substr(c+1),b.substr(1))}function h(a,b,c){var d=0;return a.filter(function(a){var e=x(c)?b>d&&c(a):b>d;return d=e?d+1:d,e})}function i(a,b,c){return c.round(a*c.pow(10,b))/c.pow(10,b)}function j(a,b,c){b=b||[];var d=Object.keys(a);return d.forEach(function(d){if(C(a[d])&&!D(a[d])){var e=c?c+"."+d:c;j(a[d],b,e||d)}else{var f=c?c+"."+d:d;b.push(f)}}),b}function k(a){return a&&a.$evalAsync&&a.$watch}function l(){return function(a,b){return a>b}}function m(){return function(a,b){return a>=b}}function n(){return function(a,b){return b>a}}function o(){return function(a,b){return b>=a}}function p(){return function(a,b){return a==b}}function q(){return function(a,b){return a!=b}}function r(){return function(a,b){return a===b}}function s(){return function(a,b){return a!==b}}function t(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?!1:b.some(function(b){return C(b)||z(c)?a(c)(b):b===c})}}function u(a,b){return b=b||0,b>=a.length?a:D(a[b])?u(a.slice(0,b).concat(a[b],a.slice(b+1)),b):u(a,b+1)}function v(a){return function(b,c){function e(a,b){return y(b)?!1:a.some(function(a){return H(a,b)})}if(b=C(b)?d(b):b,!D(b))return b;var f=[],g=a(c);return y(c)?b.filter(function(a,b,c){return c.indexOf(a)===b}):b.filter(function(a){var b=g(a);return e(f,b)?!1:(f.push(b),!0)})}}function w(a,b,c){return b?a+c+w(a,--b,c):a}var x=b.isDefined,y=b.isUndefined,z=b.isFunction,A=b.isString,B=b.isNumber,C=b.isObject,D=b.isArray,E=b.forEach,F=b.extend,G=b.copy,H=b.equals;String.prototype.contains||(String.prototype.contains=function(){return-1!==String.prototype.indexOf.apply(this,arguments)}),b.module("a8m.angular",[]).filter("isUndefined",function(){return function(a){return b.isUndefined(a)}}).filter("isDefined",function(){return function(a){return b.isDefined(a)}}).filter("isFunction",function(){return function(a){return b.isFunction(a)}}).filter("isString",function(){return function(a){return b.isString(a)}}).filter("isNumber",function(){return function(a){return b.isNumber(a)}}).filter("isArray",function(){return function(a){return b.isArray(a)}}).filter("isObject",function(){return function(a){return b.isObject(a)}}).filter("isEqual",function(){return function(a,c){return b.equals(a,c)}}),b.module("a8m.conditions",[]).filter({isGreaterThan:l,">":l,isGreaterThanOrEqualTo:m,">=":m,isLessThan:n,"<":n,isLessThanOrEqualTo:o,"<=":o,isEqualTo:p,"==":p,isNotEqualTo:q,"!=":q,isIdenticalTo:r,"===":r,isNotIdenticalTo:s,"!==":s}),b.module("a8m.is-null",[]).filter("isNull",function(){return function(a){return e(a)}}),b.module("a8m.after-where",[]).filter("afterWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(-1===c?0:c)}}),b.module("a8m.after",[]).filter("after",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(b):a}}),b.module("a8m.before-where",[]).filter("beforeWhere",function(){return function(a,b){if(a=C(a)?d(a):a,!D(a)||y(b))return a;var c=a.map(function(a){return f(b,a)}).indexOf(!0);return a.slice(0,-1===c?a.length:++c)}}),b.module("a8m.before",[]).filter("before",function(){return function(a,b){return a=C(a)?d(a):a,D(a)?a.slice(0,b?--b:b):a}}),b.module("a8m.chunk-by",["a8m.filter-watcher"]).filter("chunkBy",["filterWatcher",function(a){return function(b,c,d){function e(a,b){for(var c=[];a--;)c[a]=b;return c}function f(a,b,c){return D(a)?a.map(function(a,d,f){return d*=b,a=f.slice(d,d+b),!y(c)&&a.length<b?a.concat(e(b-a.length,c)):a}).slice(0,Math.ceil(a.length/b)):a}return a.isMemoized("chunkBy",arguments)||a.memoize("chunkBy",arguments,this,f(b,c,d))}}]),b.module("a8m.concat",[]).filter("concat",[function(){return function(a,b){if(y(b))return a;if(D(a))return C(b)?a.concat(d(b)):a.concat(b);if(C(a)){var c=d(a);return C(b)?c.concat(d(b)):c.concat(b)}return a}}]),b.module("a8m.contains",[]).filter({contains:["$parse",t],some:["$parse",t]}),b.module("a8m.count-by",[]).filter("countBy",["$parse",function(a){return function(b,c){var e,f={},g=a(c);return b=C(b)?d(b):b,!D(b)||y(c)?b:(b.forEach(function(a){e=g(a),f[e]||(f[e]=0),f[e]++}),f)}}]),b.module("a8m.defaults",[]).filter("defaults",["$parse",function(a){return function(b,c){if(b=C(b)?d(b):b,!D(b)||!C(c))return b;var e=j(c);return b.forEach(function(b){e.forEach(function(d){var e=a(d),f=e.assign;y(e(b))&&f(b,e(c))})}),b}}]),b.module("a8m.every",[]).filter("every",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?!0:b.every(function(b){return C(b)||z(c)?a(c)(b):b===c})}}]),b.module("a8m.filter-by",[]).filter("filterBy",["$parse",function(a){return function(b,e,f){var g;return f=A(f)||B(f)?String(f).toLowerCase():c,b=C(b)?d(b):b,!D(b)||y(f)?b:b.filter(function(b){return e.some(function(c){if(~c.indexOf("+")){var d=c.replace(new RegExp("\\s","g"),"").split("+");g=d.reduce(function(c,d,e){return 1===e?a(c)(b)+" "+a(d)(b):c+" "+a(d)(b)})}else g=a(c)(b);return A(g)||B(g)?String(g).toLowerCase().contains(f):!1})})}}]),b.module("a8m.first",[]).filter("first",["$parse",function(a){return function(b){var e,f,g;return b=C(b)?d(b):b,D(b)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(b,e,f?a(f):f):b[0]):b}}]),b.module("a8m.flatten",[]).filter("flatten",function(){return function(a,b){return b=b||!1,a=C(a)?d(a):a,D(a)?b?[].concat.apply([],a):u(a,0):a}}),b.module("a8m.fuzzy-by",[]).filter("fuzzyBy",["$parse",function(a){return function(b,c,e,f){var h,i,j=f||!1;return b=C(b)?d(b):b,!D(b)||y(c)||y(e)?b:(i=a(c),b.filter(function(a){return h=i(a),A(h)?(h=j?h:h.toLowerCase(),e=j?e:e.toLowerCase(),g(h,e)!==!1):!1}))}}]),b.module("a8m.fuzzy",[]).filter("fuzzy",function(){return function(a,b,c){function e(a,b){var c,d,e=Object.keys(a);return 0<e.filter(function(e){return c=a[e],d?!0:A(c)?(c=f?c:c.toLowerCase(),d=g(c,b)!==!1):!1}).length}var f=c||!1;return a=C(a)?d(a):a,!D(a)||y(b)?a:(b=f?b:b.toLowerCase(),a.filter(function(a){return A(a)?(a=f?a:a.toLowerCase(),g(a,b)!==!1):C(a)?e(a,b):!1}))}}),b.module("a8m.group-by",["a8m.filter-watcher"]).filter("groupBy",["$parse","filterWatcher",function(a,b){return function(c,d){function e(a,b){var c,d={};return E(a,function(a){c=b(a),d[c]||(d[c]=[]),d[c].push(a)}),d}return!C(c)||y(d)?c:b.isMemoized("groupBy",arguments)||b.memoize("groupBy",arguments,this,e(c,a(d)))}}]),b.module("a8m.is-empty",[]).filter("isEmpty",function(){return function(a){return C(a)?!d(a).length:!a.length}}),b.module("a8m.join",[]).filter("join",function(){return function(a,b){return y(a)||!D(a)?a:(y(b)&&(b=" "),a.join(b))}}),b.module("a8m.last",[]).filter("last",["$parse",function(a){return function(b){var e,f,g,i=G(b);return i=C(i)?d(i):i,D(i)?(g=Array.prototype.slice.call(arguments,1),e=B(g[0])?g[0]:1,f=B(g[0])?B(g[1])?c:g[1]:g[0],g.length?h(i.reverse(),e,f?a(f):f).reverse():i[i.length-1]):i}}]),b.module("a8m.map",[]).filter("map",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.map(function(b){return a(c)(b)})}}]),b.module("a8m.omit",[]).filter("omit",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return!a(c)(b)})}}]),b.module("a8m.pick",[]).filter("pick",["$parse",function(a){return function(b,c){return b=C(b)?d(b):b,!D(b)||y(c)?b:b.filter(function(b){return a(c)(b)})}}]),b.module("a8m.range",[]).filter("range",function(){return function(a,b){for(var c=0;c<parseInt(b);c++)a.push(c);return a}}),b.module("a8m.remove-with",[]).filter("removeWith",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return!f(b,a)}))}}),b.module("a8m.remove",[]).filter("remove",function(){return function(a){a=C(a)?d(a):a;var b=Array.prototype.slice.call(arguments,1);return D(a)?a.filter(function(a){return!b.some(function(b){return H(b,a)})}):a}}),b.module("a8m.reverse",[]).filter("reverse",[function(){return function(a){return a=C(a)?d(a):a,A(a)?a.split("").reverse().join(""):D(a)?a.slice().reverse():a}}]),b.module("a8m.search-field",[]).filter("searchField",["$parse",function(a){return function(b){var c,e;b=C(b)?d(b):b;var f=Array.prototype.slice.call(arguments,1);return D(b)&&f.length?b.map(function(b){return e=f.map(function(d){return(c=a(d))(b)}).join(" "),F(b,{searchField:e})}):b}}]),b.module("a8m.to-array",[]).filter("toArray",function(){return function(a,b){return C(a)?b?Object.keys(a).map(function(b){return F(a[b],{$key:b})}):d(a):a}}),b.module("a8m.unique",[]).filter({unique:["$parse",v],uniq:["$parse",v]}),b.module("a8m.where",[]).filter("where",function(){return function(a,b){return y(b)?a:(a=C(a)?d(a):a,a.filter(function(a){return f(b,a)}))}}),b.module("a8m.xor",[]).filter("xor",["$parse",function(a){return function(b,c,e){function f(b,c){var d=a(e);return c.some(function(a){return e?H(d(a),d(b)):H(a,b)})}return e=e||!1,b=C(b)?d(b):b,c=C(c)?d(c):c,D(b)&&D(c)?b.concat(c).filter(function(a){return!(f(a,b)&&f(a,c))}):b}}]),b.module("a8m.math.byteFmt",["a8m.math"]).filter("byteFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1024>b?i(b,c,a)+" B":1048576>b?i(b/1024,c,a)+" KB":1073741824>b?i(b/1048576,c,a)+" MB":i(b/1073741824,c,a)+" GB":"NaN"}}]),b.module("a8m.math.degrees",["a8m.math"]).filter("degrees",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=180*b/a.PI;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.kbFmt",["a8m.math"]).filter("kbFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1024>b?i(b,c,a)+" KB":1048576>b?i(b/1024,c,a)+" MB":i(b/1048576,c,a)+" GB":"NaN"}}]),b.module("a8m.math",[]).factory("$math",["$window",function(a){return a.Math}]),b.module("a8m.math.max",["a8m.math"]).filter("max",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.max.apply(a,e))}return function(b,d){return D(b)?y(d)?a.max.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.min",["a8m.math"]).filter("min",["$math","$parse",function(a,b){function c(c,d){var e=c.map(function(a){return b(d)(a)});return e.indexOf(a.min.apply(a,e))}return function(b,d){return D(b)?y(d)?a.min.apply(a,b):b[c(b,d)]:b}}]),b.module("a8m.math.percent",["a8m.math"]).filter("percent",["$math","$window",function(a,b){return function(c,d,e){var f=A(c)?b.Number(c):c;return d=d||100,e=e||!1,!B(f)||b.isNaN(f)?c:e?a.round(f/d*100):f/d*100}}]),b.module("a8m.math.radians",["a8m.math"]).filter("radians",["$math",function(a){return function(b,c){if(B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)){var d=3.14159265359*b/180;return a.round(d*a.pow(10,c))/a.pow(10,c)}return"NaN"}}]),b.module("a8m.math.radix",[]).filter("radix",function(){return function(a,b){var c=/^[2-9]$|^[1-2]\d$|^3[0-6]$/;return B(a)&&c.test(b)?a.toString(b).toUpperCase():a}}),b.module("a8m.math.shortFmt",["a8m.math"]).filter("shortFmt",["$math",function(a){return function(b,c){return B(c)&&isFinite(c)&&c%1===0&&c>=0&&B(b)&&isFinite(b)?1e3>b?b:1e6>b?i(b/1e3,c,a)+" K":1e9>b?i(b/1e6,c,a)+" M":i(b/1e9,c,a)+" B":"NaN"}}]),b.module("a8m.math.sum",[]).filter("sum",function(){return function(a,b){return D(a)?a.reduce(function(a,b){return a+b},b||0):a}}),b.module("a8m.ends-with",[]).filter("endsWith",function(){return function(a,b,c){var d,e=c||!1;return!A(a)||y(b)?a:(a=e?a:a.toLowerCase(),d=a.length-b.length,-1!==a.indexOf(e?b:b.toLowerCase(),d))}}),b.module("a8m.latinize",[]).filter("latinize",[function(){function a(a){return a.replace(/[^\u0000-\u007E]/g,function(a){return c[a]||a})}for(var b=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"OE",letters:""},{base:"oe",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],c={},d=0;d<b.length;d++)for(var e=b[d].letters.split(""),f=0;f<e.length;f++)c[e[f]]=b[d].base;return function(b){return A(b)?a(b):b}}]),b.module("a8m.ltrim",[]).filter("ltrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+"),""):a}}),b.module("a8m.match",[]).filter("match",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?a.match(d):null}}),b.module("a8m.repeat",[]).filter("repeat",[function(){return function(a,b,c){var d=~~b;return A(a)&&d?w(a,--b,c||""):a}}]),b.module("a8m.rtrim",[]).filter("rtrim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp(c+"+$"),""):a}}),b.module("a8m.slugify",[]).filter("slugify",[function(){return function(a,b){var c=y(b)?"-":b;return A(a)?a.toLowerCase().replace(/\s+/g,c):a}}]),b.module("a8m.starts-with",[]).filter("startsWith",function(){return function(a,b,c){var d=c||!1;return!A(a)||y(b)?a:(a=d?a:a.toLowerCase(),!a.indexOf(d?b:b.toLowerCase()))}}),b.module("a8m.stringular",[]).filter("stringular",function(){return function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return y(b[c])?a:b[c]})}}),b.module("a8m.strip-tags",[]).filter("stripTags",function(){return function(a){return A(a)?a.replace(/<\S[^><]*>/g,""):a}}),b.module("a8m.test",[]).filter("test",function(){return function(a,b,c){var d=new RegExp(b,c);return A(a)?d.test(a):a}}),b.module("a8m.trim",[]).filter("trim",function(){return function(a,b){var c=b||"\\s";return A(a)?a.replace(new RegExp("^"+c+"+|"+c+"+$","g"),""):a}}),b.module("a8m.truncate",[]).filter("truncate",function(){return function(a,b,c,d){return b=y(b)?a.length:b,d=d||!1,c=c||"",!A(a)||a.length<=b?a:a.substring(0,d?-1===a.indexOf(" ",b)?a.length:a.indexOf(" ",b):b)+c}}),b.module("a8m.ucfirst",[]).filter("ucfirst",[function(){return function(a){return A(a)?a.split(" ").map(function(a){return a.charAt(0).toUpperCase()+a.substring(1)}).join(" "):a}}]),b.module("a8m.uri-component-encode",[]).filter("uriComponentEncode",["$window",function(a){return function(b){return A(b)?a.encodeURIComponent(b):b}}]),b.module("a8m.uri-encode",[]).filter("uriEncode",["$window",function(a){return function(b){return A(b)?a.encodeURI(b):b}}]),b.module("a8m.wrap",[]).filter("wrap",function(){return function(a,b,c){return A(a)&&x(b)?[b,a,c||b].join(""):a}}),b.module("a8m.filter-watcher",[]).provider("filterWatcher",function(){this.$get=["$window","$rootScope",function(a,b){function c(b,c){function d(){var b=[];return function(c,d){if(C(d)&&!e(d)){if(~b.indexOf(d))return"[Circular]";b.push(d)}return a==d?"$WINDOW":a.document==d?"$DOCUMENT":k(d)?"$SCOPE":d}}return[b,JSON.stringify(c,d())].join("#").replace(/"/g,"")}function d(a){var b=a.targetScope.$id;E(l[b],function(a){delete j[a]}),delete l[b]}function f(){m(function(){b.$$phase||(j={})},2e3)}function g(a,b){var c=a.$id;return y(l[c])&&(a.$on("$destroy",d),l[c]=[]),l[c].push(b)}function h(a,b){var d=c(a,b);return j[d]}function i(a,b,d,e){var h=c(a,b);return j[h]=e,k(d)?g(d,h):f(),e}var j={},l={},m=a.setTimeout;return{isMemoized:h,memoize:i}}]}),b.module("angular.filter",["a8m.ucfirst","a8m.uri-encode","a8m.uri-component-encode","a8m.slugify","a8m.latinize","a8m.strip-tags","a8m.stringular","a8m.truncate","a8m.starts-with","a8m.ends-with","a8m.wrap","a8m.trim","a8m.ltrim","a8m.rtrim","a8m.repeat","a8m.test","a8m.match","a8m.to-array","a8m.concat","a8m.contains","a8m.unique","a8m.is-empty","a8m.after","a8m.after-where","a8m.before","a8m.before-where","a8m.defaults","a8m.where","a8m.reverse","a8m.remove","a8m.remove-with","a8m.group-by","a8m.count-by","a8m.chunk-by","a8m.search-field","a8m.fuzzy-by","a8m.fuzzy","a8m.omit","a8m.pick","a8m.every","a8m.filter-by","a8m.xor","a8m.map","a8m.first","a8m.last","a8m.flatten","a8m.join","a8m.range","a8m.math","a8m.math.max","a8m.math.min","a8m.math.percent","a8m.math.radix","a8m.math.sum","a8m.math.degrees","a8m.math.radians","a8m.math.byteFmt","a8m.math.kbFmt","a8m.math.shortFmt","a8m.angular","a8m.conditions","a8m.is-null","a8m.filter-watcher"])}(window,window.angular),angular.module("app").filter("getByProperty",function(){return function(a,b,c){for(var d=0,e=c.length,f=[];e>d;d++)c[d][a]==b&&f.push(c[d]);return f}}),angular.module("app").filter("regexReplace",function(){return function(a,b,c){return a.replace(RegExp(b),c)}}),function(){function a(a,b,c,d,e,f,g,h,i,j){var k=this;k.setLanguage=function(){k.url=a.absUrl();var e=h.getLocalUserProfile();e&&e.LanguageCode?(k.isLanguageSuportedByCode(e.LanguageCode)||k.isRegisterationPage(a.$$url)?k.isWebTrader()?b.lang=a.search().lang?c[a.search().lang]:e.LanguageCode:b.lang=e.LanguageCode:b.lang="en",b.zenDeskDepartmentLang=b.zenDeskDepartmentLang||b.lang):(k.lang=(a.search().lang||b.lang||i.defaultLang||window.navigator.userLanguage||window.navigator.language||"en").toLowerCase(),b.zenDeskDepartmentLang=b.zenDeskDepartmentLang||k.lang,k.lang=k.lang.indexOf("zh-")<0?k.lang.substring(0,2):k.lang,b.lang=c[k.lang.toLowerCase()]),k.langDirection(),d.use(b.lang),f.lang=b.lang,window.zenDeskDepartmentLang=b.zenDeskDepartmentLang},k.langDirection=function(){return"ar"==b.lang||"he"==b.lang?(f.langDirection="myAvaRtl",f.direction="rtl"):(f.langDirection="myAvaLtr",f.direction="ltr"),f.$broadcast("langDirectionUpdated"),f.direction},k.getSelectedLang=function(){return b.lang},k.isLanguageSuported=function(){return-1!==g.indexOf(k.getSelectedLang())},k.isLanguageSuportedByCode=function(a){return-1!==g.indexOf(a)},k.isRegisterationPage=function(a){return a.indexOf("register")>-1&&a.indexOf("short")>-1},k.isWebTrader=function(){return j.WhiteLabelMode&&"wtiframe"==j.WhiteLabelMode}}angular.module("app").service("LanguageService",["$location","$localStorage","LangHashTable","$translate","SerializeHashTable","$rootScope","myAvaSupportedLangArr","AccountService","MyAvaConfig","$sessionStorage",a]).filter("htmlSafe",["$sce",function(a){return function(b){return a.trustAsHtml(b)}}]).filter("unique",function(){return function(a,b){if(b===!1)return a;if((b||angular.isUndefined(b))&&angular.isArray(a)){var c=[],d=function(a){return angular.isObject(a)&&angular.isString(b)?a[b]:a};angular.forEach(a,function(a){for(var b=!1,e=0;e<c.length;e++)if(angular.equals(d(c[e]),d(a))){b=!0;break}b||c.push(a)}),a=c}return a}})}(),function(){function a(a){var b=this;b.hide=function(){return!/qa/i.test(a.platform)}}angular.module("app").service("hideElement",["MyAvaConfig",a])}(),function(a){function b(a,b,c,d){var e=this;e.setLoadingText=function(a){b.loadingText=a?a:null},e.showLoading=function(c){a(function(){b.isLoading=c,b.backgrounDrop=c,c||e.setLoadingText(null)})},e.ShowErrorPopup=function(a,b,d){c.open({template:"views/popUp/message-alert.html",className:"ngdialog-theme-default ngdialog-theme-custom-width",controller:["$scope",function(c){c.messageTitle=a,c.messageTxt=b}],closeByDocument:!1,preCloseCallback:d})},e.showDialogIframe=function(a){c.open({template:"views/popUp/iframe.html",className:"ngdialog-theme-default",controller:["$scope",function(b){b.externalUrl=d.trustAsResourceUrl(a)}],closeByDocument:!1})}}angular.module("app").service("CommonUiService",["$timeout","$rootScope","ngDialog","$sce",b])}(window),function(a){function b(a,b,c,d,e,f,g,h,i,h,j){console.log("main");var k=this;console.log(g),j.isLoggedIn&&(k.loggedIn=j.isLoggedIn),e.$on("authLoaded",function(a,b){k.userProfile=f.getUserProfile(),j.isLoggedIn=!0})}angular.module("app").controller("MainCtrl",["$scope","MainService","$location","$stateParams","$rootScope","AuthService","$state","MyAvaConfig","$window","MyAvaConfig","$sessionStorage",b])}(window),function(){function a(a,b){a.state("main",{url:"/main",templateUrl:"views/main/views/main.html",controller:"MainCtrl",controllerAs:"main"}).state("main.personal_details",{url:"/personal_details",templateUrl:"views/account/views/personal_details/personal_details.html",controller:"PersonalDetailsCtrl",controllerAs:"PersonalDetails",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("personal_details",{url:"/personal_details",templateUrl:"views/account/views/personal_details/personal_details.html",controller:"PersonalDetailsCtrl",controllerAs:"PersonalDetails",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b,c){var d=this;d.webApidomain="http://"+window.IP+":"+window.WebApiPort+"/",d.avaDomain="http://"+window.IP+":"+window.AvaPort+"/"}angular.module("app").service("MainService",["$http","$sessionStorage","$q",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(a){"string"==typeof a.data&&a.data.contains("PRAXIS_TO_WEBTRADER_MY_ACCOUNTS")&&window.parent.postMessage('{"type":"REDIRECT_TO_CRM_ACCOUNTS"}',"*")}function x(a){var b=h.getLocalUserProfile();"string"==typeof a.data&&a.data.contains("Deposit_Success")&&c.NoInternalRouting&&""!==c.NoInternalRouting&&!b.hasFtd&&b.State.toLowerCase()==j.UserState.Limited&&(console.log("Praxis deposit success - send cta_ud to WebTrader"),window.parent.postMessage('{ "type": "CTA_UD", "payload": {"show":true} }',"*"))}function y(){if(!L.selectedPaymentMetod)return!0;var a=L.customMinMax?L.customMinMax.Min:L.selectedPaymentMetod.MinDeposit,b=L.customMinMax?L.customMinMax.Max:L.selectedPaymentMetod.MaxDeposit,c=L.ExchangeRateByCrm()?1:Q(),d=!0,f=!0;a&&(L.isEmpty(L.amount)||L.amount/c<a)&&(d=!1),b&&(L.isEmpty(L.amount)||L.amount/c>b)&&(f=!1);var g=e.minMaxIsValid=f&&d;return g}function z(){return L.updateCurrency(),L.isChinaProvider||L.isQuickPay||L.isAUD()||L.isZotapayCC}function A(){e.pointerPopup.accountManager=parseInt(L.userProfile.AccountManager)}function B(a,b){if(L.paymentMetodsUnique){var c=L.paymentMetodsUnique.filter(function(a){return 0==a.DisableWhenUserNotVerified}).map(function(a){return a.Id}).indexOf(a);return-1==c&&(c=L.paymentMetodsUnique.filter(function(a){return 0==a.DisableWhenUserNotVerified}).map(function(a){return a.NameKey==b}).indexOf(!0)),c}}function C(a,b){if(L.paymentMetods){var c=L.paymentMetods.filter(function(b){return b.PaymentProvider&&b.PaymentProvider==a}).filter(function(a){return a.NameKey==b}).shift();return c&&c.Id}}function D(a,b){if(b==a)return!0;var c=L.paymentMetods.filter(function(a){return a.Id==b}).map(function(a){return a.NameKey}).shift(),d=L.paymentMetodsGroup[c].some(function(a){return a.Id==L.activeMethodId});return d&&L.activeMethodId!=b}function E(a,b){return 0===b?Math.ceil(a):(b=b||2,+(Math.round(a+("e+"+b))+("e-"+b)))}function F(){return"https:"==window.location.protocol}function G(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=encodeURIComponent(b)+(null==c?"":"; expires="+d.toUTCString());F()&&(e+="; secure"),document.cookie=encodeURIComponent(a)+"="+e}function H(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return decodeURIComponent(d)}function I(){e.isOpen=!1,console.log("Timeout occurred")}function J(b){return b?L.isShowInputBonusPopOver||a.mobileConfig.isMobile||!L.selectedPaymentMetod.ScrollBar?!0:"slider":!1}function K(a){a=a||{BonusAmount:null,Gift:null},e.pointerPopup.bonusAmount=a.BonusAmount,e.pointerPopup.showGift=g.getGiftHref(a.Gift);var b=e.pointerPopup.show;e.pointerPopup.show=J(!s.checkWhiteLabel(j.HostsWhiteLabels.AvaJapan)&&(e.pointerPopup.bonusAmount||e.pointerPopup.showAccountManager)),"boolean"==typeof e.pointerPopup.show&&(e.pointerPopup.show?(b==e.pointerPopup.show&&f.cancel(timer),e.bonusPopOverShow=!0,V()):b!=e.pointerPopup.show&&V(1))}window.addEventListener("message",w,!1),window.addEventListener("message",x,!1);var L=this;L.hasReal=!0,L.isNativeMobile=s.isNativeMobile(),L.isMobile=s.isMobile(),L.amountIsValid=!0,L.lang=a.lang,L.visaControl={},L.PaymentMethodsDict=j.PaymentMethodsDict,L.isAvaJapan=s.getIsAvaJapan(),L.isATrade=s.getIsATrade(),L.isTaiwan=s.getIsCountry(j.CountryId.Taiwan),L.ifAustralia=s.getIsCountry(j.CountryId.Australia),L.isPartOfChinaCountry=s.isPartOfChinaCountry(c.userProfile.CountryID);var M=m.search().AppName&&m.search().AppName.toLowerCase(),N=m.search().asid&&m.search().asid.toLowerCase();L.isWebtraderOrAvaGo=M&&"avatradego"==M||N&&"webtrader"==N,L.GetTabMenu=s.CreateTabMenu("pending_deposit"),L.checkOldCanadianUsers=s.checkOldCanadianUsers(),f(function(){L.isApprovedJp=s.isUserApproved()}),L.exchangeRateHistory=j.CurrencyDict,L.bonusHistory=[],e.pointerPopup={show:!1,bonusAmount:null,showGift:null,showAccountManager:null,accountManager:null},L.checkIfShowChannels=function(a){return L.isPartOfChinaCountry?j.PaymentMethodsDict.ChinaUnionPay.indexOf(a.Id)>-1?!0:!1:!0},L.IsIngenicoMethodSelected=!1,L.isIngenicoWireTransferMultiCurrencyEnabled=!1,L.ingenicoWireTransferBanks=void 0,L.selectedWireTransferBank={},L.updateSessionParams=function(){g.getKeepSelectedAmount()||g.setSelectedAccount(void 0),g.setSelectedDeposit(void 0)},L.amountValidation=function(){L.amountIsValid=!0;var a=y();g.setAmountValidation(a),L.amountIsValid=g.getAmountValidation()},L.isEmpty=function(a){return angular.isUndefined(a)||""===a||null===a||a!==a},e.$watch("minMaxIsValid",function(a){L.amountValidation(a)}),e.$watch(function(){return L.amount},function(a,b){a&&(R(),L.amountChanged())}),L.isSliderOnMove=!0,e.$on("slideEnded",function(a,b){L.isSliderOnMove=!1;var c=Q();L.amount=Math.round(L.baseCurrencyAmount*c),e.$apply()}),L.isAUD=function(){return 5==L.selectedAccount.CurrencyBase},e.$on("onChange",function(a,b){if(!L.isSliderOnMove){console.log("onChange",L.amount,L.isSliderOnMove);var c=Q();L.baseCurrencyAmount=E(L.amount/c)}}),e.$on("onStart",function(a,b){L.isSliderOnMove=!0});L.setLocalCurrency=function(a){if(null===a)return void(L.localCurrency=null);if("object"==typeof a)L.localCurrency=a;else if(L.allowedCurrencies&&L.allowedCurrencies.length){var b=L.selectedDeposit?L.selectedDeposit.bonusCurrencyId:null;L.localCurrency=L.allowedCurrencies.filter(function(a){return a.Currency.Id==b}).shift(),L.localCurrency=L.localCurrency||L.allowedCurrencies[0]}L.localCurrency&&L.addCurrencyToExchangeRateHistory(L.localCurrency.Currency)},L.setRealAccountsList=function(){L.userProfile=h.getLocalUserProfile(),L.userProfile&&(L.realAccountsList=i("filter")(L.userProfile.Accounts,{IsReal:!0}),c.AccountId&&c.WhiteLabelMode&&"native"==c.WhiteLabelMode.toString().toLowerCase()&&(L.realAccountsList=i("filter")(L.realAccountsList,{TPAccountID:c.AccountId})),L.realAccountsList&&0!=L.realAccountsList.length?(L.hasReal=!0,L.setSelectedAccount()):L.hasReal=!1)},L.updateRealAccountsList=function(){L.setRealAccountsList()},L.setSelectedAccount=function(){L.selectedDeposit=g.getSelectedDeposit();var a=m.search().TP;void 0!=a?(L.selectedAccount=i("filter")(L.realAccountsList,{TPAccountID:a})[0],void 0!=L.selectedAccount&&null!=L.selectedAccount&&(L.singleAccountText=L.selectedAccount.TPAccountID+" "+L.selectedAccount.CurrencyBaseName+" "+L.selectedAccount.TradingPlatformName)):L.selectedDeposit?(L.amount=L.selectedDeposit.depositAmount,L.selectedAccount=i("filter")(L.realAccountsList,{CurrencyBase:L.selectedDeposit.bonusCurrencyId,AllowBonus:!0})[0],T(L.selectedDeposit.bonusCurrencyName),"function"==typeof L.visaControl.updateInnerParams&&L.visaControl.updateInnerParams(),f(function(){"function"===L.visaControl.updateSlider&&L.visaControl.updateSlider()})):c.AccountId&&(L.selectedAccount=i("filter")(L.realAccountsList,{TPAccountID:c.AccountId})[0]),g.getSelectedAccount()&&void 0==L.selectedAccount?L.selectedAccount=i("filter")(L.realAccountsList,{TPAccountID:g.getSelectedAccount().TPAccountID})[0]:L.selectedAccount?L.selectedAccount=i("filter")(L.realAccountsList,{TPAccountID:L.selectedAccount.TPAccountID})[0]:L.selectedAccount=L.realAccountsList[0],g.setSelectedAccount(L.selectedAccount),L.selectedAccount.CurrencySymbol=i("isoCurrency")(null,L.selectedAccount.CurrencyBaseName,0),L.FTD=L.selectedAccount.IsFTD,L.isSpecialCurrencySign=z(),f(function(){L.visaControl.updateSlider&&L.visaControl.updateSlider()})},L.updateSelectedAccount=function(){g.setKeepSelectedAccount(void 0),c.PaymentMethods?(L.UpdatePaymentMethods(),L.updateSessionParams(),a.mobileConfig.isMobile||"function"!=typeof L.visaControl.updateSlider||L.visaControl.updateSlider(),"function"==typeof L.visaControl.updateInnerParams&&L.visaControl.updateInnerParams(),T(),e.$broadcast("selectedAccountChanged"),L.updateCurrency(),A()):(L.setSelectedAccount(),e.$broadcast("selectedAccountChanged")),L.unirchiveUser()},L.unirchiveUser=function(){var b={UnarchiveReason:v.deposit,TpAccounts:[L.selectedAccount.TPAccountID]},d=c.AppType,e=a.mobileConfig.isMobile&&d&&"avatradego"==d.toLowerCase(),f=!!c.WhiteLabelMode&&"wtiframe"==c.WhiteLabelMode.toLowerCase();e||f||c.unirchiveUsers&&-1!==c.unirchiveUsers.indexOf(L.selectedAccount.TPAccountID)||(h.unarchivedCastomerUserAccounts(b),c.unirchiveUsers||(c.unirchiveUsers=[]),c.unirchiveUsers.push(L.selectedAccount.TPAccountID));
},paymentMetods=null,L.UpdatePaymentMethods=function(a){c.PaymentMethods=a||c.PaymentMethods;var b=c.PaymentMethods;null==b&&(b=a,c.PaymentMethods=b),L.paymentMetods=b.map(function(a){return a.OverloadingParamsList.filter(function(a){return L.selectedAccount.CurrencyBaseName==a.CurrencyName}).map(function(b){return a.MinDeposit=!L.userProfile.hasFtd&&b.MinDepositFTD>0?b.MinDepositFTD:b.MinDeposit>0?b.MinDeposit:a.MinDeposit,a.MaxDeposit=b.MaxDeposit>0?b.MaxDeposit:a.MaxDeposit,b}),a}),L.paymentMetods=b.filter(function(a){return 0==a.AllowedCurrencyName.length||a.AllowedCurrencyName.length>0&&a.AllowedCurrencyName.indexOf(L.selectedAccount.CurrencyBaseName)>-1});var d=JSON.parse(JSON.stringify(L.paymentMetods));L.paymentMetodsGroup=i("groupBy")(d,"[NameKey]"),L.paymentProvidersGroup=d.map(function(a){return a.PaymentProvider?{name:a.PaymentProvider,isDisabled:a.DisableWhenUserNotVerified}:void 0}).filter(function(a){return a}),L.paymentMetodsUnique=i("unique")(d,"NameKey");var e=null;L.selectedDeposit&&L.selectedDeposit.paymentMethodId?(e=L.selectedDeposit.paymentMethodId,L.updateActivePaymentMethodById(e)):L.activeMethodId?L.updateActivePaymentMethod(L.activeMethodId):L.updateActivePaymentMethod(e),L.atradeUpdateMinDeposit(),L.amountIsValidShow=!0,L.showPaymentMethosSection=L.paymentMetods&&L.paymentMetods.length>0,P(),T()},L.atradeUpdateMinDeposit=function(){L.isATrade&&L.paymentMetods.filter(function(a){20==a.Id&&(a.MinDeposit=100)})},L.GetPaymentMethods=function(){if(L.userProfile){var b=JSON.parse(sessionStorage.getItem("ngStorage-AppType"));L.userProfile.AccountManager=parseInt(L.userProfile.AccountManager);var c=null;void 0!=L.userProfile.Tags&&null!=L.userProfile.Tags&&L.userProfile.Tags.length>0&&(c=L.userProfile.Tags.join()),g.GetPaymentMethods(p.getToken(),b,L.userProfile.CountryID,d.Name,L.userProfile.LanguageId,L.userProfile.BusinessGroupId,L.userProfile.Cage,c).then(function(b){return""==b.data?(a.isDepositPraxis=!0,void(L.showPraxisDeposit=!0)):(a.isDepositPraxis=!1,L.paymentMetods=b.data,void L.UpdatePaymentMethods(b.data))})}},L.atradeUpdateMinDeposit=function(){L.isATrade&&L.paymentMetods.filter(function(a){20==a.Id&&(a.MinDeposit=100)})},L.updateAmount=function(){f(function(){L.selectedDeposit?L.amount=L.selectedDeposit.depositAmount:L.amount=L.selectedPaymentMetod.MinDeposit,L.amountChanged(),L.updateCurrency()})},L.onSlideChanged=function(a,b,c){if(b&&"undefined"!=typeof c){var d=c,e=L.paymentMetodsUnique.length;switch(b){case"prev":d=(c||e)-1;break;case"next":d=(c+1)%e}L.updateActivePaymentMethodOnClick(L.paymentMetodsUnique[d].Id)}},e.$watch(function(){return L.activeMethodId},function(){L.selectedPaymentMetod&&(L.activeMethodId=C(L.activePaymentProvider,L.selectedPaymentMetod.NameKey)||L.activeMethodId,L.updateActivePaymentMethodOnClick(L.activeMethodId),L.activeMethodIdRaw=B(L.activeMethodId,L.selectedPaymentMetod.NameKey))}),e.$watch(function(){return L.activePaymentProvider},function(){L.paymentMetods&&(L.activeMethodId=C(L.activePaymentProvider,L.selectedPaymentMetod.NameKey)||L.activeMethodId)}),L.updateActivePaymentMethodOnClick=function(b){L.selectedPaymentMetod&&D(L.selectedPaymentMetod.Id,b)||(L.paymentMetods&&L.updateActivePaymentMethod(b),g.setSelectedDeposit(void 0),a.$broadcast("$paymentMethodChanged",L.selectedPaymentMetod.Name))},L.updateActivePaymentMethod=function(a){L.selectedPaymentMetod=L.paymentMetods.filter(function(b){return b.Id==a}).shift()||L.paymentMetods.filter(function(a){return 0==a.DisableWhenUserNotVerified}).shift()||L.paymentMetods[0],L.isShowChannels=L.checkIfShowChannels(L.selectedPaymentMetod),L.isShowTitleAndDescription=j.PaymentMethodsDict.ChinaUnionPayCNY2==L.selectedPaymentMetod.Id||L.isShowChannels,A(),L.selectedPaymentMetod.Id!=j.PaymentMethodsDict.WireTransfer&&(L.IsIngenicoMethodSelected=!1,L.setLocalCurrency(null)),L.customMinMax=void 0,L.activeMethodId=L.activePaymentProvider&&C(L.activePaymentProvider,L.selectedPaymentMetod.NameKey),L.activeMethodId=L.activeMethodId||L.selectedPaymentMetod.Id,g.isUpdateAmountFromInnerCMP(L.paymentMetods,L.activeMethodId)?(L.isWaitForInnerCMP=!0,L.updateCurrency()):(L.isWaitForInnerCMP=!1,L.updateAmount()),T(),L.isShowInputBonusPopOver=g.isShowInputBonusPopOver(L.paymentMetods,L.activeMethodId),L.multipleDepositBefore="dep_multipleDepositsBefore",L.multipleDepositAfter="dep_multipleDepositsAfter"},L.updateActivePaymentMethodById=function(a){L.updateActivePaymentMethod(a)};var O=function(){g.depositShowLoading(!1),l.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:e,closeByDocument:!1,preCloseCallback:function(){delete c.queryString}})},P=function(){if(c.queryString){g.depositShowPreparingAccountLoading(!0);var b=function(){a.$broadcast("depositTransactionFailed"),n[L.deposit3rdPartyStatus]?(e.statusTitle=n[L.deposit3rdPartyStatus].title,e.statusText=n[L.deposit3rdPartyStatus].text):(e.statusTitle=n[12].title,e.statusText=n[12].text)},d=function(a){if(L.paymentMetods)for(var b=0;b<L.paymentMetods.length;b++)if(L.paymentMetods[b].Id==a){L.updateActivePaymentMethod(a);break}},f=function(a){if(!a)return void g.setDepositResponseData(null);var b={Status:a.pmstatus,StatusCode:a.pmstatuscode};g.setDepositResponseData(b)},i=function(a){if(L.userProfile=h.getLocalUserProfile(),L.userProfile){var b=c.queryString;return b.pmstatus!==j.PaymentStatus.Success||b.pmstatuscode&&""!==b.pmstatuscode||(b.pmstatuscode=0),g.getTypCode(a.pm,b.pmstatus,b.pmstatuscode).then(function(c){a={Status:b.pmstatus,StatusCode:c.data},g.setDepositResponseData(a),console.log("payment method: "+a.pm+"; response",a)})}var d=$q.defer();return d.resolve(null),d.promise},k=c.queryString;L.deposit3rdPartyStatus=k.pmstatus;var l=k.pm;d(l),L.deposit3rdPartyStatus===j.PaymentStatus.Success||L.deposit3rdPartyStatus===j.PaymentStatus.Pending?(g.setKeepSelectedAccount(!0),i(k).then(function(a){return g.getDepositResponseData().Status===j.PaymentStatus.Failed?(d(l),b(),void O()):(g.depositShowPreparingAccountLoading(!1),r.refreshUserProfile(),void o.go("deposit-typ"))},function(a){d(l),b(),O()})):L.deposit3rdPartyStatus===j.PaymentStatus.Failed?(b(),O()):L.deposit3rdPartyStatus===j.PaymentStatus.Cancel?(k.pmstatusreason==j.PaymentStatusReason.Blocked&&(L.deposit3rdPartyStatus="3336",b(),O()),delete c.queryString,g.depositShowPreparingAccountLoading(!1),f(null)):(b(),O(),delete c.queryString,g.depositShowPreparingAccountLoading(!1),f(null)),console.log("depost result from session storage",c.queryString)}else if(console.log("no query string params in session"),m.search().pmstatus||m.search().status){var p=m.search(),q={amount:p.amount,created_at:p.created_at,currency:p.currency,external_reference:p.external_reference,finished:p.finished,gateway:p.gateway,is_dmn_confirmed:p.is_dmn_confirmed,is_tpi_processed:p.is_tpi_processed,pm:p.pm,PayerID:p.id,pmstatus:p.pmstatus||p.status,pmstatuscode:p.status_code,pmstatusreason:p.status_reason,transaction_id:p.transaction_id,uuid:p.uuid};c.queryString=q,m.search("")}};L.isIngenicoMultiCurrencyEnabled=function(){return L.isIngenicoWireTransferMultiCurrencyEnabled=L.selectedWireTransferBank.IsIngenico&&L.ingenicoWireTransferBanks&&L.ingenicoWireTransferBanks.length>1,L.isIngenicoWireTransferMultiCurrencyEnabled};var Q=function(){return L.baseAmountData?L.baseAmountData.ExchangeRate:1},R=function(){var a=Q();return L.localCurrency&&L.localCurrency.Currency.IsAccountCurrency&&(L.amount=E(L.amount,0)),L.baseCurrencyAmount=E(L.amount/a),L.ExchangeRateByCrm()?L.amount:L.baseCurrencyAmount},S=function(){var a=R();if(L.customMinMax)e.minMaxIsValid=g.validateDepositAmountOnSelect(a,L.customMinMax.Min,L.customMinMax.Max);else{var b=L.selectedPaymentMetod;b&&(e.minMaxIsValid=g.validateDepositAmountOnSelect(a,b.MinDeposit,b.MaxDeposit))}};L.updateBaseCurrencyAmount=function(a,b){var c=L.customMinMax?L.customMinMax.Min:L.selectedPaymentMetod.MinDeposit;L.ExchangeRateByCrm()?L.baseCurrencyAmount=E(L.amount/a):L.baseCurrencyAmount=L.amount=E(c*a,0),b&&(L.baseAmountData={ExchangeRate:a,BaseDepositAmount:L.baseCurrencyAmount,DepositAmount:c,AccountCurrency:b.CurrencyBase,LocalCurrency:b.LocalCurrency,CurrencyBase:b.CurrencyBase})},L.getCurrencyByName=function(a){return a=a||"",L.exchangeRateHistory.filter(function(b){return RegExp(a,"i").test(b.Name)}).shift()},L.getCurrencyNameById=function(a){return L.exchangeRateHistory.filter(function(b){return b.Id==a}).map(function(a){return a.Name}).shift()},L.checkExchangeRateHistory=function(a,b){return a&&b?L.exchangeRateHistory.filter(function(c){return(c.Id==a||RegExp(a,"i").test(c.Name))&&c.ExchangeRate&&void 0!=c.ExchangeRate[b]}).map(function(a){return a.ExchangeRate[b]}).shift():void 0},L.addCurrencyToExchangeRateHistory=function(a){a=a||L.localCurrency.Currency,L.getCurrencyNameById(a.Id)||L.exchangeRateHistory.push({Id:a.Id,Name:a.Name,Symbol:i("isoCurrency")(null,a.Name,0)})},L.updateExchangeRateHistory=function(a){if(a){var b=a.TargetCurrencyCode||L.getCurrencyNameById(a.AccountCurrency||a.CurrencyBase),c=a.SourceCurrencyCode||L.getCurrencyNameById(a.LocalCurrency);c||(L.addCurrencyToExchangeRateHistory(L.localCurrency.Currency),c=L.getCurrencyNameById(a.LocalCurrency)),L.exchangeRateHistory.filter(function(a){return RegExp(c,"i").test(a.Name)}).map(function(c){c.ExchangeRate=c.ExchangeRate||{},c.ExchangeRate[b]=a.ExchangeRate})}},L.updateCurrency=function(){var b=L.selectedPaymentMetod;if(L.isChinaProvider=b&&(j.PaymentMethodsDict.ChinaUnionPay.indexOf(b.Id)>-1||[j.PaymentMethodsDict.AliPay,j.PaymentMethodsDict.QQPay,j.PaymentMethodsDict.WeChat].indexOf(b.Id)>-1),L.isChinaUnionPayProvider=b&&j.PaymentMethodsDict.ChinaUnionPay.indexOf(b.Id)>-1&&(b.Id!=j.PaymentMethodsDict.ChinaUnionPayZotapay||b.Id!=j.PaymentMethodsDict.ChinaUnionPayPaymentAsia),L.isQuickPay=b&&b.Id==j.PaymentMethodsDict.QuickPayJp,L.isZotapayCC=b&&b.Id==j.PaymentMethodsDict.ZotapyCreditCard,a.IsAvaJapan){L.CustomCurrency=L.getCurrencyByName("JPY");var c=g.getSelectedAccount();L.setLocalCurrency({CountryId:c.CountryId,Currency:{Id:c.CurrencyId,Name:c.CurrencyBaseName,IsAccountCurrency:!0}})}L.ExchangeRateByCrm()?L.calculateCurrencyRateByCRM():L.calculateLocalCurrencyRate().then(function(a){S()})},L.ExchangeRateByCrm=function(){return L.isZotapayCC||L.isChinaProvider},L.calculateLocalCurrencyRate=function(){var a=$q.defer();if(L.amount)if(!L.localCurrency||L.localCurrency.Currency.IsAccountCurrency)L.baseAmountData=void 0,S(),a.reject();else{var b=g.getSelectedAccount();if(b){var c={AccountCurrency:b.CurrencyBaseName,CountryId:b.CountryId,LocalCurrency:L.localCurrency,amount:L.amount,PaymentProvider:W(L.selectedPaymentMetod)},d=L.checkExchangeRateHistory(L.localCurrency.Currency.Name,b.CurrencyBaseName);d?(L.updateBaseCurrencyAmount(d,{CurrencyBase:b.CurrencyBase,LocalCurrency:L.localCurrency.Currency.Id}),S(),a.resolve(d)):0==d?a.reject():(L.updateExchangeRateHistory({AccountCurrency:b.CurrencyBase,LocalCurrency:L.localCurrency.Currency.Id,ExchangeRate:0}),g.calculateLocalCurrencyRate(c).then(function(c){return-1==c.data.ExchangeRate?void a.reject():(L.baseAmountData=c.data,L.baseAmountData.CurrencyBase=b.CurrencyBase,L.updateExchangeRateHistory(L.baseAmountData),!L.localCurrency||b.CurrencyBase==L.localCurrency.Currency.Id||L.IsIngenicoMethodSelected&&!L.amount||L.updateBaseCurrencyAmount(c.data.ExchangeRate),S(),void a.resolve(c.data.ExchangeRate))},function(b){console.log("calculateLocalCurrencyRate error",b),a.reject()}))}}else a.reject();return a.promise},L.calculateCurrencyRateByCRM=function(){var a=$q.defer();if(L.CustomCurrency=L.isChinaProvider?L.getCurrencyByName("CNY"):L.isZotapayCC?L.getCurrencyByName("MYR"):null,!L.amount||L.IsIngenicoMethodSelected)a.reject();else{var b=g.getSelectedAccount(),c={BaseCurrencyName:b.CurrencyBaseName,LocalCurrencyName:L.CustomCurrency.Name,amount:L.amount,CountryId:b.CountryId,PaymentProvider:W(L.selectedPaymentMetod)},d=L.checkExchangeRateHistory(L.CustomCurrency.Name,b.CurrencyBaseName);d?(L.updateBaseCurrencyAmount(d,{CurrencyBase:b.CurrencyBase,LocalCurrency:L.CustomCurrency.Id}),S(),a.resolve(d)):0==d?a.reject():g.calculateCurrencyRateByCRM(c).then(function(c){return-1!=c.data.ExchangeRate&&L.ExchangeRateByCrm()?(L.baseAmountData=c.data,L.baseAmountData.CurrencyBase=b.CurrencyBase,L.baseAmountData.LocalCurrency=L.CustomCurrency.Id,L.updateBaseCurrencyAmount(L.baseAmountData.ExchangeRate),L.updateExchangeRateHistory(L.baseAmountData),e.$broadcast("amountChanged"),void a.resolve(c.data.ExchangeRate)):void a.reject()},function(c){L.updateExchangeRateHistory({AccountCurrency:b.CurrencyBase,LocalCurrency:L.CustomCurrency.Id,ExchangeRate:0}),console.log("calculateCurrencyRateByCRM error",c),a.reject()})}return a.promise};var T=function(a){if(a=a||L.selectedDeposit?L.selectedDeposit.bonusCurrencyName:null,L.paymentMetods){if(L.userProfile&&L.userProfile.AllowedCurrencies){var b=L.selectedPaymentMetod;if(b.AllowMultiCurrency){L.allowedCurrencies=angular.copy(L.userProfile.AllowedCurrencies[b.Id]);var c=L.selectedAccount||g.getSelectedAccount();if(c&&-1==j.PaymentMethodsDict.ChinaUnionPay.indexOf(L.selectedPaymentMetod.Id)&&L.selectedPaymentMetod.Id!=j.PaymentMethodsDict.QuickPayJp){var d={CountryId:c.CountryId,Currency:{Id:c.CurrencyBase,Name:c.CurrencyBaseName,IsAccountCurrency:!0},Markup:0};void 0==L.allowedCurrencies||null==L.allowedCurrencies?(L.allowedCurrencies=[],L.allowedCurrencies.push(d)):(L.allowedCurrencies.push(d),L.allowedCurrencies[0].Currency.IsAccountCurrency=!1),L.setLocalCurrency()}}else L.allowedCurrencies=null}else L.allowedCurrencies=null,L.baseAmountData=void 0;L.setLocalCurrency()}};L.updateLocalCurrency=function(){e.$broadcast("currentBankIsChanged",L.selectedWireTransferBank);var a=L.selectedWireTransferBank;a&&a.CurrencyName!=c.selectedAccount.CurrencyBaseName?(L.setLocalCurrency({CountryId:a.CountryId,Currency:{Id:a.CurrencyId,Name:a.CurrencyName,IsAccountCurrency:!1},Markup:0}),L.CustomCurrency=L.getCurrencyByName(a.CurrencyName)):(L.setLocalCurrency(null),L.CustomCurrency=null),L.calculateLocalCurrencyRate()};var U=function(){s.setTheme(),AllowCashierCookiesOnMobile(),e.isOpen=!0,f(I,5e3),L.activeMethodId=0,L.setRealAccountsList(),L.realAccountsList&&L.realAccountsList.length>0&&L.GetPaymentMethods(),s.setTheme(),L.unirchiveUser()};L.checkIfShowDepositVerificationMsg=function(){return null!=L.paymentMetods?L.paymentMetods.filter(function(a){return 1==a.DisableWhenUserNotVerified})[0]:void 0},AllowCashierCookiesOnMobile=function(){if(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")){var a=H("CashierCookie");if(null==a){G("CashierCookie",!0,1);var b=window.location.href;window.location.href="https://cashier.praxispay.com/BounceBack.asp?returnUri="+encodeURIComponent(b)}}},U(),e.$on("userProfileUpdated",function(a,b){!L.userProfile||L.userProfile.Accounts&&0!=L.userProfile.Accounts.length?L.updateRealAccountsList():U()}),e.$on("selectedDepositUpdated",function(b,c){L.selectedDeposit=g.getSelectedDeposit(),L.selectedDeposit&&L.selectedDeposit.paymentMethodId&&(defaultPaymentMethodId=L.selectedDeposit.paymentMethodId,L.updateActivePaymentMethodById(defaultPaymentMethodId)),g.setSelectedAccount(void 0),L.updateRealAccountsList(),L.selectedDeposit&&L.paymentMetods&&L.selectedPaymentMetod.Id==j.PaymentMethodsDict.WireTransfer&&f(function(){a.$broadcast("removeSelectedDepositWT")},1e3)}),e.$on("$destroy",function(){L.updateSessionParams()}),L.currencyMatch=function(){var a=L.selectedAccount.CurrencyBaseName,b=L.localCurrency?L.localCurrency.Currency.IsAccountCurrency:a,c=(L.isChinaProvider||L.isQuickPay||L.IsIngenicoMethodSelected||L.isZotapayCC)&&L.CustomCurrency?L.CustomCurrency.Name:a;return c==b},L.amountChanged=function(){L.amountValidation(),L.amountIsValidShow=!0,a.$broadcast("amountChanged"),L.currencyMatch()&&(L.baseAmountData=null),L.baseAmountData||L.calculateLocalCurrencyRate()};var V=function(a){a=a||(L.isMobile?7e3:5e3),timer=f(function(){e.pointerPopup.show=!1,e.bonusPopOverShow=!1},a)};L.isMaxDepositDefined=function(){return L.customMinMax?L.customMinMax.Max>0:L.paymentMetods?L.selectedPaymentMetod.MaxDeposit>0:!1},L.multipleDepositValidate=function(){return!L.amountIsValid&&L.amountIsValidShow&&L.selectedPaymentMetod.Id!=j.PaymentMethodsDict.WireTransfer&&-1==j.PaymentMethodsDict.ChinaUnionPay.indexOf(L.selectedPaymentMetod.Id)&&L.amount>L.selectedPaymentMetod.MaxDeposit},L.showAccountManagerTrigger=function(){return e.pointerPopup.accountManager?L.baseCurrencyAmount<e.pointerPopup.accountManager?"promotion":"received":null},e.$on("calculateBonus",function(a,b){f(function(){e.pointerPopup.updatedOn=(new Date).getTime(),e.pointerPopup.showAccountManager=L.showAccountManagerTrigger(),e.pointerPopup.currencyName=L.selectedAccount.CurrencyBaseName;var a={min:L.customMinMax?L.customMinMax.Min:L.selectedPaymentMetod.MinDeposit,max:L.customMinMax?L.customMinMax.Max:L.selectedPaymentMetod.MaxDeposit};L.amountToBonus=L.isChinaProvider?L.amount:L.baseCurrencyAmount||L.amount;var b,c=L.CustomCurrency||L.localCurrency&&!L.localCurrency.Currency.IsAccountCurrency&&L.localCurrency.Currency;c&&(!L.selectedPaymentMetod.AllowMultiCurrency||-1==L.selectedPaymentMetod.AllowedCurrencyName.indexOf(c.Name)&&L.selectedPaymentMetod.DefaultCurrencySymbol!=c.Name)&&(c=null),c&&(b=L.checkExchangeRateHistory(c.Name,L.selectedAccount.CurrencyBaseName));var d=L.userProfile.Accounts.some(function(a){return a.HasOnlyPendingDeposits});if(L.amountToBonus&&L.amountToBonus>=a.min&&(0==a.max||L.amountToBonus<=a.max)&&L.userProfile&&L.userProfile.AllowBonus>0&&!L.userProfile.hasFtd&&L.selectedAccount.CurrencyBase&&L.selectedAccount.AllowBonus&&!d&&(!c||c&&b)){L.amountToBonus=L.baseCurrencyAmount||L.amount;var f=L.bonusHistory.filter(function(a){return a.currencyBase==L.selectedAccount.CurrencyBase&&a.amountToBonus.toFixed()==L.amountToBonus.toFixed()}).shift();if(f)f.data&&K(f.data);else{var h={currencyBase:L.selectedAccount.CurrencyBase,amountToBonus:L.amountToBonus,data:null};L.bonusHistory.push(h),g.calculateDepositBonus(L.selectedAccount.CurrencyBase,L.amountToBonus,L.selectedAccount.AccountId).then(function(a){var b=L.bonusHistory.filter(function(b){return b.currencyBase==a.data.SourceCurrencyId&&b.amountToBonus==a.data.SourceAmount}).shift();b&&(b.data=a.data,K(b.data))})}}else K()})}),e.$on("amountChanged",function(a,b){console.log("amountChanged: ",b),e.$broadcast("calculateBonus")}),e.$on("IngenicoAmountRangeError",function(a,b){L.amountIsValid=!1,L.amountIsValidShow=!0}),e.$on("IngenicoMultiCurrencyEnableDisable",function(a,b,c){if(c){L.IsIngenicoMethodSelected=!0,void 0==L.ingenicoWireTransferBanks&&(L.ingenicoWireTransferBanks=b);var d=i("filter")(L.ingenicoWireTransferBanks,{CurrencyName:c})[0];L.selectedWireTransferBank=d,L.isIngenicoMultiCurrencyEnabled(),L.updateLocalCurrency(d)}else L.IsIngenicoMethodSelected=!1,L.setLocalCurrency(null)});var W=function(a){return!a||L.IsIngenicoMethodSelected?j.PaymentMethodsDict.CreditCard:a.Id};e.$on("IngenicoPaymentMethodMinMaxLoaded",function(a,b){return L.isWaitForInnerCMP=!1,void 0!=b&&L.IsIngenicoMethodSelected?(L.customMinMax=b,b.ChangeAmount&&!g.getSelectedDeposit()&&(L.amount=1==L.customMinMax.Min?"":L.customMinMax.Min),L.amountIsValidShow=""!=L.amount.toString(),e.bonusPopOverShow=!1,void(e.pointerPopup.show=!1)):(L.hideCommonErrorMessage=!1,L.customMinMax=void 0,L.selectedDeposit||(L.amount=L.selectedPaymentMetod.MinDeposit),void L.amountChanged())}),window.addEventListener("message",function(b){if(null!=b.data&&/praxisDepositIntegration/i.test(b.data)){var d=JSON.parse(b.data);null!==c.userProfile&&(d.IsFtd=!c.userProfile.hasFtd,d.CustomerId=c.userProfile.CustomerID),a.$broadcast("deposit",d)}},!1)}angular.module("app").controller("DepositCtrl",["$rootScope","$localStorage","$sessionStorage","whiteLabelData","$scope","$timeout","DepositService","AccountService","$filter","MyAvaConsts","$stateParams","ngDialog","$location","DEPOSIT_STATUS","$state","AuthService","eResponseAdditionalProperties","UserProfileService","CommonService","SUCCESS_DEPOSIT_STATUS","SoliticsService","unirchiveReason",d])}(window,document,"script"),function(){function a(a,b,c,d,e,f,g,h,i){var j=this;b.AllowBonus=i.checkDepoitBonusAllowanceWithoutCheckFtd(),j.lang=c.userProfile.LanguageCode;var k=function(){if(a.depostiData.AdditionalProperties&&a.depostiData.AdditionalProperties.length>0){var b=a.depostiData.AdditionalProperties.filter(function(a){return a.Key==g.WeeklyLimit});b.length>0&&(a.maxDeposit=b[0].Value)}},l=function(c){switch(c){case h.DepositFraud:b.$broadcast("depositTransactionFailed"),a.depositTYPHeaderText="TYP_depositFailedHeaderTxt";break;default:a.depositTYPHeaderText="TYP_thankForDeposit"}};e.depositShowPreparingAccountLoading(!1),a.depostiData=e.getDepositResponseData(),a.depostiData&&(a.statusCode=a.depostiData.StatusCode,a.selectedAccount=e.getSelectedAccount(),a.selectedAccount&&(b.mobileConfig.isMobile?a.DownloadLink=f.DownloadApp(a.selectedAccount):a.DownloadLink=a.selectedAccount.AccountLinks.DownloadLink,a.OnlinePlatformLink=a.selectedAccount.AccountLinks.OnlinePlatformLink),l(a.depostiData.StatusCode),k(),delete c.queryString,"undefined"==typeof $AvaTracker||a.depostiData.isRefreshed||1!==a.depostiData.Status||($AvaTracker.TrackerEvents.onDeposit(),a.depostiData.isRefreshed=!0,e.setDepositResponseData(a.depostiData))),j.goToDeposit=function(){d.go("deposit")},j.uploadDocument=function(){d.go("upload_document")},j.beforeRedirect=function(){void 0!=c.NoInternalRouting&&""!==c.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):d.go("upload_document")}}angular.module("app").controller("DepositTypCtrl",["$scope","$rootScope","$sessionStorage","$state","DepositService","MobileService","eResponseAdditionalProperties","SUCCESS_DEPOSIT_STATUS","CommonService",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g){var h=this;h.isNativeMobile=g.isNativeMobile(),h.pendingDeposits=f.getPendingDepositsFromUserProfile(),h.pendingDeposits.forEach(function(a){a.Amount=a.Amount.toFixed(2)}),h.GetTabMenu=g.CreateTabMenu("pending_deposit")}angular.module("app").controller("PendingDepositCtrl",["$rootScope","$localStorage","$sessionStorage","$scope","DepositService","AccountService","CommonService",d])}(window,document,"script"),function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.amountIsValid=!0,l.GetPaymentMethods=function(b,c,d,e,f,g,h,i){return a.get(window.webApidomain+"api/Deposit/GetPaymentMethods_NewCrm?countryId="+d+"&whiteLabel="+e+"&languageId="+f+"&businessGroupId="+g+"&appName="+c+"&tags="+i+"&cageName="+h)},l.calculateDepositBonus=function(b,c,d){return a.get(window.webApidomain+"api/Deposit/CalculateDepositBonus_NewCrm?currencyId="+b+"&depositAmount="+c+"&tradingAccountId="+d)},l.getDepositBonusCurrencies=function(){return a.get(window.webApidomain+"api/Deposit/GetDepositBonusCurrencies_NewCrm")},l.GetCountriesList=function(){return a.get(window.webApidomain+"api/AccountInfo/GetCountriesListByCode_NewCrm?lang="+b.lang)},l.SaveEmailSurvey=function(b){return a.post(window.webApidomain+"api/EmailSurvey/SaveEmailSurvey",b)},l.setSelectedDeposit=function(a){a?c.selectedDeposit=a:delete c.selectedDeposit,e.$broadcast("selectedDepositUpdated")},l.getSelectedDeposit=function(){return c.selectedDeposit},l.setSelectedAccount=function(a){a?c.selectedAccount=a:delete c.selectedAccount},l.getSelectedAccount=function(){return c.selectedAccount},l.refreshSelectedAccount=function(a){a||(a=l.getSelectedAccount());var b=f.getLocalUserProfile();if(b&&b.Accounts){var c=b.Accounts.filter(function(b){return b.AccountId==a.AccountId});l.setSelectedAccount(c[0])}},l.removeExistingCreditCard=function(b,c){var d={CardId:b,IsHidden:c};return a.post(window.webApidomain+"api/AccountInfo/RemoveAccountCreditCards_NewCrm",d)};var m;l.setSelectedDepositAmount=function(a){m=a,e.$broadcast("depositAmountChanged")},l.getSelectedDepositAmount=function(){return m},l.setDepositResponseData=function(a){c.depositResponseData=a},l.getDepositResponseData=function(){return c.depositResponseData},l.getTypCode=function(b,c,d){var e="paymentMethod="+b+"&status="+c+"&businessRuleCode="+d;return a.get(window.webApidomain+"api/deposit/GetTypCode?"+e)},l.submitDepositForm=function(b){return console.log(b),e.$broadcast("formSubmission","#depositForm"),a.post(window.webApidomain+"api/deposit/Deposit_NewCrm",b).success(function(a){1!=a.Status||b.AdditionalProperties.find(function(a){return a.Key==k.FakeDeposit})||(b.PaymentMethodName=l.GetPaymentMethodNameById(c.PaymentMethods,b.PaymentMethodProvider),null!==c.userProfile&&(b.IsFtd=!c.userProfile.hasFtd,b.CustomerId=c.userProfile.CustomerID),e.$broadcast("deposit",b))})},l.submitSkrillDepositForm=function(a){console.log(a);var b={DepositRequest:a};paymentMethodName=l.GetPaymentMethodNameById(c.PaymentMethods,a.PaymentMethodProvider),window.open(window.webApidomain+"api/deposit/InitSkrillDeposit?CrmAccountId="+b.DepositRequest.CrmAccountId+"&Currency="+b.DepositRequest.Currency+"&DepositAmount="+b.DepositRequest.DepositAmount+"&Email="+b.DepositRequest.Email+"&LanguageCode="+b.DepositRequest.LanguageCode+"&PaymentMethodProvider="+b.DepositRequest.PaymentMethodProvider+"&TpRealAccountId="+b.DepositRequest.TpRealAccountId+"&AdditionalProperties="+JSON.stringify(b.DepositRequest.AdditionalProperties),"_blank")},l.submitDepositFormSuccess=function(a,b,d){console.log("deposit success",a);var g=f.getLocalUserProfile().hasFtd;f.refreshUserProfile(),f.GetAccountsBalances(),l.setDepositResponseData(a),a.Status==h.PaymentStatusAva.Success&&"function"==typeof d?(d(a),c.NoInternalRouting&&""!==c.NoInternalRouting&&!g&&f.getLocalUserProfile().State.toLowerCase()==h.UserState.Limited&&window.parent.postMessage('{ "type": "CTA_UD", "payload": {"show":true} }',"*")):"function"==typeof b&&(e.$broadcast("depositTransactionFailed"),b(a))},l.confirmEWalletPayment=function(b){var c={DepositRequest:b};return a.post(window.webApidomain+"api/deposit/ConfirmEWallet",c)},l.getRedirectUrl=function(a){var b="";if(a.AdditionalProperties){var c=a.AdditionalProperties.filter(function(a){return a.Key==g.RedirectUrl});if(c.length>0)return b=c[0].Value}return b},l.setAmountValidation=function(a){void 0!=a&&(l.amountIsValid=a)},l.getAmountValidation=function(a){return l.amountIsValid},l.validateDepositAmountOnSelect=function(a,b,c){var d=a>=b&&(0==c||c>=a);return d},l.paymentMethodsValidationDisabled=[h.PaymentMethodsDict.WireTransfer],l.isPMneedToValidate=function(a,b){var c=a.filter(function(a){return a.Id==b}).shift();return-1==l.paymentMethodsValidationDisabled.indexOf(c.Id)},l.GetPaymentMethodIndexById=function(a,b){for(var c=0;c<a.length;c++)if(a[c].Id==b)return c},l.GetPaymentMethodNameById=function(a,b){for(var c=0;c<a.length;c++)if(a[c].Id==b)return a[c].Name},l.paymentMethodsShowPopUpBonus=[h.PaymentMethodsDict.WireTransfer],l.isShowInputBonusPopOver=function(a,b){var c=a.filter(function(a){return a.Id==b}).shift();return l.paymentMethodsShowPopUpBonus.indexOf(c.Id)>-1},l.calculateLocalCurrencyRate=function(b){return a.post(window.webApidomain+"api/deposit/CalculateLocalCurrenciesRate_NewCrm",b)},l.calculateCurrencyRateByCRM=function(b){return a.post(window.webApidomain+"api/deposit/CalculateCurrenciesRateByCRM_NewCrm",b)},l.calculateCurrenciesByRate=function(b){return a.post(window.webApidomain+"api/deposit/CalculateCurrenciesRate_NewCrm",b)},l.getGiftHref=function(a){if(!a)return null;var b=a;return b.indexOf("http")>-1?b:i&&i.SiteUrl?i.SiteUrl+"/"+b:window.AvaTradeDomain+b},l.depositShowLoading=function(a){a&&j.setLoadingText("loading_processDeposit"),j.showLoading(a)},l.depositShowPreparingAccountLoading=function(a){a&&j.setLoadingText("loading_perparingAccount"),j.showLoading(a)},l.AccountAllowBonus=function(){return l.getSelectedAccount().AllowBonus},l.setKeepSelectedAccount=function(a){c.keepSelectedAccount=a},l.getKeepSelectedAmount=function(){return c.keepSelectedAccount},l.isUpdateAmountFromInnerCMP=function(a,b){return a.filter(function(a){return a.Id==b&&a.Id==h.PaymentMethodsDict.WireTransfer}).length>1},l.updateSelectedDeposit=function(a,b){var c=a.filter(function(a){return a.Id==b}).shift();c.Id!=h.PaymentMethodsDict.WireTransfer&&l.setSelectedDeposit(null)},l.GetCountryStates=function(b,c){var d={countryId:b,lang:c};return a.get(window.webApidomain+"api/CountriesCurrencies/GetCountryStates_NewCrm",{params:d})},l.getNetellerLink=function(){return a.get(window.webApidomain+"api/deposit/GetNetellerLink_NewCrm")},l.GetAppSourceType=function(){return null!=c.Asid&&""!=c.Asid?e.mobileConfig.isMobile?c.Asid+"Mobile":c.Asid:c.AppType?c.WhiteLabelName&&c.WhiteLabelName.toLowerCase()==h.HostsWhiteLabels.ATrade.toLowerCase()?h.AppType.AtradeGo:c.AppType||h.AppType.AvaTradeGo:e.mobileConfig.isMobile?"MyAvaWebMobile":"MyAvaWebSite"}}angular.module("app").service("DepositService",["$http","$localStorage","$sessionStorage","$browser","$rootScope","AccountService","eResponseAdditionalProperties","MyAvaConsts","whiteLabelData","CommonService","eRequestAdditionalProperties",a])}(),function(){function a(a,b){a.state("deposit",{url:"/deposit?pm&status&token&data",templateUrl:"views/deposit/views/deposit.html",controller:"DepositCtrl",controllerAs:"deposit",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html",params:{pm:null,status:null,token:null,data:null}}).state("pending-deposit",{url:"/pending-deposit",templateUrl:"views/deposit/views/pending_deposit/pending_deposit.html",controller:"PendingDepositCtrl",controllerAs:"PendingDeposit",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("deposit.visa",{url:"/visa",templateUrl:"views/deposit/views/deposit-methods/visa-deposit-method/visa-deposit-method.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("deposit-typ",{url:"/deposit/typ",templateUrl:"views/deposit/views/typ/deposit-typ.html",controller:"DepositTypCtrl",controllerAs:"depositTyp",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("typ-FtdMifid-EmailSurvey",{url:"/typ-FtdMifid-EmailSurvey",templateUrl:"views/deposit/views/Mifid-EmailSurvey/typ-FtdMifid-EmailSurvey.html",controller:"FtdMifidEmailSurveyCtrl",controllerAs:"FtdMifidEmailSurvey"}).state("sharp_academy",{url:"/sharp_academy",templateUrl:"views/deposit/views/deposit-methods/sharp-academy/sharp-academy-cmp.html",controller:"SharpAcademyCtrl",controllerAs:"sharpAcademy"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){var a=["CommonService","$sessionStorage","$window","$scope","$rootScope","$state",function(a,b,c,d,e,f){var g=this;g.weeklyLimit=a.numberWithCommas(b.userProfile.WeeklyLimit),g.weeklyLimitOverrideLink=a.getWeeklyLimitOverrideFormPath(),g.hasBonus=b.userProfile.AllowBonus>0,g.hasFtd=b.userProfile.hasFtd,g.isAvaJapan=a.getIsAvaJapan(),g.isCryptoX=a.getIsCrypto(),g.supportJp={phone:"03-4577-8900",email:"support@avatrade.co.jp"},g.beforeRedirect=function(){void 0!=b.NoInternalRouting&&""!==b.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):f.go("upload_document")}}];angular.module("app").component("depositMethodsTermsCmp",{bindings:{multicurrency:"="},templateUrl:"views/deposit/views/deposit-methods/deposit-methods-terms-cmp/deposit-methods-terms-cmp.html",controller:a})}(),function(){function a(a,b,c,d,e,f,g,h,i,b,e,j,k,l){function m(){console.log("Mifid TYP Email Survey InitForm"),o()}var n=this;n.UserId=void 0!=d.search().userid?d.search().userid:null,n.DateJoined=void 0!=d.search().dateJoined?d.search().dateJoined:null,n.Email=void 0!=d.search().email?d.search().email:null,n.CountryCode=void 0!=d.search().country?d.search().country:null,
n.TagId=void 0!=d.search().tagId?d.search().tagId:null,n.LanguageCode=void 0!=d.search().lang?d.search().lang:null,n.Complaint=void 0!=d.search().complaint?d.search().complaint:null;var o=function(){data={UserId:n.UserId,Email:n.Email,DateJoined:n.DateJoined,TagId:n.TagId,LanguageCode:n.LanguageCode,CountryCode:n.CountryCode,Complaint:n.Complaint},data=JSON.stringify(data),i.SaveEmailSurvey(data).then(function(b){console.log("Email Survey save information: ",b.data),b.data>-1?a.messageToShow="email_survey_typ_msg":a.messageToShow="ud_somthingWentWrong"})};m()}angular.module("app").controller("FtdMifidEmailSurveyCtrl",["$scope","AccountService","$stateParams","$location","$sessionStorage","ngDialog","$state","$rootScope","DepositService","AccountService","$sessionStorage","AuthService","$filter","CommonService",a])}();var quickPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","CommonService","DepositService","japanConstants",function(a,b,c,d,e,f,g){var h=this;h.isAtrade=e.getIsATrade(),h.isAvaJapan=e.getIsAvaJapan(),h.formData={Name:""};var i=function(){for(var a=f.getSelectedAccount(),b=a.TPAccountID+(new Date).toTimeString().replace(/.*(\d{2}:\d{2}).*/,"$1").replace(/:/,""),c=b.length;17>c;c++)b=b.replace(/^/,"0");return b},j=function(){if(h.formData.Name.length>0){var a=i();sessionStorage.setItem("QuickDepositInvoiceNumber",a);var b=new Date,c=d.userProfile,e=document.querySelector("#quickPayForm");e.action="https://"+(/localhost1/.test(window.location.hostname)?"testbank":"bankpay")+".veritrans.co.jp/?a=list",e.acceptCharset="Shift_JIS EUC-JP",document.charset="Shift_JIS";var f={TORIHIKI_NO:a,NAME1:h.formData.Name,KANA1:h.formData.Name,MSUM_01:h.amount,TOTAL:h.amount,SEIYAKUDATE:b.toJSON().replace(/.*(\d{4}-\d{2}-\d{2}).*/,"$1").replace(/-/g,""),PAYDATE:new Date((new Date).setDate(b.getDate()+1)).toJSON().replace(/.*(\d{4}-\d{2}-\d{2}).*/,"$1").replace(/-/g,""),ADD1:c.Provience||"",TEL:c.PhoneNumber.replace(/^\d+\-/,"")||"8035225002"};f=Object.assign({},g.quickDepositForm,f),Object.keys(f).map(function(a){var b=document.createElement("INPUT");b.type="hidden",b.name=a,b.value=f[a],e.appendChild(b)}),e.submit()}};h.submitDepositForm=function(){f.getAmountValidation()&&j()},console.log("quickPaymentMethodCmp")}];angular.module("app").component("quickPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",pointerTooltip:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",isMobile:"=",isApprovedJp:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/quick/quick-payment-method/quick-payment-method.html",controller:quickPaymentMethodCmp});var visaPaymentMethodCmp=["$scope","$element","$attrs","RegisterService","DepositService","AccountService","$sessionStorage","$localStorage","$state","$rootScope","AuthObject","AuthService","$filter","$timeout","MyAvaConsts","DEPOSIT_STATUS","ngDialog","eRequestAdditionalProperties","CommonService","SUCCESS_DEPOSIT_STATUS",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){function u(){e.depositShowLoading(!1),console.log("DepositCtrl visa-paymant-method InitForm"),y(),v.onNewClick=y}var v=this;a.depositStatus={},v.existingCC=null,v.showExistingCC=!1,v.showNewCC=!1,v.isATrade=s.getIsATrade();v.submitDepositForm=function(){e.getAmountValidation()&&(v.currAccount=e.getSelectedAccount(),v.currAccount&&(e.depositShowLoading(!0),e.setKeepSelectedAccount(!0),x(),e.submitDepositForm(v.formData).then(function(a){e.submitDepositFormSuccess(a.data,z,A)},function(a){console.log("deposit error",a),z(v.depositResponce)})))};var w=function(){var a=function(a){return a?a.toString():""};if(v.formData.selectedCard){v.formData.AdditionalProperties=[];var b=0;v.formData.AdditionalProperties[b++]={Key:r.CardStatus,Value:"1"},v.formData.AdditionalProperties[b++]={Key:r.CcCardId,Value:v.formData.selectedCard.Id},v.formData.AdditionalProperties[b++]={Key:r.CcCardNumber,Value:v.formData.selectedCard.CardNumber},v.formData.AdditionalProperties[b++]={Key:r.CcExpirationMonth,Value:a(v.formData.selectedCard.CardExpiration.Month)},v.formData.AdditionalProperties[b++]={Key:r.CcExpirationYear,Value:a(v.formData.selectedCard.CardExpiration.Year)},v.formData.AdditionalProperties[b++]={Key:r.CcCardType,Value:a(v.formData.selectedCard.CardType.Id)},v.formData.AdditionalProperties[b++]={Key:r.CcCvv,Value:v.formData.selectedCard.Cvv},v.formData.AdditionalProperties[b++]={Key:r.CcCardHolderName,Value:v.formData.selectedCard.CardHolderName},v.formData.AdditionalProperties[b++]={Key:r.CcCardBillingAddress,Value:v.formData.selectedCard.CardBillingAddress},v.formData.AdditionalProperties[b++]={Key:r.CcCity,Value:v.formData.selectedCard.City},v.formData.AdditionalProperties[b++]={Key:r.CcCountryId,Value:v.currAccount.CountryId},v.formData.AdditionalProperties[b++]={Key:r.CcZipPostalCode,Value:a(v.formData.selectedCard.ZipPostalCode)},v.formData.AdditionalProperties[b++]={Key:r.CcLastThreeDigits,Value:v.formData.selectedCard.Last3Digits},v.formData.AdditionalProperties[b++]={Key:r.CcLastOrderId,Value:a(v.formData.selectedCard.Order.Id)},v.formData.AdditionalProperties[b++]={Key:r.CcCurrencyCode,Value:v.formData.selectedCard.Order.CurrencyInfo.Currency},v.formData.AdditionalProperties[b++]={Key:r.CcPaymentProductId,Value:v.formData.selectedCard.Order.PaymentProductId}}else{var c=[];c[0]={Key:r.CardStatus,Value:"0"},angular.forEach(v.formData.TempAdditionalProperties,function(b,d){c.push({Key:r[d],Value:a(b)})}),v.formData.AdditionalProperties=c}},x=function(){w(),v.formData.IdentifierApplicationSource=e.GetAppSourceType(),v.formData.CrmAccountId=v.currAccount.AccountId,v.formData.TpRealAccountId=v.currAccount.TPAccountID,v.formData.LanguageCode=g.lang||"en",v.baseAmountData?(v.formData.SelectedCurrency=v.localCurrency.Currency,v.formData.DepositAmount=v.baseCurrencyAmount,v.formData.DepositAmountForSelectedCurrency=v.amount,v.formData.ExchangeRate=v.baseAmountData.ExchangeRate):v.formData.DepositAmount=v.amount,console.log("ctrl.formData: ",v.formData)},y=function(){v.userProfile=f.getLocalUserProfile(),v.userProfile&&(v.currAccount=e.getSelectedAccount(),v.currAccount&&(v.formData={Token:l.getToken(),PaymentMethodProvider:v.activeMethodId,DepositAmount:v.amount,Currency:v.currencyBaseId,CurrencyName:v.currencyBaseName,Email:v.userProfile.Email,CountryID:v.userProfile.CountryID,SessionId:v.userProfile.SessionId,AdditionalProperties:{SessionId:v.userProfile.SessionId,CcCountryId:v.currAccount.CountryId}},v.formData.TempAdditionalProperties={CcCountryId:v.currAccount.CountryId}))},z=function(a){if(a)switch(a.StatusCode){case t.DepositFraud:A();break;default:B(a)}},A=function(){i.go("deposit-typ")},B=function(b){e.depositShowLoading(!1),b.StatusCode in p?(a.statusTitle=p[b.StatusCode.toString()].title,a.statusText=p[b.StatusCode.toString()].text):(a.statusTitle=p[12].title,a.statusText=p[12].text),a.showContactInfo=v.showContactInfo(b),q.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};u(),v.showContactInfo=function(a){return showContactInfoStatuses=[35],showContactInfoStatuses.indexOf(a.StatusCode)>-1},v.userProfile=f.getLocalUserProfile(),v.userProfile&&(v.Fingerprint_One_Pixel_Image='<p style="background:url(https://h.online-metrix.net/fp/clear.png?or_gid=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'&amp;m=1)"></p><img src="https://h.online-metrix.net/fp/clear.png?org_id=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'&amp;m-2" style="visibility: hidden;" alt="">',v.Fingerprint_Flash='<object type="application/x-shockwave-flash" data="https://h.onlinemetrix.net/fp/fp.swf?org_id=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'" width="1" height="1" id="thm_fp"><param name="movie" value="https://h.online-metrix.net/fp/fp.swf?org_id=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'" /><div></div></object>',v.Fingerprint_JavaScript='<script type="text/javascript" src="https://h.online-metrix.net/fp/tags.js?org_id=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'" ></script><noscript> <iframe style="width: 100px; height: 100px; border: 0;position: absolute; top: -5000px;" src="https://h.online-metrix.net/fp/tags?org_id=k8vif92e&amp;session_id=avafin'+v.userProfile.SessionId+'" ></iframe></noscript>')}];angular.module("app").component("visaPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",localCurrency:"=",amount:"=",pointerTooltip:"=",baseCurrencyAmount:"=",baseAmountData:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/visa/visa-payment-method/visa-payment-method.html",controller:visaPaymentMethodCmp});var visaExistingCardCmp=["$scope","DepositService","AccountService","CommonService","ngDialog","$filter","$rootScope","MyAvaConsts",function(a,b,c,d,e,f,g,h){var i=this;i.isMobile=d.isMobile(),i.selectExistingCC=function(a){i.showNewCc=!1,i.formData.selectedCard=i.existingCC[a],i.selectedIndex=a},i.removeExistingCC=function(d){d&&(i.currAccount||(i.currAccount=b.getSelectedAccount()),i.currAccount&&(a.removeText="deposit_sureToHideExistingCC",e.open({template:"views/upload_document/popUps/please-note.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(g.$broadcast("removeCreditCard"),b.removeExistingCreditCard(d.Id,!0).then(function(a){console.log("remove cc success",a),c.refreshUserProfile()},function(a){console.log("remove cc error",a)}))}})))},i.showNewCCForm=function(){i.showNewCc=!0,i.onNewClick(),i.formData.selectedCard=void 0};var j=function(){i.currAccount=b.getSelectedAccount(),i.currAccount&&i.activeMethodId!=h.PaymentMethodsDict.Tranzila&&(i.existingCC=angular.copy(i.currAccount.CreditCards),i.existingCC&&i.existingCC.length>0&&(i.existingCC=f("filter")(i.existingCC,{ShowCreditCard:!0,Gateway:"ingenico"})),(!i.existingCC||i.existingCC.length<=0)&&(i.formData.selectedCard=void 0)),i.showExistingCc=i.existingCC&&i.existingCC.length>0,i.showNewCc=!i.showExistingCc},k=function(){i.isATrade=d.getIsATrade(),j(),i.existingCC&&i.existingCC.length>0&&i.selectExistingCC(0)};i.visaControl.updateInnerParams=function(){i.currAccount=void 0},a.$on("currentAccountChanged",j),a.$on("userProfileUpdated",function(){b.refreshSelectedAccount(),i.currAccount=void 0,j()}),a.$on("selectedAccountChanged",function(a,b){k()}),k()}];angular.module("app").component("visaExistingCardCmp",{bindings:{activeMethodId:"=",existingCcList:"=",showExistingCc:"=",showNewCc:"=",formData:"=",visaControl:"=",onNewClick:"&",submitDepositForm:"&"},templateUrl:"/app/myava/views/deposit/views/deposit-methods/visa/visa-existing-card/visa-existing-card-cmp.html",controller:visaExistingCardCmp});var visaPaymentFormCmp=["$scope","$element","$attrs","DepositService","AccountService","$sessionStorage","$localStorage","$state","$rootScope","AuthObject","AuthService","$filter","$timeout","MyAvaConsts","ngDialog","CommonService","$stateParams",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){console.log("DepositCtrl visa-payment-form InitForm"),s.formData&&(w(),v(),u())}var s=this;s.isAtrade=p.getIsATrade();var t=i.mobileConfig?i.mobileConfig.isMobile:/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);s.ccWidget=!t,s.ccTypeLength={min:13,max:19},s.formData.TempAdditionalProperties.CcCardHolderName=f.userProfile&&f.userProfile.FirstName+" "+f.userProfile.LastName,s.ccOptions={data:{name:"",number:"",expiry:"",cvc:""},cardPlaceholders:{name:"",number:"xxxx xxxx xxxx xxxx",expiry:"MM / YY",cvc:"xxx"}},a.$watch(function(){return s.ccOptions.data},function(a,b){var c=document.querySelector(".jp-card.jp-card-identified");if(a){if(c){c=c&&c.className.replace(/jp-card|identified|flipped|safari|ie-\d+|-/g,"").trim(),c=c&&s.CCards.filter(function(a){return c==a.CardName.toLowerCase().replace(" ","")}).map(function(a,b,c){return a.CardType}),s.formData.TempAdditionalProperties.CcCardType=c&&c[0];var d=s.ccTypeData=s.CCards.filter(function(a){return a.CardType==s.formData.TempAdditionalProperties.CcCardType});d=d&&d.map(function(a){return a.length}),d=d&&d[0],d&&(s.ccTypeLength.min=d[0],s.ccTypeLength.max=d[d.length-1]),s.ccOptions.data.number=/\d+/.test(s.ccOptions.data.number)?s.ccOptions.data.number:"",s.formData.TempAdditionalProperties.CcCardNumber=parseInt(s.ccOptions.data.number.replace(/\s+/g,""))}s.formData.TempAdditionalProperties.CcExpirationMonth=parseInt(s.ccOptions.data.expiry.replace(/^(\d+)\s\//g,"$1"));var e=(new Date).getFullYear();year=s.ccOptions.data.expiry.match(/\s\d+/),year=year&&parseInt(year[0])+2e3,s.formData.TempAdditionalProperties.CcExpirationYear=year&&year>=e&&year<e+20?year:null,s.formData.TempAdditionalProperties.CcExpirationMonth=s.formData.TempAdditionalProperties.CcExpirationYear==e&&s.formData.TempAdditionalProperties.CcExpirationMonth<(new Date).getMonth()+1||s.formData.TempAdditionalProperties.CcExpirationMonth>12||0==s.formData.TempAdditionalProperties.CcExpirationMonth?null:s.formData.TempAdditionalProperties.CcExpirationMonth,s.formData.TempAdditionalProperties.CcCvv=s.ccOptions.data.cvc}},!0),s.openCvvPopup=function(){o.open({template:"views/deposit/views/deposit-methods/visa/visa-payment-form/PopUp/CCcvv.html",className:"ngdialog-theme-default",closeByDocument:!1})},s.IsATrade=p.getIsATrade(),s.fillCountryStates=function(a){if(s.StateList=[],a==n.CountryId.Canada){var b=l("filter")(s.CountriesList,{CountryId:a},!0)[0].HasStates;b&&d.GetCountryStates(a,g.lang).then(function(a){s.StateList=a.data},function(a){})}},s.getStateByCode=function(a){s.formData.TempAdditionalProperties.CcProvinceStateName="";var b=l("filter")(s.StateList,{StateCode:a});b.length>0&&(s.formData.TempAdditionalProperties.CcProvinceStateName=b[0].StateName)},s.OtherToBelgium=function(){s.CountriesList.filter(function(a){22==a.CountryId&&(a.CountryName="Belgium")})};var u=function(){d.GetCountriesList().then(function(a){if(s.CountriesList=a.data,s.OtherToBelgium(),s.CountriesList&&s.CountriesList.length>0){var b=f.userProfile.CountryID,c=s.CountriesList.filter(function(a){return a.CountryId==b});c&&c.length>0&&(s.formData.Country=s.formData.TempAdditionalProperties.CcCountryId=c[0].CountryId,s.fillCountryStates(c[0].CountryId))}})},v=function(){for(var a=[],b=1;12>=b;b++)a.push(b);var c=(new Date).getFullYear(),d=[];d.push(c);for(var b=1;20>b;b++)d.push(c+b);s.months=a,s.years=d},w=function(){s.isAtrade?s.CCards=n.CCardsAtrade:s.CCards=n.CCards};s.isLeftOrRightPopOver=function(){"ltr"==i.direction?s.isLeftOrRight="right":s.isLeftOrRight="left"},i.$on("langDirectionUpdated",function(a,b){s.isLeftOrRightPopOver()}),s.isLeftOrRightPopOver(),r()}];angular.module("app").component("visaPaymentFormCmp",{bindings:{showNewCc:"=",formData:"=",submitDepositForm:"&",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/visa/visa-payment-form/visa-payment-form.html",controller:visaPaymentFormCmp}),angular.module("app").directive("myavaPlaceholder",[function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){var e=function(b){!b&&a.$eval(c.isMobile)?c.placeholder=c.dataLabel:c.placeholder=c.dataLabel};a.$watch(function(){return d.$modelValue},function(a){e(a)})}}}]);var webMoneyPaymentMethodCmp=["$scope","$timeout","$filter","CommonService",function(a,b,c,d){var e=this;e.IsATrade=d.getIsATrade(),e.isAtrade=d.getIsATrade(),console.log("webMoneyPaymentMethodCmp")}];angular.module("app").component("webMoneyPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",pointerTooltip:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/web-money/web-money-payment-method/web-money-payment-method.html",controller:webMoneyPaymentMethodCmp});var netellerPaymentMethodCmp=["$scope","$timeout","$filter","$localStorage","DepositService","CommonService",function(a,b,c,d,e,f){var g=this;g.isAtrade=f.getIsATrade(),g.amount=100,g.netellerLinks={neteller_link:"http://www.neteller.com/"+d.lang,neteller_button:"http://www.neteller.com/"+d.lang,neteller_account:"http://www.neteller.com/home/index.jsf",neteller_support:"https://www.neteller.com/"+d.lang+"/support"},console.log("netellerPaymentMethodCmp"),g.IsATrade=f.getIsATrade(),g.myInterval=3e3,g.active=0,g.slides=[{id:0,image:"/images/neteller_1.png",text:"neteller_1"},{id:1,image:"/images/neteller_2.png",text:"neteller_2"},{id:2,image:"/images/neteller_3.png",text:"neteller_3"}]}];angular.module("app").component("netellerPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",pointerTooltip:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/neteller/neteller-payment-method/neteller-payment-method.html",controller:netellerPaymentMethodCmp}),function(){function a(a,b,c,d,e,f,g,h){var i=this;i.BankDetails=[{bankName:"barclays",businessGroupdId:"2",logo:"barclays.png",currencyList:[{currencyName:"USD",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"203019",bankABA:null,accountNumber:"74249766",swift:"BARCGB22",iban:"GB39 BARC 2030 1974 2497 66",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null},{currencyName:"EUR",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"203019",bankABA:null,accountNumber:"77886111",swift:"BARCGB22",iban:"GB87 BARC 2030 1977 8861 11",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null},{currencyName:"GBP",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"208014",bankABA:null,accountNumber:"03389197",swift:"BARCGB22",iban:"GB08 BARC 2080 1403 3891 97",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null},{currencyName:"JPY",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"203019",bankABA:null,accountNumber:"42795244",swift:"BARCGB22",iban:"GB79 BARC 2030 1942 7952 44",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null},{currencyName:"AUD",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"203019",bankABA:null,accountNumber:"59340677",swift:"BARCGB22",iban:"GB98 BARC 2030 1959 3406 77",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null},{currencyName:"ZAR",bankName:"Barclays Bank",beneficiary:"AvaTrade Ltd.",bankCode:"203019",bankABA:null,accountNumber:"52067977",swift:"BARCGB22",iban:"GB78 BARC 2030 1952 0679 77",bankBranchAddress:"1 Churchill Place, London, E14 5HP",beneficiaryAddress:null}]},{bankName:"ocbc",businessGroupdId:"2",logo:"ocbc.png",currencyList:[{currencyName:"USD",bankName:"Oversea-Chinese Banking Corporation Limited",beneficiary:"Ava Trade EU Limited T/A Ava FX (Client Asset Account)",bankCode:"7339",bankABA:null,accountNumber:"503176661301",swift:"OCBCSGSG",iban:null,bankBranchAddress:"North Branch, 65 Chulia Street #01-01 Singapore 049513",beneficiaryAddress:null}]}],i.getBankDetails=function(b,c,d){return a.get(window.webApidomain+"api/BankDetails/GetBankDetails_NewCrm?CountryID="+b+"&WhiteLabel="+c+"&BGId="+d)},i.GetIngenicoBankDetails=function(b){var c=window.webApidomain+"api/Deposit/GetIngenicoBankDetails_NewCrm";return a({method:"POST",url:c,data:b,cache:!1})},i.SaveGCBankTransferReferenceId=function(b){var c=window.webApidomain+"api/Deposit/SaveIngenicoBankTransferRequest_NewCrm";return a({method:"POST",url:c,data:b,cache:!1})},i.writeCrmNote=function(){var b="Open wire transfer page. Appsource: "+h.GetAppSourceType();a.get(window.webApidomain+"api/Log/WriteNoteToCrm?note="+b)}}angular.module("app").service("WireTransferService",["$http","$localStorage","$sessionStorage","$browser","$rootScope","$filter","AccountService","DepositService",a])}();var wireTransferPaymentMethodCmp=["$scope","WireTransferService","$filter","$sessionStorage","$localStorage","AccountService","CommonService","DepositService","$rootScope","$state","MyAvaConsts",function(a,b,c,d,e,f,g,h,i,j,k){function l(){if(!n.ingenicoLimits)return null;var a=h.getSelectedAccount(),b={AccountCurrency:"EUR",CountryId:a.CountryId,Amount:5e4,PaymentProvider:k.PaymentMethodsDict.CreditCard,LocalCurrency:{CountryId:a.CountryId,Currency:{Name:["USD","EUR","GBP","AUD"],IsAccountCurrency:!0},Markup:0}};p(b)}function m(){if(!n.ingenicoLimits)return null;for(var a=0;a<n.ingenicoLimits.length;a++)if(n.ingenicoLimits[a].Currency.trim()==d.selectedAccount.CurrencyBaseName)return{Min:n.ingenicoLimits[a].Min,Max:n.ingenicoLimits[a].Max,ChangeAmount:n.amountChanged}}var n=this;n.banksIndexTab={},h.depositShowLoading(!1),n.DepositAmountRequestErrorMessage=!1,n.GeneralDepositRequestError=!1,n.selectedCurency=null,n.isAvaJapan=g.getIsAvaJapan(),n.isIngenicoMultiCurrency=!1,n.isAtrade=g.getIsATrade(),n.isCryptoX=g.getIsCrypto(),a.$on("currentBankIsChanged",function(a,b){var d="Ingenico,",e=n.banks[d],f=c("filter")(e,{CurrencyName:b.CurrencyName},!0)[0];n.banksIndexTab[d]=e.indexOf(f)});var o=function(){n.showFtdFooter=f.IsFtd()};n.IsATrade=g.getIsATrade(),n.getBankDetails=function(){b.getBankDetails(d.userProfile.CountryID,d.whiteLabelData.Name,d.userProfile.BusinessGroupId).then(function(b){var d=c("unique")(b.data.BankDetails);n.isAvaJapan&&(d=d.map(function(a){return a.AccountType="",a})),n.banks=c("groupBy")(d,"[BankName, BankCode]"),n.ingenicoLimits=b.data.ingenicoLimitses,l(),r(),console.log(n.banks),a.$on("selectedAccountChanged",function(b,c){n.amountChanged=!1;var d=null;n.currentBank&&n.currentBank.IsIngenico&&(E(),a.$emit("IngenicoMultiCurrencyEnableDisable",null,n.currentBank.CurrencyName),d=m()),a.$emit("IngenicoPaymentMethodMinMaxLoaded",d)})})},n.setIsAustralianAccount=function(){n.isAustralianAccount=f.isAustralianAccount()};var p=function(b){h.calculateCurrenciesByRate(b).then(function(b){b.data.ExchangeRate&&-1!=b.data.ExchangeRate[0].Value&&(self.baseAmountData=b.data,n.ingenicoLimits.map(function(a){return self.baseAmountData.BaseDepositAmount.filter(function(b){return a.Currency.trim()==b.Key}).map(function(b){a.Max=1e3*Math.floor(b.Value/1e3)}),a}),a.$emit("IngenicoPaymentMethodMinMaxLoaded",m()),console.log("calculateCurrencyRate success",b))},function(a){console.log("calculateCurrencyRate error",a)})},q=function(){var a=h.getSelectedDeposit();a&&h.setSelectedDeposit(void 0)};a.$on("removeSelectedDepositWT",function(a){q()}),n.onMainTabSelect=function(b,c){if(n.active!=c){n.active=c;var d=n.currentBank=b[0];if(d.IsIngenico?a.$emit("IngenicoMultiCurrencyEnableDisable",b,d.CurrencyName):a.$emit("IngenicoMultiCurrencyEnableDisable",null,null),d.callbackName){var e=n[d.callbackName+"TabClick"];"function"==typeof e&&e(d)}d.IsIngenico&&q()}},n.checkTabVisibility=function(a){return a.length>0};var r=function(){for(var a in n.banks)if(n.banks.hasOwnProperty(a))for(var b=0;b<n.banks[a].length;b++)n.banks[a][b].IsIngenico=a.indexOf("Ingenico")>-1,n.banks[a][b].IsIngenico?n.banks[a][b].callbackName=n.banks[a][b].BankName.split(" ")[0]:n.banks[a][b].callbackName="Default"},s=function(){n.IngenicoDataObj&&n.IngenicoDataObj.Amount&&n.IngenicoDataObj.Amount==n.amount?(n.IngenicoDataObj.AccountId&&n.IngenicoDataObj.AccountId==d.selectedAccount.AccountId?n.AccountId=n.IngenicoDataObj.AccountId:n.AccountId=d.selectedAccount.AccountId,n.IngenicoDataObj.Currency?n.SelectedCurrency=n.IngenicoDataObj.Currency:d.selectedAccount.CurrencyBaseName?n.SelectedCurrency=d.selectedAccount.CurrencyBaseName:n.SelectedCurrency="USD",n.IngenicoDataObj.Amount?n.SelectedDepositAmount=n.IngenicoDataObj.Amount:n.SelectedDepositAmount=0,n.IngenicoDataObj.ReferenceID&&n.IngenicoDataObj.BankDetails?(n.ReferenceNumber=n.IngenicoDataObj.ReferenceID,n.BankDetails=n.IngenicoDataObj.BankDetails,n.ShowReferenceId=!0,C()):(n.ReferenceNumber=null,n.ShowReferenceId=!1,n.BankDetails=null)):(n.ShowReferenceId=!1,n.SelectedCurrency="USD",n.SelectedDepositAmount=0,n.ReferenceNumber=null,n.AccountId=d.selectedAccount.AccountId,n.BankDetails=null)};n.IngenicoTabClick=function(b){s(),n.amountChanged=!1,a.$emit("IngenicoPaymentMethodMinMaxLoaded",m())},n.DefaultTabClick=function(){E(),a.$emit("IngenicoPaymentMethodMinMaxLoaded",null)};var t=function(){C(),s(),n.getBankDetails(),o(),n.setIsAustralianAccount(),b.writeCrmNote()},u=function(a){var b=a.CurrencyName==n.currencyBaseName?n.exchangeRate:1/n.exchangeRate,c=a.CurrencyName==n.currencyBaseName?n.amount:Math.round(n.baseCurrencyAmount),f=d.selectedAccount.AccountId,g=a.CurrencyName,h=v(f),i=d.selectedAccount.CurrencyBaseName,j=e.token,k=d.userProfile.CountryID,l=d.userProfile.BusinessGroupId;return D(a.CurrencyName,f,c,h)?{Currency:g,Amount:c,AccountId:f,Tp:h,Token:j,Country:k,BusinessGroupId:l,CurrencyBaseName:i,ExchangeRate:b}:null},v=function(a){var b=f.getLocalUserProfile();if(a&&b&&b.Accounts&&b.Accounts.length>0)for(var c=0;c<b.Accounts.length;c++)if(b.Accounts[c].AccountId==a)return b.Accounts[c].TPAccountID;return null},w=function(a){h.depositShowLoading(a)},x=function(c,d,e,f){if(!n.minMaxIsValid)return void(n.amountIsValidError=""==n.amount);n.amountIsValidError=!1;var g=u(c);if(!g||null==g||void 0==g)return void y();w(!0),n.SelectedDepositAmount=g.Amount,n.SelectedCurrency=g.Currency,n.AccountId=g.AccountId;JSON.stringify(g);b.GetIngenicoBankDetails(g).success(function(b){if(b&&c&&b.ReferenceNumber){n.ShowReferenceId=!0,n.ReferenceNumber=b.ReferenceNumber,n.DepositAmountRequestErrorMessage=n.GeneralDepositRequestError=!1,z(c,b),A(g.AccountId,g.Currency,g.Amount,b.ReferenceNumber,c),n.showAndSaveReferenceId(),C(),w(!1);v(f);n.amountChanged=!0,a.$emit("IngenicoPaymentMethodMinMaxLoaded",m())}else y("ReferenceNumber is null or empty.")}).error(function(a){w(!1);var b="";a&&a.ErrorMsg?(b=a.ErrorMsg,n.ShowReferenceId=!1,n.ReferenceNumber=null,C(),n.DepositAmountRequestErrorMessage=!0):(n.ShowReferenceId=!1,n.ReferenceNumber=null,C(),y(),n.GeneralDepositRequestError=!0)})};n.numberWithCommas=function(a){return a.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")};var y=function(a){g.openOopsPopUp(!0)},z=function(a,b){a.IsInjenico=1;var c=f.getLocalUserProfile();b.BankName&&(a.BankName=b.BankName),b.Beneficiary&&(a.Beneficiary=b.Beneficiary),b.BankCode&&(a.BankCode=b.BankCode),b.AccountNumber&&(a.AccountNumber=b.AccountNumber),b.Swift&&(a.SWIFT=b.Swift),b.Iban&&(a.IBAN=b.Iban),b.BankBranchAdderss&&(a.BankBranchAddress=b.BankBranchAdderss),b.ReferenceNumber&&(n.ReferenceNumber=b.ReferenceNumber),b.BeneficiaryAddress&&(n.BeneficiaryAddress=b.BeneficiaryAddress),b.BankABA&&(n.BankABA=b.BankABA);var d=h.getSelectedAccount();c&&d&&(c.UserDisplayName&&(a.UserName=c.UserDisplayName),d&&d.AccountId&&(a.AccountName=v(d.AccountId)+" "+a.CurrencyName))},A=function(a,b,c,d,e){n.IngenicoDataObj={AccountId:a,Currency:b,Amount:c,ReferenceID:d,BankDetails:e}};n.showAndSaveReferenceId=function(){n.DepositAmountRequestErrorMessage?a.$emit("IngenicoAmountRangeError"):(B(),d.userProfile&&n.IngenicoDataObj&&F().error(function(){console.log("Failed to save Reference id in Data Base.")}))};var B=function(){n.ShowReferenceId=!0},C=function(){n.wt_buttonText="wt_receiveRefID"},D=function(a,b,c,d){return c&&a&&b&&d&&c>0};n.GetReferenceId=function(a){var b=n.currentBank;b&&b.CurrencyName&&x(b)};var E=function(){n.ShowReferenceId=!1,n.DepositAmountRequestErrorMessage=!1,n.ReferenceNumber=void 0,n.amountIsValidError=!1,n.IngenicoDataObj={}};a.$on("amountChanged",function(a,b){n.currentBank&&n.currentBank.IsIngenico&&E(),n.amount||!n.wiredTransferPaymentMetod||!n.wiredTransferPaymentMetod.MinDeposit||n.currentBank&&n.currentBank.IsIngenico||(n.amount=n.wiredTransferPaymentMetod.MinDeposit)});var F=function(){var a=f.getLocalUserProfile(),c={Tp:v(n.IngenicoDataObj.AccountId),Currency:n.IngenicoDataObj.Currency,ReferenceId:n.IngenicoDataObj.ReferenceID,Amount:n.IngenicoDataObj.Amount,AccountId:n.IngenicoDataObj.AccountId,BankDetails:n.IngenicoDataObj.BankDetails,FirstName:a.FirstName,LastName:a.LastName,UserEmail:a.Email,LanguageId:a.LanguageId,BaseCurrency:d.selectedAccount.CurrencyBaseName,ExchangeRate:n.IngenicoDataObj.Currency.Name==n.currencyBaseName?n.exchangeRate:1/n.exchangeRate},e=JSON.stringify(c);return b.SaveGCBankTransferReferenceId(e)};n.Print=function(){window.print()},n.beforeRedirect=function(){void 0!=d.NoInternalRouting&&""!==d.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):j.go("upload_document")},t()}];angular.module("app").component("wireTransferPaymentMethodCmp",{bindings:{amount:"=",pointerTooltip:"=",baseCurrencyAmount:"=",exchangeRate:"=",currencyBaseName:"=",currencyBaseId:"=",localCurrency:"=",wiredTransferPaymentMetod:"=",minMaxIsValid:"=",isMobile:"=",currentBank:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/wire-transfer/wire-transfer-payment-method/wire-transfer-payment-method.html",controller:wireTransferPaymentMethodCmp});var paypalPaymentMethodCmp=["$scope","$rootScope","$timeout","$filter","$sessionStorage","MyAvaConsts","DepositService","AccountService","CommonService","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m){var n=this;n.isAtrade=i.getIsATrade();var o=function(a){var b=g.getRedirectUrl(a);console.log("PayPal reirect url",b),document.location.href=b},p=function(b){g.depositShowLoading(!1),k[b.StatusCode]?(a.statusTitle=k[b.StatusCode].title,a.statusText=k[b.StatusCode].text):(a.statusTitle=k[12].title,a.statusText=k[12].text),l.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};n.IsATrade=i.getIsATrade(),n.submitDepositForm=function(){g.getAmountValidation()&&(n.currAccount=g.getSelectedAccount(),n.currAccount&&(g.depositShowLoading(!0),r(),g.setKeepSelectedAccount(!0),g.submitDepositForm(n.depositObj).then(function(a){console.log("PayPal deposit success"),g.submitDepositFormSuccess(a.data,p,o)},function(a){p(a.data)})))};var q=function(){n.depositObj.AdditionalProperties=[];var a=i.getBaseUrl();e.AppType===f.AppType.AvaTradeGo&&null!=n.currAccount?(n.depositObj.AdditionalProperties.push({Key:j.SuccessUrl,Value:a+"deposit?pm=3&AppName="+(e.WhiteLabelName.toLowerCase()==f.WhiteLabel.Atrade?f.AppType.AtradeGo:e.AppType)+"&AccountId="+n.currAccount.TPAccountID}),n.depositObj.AdditionalProperties.push({Key:j.CancelUrl,Value:a+"deposit?pm=3&AppName="+(e.WhiteLabelName.toLowerCase()==f.WhiteLabel.Atrade?f.AppType.AtradeGo:e.AppType)+"&AccountId="+n.currAccount.TPAccountID})):(n.depositObj.AdditionalProperties.push({Key:j.SuccessUrl,Value:a+"deposit?pm=3"}),n.depositObj.AdditionalProperties.push({Key:j.CancelUrl,Value:a+"deposit?pm=3"}),n.depositObj.AdditionalProperties.push({Key:j.CcCountryId,Value:a+"deposit?pm=3"}))},r=function(){n.depositObj.CrmAccountId=n.currAccount.AccountId,n.depositObj.TpRealAccountId=n.currAccount.TPAccountID,n.depositObj.DepositAmount=n.amount,q()},s=function(){n.userProfile=h.getLocalUserProfile(),n.userProfile&&(n.depositObj={Token:m.getToken(),PaymentMethodProvider:f.PaymentMethodsDict.PayPal,DepositAmount:n.amount,Currency:n.currencyBaseId,LanguageCode:e.lang||"en",Email:n.userProfile.Email,CountryID:n.userProfile.CountryID,AdditionalProperties:[{Key:j.SessionId,Value:n.userProfile.SessionId}]})};s()}];angular.module("app").component("paypalPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",pointerTooltip:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",deposit3rdPartyStatus:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/paypal/paypal-cmp.html",controller:paypalPaymentMethodCmp});var skrillPaymentMethodCmp=["$scope","$rootScope","$timeout","$filter","$sessionStorage","MyAvaConsts","DepositService","AccountService","CommonService","eRequestAdditionalProperties","eResponseAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){
var o=this;o.isAtrade=i.getIsATrade(),o.submitDepositForm=function(){g.getAmountValidation()&&(o.currAccount=g.getSelectedAccount(),o.currAccount&&(p(),g.submitDepositForm(o.depositObj).then(function(a){g.submitDepositFormSuccess(a.data,r,s)},function(a){g.depositShowLoading(!1),console.log("error skrill deoposit",a),r(response.data)})))},o.IsATrade=i.getIsATrade();var p=function(){o.depositObj.CrmAccountId=o.currAccount.AccountId,o.depositObj.TpRealAccountId=o.currAccount.TPAccountID,o.depositObj.DepositAmount=o.amount,q()},q=function(){o.depositObj.AdditionalProperties=[],o.depositObj.AdditionalProperties.push({Key:j.SessionId,Value:o.userProfile.SessionId}),o.depositObj.AdditionalProperties.push({Key:j.SuccessUrl,Value:i.getBaseUrl()+"deposit?pm="+f.PaymentMethodsDict.MoneyBookers}),o.depositObj.AdditionalProperties.push({Key:j.CancelUrl,Value:i.getBaseUrl()+"deposit?pm="+f.PaymentMethodsDict.MoneyBookers})},r=function(b){g.depositShowLoading(!1),a.statusError=l[b.StatusCode].text,m.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(a){var b=g.getRedirectUrl(a);if(console.log("skrill reirect url:",b),b)g.depositShowLoading(!1),document.location.href=b;else{var c={StatusCode:"1"};r(c)}},t=function(){o.userProfile=h.getLocalUserProfile(),o.userProfile&&(o.depositObj={Token:n.getToken(),PaymentMethodProvider:f.PaymentMethodsDict.MoneyBookers,DepositAmount:o.amount,Currency:o.currencyBaseId,LanguageCode:e.lang||"en",Email:o.userProfile.Email,CountryID:o.userProfile.CountryID})};t()}];angular.module("app").component("skrillPaymentMethodCmp",{bindings:{activeMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",pointerTooltip:"=",visaControl:"=",maxDeposit:"=",minDeposit:"=",deposit3rdPartyStatus:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/skrill/skrill-cmp.html",controller:skrillPaymentMethodCmp});var dinpayPaymentMethodCmp=["$browser","$scope","$rootScope","$timeout","$filter","$sessionStorage","MyAvaConsts","DepositService","AccountService","CommonService","eRequestAdditionalProperties","eResponseAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){var p=this;p.IsATrade=j.getIsATrade(),p.isAtrade=j.getIsATrade(),p.submitted=!1,p.mobileConfig=c.mobileConfig;var q=function(){var a=h.getSelectedAccount();if(a){var b=["accountid="+a.AccountId,"amount="+p.amount];p.iframeUrl=window.location.origin+"/DinPay/DinPayIFrameRequest.aspx?"+b.join("&")}};p.submit=function(){h.getAmountValidation()&&(q(),p.submitted=!0)},p.submitDepositForm=function(){h.getAmountValidation()&&(p.currAccount=h.getSelectedAccount(),p.currAccount&&(h.depositShowLoading(!0),r(),h.submitDepositForm(p.depositObj).then(function(a){h.submitDepositFormSuccess(a.data,u,t)},function(a){h.depositShowLoading(!1),console.log("error dinpay deoposit",a),u(response.data)})))};var r=function(){p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,s()},s=function(){p.depositObj.AdditionalProperties=[],p.depositObj.AdditionalProperties.push({Key:k.SessionId,Value:p.userProfile.SessionId}),p.depositObj.AdditionalProperties.push({Key:k.SuccessUrl,Value:j.getBaseUrl()+"deposit?pm="+g.PaymentMethodsDict.ChinaUnionPay}),p.depositObj.AdditionalProperties.push({Key:k.CancelUrl,Value:j.getBaseUrl()+"deposit?pm="+g.PaymentMethodsDict.ChinaUnionPay})},t=function(a){var b=h.getRedirectUrl(a);console.log("dinpay reirect url",b),j.OpenInNewWindow(b),h.depositShowLoading(!1)},u=function(a){h.depositShowLoading(!1),b.statusError=m[a.StatusCode].text,n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:b,closeByDocument:!1})},v=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:o.getToken(),PaymentMethodProvider:g.PaymentMethodsDict.ChinaUnionPay,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:f.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID})};v()}];angular.module("app").component("dinpayPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/dinpay/dinpay-cmp.html",controller:dinpayPaymentMethodCmp});var zotapayPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("Zotapay reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),t(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("Zotapay deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=p.depositObj.AdditionalProperties||[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID})):(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId})),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},t=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,p.depositObj.CurrencyName=p.currencyBaseName,s()},u=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};u()}];angular.module("app").component("zotapayPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/zotapay/zotapay-cmp.html",controller:zotapayPaymentMethodCmp});var nova2payPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.retryIndex=0,p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("RPN reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),28==b.StatusCode&&p.retryIndex<3&&(p.retryIndex++,p.submit()),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),t(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("rpnpay deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID})):(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId})),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},t=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,p.depositObj.CurrencyName=p.currencyBaseName,s()},u=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};u()}];angular.module("app").component("nova2payPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/nova2pay/nova2pay-cmp.html",controller:nova2payPaymentMethodCmp});var ezeebillPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("ezeebill reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),v(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("ezeebill deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=[],d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:u(!0)}):p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:u(!1)}),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:t()})},t=function(){return window.webApidomain+"api/Deposit/ezeebillCallback"},u=function(a){var b=h.getBaseUrl()+"deposit";return a&&(b+="&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID),b},v=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,p.depositObj.CurrencyName=p.currencyBaseName,s()},w=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};w()}];angular.module("app").component("ezeebillPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/ezeebill/ezeebill-cmp.html",controller:ezeebillPaymentMethodCmp});var aplusPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("aplus reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),t(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("aplus deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID})):(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId})),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},t=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,p.depositObj.CurrencyName=p.currencyBaseName,s()},u=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};u()}];angular.module("app").component("aplusPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/aplus/aplus-cmp.html",controller:aplusPaymentMethodCmp});var fastpayPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("fastpay reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),t(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("fastpay deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=p.depositObj.AdditionalProperties||[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID})):(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId})),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},t=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,p.depositObj.CurrencyName=p.currencyBaseName,s()},u=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};u()}];angular.module("app").component("fastpayPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/fastpay/fastpay-cmp.html",controller:fastpayPaymentMethodCmp});var rpnpayPaymentMethodCmp=["$scope","$sce","$timeout","$filter","$sessionStorage","$localStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,l){var q=this;q.isAtrade=j.getIsATrade(),q.retryIndex=0,q.mobileConfig=i.mobileConfig;var r=function(a){var b=g.getRedirectUrl(a);console.log("RPN reirect url",b),j.OpenInNewWindow(b),g.depositShowLoading(!1)},s=function(b){g.depositShowLoading(!1),28==b.StatusCode&&q.retryIndex<3&&(q.retryIndex++,q.submit()),o[b.StatusCode]?(a.statusTitle=o[b.StatusCode].title,a.statusText=o[b.StatusCode].text):(a.statusTitle=o[12].title,a.statusText=o[12].text),p.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};q.submit=function(){g.getAmountValidation()&&(q.currAccount=g.getSelectedAccount(),q.currAccount&&(g.depositShowLoading(!0),u(),g.setKeepSelectedAccount(!0),g.submitDepositForm(q.depositObj).then(function(a){console.log("rpnpay deposit success"),g.submitDepositFormSuccess(a.data,s,r)},function(a){s(a.data)})))};var t=function(){q.depositObj.AdditionalProperties=[];var a=j.getBaseUrl();e.AppType===m.AppType.AvaTradeGo&&null!=q.currAccount?(q.depositObj.AdditionalProperties.push({Key:n.SuccessUrl,Value:a+"deposit?pm="+q.activeMethodId+"&AppName="+(e.WhiteLabelName.toLowerCase()==m.WhiteLabel.Atrade?m.AppType.AtradeGo:e.AppType)+"&AccountId="+q.currAccount.TPAccountID}),q.depositObj.AdditionalProperties.push({Key:n.CancelUrl,Value:a+"deposit?pm="+q.activeMethodId+"&AppName="+(e.WhiteLabelName.toLowerCase()==m.WhiteLabel.Atrade?m.AppType.AtradeGo:e.AppType)+"&AccountId="+q.currAccount.TPAccountID})):(q.depositObj.AdditionalProperties.push({Key:n.SuccessUrl,Value:a+"deposit?pm="+q.activeMethodId}),q.depositObj.AdditionalProperties.push({Key:n.CancelUrl,Value:a+"deposit?pm="+q.activeMethodId})),q.depositObj.AdditionalProperties.push({Key:n.UserUrl,Value:a})},u=function(){q.depositObj.IdentifierApplicationSource=g.GetAppSourceType(),q.depositObj.CrmAccountId=q.currAccount.AccountId,q.depositObj.TpRealAccountId=q.currAccount.TPAccountID,q.depositObj.DepositAmount=q.amount,q.depositObj.Currency=q.currencyBaseId||q.currAccount.CurrencyBase,q.depositObj.CurrencyName=q.currencyBaseName,t()},v=function(){q.userProfile=k.getLocalUserProfile(),q.userProfile&&(q.depositObj={Token:l.getToken(),PaymentMethodProvider:q.activeMethodId,DepositAmount:q.amount,Currency:q.currencyBaseId,LanguageCode:e.lang||"en",Email:q.userProfile.Email,CountryID:q.userProfile.CountryID,AdditionalProperties:[{Key:n.SessionId,Value:q.userProfile.SessionId}]})};v()}];angular.module("app").component("rpnpayPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/rpnpay/rpnpay-cmp.html",controller:rpnpayPaymentMethodCmp});var paycvPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.isAtrade=h.getIsATrade(),p.mobileConfig=g.mobileConfig;var q=function(a){var b=e.getRedirectUrl(a);console.log("paycv reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},r=function(b){e.depositShowLoading(!1),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p.submit=function(){e.getAmountValidation()&&(p.currAccount=e.getSelectedAccount(),p.currAccount&&(e.depositShowLoading(!0),t(),e.setKeepSelectedAccount(!0),e.submitDepositForm(p.depositObj).then(function(a){console.log("Zotapay deposit success"),e.submitDepositFormSuccess(a.data,r,q)},function(a){r(a.data)})))};var s=function(){p.depositObj.AdditionalProperties=p.depositObj.AdditionalProperties||[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID})):(p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pmstatus=success&pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pmstatus=cancelled&pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.FailUrl,Value:a+"deposit?pmstatus=failed&pm="+p.activeMethodId})),p.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},t=function(){p.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),p.depositObj.CrmAccountId=p.currAccount.AccountId,p.depositObj.TpRealAccountId=p.currAccount.TPAccountID,p.depositObj.DepositAmount=p.amount,p.depositObj.Currency=p.currencyBaseId||p.currAccount.CurrencyBase,s()},u=function(){p.userProfile=i.getLocalUserProfile(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,DepositAmount:p.amount,Currency:p.currencyBaseId,LanguageCode:d.lang||"en",Email:p.userProfile.Email,CountryID:p.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:p.userProfile.SessionId}]})};u()}];angular.module("app").component("paycvPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/paycv/paycv-cmp.html",controller:paycvPaymentMethodCmp});var paymentAsiaPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j){var o=this;o.isAtrade=h.getIsATrade(),o.retryIndex=0,o.submitted=!1,o.mobileConfig=g.mobileConfig;var p=function(a){var b=e.getRedirectUrl(a);console.log("payment_asia reirect url",b),h.OpenInNewWindow(b),e.depositShowLoading(!1)},q=function(b){e.depositShowLoading(!1),28==b.StatusCode&&o.retryIndex<3&&(o.retryIndex++,o.submit()),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};o.submit=function(){e.getAmountValidation()&&(o.currAccount=e.getSelectedAccount(),o.currAccount&&(e.depositShowLoading(!0),s(),e.setKeepSelectedAccount(!0),e.submitDepositForm(o.depositObj).then(function(a){console.log("payment_asia deposit success"),e.submitDepositFormSuccess(a.data,q,p)},function(a){q(a.data)})))};var r=function(){o.depositObj.AdditionalProperties=[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=o.currAccount?(o.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+o.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+o.currAccount.TPAccountID+"&pmstatus=success"}),o.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+o.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+o.currAccount.TPAccountID+"&pmstatus=failed"}),o.depositObj.AdditionalProperties.push({Key:l.FailUrl,Value:a+"deposit?pm="+o.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+o.currAccount.TPAccountID+"&pmstatus=failed"})):(o.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+o.activeMethodId+"&pmstatus=success"}),o.depositObj.AdditionalProperties.push({Key:l.CancelUrl,Value:a+"deposit?pm="+o.activeMethodId+"&pmstatus=failed"}),o.depositObj.AdditionalProperties.push({Key:l.FailUrl,Value:a+"deposit?pm="+o.activeMethodId+"&pmstatus=failed"})),o.depositObj.AdditionalProperties.push({Key:l.UserUrl,Value:a})},s=function(){o.depositObj.IdentifierApplicationSource=e.GetAppSourceType(),o.depositObj.CrmAccountId=o.currAccount.AccountId,o.depositObj.TpRealAccountId=o.currAccount.TPAccountID,o.depositObj.DepositAmount=o.amount,o.depositObj.Currency=o.currencyBaseId||o.currAccount.CurrencyBase,o.depositObj.CurrencyName=o.currencyBaseName,r()},t=function(){o.userProfile=i.getLocalUserProfile(),o.userProfile&&(o.depositObj={Token:j.getToken(),PaymentMethodProvider:o.activeMethodId,DepositAmount:o.amount,Currency:o.currencyBaseId,LanguageCode:d.lang||"en",Email:o.userProfile.Email,CountryID:o.userProfile.CountryID,AdditionalProperties:[{Key:l.SessionId,Value:o.userProfile.SessionId}]})};t()}];angular.module("app").component("paymentAsiaPaymentMethodCmp",{bindings:{showSlider:"=",activeMethodId:"=",maxDeposit:"=",minDeposit:"=",amount:"=",pointerTooltip:"=",visaControl:"=",currencyBaseName:"=",currencyBaseId:"=",currencyCustomName:"=",currencyCustomId:"=",baseCurrencyAmount:"=",isSpecialCurrencySign:"=",isMobile:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/payment-asia/payment-asia-cmp.html",controller:paymentAsiaPaymentMethodCmp});var praxisPaymentMethodCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","$browser","$rootScope","CommonService","AccountService","AuthService","MyAvaConsts","eRequestAdditionalProperties","DEPOSIT_STATUS","ngDialog","AuthService","$sce",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,j,o){var p=this;p.retryIndex=0;var q=function(b){e.depositShowLoading(!1),28==b.StatusCode&&p.retryIndex<3&&(p.retryIndex++,s()),m[b.StatusCode]?(a.statusTitle=m[b.StatusCode].title,a.statusText=m[b.StatusCode].text):(a.statusTitle=m[12].title,a.statusText=m[12].text),n.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},r=function(){p.depositObj.AdditionalProperties=[];var a=h.getBaseUrl();d.AppType===k.AppType.AvaTradeGo&&null!=p.currAccount?p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId+"&AppName="+(d.WhiteLabelName.toLowerCase()==k.WhiteLabel.Atrade?k.AppType.AtradeGo:d.AppType)+"&AccountId="+p.currAccount.TPAccountID}):p.depositObj.AdditionalProperties.push({Key:l.SuccessUrl,Value:a+"deposit?pm="+p.activeMethodId}),p.depositObj.AdditionalProperties.push({Key:l.FakeDeposit,Value:!0})},s=function(){var a=h.isUserApproved(),b=h.getIsAvaJapan();p.showPraxis=!b||b&&a,p.showPraxis&&(p.userProfile=i.getLocalUserProfile(),p.currAccount=e.getSelectedAccount(),p.userProfile&&(p.depositObj={Token:j.getToken(),PaymentMethodProvider:p.activeMethodId,CrmAccountId:p.currAccount.AccountId,IdentifierApplicationSource:e.GetAppSourceType()},r(),e.depositShowLoading(!0),e.submitDepositForm(p.depositObj).then(function(a){e.depositShowLoading(!1),p.iframeUrl=o.trustAsResourceUrl(e.getRedirectUrl(a.data))},function(a){e.depositShowLoading(!1),p.showPraxis||q(a.data)})))};s(),a.$on("selectedAccountChanged",function(a,b){s()})}];angular.module("app").component("praxisPaymentMethodCmp",{bindings:{activeMethodId:"="},templateUrl:"/app/myava/views/deposit/views/deposit-methods/praxis/praxis-cmp.html",
controller:praxisPaymentMethodCmp}),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(){if(!y.selectedPaymentMetod)return!0;var a=y.selectedPaymentMetod.MinDeposit,b=y.selectedPaymentMetod.MaxDeposit,c=!0,d=!0;a&&(x.isEmpty(x.amount)||x.amount<a)&&(c=!1),b&&(x.isEmpty(x.amount)||x.amount>b)&&(d=!1);var f=e.minMaxIsValid=d&&c;return f}function w(){x.courses={Intro:{defaultCoast:250,name:"Intro"},Student:{defaultCoast:1e3,name:"Student"},Expert:{defaultCoast:5e3,name:"Expert"},Pro:{defaultCoast:1e4,name:"Pro"}},x.setRealAccountsList(),f(function(){},1e3),x.UpdateSelectedCourse("Intro"),x.initCCData()}var x=this,y=g("DepositCtrl as deposit",{$scope:e});angular.extend(this,y),x.hasReal=!0,x.isNativeMobile=t.isNativeMobile(),x.isMobile=t.isMobile(),x.amountIsValid=!0,x.lang=a.lang,x.activePaymentmethod=k.PaymentMethodsDict.Praxis;var z=function(){var a=d.search();a&&(a.LoginToken&&(p.setToken(a.LoginToken),p.setIgnoreTokenExpiration(!0)),s.GetUserProfile(p.getToken()).then(function(a){t.showLoading(!1),p.setIsLoggedIn(!0)}))};x.updateSelectedAccount=function(){h.setKeepSelectedAccount(void 0),"function"==typeof x.visaControl.updateInnerParams&&x.visaControl.updateInnerParams(),x.updateCurrency()},x.setRealAccountsList=function(){if(x.userProfile=i.getLocalUserProfile(),!x.userProfile){var a=p.getToken();x.userProfile=s.GetUserProfile(a)}x.realAccountsList=j("filter")(x.userProfile.Accounts,{IsReal:!0}),x.realAccountsList&&0!=x.realAccountsList.length?(x.hasReal=!0,x.setSelectedAccount()):x.hasReal=!1},x.setSelectedAccount=function(){x.selectedAccount=x.realAccountsList[0],h.setSelectedAccount(x.selectedAccount),x.selectedAccount.CurrencySymbol=j("isoCurrency")(null,x.selectedAccount.CurrencyBaseName,0),x.formData&&(x.formData.Currency=x.selectedAccount.CurrencyBase)},x.initCCData=function(){x.userProfile=i.getLocalUserProfile(),x.userProfile&&(x.currAccount=h.getSelectedAccount(),x.currAccount&&(x.formData={Token:p.getToken(),PaymentMethodProvider:k.PaymentMethodsDict.Praxis,DepositAmount:x.amount,Currency:x.currAccount.CurrencyBase,Email:x.userProfile.Email,CountryID:x.userProfile.CountryID,SessionId:x.userProfile.SessionId,AdditionalProperties:{SessionId:x.userProfile.SessionId,CcCountryId:x.currAccount.CountryId}},x.formData.TempAdditionalProperties={CcCountryId:x.currAccount.CountryId}))},x.UpdateSelectedCourse=function(a){x.selectedCourse=x.courses[a],x.amount=x.selectedCourse.defaultCoast,x.amountChanged()},x.updateCurrency=function(){var a=h.getSelectedAccount();x.localCurrency={CountryId:a.CountryId,Currency:{Id:a.CurrencyId,Name:a.CurrencyBaseName,IsAccountCurrency:!0}}},x.amountChanged=function(){x.amountValidation(),x.amountIsValidShow=!0},x.amountValidation=function(){x.amountIsValid=!0;var a=v();h.setAmountValidation(a),x.amountIsValid=h.getAmountValidation()},x.isEmpty=function(a){return angular.isUndefined(a)||""===a||null===a||a!==a},x.submitDepositForm=function(){h.getAmountValidation()&&(x.currAccount=h.getSelectedAccount(),x.currAccount&&(h.depositShowLoading(!0),h.setKeepSelectedAccount(!0),B(),h.submitDepositForm(x.formData).then(function(a){h.submitDepositFormSuccess(a.data,C,D)},function(a){console.log("deposit error",a),C(x.depositResponce)})))};var A=function(){var a=function(a){return a?a.toString():""},b=[];b[0]={Key:r.CardStatus,Value:"0"},angular.forEach(x.formData.TempAdditionalProperties,function(c,d){b.push({Key:r[d],Value:a(c)})}),x.formData.AdditionalProperties=b},B=function(){A(),x.formData.IdentifierApplicationSource=h.GetAppSourceType(),x.formData.CrmAccountId=x.currAccount.AccountId,x.formData.TpRealAccountId=x.currAccount.TPAccountID,x.formData.LanguageCode=c.lang||"ar",x.formData.DepositAmount=x.amount,console.log("self.formData: ",x.formData)},C=function(a){if(a)switch(a.StatusCode){case u.DepositFraud:D();break;default:E(a)}},D=function(){m.open({template:"views/popUp/sharpAcademyDepositTyp.html",className:"ngdialog-theme-default",scope:e,closeByDocument:!1})},E=function(a){h.depositShowLoading(!1),a.StatusCode in n?(e.statusTitle=n[a.StatusCode.toString()].title,e.statusText=n[a.StatusCode.toString()].text):(e.statusTitle=n[12].title,e.statusText=n[12].text),m.open({template:"views/popUp/depositError.html",className:"ngdialog-theme-default",scope:e,closeByDocument:!1})};z(),w()}angular.module("app").controller("SharpAcademyCtrl",["$rootScope","$localStorage","$sessionStorage","$location","$scope","$timeout","$controller","DepositService","AccountService","$filter","MyAvaConsts","$stateParams","ngDialog","DEPOSIT_STATUS","$state","AuthService","eResponseAdditionalProperties","eRequestAdditionalProperties","UserProfileService","CommonService","SUCCESS_DEPOSIT_STATUS",d])}(window,document,"script"),function(){function a(a,b,c,d,e,f,g,h,i){var j=this;j.mobileConfig=f.mobileConfig,j.newFileUploader=function(a){return new g({url:window.webApidomain+"api/UploadFiles/UploadDocument_NewCRM",headers:{AccountId:a,token:c.token,whiteLabel:d.whiteLabelData.Name}})},j.getSectionInpus=function(){return a.get(window.webApidomain+"api/UploadFiles/GetUploadDocumentsSectionInputs_NewCRM")},j.getSectionsArray=function(){return{ProfessionalTrader:{fileUploader:null,showTYMessage:!1,isUploading:!1,enabled:!1,inputs:[{id:"TradingActivity",name:"pt_docLabelText",DocType:16,file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,display:!1},{id:"FinancialSector",name:"pt_RelevantExperience",DocType:17,file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,display:!1},{id:"PortfolioValue",name:"pt_PortfolioValueText",DocType:18,file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,display:!1}]},CustomerIdentity:{fileUploader:null,showTYMessage:!1,isUploading:!1,enabled:!1,inputs:[{id:"frontIdCard",isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"1",name:"ud_frontIdCard",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"backCard",isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"1",name:"ud_backCard",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"utilityBill",isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"3",name:"ud_utilityBill",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"UBGuidelines",allowCustomize:!0,uploadTry:!1},{id:"frontIdCardCrypto",isCryptoX:!0,isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"77",name:"ud_frontIdCard",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"backCardCrypto",isCryptoX:!0,isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"78",name:"ud_backCard",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"UtilityBill_Crypto-X",isCryptoX:!0,isJapan:!1,isFriedbergDirect:!1,isATrade:!1,DocType:"79",name:"ud_utilityBill",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"UBGuidelines",allowCustomize:!0,uploadTry:!1},{id:"myNumber",isJapan:!0,isFriedbergDirect:!1,isATrade:!1,DocType:"4",name:"ud_fieldMyNumber",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"JPMyNumber",allowCustomize:!0,uploadTry:!1},{id:"idPhoto",isJapan:!0,isFriedbergDirect:!1,isATrade:!1,DocType:"4",name:"ud_fieldIdPhoto",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"JPIdPhoto",allowCustomize:!0,uploadTry:!1},{id:"idNoPhoto1",isJapan:!0,isFriedbergDirect:!1,isATrade:!1,DocType:"4",name:"ud_fieldIdNoPhoto1",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"JPIdNoPhoto",allowCustomize:!0,uploadTry:!1},{id:"idNoPhoto2",isJapan:!0,isFriedbergDirect:!1,isATrade:!1,DocType:"4",name:"ud_fieldIdNoPhoto2",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,allowCustomize:!1,uploadTry:!1},{id:"primaryAlbertaDoc",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"13",name:"ud_primaryAlbertaDoc",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1,hyperlink:"https://origin.avatrades.net/legal-docs/canada/accredited-investor-alberta/en.pdf"},{id:"copyOfDischargeLetter",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"14",name:"ud_copyOfDischargeLetter",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"AddressDocument",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"19",name:"ud_AddressDocument",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"AddressGuidline",uploadTry:!1},{id:"FinancialDocument",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"20",name:"ud_FinancialDocument",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"FinancialGuidline",uploadTry:!1},{id:"W8-Ben",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"22",name:"ud_W8-Ben",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1,hyperlink:"https://origin.avatrades.net/legal-docs/canada/w8ben/en.pdf"},{id:"POA",isJapan:!1,isFriedbergDirect:!0,isATrade:!1,DocType:"15",name:"ud_POA",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null,uploadTry:!1},{id:"BankStatment",isJapan:!1,isFriedbergDirect:!1,isATrade:!0,DocType:"5",name:"ud_utilityBill",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"UBGuidelines",allowCustomize:!0,uploadTry:!1},{id:"ccDoc",isJapan:!1,isFriedbergDirect:!1,isATrade:!0,DocType:"6",name:"ud_ccDoc",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"CCGuidelines",uploadTry:!1},{id:"benefit_statement",isJapan:!1,isFriedbergDirect:!1,isATrade:!0,DocType:"7",name:"ud_benefit_statement",file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"BSGuidelines",uploadTry:!1,hyperlink:"/app/common/resources/AtradeUploadDocs/BenefitStatement.pdf"}]},WireTransferDocument:{fileUploader:null,showTYMessage:!1,isUploading:!1,enabled:!1,inputs:[{id:"transferConfirmation",name:"ud_transferConfirmation",DocType:9,file:null,infoButton:!0,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:"WTGuidelines",uploadTry:!1}]},OtherDocument:{fileUploader:null,showTYMessage:!1,isUploading:!1,enabled:!1,inputs:[{id:"uploadYourDocs",name:"ud_uploadYourDocs",DocType:4,file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null}]}}},j.getGuidelines=function(){return{JPMyNumber:{Rows:["ud_jpMyNumberCard","ud_jpMyNumberNotificationCard","ud_jpResidentCardListedInMyNumber"],id:"JPMyNumber"},JPIdPhoto:{Rows:["ud_jpDriverLicense","ud_jpPassport","ud_jpResidenceCard","ud_jppermanentResidentCertificate","ud_jpAlienRegistrationCard"],id:"JPIdPhoto"},JPIdNoPhoto:{Rows:["ud_jpHealthInsuranceCard","ud_jpSealRegistrationCertificate","ud_jpResidence","ud_jpPensionBook"],id:"JPIdNoPhoto"},IDGuidelines:{Rows:["ud_passportNationalIDDriverLic","ud_plsPresentFrontBackId","ud_idCArdDetailsNameDate"],id:"IDGuidelines"},UBGuidelines:{Rows:["ud_appDocs","ud_mustBeDatedOpeningDate","ud_residenceAddress"],id:"UBGuidelines"},UBGuidelines_ATRADE:{Rows:["ud_mustBeDatedOpeningDate","ud_residenceAddress"],subTitle:"ud_appDocs",id:"UBGuidelines_ATRADE"},CCGuidelines:{Rows:["ud_presentFrontBackCreditCard","ud_plsProvideImg","ud_imgDetails"],id:"CCGuidelines"},WTGuidelines:{Rows:["ud_transactionConfirmation","ud_accountNumber","ud_accountHolder"],id:"WTGuidelines"},BSGuidelines:{Rows:["ud_press_link_download_doc","ud_print_doc_and_sign","ud_upload_signed_doc"],id:"BSGuidelines"},BSGuidelinesMobile:{Rows:["<a href='/app/common/resources/AtradeUploadDocs/BenefitStatement.pdf' target='_blank' class='file-link font-size-inherit' >{{'ud_click_on' | translate}} {{'ud_the_link' | translate}}</a> {{'ud_for_download_the_doc' | translate}}","ud_print_doc_and_sign","ud_upload_signed_doc"],id:"BSGuidelines"},AddressGuidline:{Rows:["ud_ApplicabledocumentsCAD","ud_ApplicabledocumentsCAD2","ud_ApplicabledocumentsCAD3"],id:"AddressGuidline"},GeneralGuidline:{Rows:["ud_general_articlesOfAssociation","ud_general_boardResolution","ud_general_certificateOfIncorporation","ud_general_shareholderRegister","ud_general_authorizedTraderLPOA","ud_general_iDUBDirector","ud_general_iDUBShareholder","ud_general_iDUBAuthorized","ud_general_avaForm"],id:"GeneralGuidline"},GeneralGuidline_aus:{Rows:["ud_general_corporateResolution","ud_general_certifiedASiC","ud_general_trustResolution","ud_general_certifiedCopy","ud_general_certifiedCopyOfASIC","ud_general_certifiedCopyOfCertificate","ud_general_partnershipResolution","ud_general_certifiedCopyOfPartnership"],id:"GeneralGuidline_aus"},FinancialGuidline:{Rows:["ud_Applicabledocuments_financial_CAD","ud_ApplicabledocumentsCAD2"],id:"FinancialGuidline"}}},j.checkFilValidation=function(a){var b={supportdeType:{isValid:!1},fileSize:{isValid:!1}},c=h("lowercase")(a.name.substr(a.name.lastIndexOf(".")+1));return-1!==i.supportdeTypes.indexOf(c)&&(b.supportdeType.isValid=!0),a.size/1024/1024<=i.size.maxFileSize&&(b.fileSize.isValid=!0),b},j.getErrorMessages=function(){return{serverErrRow1:"ud_somthingWentWrong",serverErrRow2:"ud_plsTryAgain"}}}angular.module("app").service("UploadDocumentService",["$http","$q","$localStorage","$sessionStorage","$browser","$rootScope","FileUploader","$filter","FilesValidation",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=this;t.mobileConfig=b.mobileConfig,t.hasReal=!1,t.isInputsDirty=!1,t.isInputsDirtyChecked=!1,t.maxFileSize=k.size.maxFileSize,t.isATrade=o.getIsATrade(),t.isAvaJapan=o.getIsAvaJapan(),t.isCryptoX=o.getIsCrypto(),t.isFriedbergDirectAVA=o.getIsFriedbergDirectAVA(),t.errorCodes=0,t.isFrontAndBackCard=!1,t.isAustralia=d.userProfile.BusinessGroupId==r.BusinessGroups.AvaAustralia,t.isCanadaProvinceAlberta="Alberta"==d.userProfile.StateOrProvince,a.$on("upload-document-validation",function(c,d){t.isInputsDirtyChecked||(t.isInputsDirty=t.checkIfAllSectionsFilesUploaded(t.sections),t.isInputsDirty&&(c.preventDefault(),b.$broadcast("exitUploadDocs"),i.open({template:"views/upload_document/popUps/stay-on-this-page.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(angular.forEach(t.sections,function(a,b){t.clearUploadedFiles(b)}),t.isInputsDirtyChecked=!0,j.go(d.toState))}})))}),t.checkIfAllSectionsFilesUploaded=function(a){var b=!1;return angular.forEach(a,function(a,c){t.checkIfAllFilesUploaded(c)||(b=!0)}),b},t.checkIfPageIsActive=function(c,d,e,f,g){t.isInputsDirty=t.checkIfAllSectionsFilesUploaded(t.sections),t.isInputsDirty?(f&&f.preventDefault(),b.$broadcast("exitUploadDocs"),i.open({template:"views/upload_document/popUps/stay-on-this-page.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(angular.forEach(c,function(a,b){t.clearUploadedFiles(b),t.clearTryAgainErrFiles(b)}),d?(t.isInputsDirtyChecked=!0,l(function(){b.$broadcast("upload-document-status-logout",{status:!0})})):e&&j.go(e.name))}})):l(function(){d?b.$broadcast("upload-document-status-logout",{status:!0}):b.$broadcast("upload-document-status",{status:d,toState:e,event:f,fromState:g})})},a.$on("upload-document-check-status",function(a,b){t.checkIfPageIsActive(t.sections,b.isLogOut,b.toState,b.event,b.fromState)}),t.errorMessages=f.getErrorMessages(),t.sections=f.getSectionsArray();var u=new Array;if(t.sections.CustomerIdentity.inputs.forEach(function(a){if(t.isAvaJapan)a.isJapan&&u.push(a);else if(t.isCryptoX)a.isCryptoX&&u.push(a);else{if(a.isJapan||a.isFriedbergDirect||a.isATrade||a.isCryptoX||u.push(a),t.isFriedbergDirectAVA)if(a.isFriedbergDirect)switch(a.id){case"primaryAlbertaDoc":"Alberta"==d.userProfile.StateOrProvince&&u.push(a);break;case"copyOfDischargeLetter":d.userProfile.DeclaredBankruptcy10Years&&u.push(a);break;case"POA":d.userProfile.AnotherPersonAuthorizedTheAccount&&"yes"==d.userProfile.AnotherPersonAuthorizedTheAccount.toLowerCase()&&u.push(a);break;case"AddressDocument":u.push(a);break;case"FinancialDocument":u.push(a);break;case"ClientAcknowledgmentForm":u.push(a);break;case"W8-Ben":u.push(a)}else switch(a.id){case"utilityBill":u.pop(a)}t.isATrade&&("utilityBill"==a.id&&u.pop(a),a.isATrade&&u.push(a))}}),t.sections.CustomerIdentity.inputs=u,"ATRADE"===d.WhiteLabelName&&8===d.userProfile.BusinessGroupId&&(t.isATrade=!0),a.$on("userProfileUpdated",function(a,b){t.userProfile=e.getLocalUserProfile()}),t.userProfile=e.getLocalUserProfile(),t.userProfile.QuestionnaireLink=t.userProfile.QuestionnaireLink||"https://www.surveymonkey.co.uk/r/CNRDF88",t.userProfile){console.log(t.userProfile.CustomerID);var v=a.uploader=new c({url:"http://localhost:63342/api/UploadFiles/UploadDocument",headers:{CustomerID:t.userProfile.CustomerID}});v.filters.push({name:"customFilter",fn:function(a,b){return this.queue.length<10}})}t.BG=Object.keys(r.BusinessGroups).filter(function(a){return r.BusinessGroups[a]==t.userProfile.BusinessGroupId}).shift(),t.setSelectedAccount=function(){var a=s.search().TP;void 0!=a&&(t.selectedAccount=g("filter")(t.realAccountsList,{TPAccountID:a})[0],void 0!=t.selectedAccount&&null!=t.selectedAccount&&(t.singleAccountText=t.selectedAccount.TPAccountID+" "+t.selectedAccount.CurrencyBaseName+" "+t.selectedAccount.TradingPlatformName)),t.selectedAccount?t.selectedAccount=g("filter")(t.realAccountsList,{TPAccountID:t.selectedAccount.TPAccountID})[0]:(selectedAcc=n.getSelectedAccount(),selectedAcc&&selectedAcc.TPAccountID?t.selectedAccount=g("filter")(t.realAccountsList,{TPAccountID:selectedAcc.TPAccountID})[0]:t.selectedAccount=t.realAccountsList[0])},t.setRealAccountsList=function(){t.userProfile=e.getLocalUserProfile(),t.realAccountsList=g("filter")(t.userProfile.Accounts,{IsReal:!0}),d.AccountId&&d.WhiteLabelMode&&"native"==d.WhiteLabelMode.toString().toLowerCase()&&(t.realAccountsList=g("filter")(t.realAccountsList,{TPAccountID:d.AccountId})),t.realAccountsList&&0!=t.realAccountsList.length?(t.hasReal=!0,t.setSelectedAccount()):t.hasReal=!1},t.setRealAccountsList(),t.initSectionsFileUploader=function(){angular.forEach(t.sections,function(a,b){t.sections[b].fileUploader=f.newFileUploader(t.selectedAccount.AccountId),t.sections[b].fileUploader.onSuccessItem=function(a,b,c){angular.forEach(t.sections[a._file.sectionName].inputs,function(b,c){b.id==a._file.inputId&&(b.uploadSuccess=!0,b.tryAgainErr=!1,b.errMsg=!1)}),t.checkUploadStatus(a._file.sectionName)},t.sections[b].fileUploader.onErrorItem=function(a,b,c){angular.forEach(t.sections[a._file.sectionName].inputs,function(b,c){b.id==a._file.inputId&&(b.uploadTry=!0),t.checkUploadStatus(a._file.sectionName)})},t.sections[b].fileUploader.onBeforeUploadItem=function(a){console.log(a),angular.forEach(t.sections[a._file.sectionName].inputs,function(b,c){b.id==a._file.inputId&&b.DocType&&(t.sections[a._file.sectionName].fileUploader._SetHeader("DocType",b.DocType+";"+((1==b.DocType||11==b.DocType||12==b.DocType)&&t.isFrontAndBackCard)),t.sections[a._file.sectionName].fileUploader._SetHeader("IdentifierApplicationSource",n.GetAppSourceType()))})}}),console.log(t.sections)},t.hasReal&&t.initSectionsFileUploader(),t.checkUploadStatus=function(a){t.checkIfAllFilesUploadedSuccessfully(a)&&(t.sections[a].tryAgainErr=!1,t.checkIfAllFilesUploaded(a)?l(function(){t.sections[a].showTYMessage=!0},1e3):(t.sections[a].tryAgainErr=!0,t.showSuccessErrorIcons(a)),l(function(){t.sections[a].isUploading=!1,t.clearUploadedFiles(a),t.sections[a].fileUploader.clearQueue()},1e3))},t.checkForceTwoSided=function(){t.isFrontAndBackCard=!0;var a=t.sections.CustomerIdentity.inputs.filter(function(a){return/frontIdCard/i.test(a.id)}).shift(),b=t.sections.CustomerIdentity.inputs.filter(function(a){return/backCard/i.test(a.id)}).shift();void 0==t.sections.CustomerIdentity.inputs.filter(function(a){return/utilityBill/i.test(a.id)}).shift()?null:t.sections.CustomerIdentity.inputs.filter(function(a){return/utilityBill/i.test(a.id)}).shift();switch(a.DocType=t.forceTwoSidedSelctedValue.id,b.DocType=t.forceTwoSidedSelctedValue.id,t.forceTwoSidedSelctedValue.id){case 11:b.DocType="-1",delete b.file,t.isFrontAndBackCard=!1}t.sections.CustomerIdentity.enabled=t.isFrontAndBackCard&&a.file&&b.file||!t.isFrontAndBackCard&&(a.file||b.file)},t.checkUploadDisabled=function(a){for(var b=!1,c=!0,d=0;d<t.sections[a].inputs.length;d++)t.sections[a].inputs[d].file&&(b=!0),t.sections[a].inputs[d].errMsg&&(c=!1);t.sections[a].enabled=b&&c,t.isCryptoX||t.checkForceTwoSided()},t.uploadDocuments=function(a,c){b.$broadcast("formSubmission","#uploadDocumentsForm");for(var d=0;d<a.length;d++)(!a[d].errMsg||a[d].tryAgainErr)&&(!a[d].file||a[d].uploadTry&&!a[d].showErrorIcon||(a[d].file.inputId=a[d].id,a[d].file.sectionName=c,a[d].showErrorIcon=!1,a[d].tryAgainErr=!1,a[d].errMsg=!1,a[d].uploadTry=!0,t.sections[c].fileUploader.addToQueue(a[d].file)));t.sections[c].fileUploader.queue.length>0&&(t.sections[c].fileUploader.uploadAll(),t.sections[c].isUploading=!0)},t.removeFileFromQueue=function(b,c,d){a.removeText="ud_sureToRemoveDocument",i.open({template:"views/upload_document/popUps/please-note.html",scope:a,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(document.getElementById(d).value="",t.sections[c].inputs[b].file=null,t.sections[c].inputs[b].typeSizeErrMsg=null),t.checkUploadDisabled(c)}})},t.clearTryAgainErrFiles=function(a){angular.forEach(t.sections[a].inputs,function(b,c){(t.sections[a].tryAgainErr||b.errMsg)&&(b.uploadSuccess=!1,b.file=null,b.uploadTry=!1,document.getElementById(b.id).value="",t.sections[a].inputs[c].file=null,t.sections[a].inputs[c].typeSizeErrMsg=null,b.errMsg=!1)})},t.clearUploadedFiles=function(a){angular.forEach(t.sections[a].inputs,function(b,c){t.sections[a].tryAgainErr||b.errMsg||(t.checkIfAllFilesUploaded(a)&&(b.uploadSuccess=!1,b.file=null,b.uploadTry=!1),null!==document.getElementById(b.id)&&(document.getElementById(b.id).value="",t.sections[a].inputs[c].file=null,t.sections[a].inputs[c].typeSizeErrMsg=null))})},t.fileChanged=function(b){a.$apply(function(){t.checkUploadDisabled(b.sectionName)})},t.showSuccessErrorIcons=function(a){angular.forEach(t.sections[a].inputs,function(a,b){a.file&&a.uploadSuccess?a.uploadSuccess=!0:!a.file||a.uploadSuccess||a.errMsg||(a.showErrorIcon=!0,a.tryAgainErr=!0,a.errMsg=!0)})},t.checkIfAllFilesUploaded=function(a){var b=0,c=0;return angular.forEach(t.sections[a].inputs,function(a,d){a.uploadTry&&b++,a.file&&c++}),b==c?!0:!1},t.checkIfAllFilesUploadedSuccessfully=function(a){var c=0,f=0;if(angular.forEach(t.sections[a].inputs,function(a,b){a.uploadSuccess&&c++,a.uploadTry&&f++}),c==f){var g={customerId:t.selectedAccount.CustomerID,tpNumber:t.selectedAccount.TPAccountID,documentType:a,requestType:"Account confirmation"},h=e.getLocalUserProfile();return b.$broadcast("uploadDocuments",g),d.NoInternalRouting&&""!==d.NoInternalRouting&&h.hasFtd&&h.State.toLowerCase()==r.UserState.Limited&&window.parent.postMessage('{ "type": "CTA_UD", "payload": {"show":false} }',"*"),!0}return!1},t.addOtherDocumentInput=function(a){var b=t.sections[a].inputs.length;t.sections[a].inputs.push({id:"uploadYourDocs"+b,name:g("translate")("ud_uploadYourDocs"),DocType:4,file:null,infoButton:!1,infoButtonTemplate:null,isUploaded:!1,guideLinesId:null})},t.deleteOtherDocumentInput=function(a,b){t.sections[a].inputs.splice(b,1),t.checkIfAllFilesUploaded(a)&&(t.sections[a].isUploading=!1,t.sections[a].tryAgainErr=!1,t.clearUploadedFiles(a),t.sections[a].fileUploader.clearQueue())},t.updateSelectedAccount=function(a){angular.forEach(t.sections,function(a,b){t.sections[b].fileUploader.headers.AccountId=t.selectedAccount.AccountId}),w()},t.setSelectedInfoImgPopOver=function(a){t.selectedInfoImgInput=a},t.closeSelectedInfoImgInput=function(){t.selectedInfoImgInput.popoverIsOpen=!1},t.getGuidelines=function(){t.guidelines=f.getGuidelines()},t.openGuidelinePopup=function(b){a.subGuideline=b,i.open({template:"views/upload_document/popUps/guidelines.html",scope:a,className:"ngdialog-theme-default",closeByDocument:!1})},t.openDialogIframe=function(a){p.showDialogIframe(a)};var w=function(){t.showWireTransfer=g("filter")(t.BankDetails,{BankName:"Ingenico"}).length>0};t.getBankDetails=function(){m.getBankDetails(d.userProfile.CountryID,d.whiteLabelData.Name).then(function(a){a.data&&(console.log("WireTransfer bank details: ",a.data.BankDetails),t.BankDetails=a.data.BankDetails,w())})};t.forceTwoSidedArray=[{key:"upload_document_docType_nationalId",text:"National ID",id:1},{key:"upload_document_docType_passport",text:"Passport",id:11},{key:"upload_document_docType_driverLicence",text:"Drivers Licence",id:12}],t.forceTwoSidedSelcted=function(){t.checkUploadDisabled("CustomerIdentity")};var x=function(){o.setTheme(),t.showReminder=o.isPartOfChinaCountry(t.userProfile.CountryID),t.isNativeMobile=void 0!==d.AppType,t.getGuidelines(),t.getBankDetails(),null!=t.userProfile.ProfessionalTrader&&0!=t.userProfile.ProfessionalTrader.Status&&q.getProfessionalTraderAnswers().then(function(a){var b=a.data,c=b.TradingActivity!==r.ProfessionalTraderActivity.False,d=b.FinancialSectorName&&b.FinancialSectorName.length>0&&b.FinancialSectorRole.length>0&&b.FinancialSectorCompanyName.length>0,e=b.PortfolioCheck;t.ProfessionalTraderServiceData={TradingActivity:c,FinancialSector:d,PortfolioValue:e},t.showProfessionalTraderSection=Object.values(t.ProfessionalTraderServiceData).some(function(a){return 1==a}),t.sections.ProfessionalTrader.inputs.forEach(function(a){a.display=t.ProfessionalTraderServiceData[a.id]||!1})})};x(),t.updateForceTwoSidedArrayByWhiteLabel=function(a){switch(a){case"ATRADE":var b=g("filter")(t.forceTwoSidedArray,{id:3})[0],c=t.forceTwoSidedArray.indexOf(b);t.forceTwoSidedArray.splice(c,1)}},t.updateForceTwoSidedArrayByWhiteLabel(d.WhiteLabelName)}angular.module("app").controller("UploadDocumentCtrl",["$scope","$rootScope","FileUploader","$sessionStorage","AccountService","UploadDocumentService","$filter","$translate","ngDialog","$state","FilesValidation","$timeout","WireTransferService","DepositService","CommonService","CommonUiService","ProfessionalTraderService","MyAvaConsts","$location",a])}(),function(){function a(a,b){a.state("upload_document",{url:"/upload_document",templateUrl:"views/upload_document/views/upload_document.html",controller:"UploadDocumentCtrl",controllerAs:"upload_document",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),angular.module("app").directive("fileread",["FilesValidation","UploadDocumentService","$translate","$filter",function(a,b,c,d){return{scope:{fileread:"=",errMsg:"=",errInput:"=",fileChanged:"&"},link:function(c,e,f){e.bind("change",function(f){c.$apply(function(){if(e[0].files[0]){c.errInput=!1,c.errMsg=null;var f=b.checkFilValidation(e[0].files[0]);c.fileread=e[0].files[0],f.supportdeType.isValid&&f.fileSize.isValid||(c.errInput=!0,f.supportdeType.isValid?c.errMsg=d("translate")("ud_maxFileSize")+" "+a.size.maxFileSize+"MB ":c.errMsg=d("translate")("ud_acceptFollowingTyps")+": ."+a.supportdeTypes.join(", ."))}}),c.fileChanged()})}}}]),angular.module("app").directive("guidelinesInfo",function(){return{restrict:"E",scope:{guidelines:"="},link:function(a,b){console.log(a.guidelines)},template:' <img id="{{guidelines.id}}"  trigger-click element-id="{{guidelines.id}}"  uib-popover-template="\'views/upload_document/popUps/temp-guidelines.html\'"  class="cursor-pointer" src="/images/q_mark.png" alt=""  popover-placement="right"   />'}}),angular.module("app").directive("subGuidelinesInfo",function(){return{restrict:"A",scope:{subGuideline:"="},templateUrl:"views/upload_document/popUps/guidelines.html",link:function(a,b){console.log(a.modsub)}}}),function(){function a(a,b,c,d,e,f,g,h,i,j){var k=this;k.getProfessionalTraderTableData=function(b){return a.get(window.webApidomain+"api/ProfessionalTrader/GetProfessionalTraderTableData?businessGroupId="+b)},k.isUserExperienced=function(){return a.get(window.webApidomain+"api/ProfessionalTrader/IsTradingActivityProofRequired")},k.getProfessionalTraderAnswers=function(){return a.get(window.webApidomain+"api/ProfessionalTrader/GetProfessionalTraderAnswers")};var l=function(a){return d.dialogs&&d.dialogs[a]||c.dialogsDoNotShow&&c.dialogsDoNotShow[a]},m=function(a){a&&(d.dialogs=d.dialogs||{},d.dialogs[a]=!0)},n=function(a,b){return["$scope","UserProfileService","ProfessionalTraderPopupInnerService",function(c,d,e){c.userProfile=d.getLocalUserProfile(),c.onClose=function(){c.dontShowAgain&&a&&e.updateDontShowAgain(a,c.dontShowAgain),"function"==typeof b&&b()},c.$watch("dontShowAgain",function(b,c){b!==c&&a&&e.updateDontShowAgain(a,b)})}]},o=function(a){return l(a)?!1:(m(a),!0)},p=function(a,b,c,d){return f.open({template:"views/popUp/professional_trader/"+a+".html",className:"ngdialog-theme-default ng-dialog-avapro",closeByDocument:d||!1,showClose:!0,preCloseCallback:b,controller:c})},q=function(a){a=a||i.getLocalUserProfile();var c="eligibility";if(o(c)){if(a){var e=[{criteria:1,val:"undefined"===d.TradingActivity?!1:!d.TradingActivity.ProofRequired},{criteria:2,val:a.ProfessionalTrader.FinancialSectorEligable},{criteria:3,val:a.ProfessionalTrader.PortfolioEligable}];k.works=e.filter(function(a){return a.val===!0})}if(k.works&&k.works.length){var f=function(a){a&&("function"==typeof a.onCloseDialog&&a.onCloseDialog(),a["goto"]&&b.go(a["goto"]))},g=["$scope","ProfessionalTraderPopupInnerService",function(a,b){a.onClose=function(){a.dontShowAgain&&c&&b.updateDontShowAgain(c,a.dontShowAgain)},a.$watch("dontShowAgain",function(a,d){a!==d&&c&&b.updateDontShowAgain(c,a)});var d=function(){var b;switch(k.works.length){case 0:return;case 1:a.eligibleHeader="pt_eligibleHeaderHalfWay",b=k.works[0].criteria;break;default:a.eligibleHeader="pt_eligibleHeaderCloser",b="All"}a.eligibleText="pt_eligibleText"+b};d()}];p("post_eligible",f,g,!0)}else r(a)}},r=function(a){if(a&&a.BusinessGroupId==g.BusinessGroups.AvaCapital)switch(k.dialogs=k.dialogs||{},a.ProfessionalTrader.Status){case g.ProfessionalTraderStatus.DocMissing:var c="avaproPendingDialog",d=o(c);if(d&&!k.dialogs[c]){var e=function(a){"function"==typeof a.onCloseDialog&&a.onCloseDialog(),"upload_document"===a["goto"]&&b.go(a["goto"])};k.dialogs[c]=p("doc_pending",e,n(c),!0)}break;case g.ProfessionalTraderStatus.DocRejected:var c="avaproRejectedDialog",d=o(c);if(d&&!k.dialogs[c]){var e=function(a){"function"==typeof a.onCloseDialog&&a.onCloseDialog(),"upload_document"===a["goto"]&&b.go(a["goto"])};k.dialogs[c]=p("doc_not_valid",e,n(c,function(){h.downgradeToRetail().then(function(){console.log("downgraded")})}),!0)}}};k.showLoginAvaProPopup=function(a){k.isUserExperienced().then(function(b){d.TradingActivity={ProofRequired:b.data},e.$broadcast("TradingActivityUpdated"),a.ProfessionalTrader.Status===g.ProfessionalTraderStatus.False?q(a):r(a)})},k.showTypAvaProPopup=function(a){if(a&&o(a)){var c=function(a){d.avaproTyp=!0,"become_trader"===a&&b.go(a)},e=["$scope","UserProfileService",function(a,b){a.$on("userProfileUpdated",function(c,d){var e=b.getLocalUserProfile();e&&(a.user=e.FirstName+" "+e.LastName)})}];p(a,c,e)}},k.showCommonAvaProPopup=function(a,b,c,d){a&&(p(a,b,d,c),"thank_you"===a&&e.$broadcast("proTraderSuccess"))}}angular.module("app").service("ProfessionalTraderService",["$http","$state","$localStorage","$sessionStorage","$rootScope","ngDialog","MyAvaConsts","AccountService","UserProfileService","ProfessionalTraderPopupInnerService",a])}(),function(a){function b(a){var b=this;b.updateDontShowAgain=function(b,c){a.dialogsDoNotShow=a.dialogsDoNotShow||{},a.dialogsDoNotShow[b]=c}}angular.module("app").service("ProfessionalTraderPopupInnerService",["$localStorage",b])}(window),function(){function a(a){a.state("become_trader",{
url:"/become_trader",templateUrl:"views/professional_trader/views/become_trader/become_trader.html",controller:"BecomeTraderCtrl",controllerAs:"become_trader",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("client_declaration",{url:"/client_declaration",templateUrl:"views/professional_trader/views/client_declaration/client_declaration.html",controller:"ClientDeclarationCtrl",controllerAs:"client_declaration",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("pt_upload_document",{url:"/pt_upload_document",templateUrl:"views/professional_trader/views/upload_document/upload_document.html",controller:"PtUploadDocument",controllerAs:"pt_upload_document",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider",a])}(),function(){function a(a,b,c,d,e,f,g,h,i){function j(){if(l.formData.FinancialSector){var a=Object.keys(l.formData.FinancialSector).filter(function(a){return"undefined"===l.formData.FinancialSector[a]?!1:"string"==typeof l.formData.FinancialSector[a]?l.formData.FinancialSector[a]:""});l.validFormData=3==a.length}}function k(){l.formData={TradingActivity:{Checked:!1,ProofRequired:c.TradingActivity?c.TradingActivity.ProofRequired:!0}},l.disableSubmit=!0,l.validForm=!1,l.validFormData=!1,c.formData?(l.formData=c.formData,j()):e.getProfessionalTraderAnswers().then(function(a){var b=a.data,c={Checked:b.TradingActivity!==h.ProfessionalTraderActivity.False,ProofRequired:b.TradingActivity!==h.ProfessionalTraderActivity.CheckedByAva},d=b.FinancialSectorName&&b.FinancialSectorName.length>0&&b.FinancialSectorRole.length>0&&b.FinancialSectorCompanyName.length>0?{Checked:!0,FinancialSectorName:b.FinancialSectorName,RoleInSector:b.FinancialSectorRole,CompanyName:b.FinancialSectorCompanyName}:void 0,e=b.PortfolioCheck;l.formData={TradingActivity:c,FinancialSector:d,PortfolioValue:e,PortfolioValue_ADGM:PortfolioValue_ADGM,TradingActivity_ADGM:TradingActivity_ADGM},j()}),f.isMobileByScreenWidth(),l.isMobile=b.mobileConfig.isMobile;var a=g.getLocalUserProfile();e.getProfessionalTraderTableData(a.BusinessGroupId).then(function(a){l.tableTitles=a.data.filter(function(a){return a.is_table_title}),l.tableContent=a.data.filter(function(a){return!a.is_table_title})});var d=[{Id:0,Val:"pt_company_default"},{Id:1,Val:"pt_company_Accountancy"},{Id:2,Val:"pt_company_ActuarialScience"},{Id:3,Val:"pt_company_AssetManagement"},{Id:4,Val:"pt_company_Banking"},{Id:5,Val:"pt_company_BrokerageServices"},{Id:6,Val:"pt_company_BusinessAdministration"},{Id:7,Val:"pt_company_CapitalMarkets"},{Id:8,Val:"pt_company_ComputationalFinance"},{Id:9,Val:"pt_company_Economics"},{Id:10,Val:"pt_company_FinancialEngineering"},{Id:11,Val:"pt_company_HedgeFunds"},{Id:12,Val:"pt_company_Insurance"},{Id:13,Val:"pt_company_InvestmentAdvisory"},{Id:14,Val:"pt_company_Other"},{Id:15,Val:"pt_company_PrivateEquity"},{Id:16,Val:"pt_company_VentureCapital"}],i=[{Id:0,Val:"pt_position_default"},{Id:1,Val:"pt_position_Accountant"},{Id:2,Val:"pt_position_Actuary"},{Id:3,Val:"pt_position_Adviser"},{Id:4,Val:"pt_position_Analyst"},{Id:5,Val:"pt_position_AssetManager"},{Id:6,Val:"pt_position_Broker"},{Id:7,Val:"pt_position_DealingDesk"},{Id:8,Val:"pt_position_FinancialController"},{Id:9,Val:"pt_position_ManagerExecutive"},{Id:10,Val:"pt_position_Portfolio"},{Id:11,Val:"pt_position_SalesRepresentative"},{Id:12,Val:"pt_position_Trader"},{Id:13,Val:"pt_position_Treasurer"}];l.IsADGMBG?l.questions=[{id:"TradingActivity",feature:{upload_docs:!0},title:"pt_TradingActivity_ADGM",text:"pt_TradingActivityText_ADGM",type:"checkbox",model:"TradingActivity_ADGM",action:"validateInputs()"},{id:"PortfolioValue",feature:{upload_docs:!1},title:"pt_Portfolio_ADGM",text:"pt_PortfolioText_ADGM",type:"checkbox",model:"FinancialSector.Checked",inner_validation:"msg_select",action:"validateInputs()",answers:[{type:"selectbox",name:"FinancialSectorName",values:d,model:"FinancialSector.FinancialSectorName",error:"pt_FinancialSectorNameError",defaultValue:d[0]},{type:"selectbox",name:"RoleInSector",values:i,model:"FinancialSector.RoleInSector",error:"pt_RoleInSectorError",defaultValue:i[0],dependenceQuestion:"FinancialSector.FinancialSectorName",showWhen:!0},{type:"textbox",name:"CompanyName",value:"",model:"FinancialSector.CompanyName",error:"pt_CompanyNameError",defaultValue:"pt_CompanyName_placeholder",dependenceQuestion:"FinancialSector.RoleInSector",showWhen:!0}],remarks:["pt_FinancialSectorRemark"]},{id:"Or",text:"or",type:"divider"},{id:"FinancialSector",feature:{upload_docs:!1},title:"pt_RelevantExperience_ADGM",text:"pt_RelevantExperienceText_ADGM",type:"checkbox",model:"PortfolioValue",action:"validateInputs()"},{id:"",text:"pt_RelevantExperienceText_ADGM_1",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_2",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_3",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_4",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_5",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_6",type:"subtext"},{id:"",text:"pt_RelevantExperienceText_ADGM_7",type:"subtext"}]:l.questions=[{id:"TradingActivity",feature:{upload_docs:!0},title:"pt_TradingActivity",text:"pt_TradingActivityText",type:"checkbox",model:"TradingActivity.Checked",disabled:"TradingActivity.Checked&&!TradingActivity.ProofRequired",action:"validateInputs()"},{id:"FinancialSector",feature:{upload_docs:!1},title:"pt_RelevantExperience",text:"pt_RelevantExperienceText",type:"checkbox",model:"FinancialSector.Checked",inner_validation:"msg_select",action:"validateInputs()",answers:[{type:"selectbox",name:"FinancialSectorName",values:d,model:"FinancialSector.FinancialSectorName",error:"pt_FinancialSectorNameError",defaultValue:d[0]},{type:"selectbox",name:"RoleInSector",values:i,model:"FinancialSector.RoleInSector",error:"pt_RoleInSectorError",defaultValue:i[0],dependenceQuestion:"FinancialSector.FinancialSectorName",showWhen:!0},{type:"textbox",name:"CompanyName",value:"",model:"FinancialSector.CompanyName",error:"pt_CompanyNameError",defaultValue:"pt_CompanyName_placeholder",dependenceQuestion:"FinancialSector.RoleInSector",showWhen:!0}],remarks:["pt_FinancialSectorRemark"]},{id:"PortfolioValue",feature:{upload_docs:!1},title:"pt_Portfolio",text:"pt_PortfolioText",type:"checkbox",model:"PortfolioValue",action:"validateInputs();showPortfolioPopup()"}]}var l=this;l.IsADGMBG=i.getIsADGM(),l.validateInputs=function(){if(!l.formData)return!1;var a=Object.keys(l.formData).filter(function(a){return"undefined"==typeof l.formData[a]?!1:"boolean"==typeof l.formData[a]?l.formData[a]:l.formData[a].Checked});return l.validForm=a.indexOf("FinancialSector")>-1&&!l.validFormData?!0:!1,l.disableSubmit=l.IsADGMBG?-1==a.indexOf("TradingActivity_ADGM")||a.length<2:a.length<2,!l.disableSubmit},l.sumbit=function(){l.showError=l.validateInputs(),l.showError&&(l.IsADGMBG&&(l.formData.PortfolioValue=!0,l.formData.TradingActivity.Checked=!0),c.formData=l.formData,d.go("client_declaration"))},a.$on("TradingActivityUpdated",function(a,b){l.formData&&l.formData.TradingActivity&&(l.formData.TradingActivity.ProofRequired=c.TradingActivity?c.TradingActivity.ProofRequired:!0)}),k()}angular.module("app").controller("BecomeTraderCtrl",["$scope","$rootScope","$sessionStorage","$state","ProfessionalTraderService","MobileService","UserProfileService","MyAvaConsts","CommonService",a])}(),function(){function a(a,b){var c=function(a){var b=[];switch(a.type){case"checkbox":b.push('<div class="col-md-12 col-xs-12 pt-question checkbox-wrapper">'),b.push('<input type="checkbox" class="checBox-pad checkbox-custom" id="'+a.title+'" name="'+a.title+'" ng-model="formData.'+a.model+'" '+(a.action?'ng-click="'+a.action+'"':"")+(a.disabled?'ng-disabled="'+a.disabled+'"':"")+" />"),b.push('<label class="imglabel checkbox label-custom" for="'+a.title+'"></label>'),b.push('<label class="radioLabel" for="'+a.title+'"><b>{{ translate("'+a.title+'")}}</b>'),b.push('<p class="text">{{ translate("'+a.text+'")}}</p></label>'),b.push("</div>"),b.push(d(a));break;case"divider":b.push('<div class="col-md-12 col-xs-12 pt-question checkbox-wrapper">'),b.push('<p class="text divider">{{ translate("'+a.text+'")}}</p>'),b.push("</div>"),b.push(d(a));break;case"subtext":b.push('<div class="col-md-12 col-xs-12 pt-question checkbox-wrapper">'),b.push('<p class="text subtext">{{ translate("'+a.text+'")}}</p>'),b.push("</div>"),b.push(d(a))}return b},d=function(a){var b=['<div ng-show="formData.'+a.model+'">'];return"object"==typeof a.answers&&a.answers.forEach(function(c){switch(c.type){case"radio":b.push('<div class="col-md-12 col-xs-12">'),b.push('<input type="radio" id="'+(c.type+c.id)+'" name="'+c.name+'" ng-model="formData.'+c.model+'" />'),b.push('<label class="imglabel" for="'+(c.type+c.id)+'"></label>'),b.push('<label class="radioLabel" for="'+(c.type+c.id)+'">{{ translate("'+c.text+'")}}</label></div>');break;case"text":b.push('<div class="col-md-12 col-xs-12">'),b.push('<p>{{ translate("'+c.text+'") }}</p></div>');break;case"selectbox":b.push('<div class="col-md-6 col-xs-12">'),b.push('<select name="'+c.name+'" class="form-control" ng-model="formData.'+c.model+'" ng-disabled="(formData.'+c.dependenceQuestion+" == null) && ("+c.showWhen+')"'),b.push(a.inner_validation?'valid-method="blur" validator="required" required-error-message="{{ translate(\''+c.error+'\')}}"  message-id="'+c.name+'"':""),b.push(">");var d=c.values.shift();b.push('<option value="" disabled>{{ translate("'+d.Val+'")}}</option>'),c.values.forEach(function(a){b.push('<option id="'+a.Id+'">{{ translate("'+a.Val+'")}}</option>')}),b.push("</select>"),a.inner_validation&&b.push(a.inner_validation?'<div class="error_message" id="'+c.name+'" ng-if="formData.'+a.model+'"></div>':""),b.push("</div>");break;case"textbox":b.push('<div class="col-md-12 col-xs-12">'),b.push('<input name="'+c.name+'" type="textbox" class="form-control" ng-model="formData.'+c.model+'" placeholder="{{ translate(\''+c.defaultValue+'\')}}" ng-disabled="(formData.'+c.dependenceQuestion+" == null) && ("+c.showWhen+')"'),b.push(a.inner_validation?'valid-method="blur" validator="required" required-error-message="{{ translate(\''+c.error+'\')}}"  message-id="'+c.name+'"':""),b.push("/>"),a.inner_validation&&b.push(a.inner_validation?'<div class="error_message" id="'+c.name+'" ng-if="formData.'+a.model+'"></div>':""),b.push("</div>")}}),b.push(e(a)),b.push("</div>"),b.join("")},e=function(a){var b=[];return"object"==typeof a.remarks&&a.remarks.forEach(function(a){b.push('<div class="col-md-12 col-xs-12"><p class="remark">{{ translate("'+a+'")}}</p></div>')}),b.join("")};return{restrict:"E",scope:{formData:"=",question:"=",validateInputs:"&"},link:function(b,d,e){b.formData.features=b.formData.features||{},b.formData.features[b.question.id]=b.question.feature;var f=c(b.question);d.html(f.join("")),a(d.contents())(b)},controller:["$filter","$scope","ProfessionalTraderService",function(a,b,c){b.translate=function(b){return a("translate")(b)},b.showPortfolioPopup=function(a){b.formData.PortfolioValue&&c.showCommonAvaProPopup("portfolio",function(a){"confirm"!==a&&(b.formData.PortfolioValue=!1,b.validateInputs())},!1)}}]}}angular.module("app").directive("ptQuestion",["$compile","ngDialog",a])}(),function(){function a(a){return{restrict:"E",transclude:!0,scope:{val:"=",valType:"=",isProf:"="},link:function(b,c,d){var e=[];switch(b.valType){case"yesno":e.push('<div class="mark-status">'),e.push('<svg width = "100%" height = "100%" ><use xlink: href = "#shape-'+b.val+'" ></use></svg>'),e.push("</div>");break;case"parallelepiped":e.push('<div class="skew '+(b.isProf?"bg-green":"bg-red")+'" data-text="'+b.val+'"></div>')}c.html(e.join("")),a(c.contents())(b)}}}angular.module("app").directive("ptTableValue",["$compile",a])}(),function(){function a(a,b,c,d,e,f,g){var h=this;h.sumbit=function(){a.$broadcast("formSubmission","#professionalTraderForm");var d=b.formData;d||c.go("become_trader"),h.signed&&f.upgradeToProfessional(d).then(function(a){return i(d)?void c.go("pt_upload_document"):void(b.avaproTyp?c.go("typ/FullReal"):e.showCommonAvaProPopup("thank_you",function(){c.go("my_account")},!0))})};var i=function(a){var b=Object.keys(a).map(function(b){return"undefined"!=typeof a[b]&&("boolean"==typeof a[b]?a[b]:a[b].Checked)&&a.features&&a.features[b]?a.features[b]:void 0});return b.some(function(a){return a&&a.upload_docs})?a.TradingActivity&&a.TradingActivity.ProofRequired:!1},j=function(){h.signed=!1,h.isAbuDhabi=11==b.businessGroupId};j()}angular.module("app").controller("ClientDeclarationCtrl",["$rootScope","$sessionStorage","$state","ngDialog","ProfessionalTraderService","AccountService","UserProfileService",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this;l.mobileConfig=a.mobileConfig,l.removeFileFromQueue=function(a){b.removeText="ud_sureToRemoveDocument",g.open({template:"views/upload_document/popUps/please-note.html",scope:b,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(l.ProfessionalTrader.input.file=null)}})};var m=function(){var a=0,b=0;return l.ProfessionalTrader.input.uploadTry&&a++,l.ProfessionalTrader.input.file&&b++,a==b?!0:!1},n=function(){var b=0,c=0;if(l.ProfessionalTrader.input.uploadSuccess&&b++,l.ProfessionalTrader.input.uploadTry&&c++,b==c){var d={customerId:f.selectedAccount.CustomerID,tpNumber:f.selectedAccount.TPAccountID,documentType:sectionName,requestType:"Account confirmation"};return a.$broadcast("uploadDocuments",d),!0}return!1},o=function(){n()&&(l.ProfessionalTrader.tryAgainErr=!1,m()?d(function(){return l.ProfessionalTrader.showTYMessage=!0,f.avaproTyp?(e.go("typ/FullReal"),void i.showCommonAvaProPopup("thank_you",function(){},!0)):void i.showCommonAvaProPopup("thank_you",function(){e.go("my_account")},!0)},1e3):(l.ProfessionalTrader.tryAgainErr=!0,l.showSuccessErrorIcons()),d(function(){l.ProfessionalTrader.isUploading=!1,p(),l.ProfessionalTrader.fileUploader.clearQueue()},1e3))},p=function(){l.ProfessionalTrader.tryAgainErr&&l.ProfessionalTrader.input.errMsg&&(l.checkIfAllFilesUploaded()&&(l.ProfessionalTrader.input.uploadSuccess=!1,l.ProfessionalTrader.input.file=null,l.ProfessionalTrader.input.uploadTry=!1),null!==document.getElementById(l.ProfessionalTrader.input.id)&&(document.getElementById(l.ProfessionalTrader.input.id).value="",l.ProfessionalTrader.input.file=null,l.ProfessionalTrader.inputtypeSizeErrMsg=null))},q=function(){var a=k.getLocalUserProfile(),b=a.Accounts.filter(function(a){return a.IsReal})[0];l.ProfessionalTrader.fileUploader=j.newFileUploader(b.AccountId),l.ProfessionalTrader.fileUploader.onSuccessItem=function(a,b,c){l.ProfessionalTrader.input.id==a._file.inputId&&(l.ProfessionalTrader.input.uploadSuccess=!0,l.ProfessionalTrader.input.tryAgainErr=!1,l.ProfessionalTrader.input.errMsg=!1),n()&&o()},l.ProfessionalTrader.fileUploader.onErrorItem=function(a,b,c){l.ProfessionalTrader.input.id==a._file.inputId&&(l.ProfessionalTrader.input.uploadTry=!0,o())},l.ProfessionalTrader.fileUploader.onBeforeUploadItem=function(){l.ProfessionalTrader.fileUploader._SetHeader("DocType",l.ProfessionalTrader.input.DocType+";false")}};l.fileChanged=function(){l.ProfessionalTrader.enabled=!0},l.uploadDocuments=function(b){a.$broadcast("formSubmission","#proTraderUploadDocsForm"),(!l.ProfessionalTrader.input.errMsg||l.ProfessionalTrader.input.tryAgainErr)&&(!l.ProfessionalTrader.input.file||l.ProfessionalTrader.input.uploadTry&&!l.ProfessionalTrader.input.showErrorIcon||(l.ProfessionalTrader.input.file.inputId=l.ProfessionalTrader.input.id,l.ProfessionalTrader.input.showErrorIcon=!1,l.ProfessionalTrader.input.tryAgainErr=!1,l.ProfessionalTrader.input.errMsg=!1,l.ProfessionalTrader.input.uploadTry=!0,l.ProfessionalTrader.fileUploader.addToQueue(l.ProfessionalTrader.input.file))),l.ProfessionalTrader.fileUploader.queue.length>0&&(l.ProfessionalTrader.fileUploader.uploadAll(),l.ProfessionalTrader.isUploading=!0)};var r=function(){l.ProfessionalTrader={fileUploader:null,showTYMessage:!1,isUploading:!1,enabled:!1,input:{id:"professionalTrader",name:"ud_avaProVerification",DocType:"16",file:null,infoButton:!1,infoButtonTemplate:null,uploadSuccess:!1,guideLinesId:null}},l.isAbuDhabi=11==f.businessGroupId,q()};r()}angular.module("app").controller("PtUploadDocument",["$rootScope","$scope","$localStorage","$timeout","$state","$sessionStorage","ngDialog","FileUploader","ProfessionalTraderService","UploadDocumentService","UserProfileService",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){function w(){var a=[];return A.selectedAccount&&(a=A.PaymentMethodsPerAccount.filter(function(a){return JSON.parse(a.TpAccountId)==A.selectedAccount.TPAccountID}).shift().PaymentMethods),c.withdrwal_paymentMethods=a||[],a}function x(){return"https:"==window.location.protocol}function y(a,b,c){var d=new Date;d.setDate(d.getDate()+c);var e=encodeURIComponent(b)+(null==c?"":"; expires="+d.toUTCString());x()&&(e+="; secure"),document.cookie=encodeURIComponent(a)+"="+e}function z(a){var b,c,d,e=document.cookie.split(";");for(b=0;b<e.length;b++)if(c=e[b].substr(0,e[b].indexOf("=")),d=e[b].substr(e[b].indexOf("=")+1),c=c.replace(/^\s+|\s+$/g,""),c==a)return decodeURIComponent(d)}var A=this;A.hasReal=!0,A.isAvaJapan=o.getIsAvaJapan(),A.isAtrade=o.getIsATrade(),A.isCanada=o.getIsFriedbergDirectAVA();var B=function(){var a=k.getSelectedAccount();A.existingCC=a.CreditCards,A.showExistingCc=A.existingCC&&A.existingCC.length>0};A.GetTabMenu=o.CreateTabMenu("pending_withdrawl"),A.updateSessionParams=function(){k.setSelectedDeposit(void 0)},A.setSelectedAccount=function(){var a=s.search().TP;void 0!=a?(A.selectedAccount=j("filter")(A.realAccountsList,{TPAccountID:a})[0],void 0!=A.selectedAccount&&null!=A.selectedAccount&&(A.singleAccountText=A.selectedAccount.TPAccountID+" "+A.selectedAccount.CurrencyBaseName+" "+A.selectedAccount.TradingPlatformName)):c.AccountId?A.selectedAccount=j("filter")(A.realAccountsList,{TPAccountID:c.AccountId})[0]:k.getSelectedAccount()&&k.getSelectedAccount().AccountBalance.WithdrawableAmount>0?A.selectedAccount=j("filter")(A.realAccountsList,{TPAccountID:k.getSelectedAccount().TPAccountID})[0]:k.getSelectedDeposit()&&k.getSelectedDeposit().AccountBalance.WithdrawableAmount>0?(A.selectedDeposit=k.getSelectedDeposit(),A.amount=A.selectedDeposit.depositAmount,A.selectedAccount=j("filter")(A.realAccountsList,{CurrencyBase:A.selectedDeposit.bonusCurrencyId})[0]):A.selectedAccount?A.selectedAccount=A.realAccountsList.filter(function(a){return a.TPAccountID==A.selectedAccount.TPAccountID&&a.AccountBalance.WithdrawableAmount>0})[0]:A.selectedAccount=A.realAccountsList.filter(function(a){return a.AccountBalance&&a.AccountBalance.WithdrawableAmount&&a.AccountBalance.WithdrawableAmount>0})[0],A.selectedAccount||(A.selectedAccount=A.realAccountsList[0]),k.setSelectedAccount(A.selectedAccount),A.selectedAccount.CurrencySymbol=j("isoCurrency")(null,A.selectedAccount.CurrencyBaseName,0)},A.setRealAccountsList=function(){if(A.userProfile=l.getLocalUserProfile(),A.userProfile&&A.userProfile.Accounts){o.isPartOfChinaCountry(c.userProfile.CountryID);A.realAccountsList=A.userProfile.Accounts.map(function(a){return a.AccountBalance=c.AccountsBalances.filter(function(b){return b.AccountId==a.AccountId}).shift(),a}).filter(function(a){return a.IsReal&&a.AccountBalance}),c.AccountId&&/native/i.test(c.WhiteLabelMode)&&(A.realAccountsList=A.userProfile.Accounts.filter(function(a){return a.TPAccountID==c.AccountId})),A.realAccountsList&&0!==A.realAccountsList.length?(A.hasReal=!0,A.setSelectedAccount()):A.hasReal=!1}},A.updateRealAccountsList=function(){A.setRealAccountsList()},A.updateSelectedAccount=function(){A.updateSessionParams(),A.allPaymentMetods=w(),B(),D(),e.$broadcast("selectedAccountChanged"),C()};var C=function(){var b={UnarchiveReason:v.withdrawl,TpAccounts:[A.selectedAccount.TPAccountID]},d=c.AppType,e=a.mobileConfig.isMobile&&d&&"avatradego"==d.toLowerCase(),f=!!c.WhiteLabelMode&&"wtiframe"==c.WhiteLabelMode.toLowerCase();e||f||c.unirchiveUsers&&-1!==c.unirchiveUsers.indexOf(A.selectedAccount.TPAccountID)||(l.unarchivedCastomerUserAccounts(b),c.unirchiveUsers||(c.unirchiveUsers=[]),c.unirchiveUsers.push(A.selectedAccount.TPAccountID))},D=function(){var a=A.allPaymentMetods.find(function(a){return/ChinaUnionPay/.test(a.NameKey)});void 0!=a?(A.paymentMetods=A.allPaymentMetods.filter(function(a){return!/ChinaUnionPay/.test(a.NameKey)}),A.paymentMetods.unshift(a)):A.paymentMetods=A.allPaymentMetods,b.wPaymentProviders=A.wPaymentProviders=A.allPaymentMetods.filter(function(a){return a.PaymentProvider}).map(function(a){return a.PaymentProvider})};A.GetPaymentMethods=function(){var a=null;A.isAtrade&&(a=k.getSelectedAccount().TPAccountID);var b="";angular.forEach(A.userProfile.Accounts,function(a){b+=a.TPAccountID+","}),b=b.substring(0,b.length-1);var d=null;void 0!=A.userProfile.Tags&&null!=A.userProfile.Tags&&A.userProfile.Tags.length>0&&(d=A.userProfile.Tags.join()),m.GetWithdrawlMethods(c.userProfile.CountryID,n.getToken(),a,c.WhiteLabelName,c.userProfile.BusinessGroupId,c.userProfile.LanguageId,c.userProfile.Cage,d).then(function(a){return console.log(a.data),""==a.data?(A.isPraxisIframe=!0,void G()):(A.activeMethodId=0,A.PaymentMethodsPerAccount=a.data||[],A.allPaymentMetods=w(),A.showPaymentMethosSection=!0,B(),void D())})},A.onSlideChanged=function(a,b,c){A.updateActivePaymentMethod(c)},A.updateActivePaymentMethod=function(b){A.activeMethodId=b,A.amountInvalid=!1;var c=A.allPaymentMetods[b]?A.allPaymentMetods[b].Name:null;a.$broadcast("$paymentMethodChanged",c)},A.goMyAccount=function(){return l.refreshUserProfile(),void 0!=c.NoInternalRouting&&""!==c.NoInternalRouting?void window.parent.postMessage('{"type":"REDIRECT_TO_TRADE"}',"*"):void(A.isNativeMobile||f.go("my_account"))},A.goPendingWithdrawals=function(){l.refreshUserProfile(),A.isNativeMobile||f.go("pending_withdrawl")},A.getTC=function(){A.userProfile=m.getTC()},A.validateAmount=function(){return A.amountInvalid=A.paymentMetods&&m.ValidateAmount(A.amount,A.paymentMetods[A.activeMethodId].Id,A.selectedAccount.AccountBalance.WithdrawableAmount,A.selectedAccount.CurrencyBaseName),!A.amountInvalid};var E=function(){var a=c.userProfile||l.getLocalUserProfile();return a&&14==a.CountryID};e.$on("userProfileUpdated",function(a,b){A.updateRealAccountsList()}),e.$on("selectedDepositUpdated",function(a,b){k.setSelectedAccount(void 0),A.updateRealAccountsList()}),e.$on("$destroy",function(){A.updateSessionParams()}),e.$on("withdrawlPermissionsLoaded",function(a,b){A.showContent=b.res}),e.$on("withdrawlPermissionsRequested",function(){A.showContent=!1}),AllowCashierCookiesOnMobile=function(){if(-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")){var a=z("CashierCookie");if(null==a){y("CashierCookie",!0,1);var b=window.location.href;window.location.href="https://cashier.praxispay.com/BounceBack.asp?returnUri="+encodeURIComponent(b)}}},A.beforeRedirect=function(){void 0!=c.NoInternalRouting&&""!==c.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):f.go("upload_document")};var F=function(){AllowCashierCookiesOnMobile(),l.GetAccountsBalances().then(function(){I(),A.setRealAccountsList()}).then(function(){m.IfRedirectToTranzila().then(function(a){console.log("IfRedirectToTranzila : ",a),A.IfRedirectToTranzila=a}),C(),o.setTheme(),A.isNativeMobile=void 0!==c.AppType,A.visaControl={},A.amountInvalid=!1,A.PaymentMethodsDict=h.PaymentMethodsDict,A.PaymentMethodsPerAccount=[],A.isAtrade?A.currencyData={currencies:[{id:1,symbol:"$"},{id:3,symbol:""},{id:2,symbol:""}],selectedCurrency:{id:1,symbol:"$"}}:A.isAvaJapan?A.currencyData={currencies:[{id:1,symbol:"JPY"}],selectedCurrency:{id:1,symbol:"JPY"}}:(A.currencyData={currencies:[{id:1,symbol:"USD"},{id:3,symbol:"EUR"},{id:5,symbol:"GBP"}],selectedCurrency:{id:1,symbol:"USD"}},E()&&A.currencyData.currencies.push({id:8,symbol:"AUD"}),c.userProfile.BusinessGroupId===h.BusinessGroups.SouthAfrica&&(A.currencyData.currencies.pop(),A.currencyData.currencies.pop(),A.currencyData.currencies.push({id:10,symbol:"ZAR"}))),A.selectedAccount&&(A.currencyData.selectedCurrency=A.currencyData.currencies.filter(function(a){return a.id==A.selectedAccount.CurrencyBase||a.symbol==A.selectedAccount.CurrencyBaseName}).shift()),i.paymentMethodId&&A.updateActivePaymentMethod(i.paymentMethodId),A.GetPaymentMethods(),m.GetMinAmountLimit(),A.deposit3rdPartyStatus=i.paymentStatus})},G=function(){H(),t.post(window.webApidomain+"api/Withdrawl/WithdrawlIFrame",A.withdrawlData).then(function(a){a.data.Url&&(A.iframeUrl=u.trustAsResourceUrl(a.data.Url))})},H=function(){A.selectedAccount&&(A.withdrawlData={PaymentMethodProvider:h.PaymentMethodsDict.Praxis,Token:n.getToken(),CrmAccountId:A.selectedAccount.AccountId,IdentifierApplicationSource:k.GetAppSourceType()},null!=c.userProfile&&(A.withdrawlData.CustomerState=c.userProfile.State,A.withdrawlData.WhiteLabel=c.whiteLabelData.Name))};A.updatePraxisSelectedAccount=function(){G()};var I=function(){o.checkWithdrawlPopup(l.getLocalAccountsBalances())};F()}angular.module("app").controller("WithdrawlFundsCtrl",["$rootScope","$localStorage","$sessionStorage","whiteLabelData","$scope","$state","$timeout","MyAvaConsts","$stateParams","$filter","DepositService","AccountService","WithdrawlFundsService","AuthService","CommonService","MobileService","ngDialog","UserProfileService","$location","$http","$sce","unirchiveReason",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){var v=this,w=function(){x(),self.setRealAccountsList(),self.setSelectedAccount(),y(),z()},x=function(){q.checkWithdrawlPopup(n.getLocalAccountsBalances())};self.setRealAccountsList=function(){if(self.userProfile=n.getLocalUserProfile(),!self.userProfile){var a=p.getToken();self.userProfile=t.GetUserProfile(a)}g.realAccountsList=l("filter")(self.userProfile.Accounts,{IsReal:!0}),g.realAccountsList&&0!=g.realAccountsList.length?(self.hasReal=!0,self.setSelectedAccount()):self.hasReal=!1},self.setSelectedAccount=function(){self.selectedDeposit=m.getSelectedDeposit();var a=u.search().TP;void 0!=a&&(g.selectedAccount=l("filter")(g.realAccountsList,{TPAccountID:a})[0],void 0!=g.selectedAccount&&null!=self.selectedAccount&&(self.singleAccountText=g.selectedAccount.TPAccountID+" "+g.selectedAccount.CurrencyBaseName+" "+g.selectedAccount.TradingPlatformName)),e.AccountId&&(g.selectedAccount=l("filter")(g.realAccountsList,{TPAccountID:e.AccountId})[0]),m.getSelectedAccount()&&void 0==g.selectedAccount?g.selectedAccount=l("filter")(g.realAccountsList,{TPAccountID:m.getSelectedAccount().TPAccountID})[0]:g.selectedAccount?g.selectedAccount=l("filter")(g.realAccountsList,{TPAccountID:g.selectedAccount.TPAccountID})[0]:g.selectedAccount=g.realAccountsList[0],m.setSelectedAccount(g.selectedAccount)},g.updateSelectedAccount=function(){m.setKeepSelectedAccount(void 0),g.$broadcast("selectedAccountChanged"),self.updateCurrency()},self.updateCurrency=function(){var a=m.getSelectedAccount();self.localCurrency={CountryId:a.CountryId,Currency:{Id:a.CurrencyId,Name:a.CurrencyBaseName,IsAccountCurrency:!0}}};var y=function(){g.selectedAccount&&(v.withdrawlData={PaymentMethodProvider:j.PaymentMethodsDict.Praxis,Token:p.getToken(),CrmAccountId:g.selectedAccount.AccountId})},z=function(){a.post(window.webApidomain+"api/Withdrawl/WithdrawlIFrame",v.withdrawlData).then(function(a){g.iframeUrl=b.trustAsResourceUrl(a.data.Url)})};w(),g.$on("selectedAccountChanged",function(a,b){self.setSelectedAccount(),y(),z()})}angular.module("app").controller("WithdrawlFundsPraxisCtrl",["$http","$sce","$rootScope","$localStorage","$sessionStorage","whiteLabelData","$scope","$state","$timeout","MyAvaConsts","$stateParams","$filter","DepositService","AccountService","WithdrawlFundsService","AuthService","CommonService","MobileService","ngDialog","UserProfileService","$location",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=this;u.hasReal=!0,u.cancelWithdrawalsError=[],u.pendingWithdrawals=[],u.isNativeMobile=p.isNativeMobile(),u.showPendingWithdrawals=!1,m.refreshEquity(),u.GetTabMenu=p.CreateTabMenu("pending_withdrawl"),u.setIsErrorOnPendingList=function(){u.cancelWithdrawalsError.length>0&&u.cancelWithdrawalsError.forEach(function(a){var b=k("filter")(u.pendingWithdrawals,{Id:a.Id});u.pendingWithdrawals[u.pendingWithdrawals.indexOf(b[0])].isError=!0})},f.$on("onChange","[type='checkbox']",function(){u.isOneSelect=!0});var v=function(){m.GetUserProfile().then(function(a){u.pendingWithdrawals=a.PendingWithdrawals,f.$apply(function(){u.showPendingWithdrawals=a.PendingWithdrawals.length>0}),u.setIsErrorOnPendingList()})};v(),f.ShowLiveChat=!p.getIsLiveChatDisabled(),f.translationData={cancelAmount:null,newEquity:null,cancelSucceeded:null,cancelFailed:null},f.redirect=function(){v(),0==u.pendingWithdrawals.length&&u.goMyAccount()},u.goMyAccount=function(){u.isNativeMobile||g.go("my_account")},u.CancelWithdrawals=function(){p.showLoading(!0),u.cancelWithdrawalsList=[];var a,b=document.getElementsByName("checkbox_withdrawal");b.forEach(function(b){b.checked&&(u.pendingWithdrawals.forEach(function(c){c.Id==b.id.substr(4)&&(a=c.Amount)}),u.cancelWithdrawalsList.push({withdrawalId:b.id.substr(4),amount:a}))}),u.cancelWithdrawalsList.length>0&&n.CancelWithdrawals(u.cancelWithdrawalsList).then(function(a){console.log(a.data);var b="",c="";k("filter")(a.data.CancelWithdrawalList,{IsSucceeded:!1}).length>0||0==a.data.CancelWithdrawalList.length?(f.translationData.cancelSucceeded=k("filter")(a.data.CancelWithdrawalList,{IsSucceeded:!0}).length,f.translationData.cancelFailed=k("filter")(a.data.CancelWithdrawalList,{IsSucceeded:!1}).length,a.data.CancelWithdrawalList.forEach(function(a){a.IsSucceeded||u.cancelWithdrawalsError.push({Id:a.WithdrawalId,IsError:!0})}),a.data.CancelWithdrawalByCurrency.forEach(function(a){a.Amount>0&&(""!=b&&(b+=" | "),b+=Number(a.Amount).toLocaleString("en",{style:"currency",currency:a.Currency,minimumFractionDigits:0}))}),f.translationData.cancelAmount=""==b?"0":b,p.showLoading(!1),w()):(a.data.CancelWithdrawalByCurrency.forEach(function(a){a.Amount>0&&(""!=b&&(b+=" | "),b+=Number(a.Amount).toLocaleString("en",{style:"currency",currency:a.Currency,minimumFractionDigits:0}))}),f.translationData.cancelAmount=b,m.GetAccountsBalances().then(function(a){f.$apply(function(){var b=k("filter")(a,{IsReal:!0}),d=k("groupBy")(b,"Currency"),e=[];angular.forEach(d,function(a,b){var c=0;angular.forEach(a,function(a,b){c+=a.Balance}),e.push({currencyName:b,sum:c})});e.forEach(function(a){a.sum>0&&(""!=c&&(c+=" | "),c+=Number(a.sum).toLocaleString("en",{style:"currency",currency:a.currencyName,minimumFractionDigits:0}))});f.translationData.newEquity=c,p.showLoading(!1),x()})})),v()},function(a){f.translationData.cancelSucceeded=0,f.translationData.cancelFailed=u.cancelWithdrawalsList.length,f.translationData.cancelAmount=0,p.showLoading(!1),w()})};var w=function(){r.open({template:"views/withdrawl_funds/views/pending_withdrawals/typ/cancel-withdrawal-failed.html",className:"ngdialog-theme-default",scope:f,closeByDocument:!1,preCloseCallback:function(){m.refreshEquity(),v()}})},x=function(){r.open({template:"views/withdrawl_funds/views/pending_withdrawals/typ/cancel-withdrawal-succeeded.html",className:"ngdialog-theme-default",scope:f,closeByDocument:!1,preCloseCallback:function(){m.refreshEquity(),v()}})};u.checkboxWithdrawals=document.getElementsByName("checkbox_withdrawal"),u.isAllCheckboxSelected=!1,u.isOneSelect=!1,u.SelectAllCheckbox=function(a){u.isAllCheckboxSelected=u.isOneSelect=a,
u.checkboxWithdrawals=document.getElementsByName("checkbox_withdrawal"),u.checkboxWithdrawals.length>0&&u.checkboxWithdrawals.forEach(function(b){b.checked=a,0==a?b.parentElement.parentElement.className=b.parentElement.parentElement.className.replace("odd","even"):b.parentElement.parentElement.className=b.parentElement.parentElement.className.replace("even","odd")})},u.CheckboxSelectOnMobile=function(a){u.isCheckboxSelected},u.CheckboxSelect=function(a){a.target.checked?(a.currentTarget.parentElement.parentElement.className=a.currentTarget.parentElement.parentElement.className.replace("even","odd"),u.isOneSelect=!0):(u.checkboxWithdrawals=document.getElementsByName("checkbox_withdrawal"),u.checkboxWithdrawals.length>0&&(u.isOneSelect=k("filter")(u.checkboxWithdrawals,{checked:!0}).length>0?!0:!1),a.currentTarget.parentElement.parentElement.className=a.currentTarget.parentElement.parentElement.className.replace("odd","even")),u.isAllCheckboxSelected=k("filter")(u.checkboxWithdrawals,{checked:!1}).length>0?!1:!0}}angular.module("app").controller("PendingWithdrawalsCtrl",["$rootScope","$localStorage","$sessionStorage","NgTableParams","whiteLabelData","$scope","$state","$timeout","MyAvaConsts","$stateParams","$filter","DepositService","AccountService","WithdrawlFundsService","AuthService","CommonService","MobileService","ngDialog","UserProfileService","$location",d])}(window,document,"script"),function(){function a(a,b){a.state("withdrawl_funds",{url:"/withdrawl_funds",templateUrl:"views/withdrawl_funds/views/withdrawl_funds.html",controller:"WithdrawlFundsCtrl",controllerAs:"withdrawl_funds",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("pending_withdrawl",{url:"/pending_withdrawl",templateUrl:"views/withdrawl_funds/views/pending_withdrawals/pending_withdrawals.html",controller:"PendingWithdrawalsCtrl",controllerAs:"pending_withdrawals",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b,c,d,e,f){var g=this;g.GetWithdrawlMethods=function(b,c,d,e,f,g,h,i){return a.get(window.webApidomain+"api/Withdrawl/GetWithdrawlMethods_NewCrm?whiteLabel="+e+"&businessGroupId="+f+"&countryId="+b+"&languageId="+g+"&cage="+h+"&tags="+i)},g.CancelWithdrawals=function(b){var c=JSON.stringify(b);return a.post(window.webApidomain+"api/Withdrawl/CancelWithdrawal_NewCrm",c)},g.SubmitWithdrawl=function(b){f.$broadcast("formSubmission","#withdrawalForm");var e=angular.injector(["ng"]).get("$q"),h=e.defer();return b.PaymentMethodName=g.GetWithdrawalMethodNameById(c.withdrwal_paymentMethods,b.PaymentMethodProvider),b.WhiteLabel=c.whiteLabelData.Name,null!==c.userProfile&&(b.CustomerState=c.userProfile.State),a.post(window.webApidomain+"api/Withdrawl/Withdrawl_NewCrm",b).success(function(a){d.GetAccountsBalances(),h.resolve(a),1==a.Status&&(null!==c.userProfile&&(b.CustomerId=c.userProfile.CustomerID),f.$broadcast("withdraw",b))}),h.promise},g.ValidateAmount=function(a,b,c,d){return!a||a>c||h[b]||!g.isValidNumber(a)||0>=a?i(a,b,c,d):!1},g.getPaymentProvidersForCustomer=function(b){return a.post(window.webApidomain+"api/Withdrawl/getPaymentProvidersForCustomer",{tpAccountsId:b})},g.IfRedirectToTranzila=function(){return new Promise(function(a){setTimeout(function(){a(!1)},500)})};var h={};g.GetMinAmountLimit=function(){h&&Object.keys(h).length||a.get(window.webApidomain+"api/Withdrawl/GetWithdrawlMinMax_NewCrm").then(function(a){a.data.map(function(a){h[a.ProviderId]=a.WithdrawLimit})})},g.isValidNumber=function(a){var b=new RegExp(/^[0-9]*\.?[0-9]+$/);return b.test(a)};var i=function(a,b,c,d){var e={};if(a&&""!=a&&"0"!=a)if(g.isValidNumber(a))if(a>c)e.message_before="withdrawl_exceedMaxWithdrawable_before",e.message_after="withdrawl_exceedMaxWithdrawable_after",e.value=c+" "+d;else{var f=h[b];if(!f)return!1;if(a<f.Min)e.message_before="withdrawl_minAmountError",e.value=f.Min;else{if(!(f.Max>0&&a>f.Max))return!1;e.message_before="withdrawl_maxAmountError",e.value=f.Max}}else e.message_before="cc_numberRequired";else e.message_before="withdrawl_zeroAmountError";return e};g.checkAllCreditCards=function(a,b){if(b.existingCC=[],b.showExistingCc=!1,a&&a.Accounts){var c=JSON.parse(JSON.stringify(a.Accounts));b.existingCC=c.filter(function(a){return a.CreditCards&&a.CreditCards.length>0}).map(function(a){return a.CreditCards}).reduce(function(a,b){return a.concat(b)},[]).map(function(a){return delete a.Order,JSON.stringify(a)}).filter(function(a,b,c){return-1==c.indexOf(a,b+1)}).map(function(a){return JSON.parse(a)}),b.showExistingCc=b.existingCC&&b.existingCC.length>0}},g.GetDinPayStatesAndCities=function(b){var c={lang:b};return a.get(window.webApidomain+"api/Withdrawl/GetDinPayStatesAndCities",{params:c})},g.GetWithdrawalMethodNameById=function(a,b){for(var c=0;c<a.length;c++)if(a[c].Id==b)return a[c].Name}}angular.module("app").service("WithdrawlFundsService",["$http","$localStorage","$sessionStorage","AccountService","$filter","$rootScope",a])}();var visaWithdrawlCmp=["$scope","$sessionStorage","DepositService","AccountService","WithdrawlFundsService","MyAvaConsts","eRequestAdditionalProperties","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService","$filter",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||k("withdrawInput"),a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.existingCC=null,o.isATrade=m.getIsATrade(),o.selectExistingCC=function(a){o.showNewCc=!1,o.showFirstAndLast4DigitsInputs=!1,o.selectedCard=o.existingCC[a],o.isCardsWithSameLast3Digits(a)},o.selectExistingCCByCard=function(a){o.showNewCc=!1,o.showFirstAndLast4DigitsInputs=!1,o.selectedCard=o.existingCC[a],o.isCardsWithSameLast3Digits(a)},o.submitWithdrawlForm=function(){o.validateAmount()&&(m.showLoading(!0),s(),e.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?t():u(),m.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),m.showLoading(!1),u()}))};var p=function(){o.selectedCard&&(o.showFirstAndLast4DigitsInputs?o.tempLast3Digits=o.ccFirst4digits+"-"+o.ccLast4digits:o.tempLast3Digits=o.selectedCard.Last3Digits,o.withdrawlData.AdditionalProperties.push({Key:g.CcCardType,Value:o.selectedCard.CardType.Id}),o.withdrawlData.AdditionalProperties.push({Key:g.CcLastThreeDigits,Value:o.tempLast3Digits}),o.withdrawlData.AdditionalProperties.push({Key:g.CcExpirationMonth,Value:o.selectedCard.CardExpiration.Month}),o.withdrawlData.AdditionalProperties.push({Key:g.CcExpirationYear,Value:o.selectedCard.CardExpiration.Year}),o.withdrawlData.AdditionalProperties.push({Key:g.tpnumber,Value:o.currAccount.TPAccountID}),o.withdrawlData.AdditionalProperties.push({Key:g.IdentifierApplicationSource,Value:c.GetAppSourceType()}))},q=function(){o.currAccount=c.getSelectedAccount(),o.currAccount&&(o.existingCC=o.currAccount.CreditCards,(!o.existingCC||o.existingCC.length<=0)&&o.selectedCard&&(o.selectedCard=void 0)),o.showExistingCc=o.existingCC&&o.existingCC.length>0};o.isCardsWithSameLast3Digits=function(a){var b=n("groupBy")(o.existingCC,"[Last3Digits, CardExpiration.Month, CardExpiration.Year, CardType.Id]"),c=o.existingCC[a].Last3Digits+","+o.existingCC[a].CardExpiration.Month+","+o.existingCC[a].CardExpiration.Year+","+(o.existingCC[a].CardType.Id||"");b[c].length>1&&(o.showFirstAndLast4DigitsInputs=!0)};var r=function(){q(),o.existingCC&&o.existingCC.length>0&&o.selectExistingCC(0)},s=function(){o.currAccount=c.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:1==o.redirectToTranzila?f.PaymentMethodsDict.Tranzila:o.paymentMethodId,CrmWithdrawlMethod:o.methodValue,Token:l.getToken(),CrmAccountId:b.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},t=function(b){h.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},u=function(){a.statusText=null,h.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};a.$on("currentAccountChanged",q),a.$on("userProfileUpdated",q),a.$on("selectedAccountChanged",function(a,b){r()}),r()}];angular.module("app").component("visaWithdrawlCmp",{bindings:{redirectToTranzila:"=",paymentMethodId:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"=",methodValue:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/visa-withdrawl/visa-withdrawl-cmp.html",controller:visaWithdrawlCmp});var netellerWithdrawlCmp=["$scope","$sessionStorage","DepositService","WithdrawlFundsService","MyAvaConsts","eRequestAdditionalProperties","$timeout","$filter","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||l("withdrawInput"),console.log("NetellerWithdrawlCmp"),o.email="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitNetellerForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),d.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var p=function(){o.withdrawlData.AdditionalProperties.push({Key:f.NetellerEmail,Value:o.email}),o.withdrawlData.AdditionalProperties.push({Key:f.tpnumber,Value:o.currAccount.TPAccountID})},q=function(){o.currAccount=c.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:e.PaymentMethodsDict.Neteller,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:b.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("netellerWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/neteller-withdrawl/neteller-withdrawl-cmp.html",controller:netellerWithdrawlCmp});var paypalWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||l("withdrawInput"),console.log("paypalWithdrawlCmp"),o.email="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitPayPalForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),h.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var p=function(){o.withdrawlData.AdditionalProperties.push({Key:d.PPEmail,Value:o.email}),o.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:o.currAccount.TPAccountID})},q=function(){o.currAccount=g.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:b.PaymentMethodsDict.PayPal,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("paypalWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",goMyAccount:"&",goPendingWithdrawals:"&",validateAmount:"&",isMobile:"=",methodValue:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/paypal-withdrawl/paypal-withdrawl-cmp.html",controller:paypalWithdrawlCmp});var zotapayWithdrawlCmp=["$scope","$translate","MyAvaConsts","$sessionStorage","$localStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=this;q.isMobile||n("withdrawInput"),console.log("zotapayWithdrawlCmp"),q.email="",q.checkedTC=!1,a.goMyAccount=q.goMyAccount,a.goPendingWithdrawals=q.goPendingWithdrawals,a.isZotapayCreditCard=q.paymentMethodId!=c.PaymentMethodsDict.ZotapyCreditCard,q.bankNames=["zotapay_bank_Maybank","zotapay_bank_CIMB_Bank","zotapay_bank_Public_Bank_Berhad","zotapay_bank_RHB_Bank","zotapay_bank_Hong_Leong_Bank","zotapay_bank_AmBank","zotapay_bank_UOB_Malaysia_Bank","zotapay_bank_Bank_Rakyat_Malaysia","zotapay_bank_OCBC_Bank_Malaysia","zotapay_bank_HSBC_Bank_Malaysia","zotapay_bank_Affin_Bank","zotapay_bank_Bank_Islam_Malaysia","zotapay_bank_Standard_Chartered_Bank_Malaysia","zotapay_bank_CitiBank_Malaysia","zotapay_bank_Simpanan_Nasional(BSN)","zotapay_bank_Alliance Bank"],q.bankObjects=[],q.wPaymentProviders=e.wPaymentProviders||[],q.useEnglishTranslation=function(a){var c,d=$q.defer(),f="en";return currentLang=e.lang,b.use(f),b(a).then(function(e){c={en:e,lang:a},b.use(currentLang),d.resolve(c)}),d.promise};var r=function(a){for(bankName in a)q.useEnglishTranslation(a[bankName]).then(function(a){g(function(){q.bankObjects.push(a)},0)})};r(q.bankNames),q.submitzotapayForm=function(){q.validateAmount()&&(p.showLoading(!0),t(),j.SubmitWithdrawl(q.withdrawlData).then(function(a){1==a.Status?u():v(),p.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),p.showLoading(!1)}))};var s=function(){q.withdrawlData.AdditionalProperties.push({Key:f.tpnumber,Value:q.currAccount.TPAccountID}),q.withdrawlData.AdditionalProperties.push({Key:f.LocalName,Value:q.fullName}),q.withdrawlData.AdditionalProperties.push({Key:f.BankName,Value:q.bankName}),q.withdrawlData.AdditionalProperties.push({Key:f.PaymentProvider,Value:q.wPaymentProvider||q.wPaymentProviders[0]}),q.withdrawlData.AdditionalProperties.push({Key:f.BankAccountNumber,Value:q.BankAccountNumber})},t=function(){q.currAccount=i.getSelectedAccount(),q.currAccount&&(q.withdrawlData={PaymentMethodProvider:q.paymentMethodId,CrmWithdrawlMethod:q.methodValue,Token:o.getToken(),CrmAccountId:d.selectedAccount.AccountId,WithdrawAmount:q.amount,Currency:q.currencyBaseId,AdditionalProperties:[]},s())},u=function(b){k.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},v=function(){a.statusText=null,k.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("zotapayWithdrawlCmp",{bindings:{paymentMethodId:"=",paymentMethodName:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goPendingWithdrawals:"&",goMyAccount:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/zotapay-withdrawl/zotapay-withdrawl-cmp.html",controller:zotapayWithdrawlCmp});var paymentAsiaWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||l("withdrawInput"),console.log("paymentAsiaWithdrawlCmp"),o.email="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitPaymentAsiaForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),h.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var p=function(){var a=n.getBaseUrl();o.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:o.currAccount.TPAccountID}),o.withdrawlData.AdditionalProperties.push({Key:d.UserUrl,Value:a})},q=function(){o.currAccount=g.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:o.paymentMethodId,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("paymentAsiaWithdrawlCmp",{bindings:{paymentMethodId:"=",paymentMethodName:"=",currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/payment-asia-withdrawl/payment-asia-withdrawl-cmp.html",controller:paymentAsiaWithdrawlCmp});var skrillWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||l("withdrawInput"),console.log("SkrillWithdrawlCmp"),o.email="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitSkrillForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),h.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var p=function(){o.withdrawlData.AdditionalProperties.push({Key:d.SkrillEmail,Value:o.email}),o.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:o.currAccount.TPAccountID})},q=function(){o.currAccount=g.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:b.PaymentMethodsDict.MoneyBookers,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("skrillWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/skrill-withdrawl/skrill-withdrawl-cmp.html",controller:skrillWithdrawlCmp});var webmoneyWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){var o=this;o.isMobile||l("withdrawInput"),console.log("webmoneyWithdrawlCmp"),o.purseNumber="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitWebMoneyForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),h.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var p=function(){o.withdrawlData.AdditionalProperties.push({Key:d.WebMoneyWalletNumber,Value:o.purseNumber}),o.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:o.currAccount.TPAccountID})},q=function(){o.currAccount=g.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:b.PaymentMethodsDict.WebMoney,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("webmoneyWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/webmoney-withdrawl/webmoney-withdrawl-cmp.html",controller:webmoneyWithdrawlCmp});var wireTransferWithdrawlCmp=["$scope","$timeout","$filter","$sessionStorage","DepositService","MyAvaConsts","eRequestAdditionalProperties","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){function o(){return q.isAvaJapan?108:q.formData.BankCountry}function p(){console.log("Wire Transfer Withdrawl funds InitForm"),t()}var q=this;console.log("wireTransferWithdrawlCmp"),q.isMobile||l("withdrawInput"),q.checkedTC=!1,q.isAvaJapan=n.getIsAvaJapan(),a.goMyAccount=q.goMyAccount,a.goPendingWithdrawals=q.goPendingWithdrawals,q.isPartOfChinaCountry=n.isPartOfChinaCountry(d.userProfile.CountryID),q.formData={BeneficiaryName:"",BankName:"",BankAddress:"",BankCountry:"",Country:"1",BankAccountNumber:"",SwiftCode:"",AccountType:""},q.submitWireTransferForm=function(){q.validateAmount()&&(n.showLoading(!0),s(),h.SubmitWithdrawl(q.withdrawlData).then(function(a){1==a.Status?u():v(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),n.showLoading(!1)}))};var r=function(){q.withdrawlData.AdditionalProperties.push({Key:g.BeneficiaryName,Value:q.formData.BeneficiaryName}),q.withdrawlData.AdditionalProperties.push({Key:g.BankName,Value:q.formData.BankName}),q.withdrawlData.AdditionalProperties.push({Key:g.BankAddress,Value:q.formData.BankAddress}),q.withdrawlData.AdditionalProperties.push({Key:g.BankCountry,Value:o()}),q.withdrawlData.AdditionalProperties.push({Key:g.IBANBankAccountNumber,Value:q.formData.BankAccountNumber}),q.withdrawlData.AdditionalProperties.push({Key:g.ABAorSwiftCode,Value:q.formData.SwiftCode}),q.withdrawlData.AdditionalProperties.push({Key:g.tpnumber,Value:q.currAccount.TPAccountID}),q.isAvaJapan&&q.withdrawlData.AdditionalProperties.push({Key:g.AccountType,Value:q.formData.AccountType}),q.isPartOfChinaCountry&&q.withdrawlData.AdditionalProperties.push({Key:g.BeneficiaryAddress,Value:q.formData.BeneficiaryAddress}),q.withdrawlData.AdditionalProperties.push({Key:g.IdentifierApplicationSource,Value:e.GetAppSourceType()})},s=function(){q.currAccount=e.getSelectedAccount(),q.currAccount&&(q.withdrawlData={PaymentMethodProvider:f.PaymentMethodsDict.WireTransfer,CrmWithdrawlMethod:q.methodValue,Token:m.getToken(),CrmAccountId:q.currAccount.AccountId,WithdrawAmount:q.amount,Currency:q.currencyBaseId,AdditionalProperties:[]},r())},t=function(){e.GetCountriesList().then(function(a){if(console.log(a.data),q.CountriesList=a.data,q.CountriesList&&q.CountriesList.length>0){var b=d.userProfile.CountryID,c=q.CountriesList.filter(function(a){return a.CountryId==b});c&&c.length>0&&(q.formData.BankCountry=c[0].CountryId)}})},u=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},v=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};p()}];angular.module("app").component("wireTransferWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/wire-transfer-withdrawl/wire-transfer-withdrawl-cmp.html",controller:wireTransferWithdrawlCmp});var unionpayWithdrawlCmp=["$scope","$translate","$q","$timeout","MyAvaConsts","$sessionStorage","$localStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,d,i,j,k,l,m,n,o,p,q){var r=this;r.ProvinceList={},r.CityList={},r.isMobile||o("withdrawInput"),a.goMyAccount=r.goMyAccount,a.goPendingWithdrawals=r.goPendingWithdrawals,console.log("unionpayWithdrawlCmp"),r.username="",r.checkedTC=!1,r.bankNames=["dinpay_bank_BankOfChina","dinpay_bank_AgriculturalBankOfChina","dinpay_bank_IndustrialAndCommercial","dinpay_bank_ChinaConstruction","dinpay_bank_BankOfCommunications","dinpay_bank_ChinaMerchants","dinpay_bank_PostalSavingsBankOfChina","dinpay_bank_ChinaMinsheng","dinpay_bank_HuaXiaBank","dinpay_bank_Industrial","dinpay_bank_ChinaEverbright","dinpay_bank_CitiBank","dinpay_bank_shanghaiPudong","dinpay_bank_ChinaGuangfa","dinpay_bank_PingAnBank"],r.bankObjects=[],r.wPaymentProviders=g.wPaymentProviders||[],r.useEnglishTranslation=function(a){var d,e=c.defer(),f="en";return currentLang=g.lang,b.use(f),b(a).then(function(c){d={en:c,lang:a},b.use(currentLang),e.resolve(d)}),e.promise},a.$on("selectedAccountChanged",function(a,b){});var s=function(a){for(bankName in a)r.useEnglishTranslation(a[bankName]).then(function(a){d(function(){r.bankObjects.push(a)},0)})};s(r.bankNames),r.submitUnionPayForm=function(){r.validateAmount()&&(q.showLoading(!0),u(),k.SubmitWithdrawl(r.withdrawlData).then(function(a){1==a.Status?v():w(),q.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error"),q.showLoading(!1)}))};var t=function(){r.withdrawlData.AdditionalProperties.push({Key:h.UnionPayUserName,Value:r.username}),r.withdrawlData.AdditionalProperties.push({Key:h.tpnumber,Value:r.currAccount.TPAccountID}),r.withdrawlData.AdditionalProperties.push({Key:h.LocalName,Value:r.chineseName}),r.withdrawlData.AdditionalProperties.push({Key:h.PaymentProvider,Value:r.wPaymentProvider||r.wPaymentProviders[0]}),r.withdrawlData.AdditionalProperties.push({Key:h.BankName,Value:r.bankName}),r.withdrawlData.AdditionalProperties.push({Key:h.IBANBankAccountNumber,Value:r.accountNumber}),r.withdrawlData.AdditionalProperties.push({Key:h.BankAddress,Value:r.selectedProvince.StateBaseName+"; "+r.selectedCity.CityName}),r.withdrawlData.AdditionalProperties.push({Key:h.BankBranch,Value:r.bankBranch})},u=function(){r.currAccount=j.getSelectedAccount(),r.currAccount&&(r.withdrawlData={PaymentMethodProvider:e.PaymentMethodsDict.ChinaUnionPay[0],CrmWithdrawlMethod:r.methodValue,Token:p.getToken(),CrmAccountId:f.selectedAccount.AccountId,WithdrawAmount:r.amount,Currency:r.currencyBaseId,AdditionalProperties:[]},t())},v=function(b){l.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},w=function(){a.statusText=null,l.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};r.ProvinceCityList={},r.fillProvinceCities=function(a){r.ProvinceCityList=i("filter")(r.CityList,{StateId:a.StateId})},r.GetDinPayStatesAndCities=function(){k.GetDinPayStatesAndCities(g.lang).then(function(a){r.ProvinceList=a.data.States,r.CityList=a.data.Cities},function(a){})},r.init=function(){r.GetDinPayStatesAndCities()},r.init()}];angular.module("app").component("unionpayWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/unionpay-withdrawl/unionpay-withdrawl-cmp.html",controller:unionpayWithdrawlCmp});var debitCardWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){console.log("debitCardWithdrawlCmp");var o=this;o.isMobile||l("withdrawInput"),o.cardNumber="",o.checkedTC=!1,a.goMyAccount=o.goMyAccount,a.goPendingWithdrawals=o.goPendingWithdrawals,o.submitDebitForm=function(){o.validateAmount()&&(n.showLoading(!0),q(),h.SubmitWithdrawl(o.withdrawlData).then(function(a){1==a.Status?r():s(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error",a),n.showLoading(!1)}))};var p=function(){o.withdrawlData.AdditionalProperties.push({Key:d.DebitCardNumber,Value:o.cardNumber}),o.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:o.currAccount.TPAccountID})},q=function(){o.currAccount=g.getSelectedAccount(),o.currAccount&&(o.withdrawlData={PaymentMethodProvider:b.PaymentMethodsDict.AvaDebitCard,CrmWithdrawlMethod:o.methodValue,Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:o.amount,Currency:o.currencyBaseId,AdditionalProperties:[]},p())},r=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},s=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})}}];angular.module("app").component("debitCardWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/debit-card-withdrawl/debit-card-withdrawl-cmp.html",controller:debitCardWithdrawlCmp});var praxisWithdrawlCmp=["$scope","MyAvaConsts","$sessionStorage","eRequestAdditionalProperties","$timeout","$filter","DepositService","WithdrawlFundsService","ngDialog","DEPOSIT_STATUS","$state","focus","AuthService","CommonService","$translate","$localStorage",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){console.log("praxisWithdrawlCmp");var q=this;switch(q.existingCC=null,q.isMobile||l("withdrawInput"),q.cardNumber="",q.checkedTC=!1,a.goMyAccount=q.goMyAccount,a.goPendingWithdrawals=q.goPendingWithdrawals,q.isMalaysiaOrThailandOrIndonesia=101==c.userProfile.CountryID||130==c.userProfile.CountryID||212==c.userProfile.CountryID,c.userProfile.CountryID){case 130:q.bankNames=["zotapay_bank_Maybank","zotapay_bank_CIMB_Bank","zotapay_bank_Public_Bank_Berhad","zotapay_bank_RHB_Bank","zotapay_bank_Hong_Leong_Bank","zotapay_bank_AmBank","zotapay_bank_UOB_Malaysia_Bank","zotapay_bank_Bank_Rakyat_Malaysia","zotapay_bank_OCBC_Bank_Malaysia","zotapay_bank_HSBC_Bank_Malaysia","zotapay_bank_Affin_Bank","zotapay_bank_Bank_Islam_Malaysia","zotapay_bank_Standard_Chartered_Bank_Malaysia","zotapay_bank_CitiBank_Malaysia","zotapay_bank_Simpanan_Nasional(BSN)","zotapay_bank_Alliance Bank"];break;case 212:q.bankNames=["thailand_bank_Bank_Of_Ayudhya","thailand_bank_Government_Savings_Bank","thailand_bank_KasiKorn_Bank","thailand_bank_KTB_Net_Bank","thailand_bank_Siam_Commercial_Bank","thailand_bank_TMB_Bank_Public_Company_Limited","thailand_bank_CIMB_Thai","thailand_bank_Kiatnakin_Bank","thailand_bank_Bangkok_Bank"];break;case 101:q.bankNames=["indonesia_bank_Negara_Indonesia","indonesia_bank_Bank_Mandiri","indonesia_bank_Bank_Rakyat_Indonesia","indonesia_bank_CIMB_Niaga"]}q.bankObjects=[],q.useEnglishTranslation=function(a){var b,c=$q.defer(),d="en";return currentLang=p.lang,o.use(d),o(a).then(function(d){b={en:d,lang:a},o.use(currentLang),c.resolve(b)}),c.promise};var r=function(a){for(bankName in a)q.useEnglishTranslation(a[bankName]).then(function(a){
e(function(){q.bankObjects.push(a)},0)})};r(q.bankNames),q.paymentProvidersByTheSameGateway&&(q.isMalaysiaOrThailandOrIndonesia?q.selectedMethod=Object.values(q.paymentProvidersByTheSameGateway).filter(function(a){return"online bank transfer"==a.toLowerCase()})[0]:q.selectedMethod=Object.values(q.paymentProvidersByTheSameGateway)[0]),q.submitPraxisForm=function(){q.validateAmount()&&(n.showLoading(!0),t(),h.SubmitWithdrawl(q.withdrawlData).then(function(a){1==a.Status?u():v(),n.showLoading(!1)},function(a){console.log("SubmitWithdrawl Error",a),n.showLoading(!1)}))};var s=function(){if("online bank transfer"!==q.selectedMethod.toLowerCase()&&"perfectm"!==q.selectedMethod.toLowerCase()&&q.withdrawlData.AdditionalProperties.push({Key:d.PraxisEmail,Value:q.email}),q.withdrawlData.AdditionalProperties.push({Key:d.tpnumber,Value:q.currAccount.TPAccountID}),"credit card"==q.selectedMethod.toLowerCase()){if(!q.selectedCard)return;q.showFirstAndLast4DigitsInputs?q.tempLast3Digits=q.ccFirst4digits+"-"+q.ccLast4digits:q.tempLast3Digits=q.selectedCard.Last3Digits,q.withdrawlData.AdditionalProperties.push({Key:d.CcCardType,Value:q.selectedCard.CardType.Id}),q.withdrawlData.AdditionalProperties.push({Key:d.CcLastThreeDigits,Value:q.tempLast3Digits}),q.withdrawlData.AdditionalProperties.push({Key:d.CcExpirationMonth,Value:q.selectedCard.CardExpiration.Month}),q.withdrawlData.AdditionalProperties.push({Key:d.CcExpirationYear,Value:q.selectedCard.CardExpiration.Year})}q.isMalaysiaOrThailandOrIndonesia&&"online bank transfer"==q.selectedMethod.toLowerCase()&&(q.withdrawlData.AdditionalProperties.push({Key:d.LocalName,Value:q.fullName}),q.withdrawlData.AdditionalProperties.push({Key:d.BankName,Value:q.bankName}),q.withdrawlData.AdditionalProperties.push({Key:d.BankAccountNumber,Value:q.BankAccountNumber})),q.isMalaysiaOrThailandOrIndonesia&&"perfectm"==q.selectedMethod.toLowerCase()&&q.withdrawlData.AdditionalProperties.push({Key:d.AccountIdentify,Value:q.accountIdentify})},t=function(){q.currAccount=g.getSelectedAccount(),q.currAccount&&(q.withdrawlData={PaymentMethodProvider:b.PaymentMethodsDict.Praxis,CrmWithdrawlMethod:Object.keys(q.paymentProvidersByTheSameGateway)[Object.values(q.paymentProvidersByTheSameGateway).indexOf(q.selectedMethod)],Token:m.getToken(),CrmAccountId:c.selectedAccount.AccountId,WithdrawAmount:q.amount,Currency:q.currencyBaseId,AdditionalProperties:[]},s())},u=function(b){i.open({template:"views/popUp/withdrawlTYP.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},v=function(){a.statusText=null,i.open({template:"views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})};q.selectExistingCC=function(a){q.showNewCc=!1,q.showFirstAndLast4DigitsInputs=!1,q.selectedCard=q.existingCC[a],q.isCardsWithSameLast3Digits(a)},q.selectExistingCCByCard=function(a){q.showNewCc=!1,q.showFirstAndLast4DigitsInputs=!1,q.selectedCard=q.existingCC[a],q.isCardsWithSameLast3Digits(a)},q.isCardsWithSameLast3Digits=function(a){var b=f("groupBy")(q.existingCC,"[Last3Digits, CardExpiration.Month, CardExpiration.Year, CardType.Id]"),c=q.existingCC[a].Last3Digits+","+q.existingCC[a].CardExpiration.Month+","+q.existingCC[a].CardExpiration.Year+","+(q.existingCC[a].CardType.Id||"");b[c].length>1&&(q.showFirstAndLast4DigitsInputs=!0)};var w=function(){q.currAccount&&(q.existingCC=q.currAccount.CreditCards,(!q.existingCC||q.existingCC.length<=0)&&q.selectedCard&&(q.selectedCard=void 0)),q.showExistingCc=q.existingCC&&q.existingCC.length>0},x=function(){q.currAccount=g.getSelectedAccount(),w(),q.existingCC&&q.existingCC.length>0&&q.selectExistingCC(0)};a.$on("selectedAccountChanged",function(a,b){x()}),x()}];angular.module("app").component("praxisWithdrawlCmp",{bindings:{currencyBaseName:"=",currencyBaseId:"=",amount:"=",validateAmount:"&",methodValue:"=",goMyAccount:"&",goPendingWithdrawals:"&",isMobile:"=",paymentProvidersByTheSameGateway:"="},templateUrl:"/app/myava/views/withdrawl_funds/views/withdrawl-methods/praxis-withdrawl/praxis-withdrawl-cmp.html",controller:praxisWithdrawlCmp}),function(){var a=function(a,b,c,d,e){var f=this;f.hasReal=!1,f.mobileConfig=e.mobileConfig,f.showError=!1,f.DebitUrl="",f.DebitTarget="";var g=function(){c.GetPriceTableData().then(function(a){f.tableData=a.data},function(a){console.log("error in GetPriceTableData",a)})},h=function(){f.userProfile=d.getLocalUserProfile(),f.realAccountsList=a("filter")(f.userProfile.Accounts,{IsReal:!0}),f.realAccountsList&&f.realAccountsList.length>0?(f.selectedAccount=f.realAccountsList[0],f.hasReal=!0):f.hasReal=!1};f.goDebit=function(){if(f.showError=!1,!f.userProfile||!f.selectedAccount)return void(f.showError=!0);var a={DtoAvaDebitRequestParams:{AccountGuid:f.selectedAccount.AccountId,AccountTpNumber:f.selectedAccount.TPAccountID,FirstName:f.userProfile.FirstName,LastName:f.userProfile.LastName,ThankYouPageUrl:decodeURI(location.protocol+"//"+location.host+b.baseHref()+"ava_debit_card")}};c.GetDebitUrl(a.DtoAvaDebitRequestParams).then(function(a){a&&a.data&&a.data.url?(f.DebitUrl=a.data.url,f.DebitTarget+=a.data.target):f.showError=!0},function(a){f.showError=!0,console.log("error getting Payoneer url",a)})};var i=function(){g(),h(),f.goDebit()};i()};angular.module("app").controller("AvaDepositCardCtrl",["$filter","$browser","AvaDebitCardService","AccountService","$rootScope",a])}(),function(){function a(a,b){a.state("ava_debit_card",{url:"/ava_debit_card",templateUrl:"views/ava_debit_card/views/ava_debit_card.html",controller:"AvaDepositCardCtrl",controllerAs:"debit",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){var a=function(a,b){var c=function(){return a.get(window.webApidomain+"api/AvaDebitCard/GetPricesTable_NewCrm")},d=function(b){return a.post(window.webApidomain+"api/AvaDebitCard/GetDebitUrl_NewCrm",b)};return{GetPriceTableData:c,GetDebitUrl:d}};angular.module("app").service("AvaDebitCardService",["$http","$sessionStorage",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){var b=a.isOldChat?"/app/myava/shared/js/liveChat.js":f.isChatShared?"https://www.avatrade.com/wp-content/themes/ava_trade/app/modules/live_chat/chat-zendesk.js":"/app/myava/shared/js/chat-zendesk.js",c=document.createElement("script");c.src=b,c.async=!0,document.body.appendChild(c)}b.$on("$stateChangeSuccess",function(b,c,d,e,f){var g=m.getLocalUserProfile();a.show_pro=g&&g.ProfessionalTrader&&1!==g.ProfessionalTrader.Status&&g.BusinessGroupId===o.BusinessGroups.AvaCapital&&j.hasRealAccount(),a.pt=c.pt,a.sideBox1=c.sideBox1,a.help=c.help,a.safety=c.safety,a.bonus=c.bonus}),b.$on("updateContactNumber",function(){a.updateContactNumber()}),a.updateContactNumber=function(){a.supportNumber=f.contactPhone||(localStorage.contactPhone?decodeURIComponent(localStorage.contactPhone):void 0),(!a.supportNumber||n.IsChinaDomain())&&h.GetSupportNumberByIp("",l.getToken()).then(function(b){a.supportNumber=f.contactPhone=b.data.phoneNumber?b.data.phoneNumber:b.data,console.log("updateContactNumber, ip from serverr",b.data.ip)},function(a){console.log("error in updateContactNumber",a)})},a.IsAvaJapan=b.IsAvaJapan,a.IsChinaDomain=n.IsChinaDomain(),a.ShowLiveChat=!j.getIsLiveChatDisabled(),a.updateContactNumber(),a.livechatScriptLoaded=!1,a.isOldChat="zh-hant"==e.lang?!0:!1,angular.element(document).ready(function(){0==a.livechatScriptLoaded&&(a.livechatScriptLoaded=!0,p())}),a.openChatWindow=function(){var b=e.lang;if("zh-hans"==b?b="zh-cn":"zh-hant"==b&&(b="zh-tw"),a.livechatScriptLoaded)try{a.isOldChat?$zopim(function(){$zopim.livechat.setLanguage(b),$zopim.livechat.window.show()}):zE(function(){zE.activate({hideOnClose:!0})})}catch(c){throw new Error("error in showZopimChat")}else a.livechatScriptLoaded=!0,d(function(){try{a.isOldChat?$zopim(function(){$zopim.livechat.setLanguage(b),$zopim.livechat.window.show()}):zE(function(){zE.activate({hideOnClose:!0})})}catch(c){throw new Error("error in showZopimChat")}},2e3)},a.openSafetyPopup=function(){var b=a.IsAvaJapan?"avajapan":null,c=m.getLocalUserProfile();c&&(a.bg=c.BusinessGroupId),a.bg?q(b):i.getBusinessGroup().success(function(c){a.bg=c.toString()||"1",q(b)}).error(function(a){console.log("getBusinessGroup error response: ",a)})};var q=function(b){b=b?"-"+b:"",a.safetyBG="safety_of_Funds_"+window.BusinessGroup[a.bg],k.open({template:"views/popUp/sideBox/safety"+b+".html",className:"ngdialog-theme-default ngdialog-safety",scope:a,closeByDocument:!1})};b.$on("updateBonusBannerVisibility",function(c,d){d&&void 0!=d.visible?a.showDepositBonusSideBox=b.showDepositBonusSideBox=d.visible:a.showDepositBonusSideBox=b.showDepositBonusSideBox=j.checkDepoitBonusAllowance()}),a.showDepositBonusSideBox=b.showDepositBonusSideBox=j.checkDepoitBonusAllowance(),a.openBonusPopup=function(){a.showDepositBonusSideBox&&(j.hasRealAccountDepositBonus()?k.open({template:"components/deposit_bonus/deposit_bonus.html",className:"ngdialog-theme-default ngdialog-bonus",controller:"DepositBonusCtrl",controllerAs:"bonus"}):j.openUpgradeAccountDialog())},a.goToBecomrTrader=function(){g.go("become_trader")}}function b(a){var b=angular.element(a);return{restrict:"A",link:function(a,c,d){var e=d.scrollAndFix,f=c.offset().top;console.log(c),b.on("scroll",function(a){c[b.scrollTop()>=f-97?"addClass":"removeClass"](e)})}}}angular.module("app").controller("SideBoxCtrl",["$scope","$rootScope","$document","$timeout","$localStorage","$sessionStorage","$state","AccountService","RegisterService","CommonService","ngDialog","AuthService","UserProfileService","DomainService","MyAvaConsts",a]),angular.module("app").directive("scrollAndFix",["$window",b])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=k("RegisterCtrl as parent",{$scope:f});angular.extend(this,q);var r=this;f.submitted=!1,f.reacceptAnswers=q.dataObject,f.$watchCollection("reacceptAnswers",function(a,b){return a?void 0:!1}),r.goMyAccount=function(){g.go("my_account"),p.$broadcast("ReferFriendTC_ClickOnX")},window.onkeydown=function(a){27===a.keyCode&&"refer_friend"==g.current.name&&r.goMyAccount()},r.validateForm=function(){f.submitted=!0;var b={BusinessGroup:e.userProfile.BusinessGroupId,termsAndConditionsList:[],CustomerId:e.userProfile.CustomerID,Accounts:h("filter")(e.userProfile.Accounts,{IsReal:!0}),token:q.token};b.termsAndConditionsList.push({Key:"Refer a Friend",Value:f.reacceptAnswers["Refer a Friend"]}),a.saveTermsAndConditions(b).then(function(b){1==b.data?(a.dialog.close(),c.refreshUserProfile(),p.$broadcast("AcceptReferFriendTC")):o.openOopsPopUp(),f.submitted=!1},function(a){console.log("failed saving your terms"),f.submitted=!1,o.openOopsPopUp()})}}angular.module("app").controller("ReferFriendTermsAndConditionsCtrl",["ReacceptTermsAndConditionsService","AccountService","UserProfileService","RegisterService","$sessionStorage","$scope","$state","$filter","DepositService","$location","$controller","$timeout","whiteLabelData","ngDialog","CommonService","$rootScope",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){var q=k("RegisterCtrl as parent",{$scope:f});angular.extend(this,q);var r=this;f.submitted=!1,f.isFormReadyToSubmit=!1,f.reacceptAnswers=q.dataObject,f.termsAndConditionsQuestions=a.termsAndConditionsQuestions,f.$watchCollection("reacceptAnswers",function(a,b){return a?void(f.isFormReadyToSubmit=f.termsAndConditionsQuestions.every(function(b){return Object.keys(a).indexOf(b.FieldName)>-1&&a[b.FieldName]})):!1}),r.validateForm=function(){if(f.isFormReadyToSubmit||j.$$path.contains("refer_friend")){f.submitted=!0;var b={BusinessGroup:e.userProfile.BusinessGroupId,termsAndConditionsList:[],CustomerId:e.userProfile.CustomerID,Accounts:h("filter")(e.userProfile.Accounts,{IsReal:!0}),token:q.token};Object.keys(f.reacceptAnswers).forEach(function(a){b.termsAndConditionsList.push({Key:a,Value:f.reacceptAnswers[a]})}),a.saveTermsAndConditions(b).then(function(b){1==b.data?(a.dialog.close(),c.refreshUserProfile()):o.openOopsPopUp(),f.submitted=!1},function(a){console.log("failed saving your terms"),f.submitted=!1,o.openOopsPopUp()})}}}angular.module("app").controller("ReacceptTermsAndConditionsCtrl",["ReacceptTermsAndConditionsService","AccountService","UserProfileService","RegisterService","$sessionStorage","$scope","$state","$filter","DepositService","$location","$controller","$timeout","whiteLabelData","ngDialog","CommonService","$rootScope",a])}(),function(a){function b(a,b,c,d,e,f,g,c,h,i,j,k,l,m,n,o,p){var q=this;q.dialog={},q.IsATrade=a.getIsATrade(),q.isRecceptTermsAndConditionsNeeded=function(d){var e=a.hasRealAccount(),f=a.isNativeMobile();!(!e&&i.isGDPRRelevant()||e)||c.userProfile.TermsAndConditionsAccepted||f||q.GetTermsAndConditionsQuestions(d.BusinessGroupId,d.LanguageId,c.WhiteLabelName).then(function(a){q.termsAndConditionsQuestions=a.data,b.$broadcast("termsAndConditionsPopup"),q.dialog=g.open({template:"views/popUp/termsAndConditions/reaccept-terms-and-conditions.html",controller:"ReacceptTermsAndConditionsCtrl",controllerAs:"TermsAndConditions",className:"ngdialog-theme-default ava-dialog",closeByDocument:!1,showClose:!1,preCloseCallback:function(a){0==a&&b.$broadcast("logOut")}})})},q.isReferFriendTermsAndConditionsNeeded=function(d){var e=a.hasRealAccount(),f=a.isNativeMobile();!e||f||d.ReferFriendTermsAndConditionsAccepted||q.GetTermsAndConditionsQuestions(d.BusinessGroupId,d.LanguageId,c.WhiteLabelName).then(function(a){q.termsAndConditionsQuestions=a.data,b.$broadcast("termsAndConditionsPopup"),q.dialog=g.open({template:"views/popUp/termsAndConditions/referFriend-terms-and-conditions.html",controller:"ReferFriendTermsAndConditionsCtrl",controllerAs:"TermsAndConditions",className:"ngdialog-theme-default ava-dialog",closeByDocument:!1,showClose:!1,preCloseCallback:function(a){0==a&&b.$broadcast("logOut")}})})},q.saveTermsAndConditions=function(a){return l.post(window.webApidomain+"api/AcceptTermsAndConditions/AcceptRegulationTerms_NewCrm",JSON.stringify(a))},q.GetTermsAndConditionsQuestions=function(a,b,c){return l.get(window.webApidomain+"api/AcceptTermsAndConditions/GetTermsAndConditionsQuestions?businessGroup="+a+"&languageId="+b+"&whiteLabelName="+c)}}angular.module("app").service("ReacceptTermsAndConditionsService",["CommonService","$rootScope","$sessionStorage","$browser","MyAvaConfig","MyAvaConsts","ngDialog","$sessionStorage","$state","RegisterService","DefaultStates","$timeout","$http","$q","$filter","AccountService","MobileService",b])}(window),function(a){function b(a,b,c,d,e){function f(a,b){var c=new Date(a),d=b?new Date(b):new Date;return parseInt((d-c)/864e5,10)}var g=this;g.IsAvaTrade=a.getIsAvaTrade(),g.isNativeMobile=/native/i.test(b.WhiteLabelMode),g.countdown=14,g.checkRemainder=function(h){if(h=h||b.userProfile,h&&h.Accounts&&h.Accounts.length&&!/deposit\/typ/i.test(e.$$path)&&!/withdrawl_funds/i.test(e.$$path)){var i=a.hasRealAccount(),j=a.hasUploadDocs(),k=a.isUserApproved(),l=a.hasRealAndOnlyPendingDeposits();if(g.IsAvaTrade&&!g.isNativeMobile&&i&&(h.hasFtd||l)&&!j&&!k){var m=h.Accounts.map(function(a){return a.CreatedOn}).sort().shift();if(g.days=g.countdown-f(m),g.dialog||g.days<=0)return;g.dialog=c.open({template:"views/popUp/blockedDocsRemainder/blocked-docs-remainder.html",controller:["$scope",function(a){a.days=g.days}],className:"ngdialog-theme-default ng-dialog-ava",closeByDocument:!1,showClose:!0,preCloseCallback:function(a){1==a&&(void 0!=b.NoInternalRouting&&""!==b.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_UPLOADDOCS"}',"*"):d.go("upload_document"))}})}}}}angular.module("app").service("BlockedDocsRemainderService",["CommonService","$sessionStorage","ngDialog","$state","$location",b])}(window),function(a,b,c){function d(a,b,c,d,e,f){var g=this;window.$myava=window.$myava||{},$myava.security={licenseKey:"12345-0000-6PZQ-45678-GO71JZ"};var h=function(){window.$myava=window.$myava||{},window.$myava.LoginLayout=new Object,window.$myava.LoginLayout.settings={Width:"100%",Height:"100%",CssClass:"",ForColor:"",BackColor:"",Title:"",Lang:a.lang,Style:"StyleBLogin.css",widgetContainerId:"avaloginWidgetContainer"},window.$myava.email=f.email||"",f.email&&delete f.email,window.$myava.loginWidget=new Object,window.$myava.loginWidget.configs={servicesDomain:c.servicesDomain,myAvaWebroot:c.myAvaWebroot,myAvaDomain:c.myAvaDomain,cdnResourcesDomain:c.cdnResourcesDomain,version:c.version,whiteLabel:c.defaultWhiteLabelName?{name:c.defaultWhiteLabelName}:{name:b.Name},requestedPageBeforeLoggedIn:f.requestedPageBeforeLoggedIn,ClientLoggerURL:c.ClientLoggerURL,ClientLogEnabled:c.ClientLogEnabled};var d=document.createElement("script"),e=document.getElementsByTagName("script")[0],g="";c.version&&(g="?v="+c.version),d.src=c.cdnResourcesDomain+"Widgets/Login/scripts/myAvaLoginData.js"+g,e.parentNode.insertBefore(d,e)};h(),g.RealAccountUrl=b.RealAccountUrl,g.DemoAccountUrl=b.DemoAccountUrl}angular.module("app").controller("HomeCtrl",["$localStorage","whiteLabelData","MyAvaConfig","$scope","RegisterService","$sessionStorage",d])}(window,document,"script"),function(){function a(a,b){a.state("home",{url:"",templateUrl:"views/home/views/home.html",controller:"HomeCtrl",controllerAs:"home",help:"views/sideBox/views/help/help.html",safety:"views/sideBox/views/safety/safety.html",onEnter:["$state","AuthService",function(a,b){b.getIsLoggedIn()&&a.go("my_account")}]}),b.otherwise("")}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(){}angular.module("app").service("HomeService",[a])}(),function(a,b,c){function d(b,c,d,e,f,g,h,i,j,k,l,m,n){console.log("in LoginCtrl"),i.closeAll(),h.typOn=!1,g.setIsLoggedIn(!1),window.$myava=window.$myava||{},m.search().tradingPlatform&&(j.tradingplatform=m.search().tradingPlatform),m.search().dealType&&(j.dealtype=m.search().dealType),m.search().mtsrv&&(j.serverName=m.search().mtsrv);var o=this;f.WhiteLabelMode&&"undefined"!=f.WhiteLabelMode&&(j.WhiteLabelMode=f.WhiteLabelMode),f.WhiteLabelName&&(j.WhiteLabelName=f.WhiteLabelName||void 0,window.$myava.WhiteLabel={name:j.WhiteLabelName,mode:void 0!=j.WhiteLabelMode?j.WhiteLabelMode:""}),h.$broadcast("updateContactNumber"),$myava.security={licenseKey:"12345-0000-6PZQ-45678-GO71JZ"},window.$myava.WidgetLoginSuccessEvent=function(){g.goStateUpdateSessions()},o.email=j.email||f.email||"",o.regType=f.regType,window.$myava.regType=f.regType,""!=o.email&&(a.loginEmail=o.email),window.$myava.isQAPlatform=g.isQa(),h.$on("configPlatformChange",function(a,b){window.$myava.isQAPlatform=g.isQa()}),console.log("login"),o.clickTest=function(){alert("click Test")},o.check=!0;var p=function(){window.$myava=window.$myava||{},window.$myava.LoginLayout=new Object,window.$myava.LoginLayout.settings={Width:"100%",Height:"100%",CssClass:"",ForColor:"",BackColor:"",Title:"",Lang:k.lang,Style:"StyleBLogin.css",widgetContainerId:"avaloginWidgetContainer"},window.$myava.email=j.email||"",j.email&&delete j.email,window.$myava.loginWidget=new Object,window.$myava.loginWidget.configs={servicesDomain:l.servicesDomain,myAvaWebroot:l.myAvaWebroot,myAvaDomain:l.myAvaDomain,cdnResourcesDomain:l.cdnResourcesDomain,version:l.version,whiteLabel:l.defaultWhiteLabelName?{name:l.defaultWhiteLabelName}:{name:n.Name},ClientLoggerURL:l.ClientLoggerURL,ClientLogEnabled:l.ClientLogEnabled};var a=document.createElement("script"),b=document.getElementsByTagName("script")[0],c="";l.version&&(c="?v="+l.version),a.src=l.cdnResourcesDomain+"Widgets/Login/scripts/myAvaLoginData.js"+c,b.parentNode.insertBefore(a,b),j.Theme&&(j.Theme=""),j.WhiteLabelMode&&"iframe"==j.WhiteLabelMode&&(j.WhiteLabelMode="")};p()}angular.module("app").controller("LoginCtrl",["$scope","AccountService","$state","$timeout","$stateParams","AuthService","$rootScope","ngDialog","$sessionStorage","$localStorage","MyAvaConfig","$location","whiteLabelData",d])}(window,document,"script"),angular.module("app").directive("script",function(){return{restrict:"E",scope:!1,link:function(a,b,c){if("text/javascript-lazy"===c.type){var d=b.text(),e=new Function(d);e()}}}}),function(){function a(a,b){a.state("login",{url:"/login",templateUrl:function(a){return console.log(a),"views/login/login.html"},controller:"LoginCtrl",controllerAs:"logIn",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html",onEnter:["$state","AuthService",function(a,b){b.getIsLoggedIn()&&a.go("my_account")}]}).state("login/:email/:regType",{url:"/login/:email/:regType",templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"logIn",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html",onEnter:["$state","AuthService",function(a,b){b.getIsLoggedIn()&&a.go("my_account")}]}).state("login/:email/:regType/:tradingplatform/:dealtype/:mtsrv",{url:"/login/:email/:regType/:tradingplatform/:dealtype/:mtsrv",templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"logIn",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html",onEnter:["$state","AuthService",function(a,b){b.getIsLoggedIn()&&a.go("my_account")}]}).state("login/:email/:regType/:WhiteLabelName/:WhiteLabelMode",{url:"/login/:email/:regType/:WhiteLabelName/:WhiteLabelMode",templateUrl:"views/login/login.html",controller:"LoginCtrl",controllerAs:"logIn",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html",onEnter:["$state","AuthService",function(a,b){b.getIsLoggedIn()&&a.go("my_account")}]})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a){function b(a,b,c,d,e,f,g,h,i){var j=this;j.getPixelTracking=function(b,c){return a.get(window.webApidomain+"api/Tracking/GetPixelTracking_NewCrm?conversionEvent="+c)},j.getTrackingParameters=function(b){return a.get(window.webApidomain+"api/Tracking/GetTrackingParameters_NewCrm")},j.updateUserPreferences=function(b){var c=JSON.stringify(b);return a.post(window.webApidomain+"api/AccountInfo/updateUserPreferences",c)},j.updateCOIPopUpSeen=function(){a.get(window.webApidomain+"api/AccountInfo/UpdateLastSeenCOIPopupDate")},j.getTYPData=function(b,c,d,e,f,g,h,i){var j={TPAccountID:c,PlatformId:d,Action:e,Currency:f,WhiteLabelName:g||null,AccountGuid:h,IsMobile:i,Language:JSON.parse(localStorage.getItem("ngStorage-lang"))};return data=JSON.stringify(j),a.post(window.webApidomain+"api/AccountInfo/GetTYPAccountInfo_NewCrm",data)},j.GetTYP_Profile=function(b,c,e,f,g){var h={TPAccountID:c,WhiteLabelName:e,AccountId:f,IsMobile:g},i=JSON.stringify(h);return a.post(window.webApidomain+"api/AccountInfo/GetTYPAccountInfo_NewCrm",i).success(function(a){j.setLocalUserProfile(a),d.$broadcast("userProfileUpdated"),d.$broadcast("updateBonusBannerVisibility")})},j.saveLossLimit=function(){var b={Answers:null};return a.post(window.webApidomain+"api/LossLimit/SaveLossLimit",b).then(function(a){console.log(a)})["catch"](function(a){console.log(a)})},j.getTYPServerName=function(b,c,d,e,f,g,h,i){var j=JSON.parse(localStorage.getItem("ngStorage-lang")),k={ServerName:c,PlatformId:d,Action:e,Currency:f,TPAccountID:g,WhiteLabelName:h||null,AccountGuid:i,Language:j},l=JSON.stringify(k);return a.post(window.webApidomain+"api/AccountInfo/GetMtServer",l)},j.GetUserProfile=function(b){var e=angular.injector(["ng"]).get("$q"),f=e.defer(),g=c.WhiteLabelName||c.whiteLabelData.Name;return a({url:window.webApidomain+"api/AccountInfo/GetMyAvaUserProfile_NewCrm?whiteLabel="+g,headers:{token:b},method:"GET",transformResponse:appendTransform(a.defaults.transformResponse,function(a){return c.isPartialUserProfile=!1,a})}).success(function(a){j.setLocalUserProfile(a),d.$broadcast("userProfileUpdated"),d.$broadcast("updateBonusBannerVisibility"),f.resolve(a)}).error(function(a,b){f.reject(a)}),f.promise},j.SetIsBalanceLoading=function(a){d.isBalanceLoading=a},j.GetAccountsBalances=function(){j.SetIsBalanceLoading(!0);var b=angular.injector(["ng"]).get("$q"),c=b.defer(),e=j;return a.get(window.webApidomain+"api/AccountInfo/GetAccountsBalances_NewCrm").success(function(a){e.setLocalAccountsBalances(a),d.$broadcast("accountsBalancesUpdated"),c.resolve(a),j.SetIsBalanceLoading(!1)}).error(function(a){c.reject(a),j.SetIsBalanceLoading(!1)}),c.promise},j.refreshEquity=function(){return j.GetAccountsBalances()},j.GetUserProfileInit=function(a){j.setLocalUserProfile(a),d.$broadcast("userProfileUpdated"),d.$broadcast("updateBonusBannerVisibility")},j.setLocalAccountsBalances=function(a){c.AccountsBalances=a},j.getLocalAccountsBalances=function(){return c.AccountsBalances},j.refreshUserProfile=function(){return j.GetUserProfile(f.getToken())},j.unarchivedUserAccounts=function(b){return a.get(window.webApidomain+"api/ChangePassword/UnarchivedUserAccounts_NewCrm?token="+b)},j.unarchivedCastomerUserAccounts=function(b){return a.post(window.webApidomain+"api/Customer/UnarchiveUserAccounts",b)},j.ChangePassword=function(b,c,d){return data={OldPassword:b,NewPassword:d,ConfirmPassword:c},data=JSON.stringify(data),a.post(window.webApidomain+"api/ChangePassword/ChangePassword_NewCrm",data)},j.checkIfHasDateOfBirth=function(b){return a.get(window.webApidomain+"api/ChangePassword/UserHasDateOfBirth_NewCrm?token="+b)},j.ResetPassword=function(b,c,d,e){return data={Token:b,NewPassword:c||d,DateOfBirth:e,URL:location.href,UserAgent:navigator.userAgent},a.post(window.webApidomain+"api/ChangePassword/ResetPassword_NewCrm",data)},j.ChangeLanguage=function(b){var c={languageCode:b};return c=JSON.stringify(c),a.post(window.webApidomain+"api/CustomerManager/ChangeLanguage_NewCrm",c)},j.GetSupportNumber=function(b,c){return a.get(window.webApidomain+"api/CountriesCurrencies/GetCountryContactPhone_NewCrm?countryId="+b+(c?"&whiteLabelName="+c:""))},j.GetSupportNumberByIp=function(b){if(g.IsChinaDomain())return j.GetSupportNumber(h.CountryId.China,"");switch(c.whiteLabelData.Name){case"ATRADE":return j.GetSupportNumber(h.CountryId.Israel,"ATRADE");case"AvaJapan":return j.GetSupportNumber(h.CountryId.Japan,"AvaJapan");case"LatinPlusTrader":return j.GetSupportNumber(h.CountryId.Mexico,"LatinPlusTrader");case"Crypto-X":return j.GetSupportNumber(h.CountryId.Japan,"Crypto-X");case"FriedbergDirectAVA":return j.GetSupportNumber(h.CountryId.Canada,"FriedbergDirectAVA");default:return a.get(window.webApidomain+"api/PlatformsServices/GetContactPhone_NewCrm?ipAddress="+b)}},j.GetLanguagesLookup=function(){return a.get(window.webApidomain+"api/AccountInfo/GetLangaugesList_NewCrm?&whiteLabelName="+c.whiteLabelData.Name)},j.setLocalUserProfile=function(a){c.userProfile=a},j.getLocalUserProfile=function(){return c.userProfile},j.getUserAccountByIdFromUserProfile=function(a){var b=j.getLocalUserProfile();if(b&&b.Accounts){const c=e("filter")(b.Accounts,{AccountId:a}),d=c.sort(function(a,b){return a.AccountId-b.AccountId});return a?d[0]:d[b.Accounts.length-1]}j.GetUserProfile(f.getToken()).then(function(b){var c=b.Accounts;return e("filter")(c,{AccountId:a})[0]})},j.updateCustomerAccounts=function(){var b=j.getLocalUserProfile().CustomerID,e=(f.getToken(),angular.injector(["ng"]).get("$q")),g=e.defer();return a.get(window.webApidomain+"api/AccountInfo/GetCustomerAccounts?customerId="+b).success(function(a){c.userProfile.Accounts=a,d.$broadcast("userProfileUpdated"),d.$broadcast("updateBonusBannerVisibility"),g.resolve(a)}).error(function(a,b){g.reject(a)}),g.promise},j.IsFtd=function(){var a=j.getLocalUserProfile();if(a&&a.Accounts)for(var b=0;b<a.Accounts.length;b++)if(!a.Accounts[b].IsFTD)return!1;return!0},j.isAustralianAccount=function(){var a=j.getLocalUserProfile();return a&&14==a.CountryID},j.upgradeToProfessional=function(b){var c=angular.injector(["ng"]).get("$q"),d=c.defer();return a.post(window.webApidomain+"api/ProfessionalTrader/UpgradeToProfessional",b).success(function(){j.refreshUserProfile(),d.resolve()}).error(function(a){d.reject(a)}),d.promise},j.downgradeToRetail=function(){var b=angular.injector(["ng"]).get("$q"),c=b.defer();return a.get(window.webApidomain+"api/ProfessionalTrader/DowngradeToRetail").success(function(){j.refreshUserProfile(),c.resolve()}).error(function(a){c.reject(a)}),c.promise},j.getPendingWithdrawals=function(){return j.refreshUserProfile(),j.getLocalUserProfile().PendingWithdrawals},j.getPendingDepositsFromUserProfile=function(){return j.refreshUserProfile(),j.getLocalUserProfile().PendingDeposits},j.getPendingDepositsInLogin=function(){return a.get(window.webApidomain+"api/PendingDeposit/GetPendingDeposits")}}angular.module("app").service("AccountService",["$http","$log","$sessionStorage","$rootScope","$filter","AuthService","DomainService","MyAvaConsts","$location",b])}(window),function(){function a(a,b){a.state("my_account",{url:"/my_account",templateUrl:"views/account/views/my_account/my_account.html",controller:"MyAccountCtrl",controllerAs:"myAccount",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("my_account.demo_expired",{url:"/demo_expired",controller:"MyAccountCtrl",controllerAs:"myAccount",templateUrl:"views/popUp/demo-account-expired.html",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,g,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C){function D(){function a(a){var b={},d={counts:[],dataset:a};return new c(b,d)}F.realAccountsList=d("filter")(F.userProfile.Accounts,{IsReal:!0}),F.demoAccountsList=d("filter")(F.userProfile.Accounts,{IsReal:!1}),F.realAccountsList&&F.realAccountsList.length>0?F.realAccountTable=a(F.realAccountsList):F.realAccountsList=!1,F.demoAccountsList&&F.demoAccountsList.length>0?F.demoAccountTable=a(F.demoAccountsList):F.demoAccountsList=!1,u.$broadcast("setIsRealSelected",{isRealSelected:F.realAccountsList.length>0,isRealEmpty:!F.realAccountsList.length>0,isDemoEmpty:!F.demoAccountsList.length>0}),F.hasReal=F.realAccountsList.length>0,F.hasDemo=F.demoAccountsList.length>0}var E=f("RegisterCtrl as parent",{$scope:k});angular.extend(this,E),k.reacceptAnswers=E.dataObject,n.search().CName&&n.search().PID&&(i.promotionResponse={CName:n.search().CName,PID:n.search().PID}),n.search().p&&(i.platformName=n.search().p);var F=this;F.showLossLimitPopup=!1,F.lossLimitPopup=sessionStorage.LossLimitDataPopup,u.$broadcast("isLossLimitPopup",{isLossLimitPopup:!1}),F.popupUrlVueAva="loss-limit",F.mobile={},F.dialog={},F.userProfile=g.getLocalUserProfile(),F.isEquityZero=!0,F.isAvaJapan=s.getIsAvaJapan(),F.isATrade=s.getIsATrade(),F.isCryptoX=s.getIsCrypto(),F.isFriedbergDirectAVA=s.getIsFriedbergDirectAVA(),F.isAllSecurities=s.getIsAllSecurities(),F.isADGM=s.getIsADGM(),F.firstName=F.userProfile.FirstName,F.lastName=F.userProfile.LastName,F.isEU_BG=1==i.businessGroupId;var G=[105,39,45,209,126,97];F.isNotAvaTradeGoCountry=G.some(function(a){return a==F.userProfile.CountryID}),k.ConflictOfInterest={flag:!1},F.dataObject||(F.dataObject={});var H=function(){if(F.isATrade)if("true"==i.ATradeCOI)k.GetConflictPopup();else if(sessionStorage.COIPopupType&&"COIFirstPopUp"==sessionStorage.COIPopupType){if(i.seenCOIPopup)return;M(),g.updateCOIPopUpSeen()}else if(sessionStorage.COIPopupType&&"COISecondPopUp"==sessionStorage.COIPopupType){if(i.seenCOIPopup)return;N(),g.updateCOIPopUpSeen()}};F.showDupliTrade=function(a){return F.isAvaJapan||F.isATrade||F.isCryptoX||F.isFriedbergDirectAVA||F.isAllSecurities||F.isADGM||a.TradingPlatform==x.avaOption||u.mobileConfig.isMobile?!1:!0;
},F.goToPendingDeposits=function(){l.go("pending-deposit")},g.SetIsBalanceLoading(!0),g.getPendingDepositsInLogin().then(function(a){var b=a.data;F.userProfile||(F.userProfile=g.getLocalUserProfile()),b.forEach(function(a){var b=d("filter")(F.userProfile.Accounts,{TPAccountID:a.AccountNumber});b.AccountPendingDeposits+=a.Amount})}),g.GetAccountsBalances().then(function(){k.$apply(function(){g.SetIsBalanceLoading(!1),F.accountBalances=g.getLocalAccountsBalances()})});var I=function(){F.isDemoAccountExpired=s.checkDemoAccountExpiration(F.userProfile)&&!s.hasRealAccount()&&!s.hasActiveDemoAccount(),F.isDemoAccountExpired&&l.go("my_account.demo_expired")};F.getIsShowSharpTrader=function(){return i.whiteLabelData&&(u.IsShowSharpTrader=null!=i.whiteLabelData.SharpTraderLink),u.IsShowSharpTrader},I(),F.getIsShowSharpTrader();var J=function(){var a="";return q&&q.SharpTraderLink&&(a=q.SharpTraderLink,F.userProfile||(F.userProfile=g.getLocalUserProfile()),F.userProfile&&F.userProfile.LanguageCode&&"en"!=F.userProfile.LanguageCode&&t.isLanguageSuported(F.userProfile.LanguageCode.toLowerCase())&&(a=q.SharpTraderLink+F.userProfile.LanguageCode.toLowerCase()+"/")),a},K=function(){var a="";return q&&q.SharpTraderLink&&(a=q.SharpTraderLink),a};k.notifyViewReady=function(){k.notifiedViewReady=!0,1==i.businessGroupId&&g.GetUserProfile(B.getToken())};var L=function(){k.RealAccountUrl=q.RealAccountUrl,k.DemoAccountUrl=q.DemoAccountUrl,F.sharpTradeLink=J(),F.videoLink=K(),F.lang=F.userProfile.LanguageCode,u.$broadcast("shortDemoToRealregFinished","fromMy_account"),u.$broadcast("registrationFinished_ST"),"firstLogin"==sessionStorage.LossLimitDataLogin&&(F.openLossLimitPopup(),sessionStorage.LossLimitDataLogin=""),u.$on("closeLossLimitPopup",function(){F.showLossLimitPopup=!1}),u.$on("saveLossLimitPopup",function(a,b){F.lossLimitPopup=b.popup}),k.$on("$stateChangeSuccess",function(a,b,c,d,e){d.name.indexOf("Real")>-1&&1==i.businessGroupId&&(u.$broadcast("typPopUpEurope"),F.dialog=r.open({template:"views/popUp/typPopUp.html",scope:k,className:"ngdialog-theme-default typ-popUp",closeByDocument:!1,showClose:!0,preCloseCallback:function(a){a&&"deposit"==a.action&&F.goToDeposit()}}))}),k.$on("$stateChangeStart",function(a,b,c,d,e){"LimitExceeded"==sessionStorage.LossLimitDataPopup&&F.showLossLimitPopup&&"home"!==b.name&&g.saveLossLimit()})};F.goToDeposit=function(){l.go("deposit")},k.createAccountByRegType=function(a){h.createAccountByRegType(a)},k.$on("setIsRealSelected",function(a,b){F.mobile.isRealSelected=b.isRealSelected}),k.$on("userProfileUpdated",function(a,b){I(),F.userProfile=g.getLocalUserProfile(),F.userProfile&&F.userProfile.Accounts&&F.userProfile.Accounts.length>0&&(D(),F.showTables=!0)}),F.userProfile&&(D(),F.showTables=!0),k.$on("accountsBalancesUpdated",function(a,b){F.accountBalances=g.getLocalAccountsBalances()}),F.refreshEquity=function(){g.SetIsBalanceLoading(!0),g.getPendingDepositsFromUserProfile(),g.refreshEquity().then(function(){k.$apply(function(){g.SetIsBalanceLoading(!1)})})},F.tableCols=["Account Details","Trading Platform","Equity","Action"],F.createAccountByRegType=function(a){h.createAccountByRegType(a)},F.openLossLimitPopup=function(a){"LimitExceeded"==sessionStorage.LossLimitDataPopup?(F.showLossLimitPopup=!0,u.$broadcast("isLossLimitPopup",{isLossLimitPopup:!0}),a&&a.preventDefault()):"NewLimitExceeded"==sessionStorage.LossLimitDataPopup?(a&&a.preventDefault(),r.open({template:"views/popUp/lossLimit/newLimitExceededPopup.html",className:"ngdialog-theme-default",scope:k,closeByDocument:!1,showClose:!1,preCloseCallback:function(){l.go("my_account")}})):"NewLimitRejected"==sessionStorage.LossLimitDataPopup&&(a&&a.preventDefault(),r.open({template:"views/popUp/lossLimit/newLimitRejectedPopup.html",className:"ngdialog-theme-default",scope:k,closeByDocument:!1,showClose:!1,preCloseCallback:function(){l.go("my_account")}}))},F.deposit=function(a,b){m.setSelectedAccount(a),void 0!=i.NoInternalRouting&&""!==i.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_DEPOSIT"}',"*"):l.go("deposit")},n.search(""),F.DownloadPlatformWebMobileClick=function(a,b){o(function(){sessionStorage.LossLimitDataPopup&&"None"!==sessionStorage.LossLimitDataPopup&&b&&(F.openLossLimitPopup(b),u.$broadcast("isLossLimitPopup",{isLossLimitPopup:!0}))})},F.DownloadPlatformWebMobile=function(a,b){var c=a.TPWebLink;return c=a.TradingPlatform==x.avaOption?a.TPWebLink:w.DownloadApp(a)},F.accountStatementRedirect=function(a,b){i.TPAccountID=b,"/"==a?l.go("account_statement"):window.open(a,"_blank")},F.downgradeToRetail=function(){var a="downgrade",b=["$scope",function(a){a.onCancelProClick=function(){g.downgradeToRetail().then(function(){a.proCanceled=!0,delete i.formData})}}];y.showCommonAvaProPopup(a,null,!0,b)},F.platformClick=function(a,b,c){u.$broadcast("onTradingPlatformClick",a),sessionStorage.LossLimitDataPopup&&"None"!==sessionStorage.LossLimitDataPopup?(b.preventDefault(),F.openLossLimitPopup(b)):c&&isWebTrader()?r.open({template:"views/popUp/wt_external_app_redirect_notice/wt_external_app_redirect_notice.html",className:"ngdialog-theme-default ngdialog-theme-webtrader",scope:k,closeByDocument:!1,showClose:!0,preCloseCallback:function(a){"boolean"==typeof a&&a&&window.open(c.href)}}):window.open(c.href)},F.dupliTradeClick=function(a){return a.isDuplitradeLoading=!0,A.post(window.webApidomain+"api/DupliTrade/DupliTradeAction?accountId="+a.AccountId).then(function(b){var c=b.data;a.isDuplitradeLoading=!1,c?isWebTrader()?r.open({template:"views/popUp/wt_external_app_redirect_notice/wt_external_app_redirect_notice.html",className:"ngdialog-theme-default ngdialog-theme-webtrader",scope:k,closeByDocument:!1,showClose:!0,preCloseCallback:function(a){"boolean"==typeof a&&a&&(window.open(c,"_blank"),g.GetUserProfile(B.getToken()),u.$broadcast("DupliTradeClickConnect"))}}):(window.open(c,"_blank"),g.GetUserProfile(B.getToken()),u.$broadcast("DupliTradeClickConnect")):(C.ShowErrorPopup("sorry","duplitrade_error"),a.isDuplitradeLoading=!1)})["catch"](function(b){C.ShowErrorPopup("sorry","duplitrade_error"),a.isDuplitradeLoading=!1})},F.downlodPersonalInformation=function(){var a="";F.userProfile.DateOfBirth&&(a=F.userProfile.DateOfBirth.substr(0,F.userProfile.DateOfBirth.indexOf("T")));var b="";F.userProfile.AddressData&&(b=F.userProfile.AddressData.Building+" "+F.userProfile.AddressData.Street+", "+F.userProfile.AddressData.City+", "+F.userProfile.AddressData.ZipCode,F.userProfile.AddressData.Flat&&(b=b+". Flat: "+F.userProfile.AddressData.Flat));var c="First Name: "+F.userProfile.FirstName+"\r\nLast Name: "+F.userProfile.LastName+"\r\nEmail: "+F.userProfile.Email+"\r\nCountry: "+F.userProfile.CountryName+"\r\nPhone: "+F.userProfile.PhoneNumber+"\r\nDate of Birth: "+a+"\r\nAddress: "+b+"\r\n",d=new Blob([c],{type:"text/plain"});blobURL=URL.createObjectURL(d);var e=document.getElementById("downloadlink");e.href=blobURL,e.download="info.txt",e.click(),URL.revokeObjectURL(blobURL)},L(),F.goToPendingWithdrawl=function(){void 0!=i.NoInternalRouting&&""!==i.NoInternalRouting?window.parent.postMessage('{"type":"REDIRECT_TO_CRM_WITHDRAW"}',"*"):l.go("pending_withdrawl")},k.submitConflict=function(){var a=!0;return 0==k.ConflictOfInterest.flag?(angular.element("#spanConflict").addClass("errorChecked"),a=!1):(angular.element("#spanConflict").removeClass("errorChecked"),"true"==i.ATradeCOI&&(i.ATradeCOI="false"),O()),F.dataObject.ConflictOfInterest=a,a};var M=function(){r.open({template:"views/popUp/atrade/atrade-coi-december.html",className:"ngdialog-theme-default typ-popUp atrade-regulation-popup",scope:k,closeByDocument:!1,showClose:!1,preCloseCallback:!1}),i.seenCOIPopup=!0},N=function(){r.open({template:"views/popUp/atrade/atrade-coi-january.html",className:"ngdialog-theme-default typ-popUp atrade-regulation-popup",scope:k,closeByDocument:!1,showClose:!1,preCloseCallback:!1}),i.seenCOIPopup=!0};k.GetConflictPopup=function(){r.open({template:"views/popUp/conflict-of-interest-atrade.html",className:"ngdialog-theme-default ava-dialog ngdialog-theme-conflict",scope:k,closeByDocument:!0,preCloseCallback:function(a){return 1==a?k.submitConflict():(F.dataObject.ConflictOfInterest=!1,void("true"==i.ATradeCOI&&(i.ATradeCOI="false")))}})};var O=function(){k.submitted=!0;var b={BusinessGroup:i.userProfile.BusinessGroupId,termsAndConditionsList:[],CustomerId:i.userProfile.CustomerID,Accounts:d("filter")(i.userProfile.Accounts,{IsReal:!0}),token:B.getToken()};b.termsAndConditionsList.push({Key:"ConflictOfInterest",Value:k.reacceptAnswers.ConflictOfInterest}),a.saveTermsAndConditions(b).then(function(b){1==b.data?(a.dialog.close(),e.refreshUserProfile(),u.$broadcast("AcceptConflictOfInterestTC")):s.openOopsPopUp(),k.submitted=!1},function(a){console.log("failed saving your terms"),k.submitted=!1,s.openOopsPopUp()})};H()}angular.module("app").controller("MyAccountCtrl",["ReacceptTermsAndConditionsService","LanguageService","NgTableParams","$filter","UserProfileService","$controller","AccountService","RegisterService","$sessionStorage","CustomerData","AccountService","$scope","$state","DepositService","$location","$timeout","MyAvaConfig","whiteLabelData","ngDialog","CommonService","SharpTraderService","$rootScope","SharpTraderSupportedLangs","MobileService","PlatformIds","ProfessionalTraderService","$window","$http","AuthService","CommonUiService",a])}(),function(){function a(a,b){}angular.module("app").controller("AccountInfoCtrl",["$sessionStorage","$scope",a])}(),function(){function a(a,b){a.state("account_info",{url:"/account_info",templateUrl:"views/account_info/account_info.html",controller:"AccountInfoCtrl",controllerAs:"accountInfo",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b){}angular.module("app").controller("InternalTransferCtrl",["$sessionStorage","$scope",a])}(),function(){function a(a,b){a.state("internal_transfer",{url:"/internal_transfer",templateUrl:"views/internal_transfer/internal_transfer.html",controller:"InternalTransferCtrl",controllerAs:"internalTransfer",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a){function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){var s=e;s.isRtL=a.langDirection.toString().contains("Rtl"),e.referId=null,e.mobileConfig=a.mobileConfig,s.mobile={},s.dialog={},s.facebook=function(){a.$broadcast("ReferFriendSocial_Facebook")},s.whatsapp=function(){a.$broadcast("ReferFriendSocial_Whatsapp")},s.gmail=function(){a.$broadcast("ReferFriendSocial_Gmail")},a.$on("$stateChangeSuccess",function(b,c,d,e,f){"deposit"==e.name&&"refer_friend"==c.name&&a.$broadcast("ReferFriendFromStateDeposit")}),s.copyLink=function(){var b=document.getElementById("TrackingLink"),c=document.createElement("textarea");c.value=b.textContent,document.body.appendChild(c),c.select(),document.execCommand("copy"),a.$broadcast("ReferFriendSocial_CopyLink"),c.remove()},UserProfile=p.getLocalUserProfile(),UserProfile&&l.getIsLoggedIn()&&r.isReferFriendTermsAndConditionsNeeded(UserProfile);var t=function(){k.GetReferId().then(function(a){e.referId=a.data,null===e.referId||"null"===e.referId?k.CreateReferId().then(function(a){e.referId=a.data,k.AddReferId(e.referId),u()}):u()})},u=function(){var a=q.protocol(),b=q.host();e.trackingLink=a+"://"+b+"/register/step1/1?tag="+e.referId,e.whatsappBaseUrl="https://wa.me/",/Android.+Mobile/i.test(navigator.userAgent)&&(e.whatsappBaseUrl="whatsapp://send")};t()}angular.module("app").controller("ReferFriendCtrl",["$rootScope","$localStorage","$sessionStorage","whiteLabelData","$scope","$state","$timeout","MyAvaConsts","$stateParams","$filter","ReferFriendService","AuthService","CommonService","MobileService","ngDialog","UserProfileService","$location","ReacceptTermsAndConditionsService",b])}(window),function(){function a(a,b){a.state("refer_friend",{url:"/refer_friend",templateUrl:"views/refer_friend/views/refer_friend.html",controller:"ReferFriendCtrl",controllerAs:"refer_friendt",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=this,m=f.getLocalUserProfile();l.CreateReferId=function(){return a.get(window.webApidomain+"api/referfriend/CreateReferId?customerId="+m.CustomerID)},l.AddReferId=function(b){var c={customerId:m.CustomerID,referId:b};return a.post(window.webApidomain+"api/referfriend/AddReferId?customerId="+c.customerId+"&referId="+c.referId)},l.GetReferId=function(){return a.get(window.webApidomain+"api/referfriend/GetReferId?customerId="+m.CustomerID)}}angular.module("app").service("ReferFriendService",["$http","$localStorage","$sessionStorage","$browser","$rootScope","AccountService","eResponseAdditionalProperties","MyAvaConsts","whiteLabelData","CommonService","eRequestAdditionalProperties",a])}(),function(){function a(a,b,c,d,e,f,g,h,b,e,i,j,k){a.referId=null}angular.module("app").controller("maintenanceCtrl",["$scope","AccountService","$stateParams","$location","$sessionStorage","ngDialog","$state","$rootScope","AccountService","$sessionStorage","AuthService","$filter","CommonService",a])}(),function(){function a(a,b){a.state("maintenance",{url:"/maintenance",templateUrl:"views/maintenance/maintenance.html",controller:"maintenanceCtrl",controllerAs:"maintenance",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a){function b(a,b){var c=this;c.getReport=function(b,c,d,e,f,g,h){return a.post(window.webApidomain+"api/AccountStatement/GetMetaTraderAccountStatement?tp="+c+"&tradingPlatformGroup="+d+"&fromDate="+e+"&toDate="+f+"&unlimitedResults="+g+"&checkSpreadFee="+h)},c.getSelectedAccountTP=function(){return b&&b.TPAccountID?b.TPAccountID:null}}angular.module("app").service("AccountStatementService",["$http","$sessionStorage",b])}(window),function(){function a(a,b){a.state("account_statement",{url:"/account_statement",templateUrl:"views/account_statement/views/account_statement.html",controller:"AccountStatementCtrl",controllerAs:"account_statement",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}),b.otherwise("")}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g,h,i){function j(a){var b=a.date,c=a.mode;return"day"===c&&(0===b.getDay()||6===b.getDay())}function k(b){var c=b.date,d=b.mode;if("day"===d)for(var e=new Date(c).setHours(0,0,0,0),f=0;f<a.events.length;f++){var g=new Date(l.events[f].date).setHours(0,0,0,0);if(e===g)return l.events[f].status}return""}var l=this;l.isMobile=e.isMobile(),l.isTablet=e.isTablet(),l.initPage=function(){l.selectedTPAccountID=b.getSelectedAccountTP()||h.AccountId,l.userProfile=c.getLocalUserProfile(),l.realAccountsList=l.userProfile.Accounts.filter(function(a){return a.IsReal}),l.selectedAccount=l.realAccountsList.filter(function(a){return a.TPAccountID==l.selectedTPAccountID}).shift(),l.selectedAccount||(l.selectedAccount=l.realAccountsList[0],l.selectedTPAccountID=l.selectedAccount.TPAccountID),l.isNavCollapsed=!0,l.isCollapsed=!1,l.isCollapsedHorizontal=!1,l.reportReady=!1,l.badRequest=!1,l.isAvaJapan=e.getIsAvaJapan(),l.isCanada=e.getIsFriedbergDirectAVA(),l.fromDate=new Date,l.toDate=new Date,l.currYear=(new Date).getFullYear(),l.currMonth=(new Date).getMonth()+1,l.prevMonth=l.currMonth-1,0==l.prevMonth&&(l.prevMonth=12),f.getUrlQuery(),e.setTheme()},l.unlimitedResults=function(){return l.isAvaJapan},l.updateSelectedAccount=function(){l.selectedTPAccountID=l.selectedAccount.TPAccountID},l.daysInMonth=function(a,b){return new Date(b,a,0).getDate()},l.generateMonthReport=function(a){l.fromDate=new Date(l.currYear,a-1,1),l.toDate=new Date(l.currYear,a-1,l.daysInMonth(a,l.currYear)),l.generateReport(l.fromDate,l.toDate)},l.checkSpreadFee=function(){return l.isCanada},l.generateReport=function(){l.badRequest=!1,e.showLoading(!0),l.dfromDate=g("date")(l.fromDate,"dd/MM/yyyy"),l.dtoDate=g("date")(l.toDate,"dd/MM/yyyy"),b.getReport(d.getToken(),l.selectedTPAccountID,l.selectedAccount.Platform,l.dfromDate,l.dtoDate,l.unlimitedResults(),l.checkSpreadFee()).success(function(a){e.showLoading(!1),l.dtoBalance=a.Balance,l.dtoClosedTradesList=a.ClosedTrades,l.dtoOpenTradesList=a.OpenTrades,l.dtoDWAList=a.DWA,l.msg=l.setMessage(a.Overflow),l.reportReady=!0,l.spreadFee=a.SpreadFee}).error(function(a){e.showLoading(!1),l.badRequest=!0,console.log("Account statement error",a)})},l.setMessage=function(a){return a&&!l.isAvaJapan?"as_bigResult":l.dtoClosedTradesList||l.dtoDWAList?"":"as_emptyResult"},l.inlineOptions={customClass:k,minDate:new Date,showWeeks:!0},l.dateOptions={dateDisabled:j,formatYear:"yyyy",maxDate:new Date(2020,5,22),minDate:new Date,startingDay:1},l.toggleMin=function(){l.inlineOptions.minDate=l.inlineOptions.minDate?null:new Date,l.dateOptions.minDate=l.inlineOptions.minDate},l.toggleMin(),l.open1=function(){l.popup1.opened=!0},l.open2=function(){l.popup2.opened=!0},l.formats=["dd-MMMM-yyyy","yyyy/MM/dd","dd.MM.yyyy","shortDate"],l.format=l.formats[1],l.altInputFormats=["M!/d!/yyyy"],l.popup1={opened:!1},l.popup2={opened:!1},l.initPage()}angular.module("app").controller("AccountStatementCtrl",["$scope","AccountStatementService","AccountService","AuthService","CommonService","RegisterService","$filter","$sessionStorage","$location",d])}(window,document,"script"),function(){function a(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){a.preferenceFormStatus=a.preferenceFormStatus||"",a.preferenceState={NewsLetter:c.userProfile.Newsletter},a.preference=[{content:[{QuestionId:100,QuestionText:e("translate")("newsLetters"),FieldName:"NewsLetter",QuestionType:"CheckBox",DefaultValue:null,InLine:!0,IsRelevant:!0,CrmType:null,IncentiveText:null,Action:null,QuestionMarkPopup:null,IsHalfLine:!1,Answers:null,ValidationMessages:[],GoogleMapsType:null,IsDisabled:!1}]}]}var q=this;a.mobileConfig=k.mobileConfig,a.editSection={editPassword:!1,editLang:!1,editPasswordError:!1,editLangError:!1},a.maskedPassword="",a.editPasswordParams={currentPass:"",newPass:"",repeatPass:""},q.newLang={LanguageID:0,LanguageName:""},a.isAvaJapan=n.getIsAvaJapan(),q.newLang={LanguageId:0,LanguageName:"",LanguageCode:""},a.customerID=c.userProfile.CustomerID,c.userProfile.FirstName&&(a.customerID=c.userProfile.FirstName.substring(0,1).toUpperCase()+a.customerID,a.userNamesToValidate=c.userProfile.FirstName+" "+c.userProfile.LastName),a.email=c.userProfile.Email,a.is_email_sent=!1,a.is_forgotpassowrd_submitted=!1;var r=function(){a.maskedPassword=n.maskPassword(a.userProfile.PasswordLength)};a.$watchCollection("preferenceState",function(b,d){void 0!=a.preference&&void 0!==b.NewsLetter&&b.NewsLetter!==d.NewsLetter&&b.NewsLetter!==c.userProfile.Newsletter&&(console.log(b.NewsLetter),a.preferenceFormStatus="saving",h.updateUserPreferences(a.preferenceState).then(function(b){a.preferenceFormStatus=/ok/i.test(b.statusText)||200==b.status?"saved":"error",h.GetUserProfile(l.getToken())}))}),a.showRow=function(b){switch(b){case"lastName":return/lastName/i.test(b)?c.userProfile&&!c.userProfile.IsCorporate:!0;case"NationalID":case"ChineseFullName":case"WeChat":var d=c.userProfile&&c.userProfile.CountryID;return!!a.userProfile[b]&&(d==o.CountryId.Macao||d==o.CountryId.China||d==o.CountryId.Taiwan||d==o.CountryId.HongKong)}a.showRowByCountry=function(a){}};var s=function(){a.editPasswordParams={currentPass:"",newPass:"",repeatPass:""},a.editSection.editPasswordError||a.editSection.editPasswordEqualError||(a.editSection.editPassword=!1),a.editSection.editLangError||(a.editSection.editLang=!1)},t=function(){a.userProfile.PasswordLength=c.userProfile.PasswordLength=a.editPasswordParams.newPass.length,a.maskedPassword=n.maskPassword(a.userProfile.PasswordLength)},u=function(){h.refreshUserProfile().then(function(b){i.setLanguage(),k.$broadcast("updateLeftSideMenu"),k.$broadcast("BGUpdate"),a.userProfile=h.getLocalUserProfile(),m.getWhiteLabelData().then(function(a){m.setWhiteLabelData(a.data),n.showLoading(!1)})})},v=function(){y(),a.userProfile=c.userProfile,a.userProfile&&(r(),"0001-01-01T00:00:00"==a.userProfile.DateOfBirth&&(n.showLoading(!0),h.refreshUserProfile().then(function(b){a.userProfile=c.userProfile,n.showLoading(!1)}))),q.getIsShowModifyLanguage(),p()},w=function(a){if(k.mobileConfig.isMobile){switch(a){case"pass":b.go("change_password",{edit:"edit"});break;case"lang":b.go("change_language")}return!0}return!1};a.openEditForm=function(b){if(!w(b))switch(b){case"pass":a.editSection.editPassword=!0;break;case"lang":a.editSection.editLang=!0,a.langLookup&&0!=a.langLookup.length?q.newLang=x():h.GetLanguagesLookup().success(function(b){var c=[];angular.forEach(b,function(a,b){i.isLanguageSuportedByCode(a.LanguageCode)&&c.push(a)}),a.langLookup=c,q.newLang=x()}).error(function(){a.editSection.editLang=!0})}};var x=function(){var b=a.langLookup.filter(function(b){return b.LanguageId==a.userProfile.LanguageId});return b.length>0?b[0]:null},y=function(){a.editSection.editPasswordEqualError=!1,a.editSection.editPasswordError=!1,a.editSection.editLangError=!1};a.saveChanges=function(){k.$broadcast("formSubmission","#personalDetailsForm");var b=[];y(),a.editPasswordParams.currentPass!=a.editPasswordParams.newPass?(n.showLoading(!0),b.push(h.ChangePassword(a.editPasswordParams.currentPass,a.editPasswordParams.repeatPass,a.editPasswordParams.newPass).then(function(a){n.showLoading(!1),t(),g.open({template:"views/popUp/changePasswordPopup2.html",className:"ngdialog-theme-default"})},function(b){n.showLoading(!1),b.data.Message.includes("differ")?g.open({template:"views/popUp/passwordAlreadyUsedPopup.html",className:"ngdialog-theme-default"}):a.editSection.editPasswordError=!0,console.error(b.data.Message)}))):""!=a.editPasswordParams.currentPass&&(a.editSection.editPasswordEqualError=!0),q.newLang.LanguageId>0&&q.newLang.LanguageId!=a.userProfile.LanguageId&&(n.showLoading(!0),b.push(h.ChangeLanguage(q.newLang.LanguageCode).then(function(){u()},function(b){a.editSection.editLangError=!0,console.log(b.data.Message)}))),b.length>0&&d.all(b).then(s)},a.cancelEditing=function(){y(),s()},a.forgotPassword=function(){k.$broadcast("forgotPassword"),g.open({template:"views/popUp/forgotPasswordPopup.html",className:"ngdialog-theme-default",scope:a,showClose:!1,closeByDocument:!1})},a.submitForgotPassword=function(){a.is_forgotpassowrd_submitted=!0,l.forgotPassword(a.email).then(function(b){console.log("forgot password success response",b),a.is_email_sent=!0},function(a){console.log("forgot password error response",a)})},a.closeForgotPassword=function(){a.is_email_sent=!1,a.is_forgotpassowrd_submitted=!1},q.getIsShowModifyLanguage=function(){c.whiteLabelData&&(q.IsShowModifyLanguage=c.whiteLabelData.ModifyLanguage)},a.setIntputType=function(a){var b="",c="",d="";switch(a.type.toLowerCase()){case"mousedown":case"touchstart":b="fa-eye-slash",c="fa-eye",d="text";break;case"mouseup":case"mouseleave":case"touchend":b="fa-eye",c="fa-eye-slash",d="password";break;default:return}var e=a.target.parentElement.querySelector(".form-control");e.type=d;var f=a.target.classList;f.contains(c)&&f.remove(c),f.contains(b)||f.add(b)},k.$on("$translateChangeSuccess",function(){p()}),v(),a.showUserPreferences=function(){return whiteLabelData&&whiteLabelData.WhiteLabelDataExtension?!whiteLabelData.WhiteLabelDataExtension.DisableUserPreferences:!0}}angular.module("app").controller("PersonalDetailsCtrl",["$scope","$state","$sessionStorage","$q","$filter","$translate","ngDialog","AccountService","LanguageService","$localStorage","$rootScope","AuthService","WhiteLabelService","CommonService","MyAvaConsts",a])}(),function(){function a(a,b,c,d,e,f,g,h){var i=this;i.newLang={LanguageId:0,LanguageName:"",LanguageCode:""},i.goToPersonalDetails=function(){b.go("personal_details")},i.updateLanguage=function(){i.newLang.LanguageId>0&&i.newLang.LanguageId!=i.userProfile.LanguageId&&(g.showLoading(!0),d.ChangeLanguage(i.newLang.LanguageCode).then(function(){l()},function(a){console.log("error editing language",a),g.showLoading(!1)}))},i.onLangClick=function(a){i.newLang=a,c()};var j=function(){i.langLookup&&0!=i.langLookup.length?i.newLang=k():d.GetLanguagesLookup().success(function(a){var b=[];angular.forEach(a,function(a,c){f.isLanguageSuportedByCode(a.LanguageCode)&&b.push(a)}),i.langLookup=b,i.newLang=k()}).error(function(){})},k=function(){if(i.userProfile=e.getLocalUserProfile(),i.userProfile){var a=i.userProfile.LanguageId,b=i.langLookup.filter(function(b){return b.LanguageId==a});return b.length>0?b[0]:null}},l=function(){e.refreshUserProfile().then(function(b){f.setLanguage(),a.$broadcast("updateLeftSideMenu"),a.$broadcast("BGUpdate"),i.userProfile=d.getLocalUserProfile(),h.getWhiteLabelData().then(function(a){h.setWhiteLabelData(a.data),g.showLoading(!1),i.goToPersonalDetails()})})},m=function(){j()};m()}angular.module("app").controller("ChangeLanguageCtrl",["$rootScope","$state","$anchorScroll","AccountService","UserProfileService","LanguageService","CommonService","WhiteLabelService",a])}(),function(){function a(a,b){a.state("change_language",{url:"/change_language",templateUrl:"views/account/views/change_language/change_language.html",controller:"ChangeLanguageCtrl",controllerAs:"change_language"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(){function a(a,b,c,d,e,f,g,h,b,e,i,j,k){function l(a,b){k.showLoading(!1),n.disableForm=!1,b?(console.error(b),q(b)):(console.log("success "+a+" password"),p())}function m(a){var b=JSON.parse(JSON.stringify(a));return Object.keys(b).forEach(function(a){b[a]=parseInt(b[a])}),b&&new Date(b.year,b.month-1,b.day)}var n=this;n.disableForm=!1,n.userProfile=e.userProfile,n.isReal=!1,n.isLoggedIn=function(){return n.currentToken=i.getToken(),void 0!=n.currentToken&&void 0!=n.userProfile.Email},n.isEdit=void 0!=d.search().edit||"edit"===c.edit,n.isEdit||k.showLoading(!0),n.currentToken=n.currentToken=c.token||i.getToken(),changePasswordBtnList=document.getElementsByName("changePassworBtn"),changePasswordBtnList=Array.prototype.slice.call(changePasswordBtnList),n.isEdit?(changePasswordBtnList.forEach(function(a){a.classList.remove("disabled")}),k.showLoading(!1)):(b.checkIfHasDateOfBirth(n.currentToken).then(function(a){0!=a.data&&(n.isReal=a.data,n.initBirthdayData())},function(a){k.openOopsPopUp()}),b.unarchivedUserAccounts(n.currentToken).then(function(a){n.unarchivedUserAccounts=a.data,k.showLoading(!1),n.unarchivedUserAccounts?changePasswordBtnList.forEach(function(a){a.classList.remove("disabled")}):o()},function(a){k.showLoading(!1),o()}));var o=function(){f.open({template:"views/popUp/unarchived-opps-popUp.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},p=function(){return n.messageToShow=j("translate")("change_password_message_success"),n.isEdit?(f.open({template:"views/popUp/changePasswordPopup2.html",className:"ngdialog-theme-default",scope:a,showClose:!1,closeByDocument:!1,preCloseCallback:function(){n.goToPersonalDetails()}}),void(n.redirectToLogIn=!1)):(f.open({template:"views/popUp/changePasswordPopup.html",className:"ngdialog-theme-default",scope:a,showClose:!1,closeByDocument:!1}),void(n.redirectToLogIn=!0))},q=function(b){"invalid DateOfBirth"==b?(a.statusTitle=j("translate")("sorry"),a.statusText=j("translate")("change_password_message_invalid_date_of_birth"),f.open({template:"/app/myava/views/popUp/opps-popUp.html",className:"ngdialog-theme-default",scope:a})):b.includes("differ")?f.open({template:"views/popUp/passwordAlreadyUsedPopup.html",className:"ngdialog-theme-default"}):i.openOppsDialog()};n.changePassword=function(){console.log("ChangePassword"),n.disableForm=!0,n.IsLoggedIn=!1;var c=null;n.isReal&&(c=m(n.dateOfBirthData),c.setMinutes(c.getMinutes()-c.getTimezoneOffset()),c="/Date("+c.getTime()+")/"),n.currentToken?(k.showLoading(!0),n.newPass=n.newPass||a.newPass||e.tmppwd,n.repeatPass=n.newPass,n.isEdit?b.ChangePassword(n.currPass,n.repeatPass,n.newPass).success(function(a,b,c,d){l("change"),delete e.tmppwd,delete e.passwordExpirationDays}).error(function(a,b,c,d){l("change",a.Message)}):b.ResetPassword(n.currentToken,n.newPass,n.repeatPass,c).success(function(a,b,c,d){l("reset"),delete e.tmppwd}).error(function(a,b,c,d){l("reset",a.Message)})):(n.redirectToLogIn=!0,n.messageToShow=j("translate")("change_password_message_forbidden"),f.open({template:"views/popUp/changePasswordPopup.html",className:"ngdialog-theme-default",scope:a})),n.newPass=null},n.onClickChangePassword=function(){n.changePassword(),n.disableForm=!0},n.onPopupClose=function(){n.disableForm=!1,n.redirectToLogIn?g.go("home"):n.goToPersonalDetails()},n.goToPersonalDetails=function(){g.go("personal_details")},a.setIntputType=function(a){var b="",c="",d="";switch(a.type.toLowerCase()){case"mousedown":case"touchstart":b="fa-eye-slash",c="fa-eye",d="text";break;case"mouseup":case"mouseleave":case"touchend":b="fa-eye",c="fa-eye-slash",d="password";break;default:return}var e=a.target.parentElement.querySelector(".form-control");e.type=d;var f=a.target.classList;f.contains(c)&&f.remove(c),f.contains(b)||f.add(b)},n.initBirthdayData=function(){if(n.isReal){var a=(new Date).getFullYear(),b=a-100,c=a-18;n.dayArr=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],n.monthArr=[1,2,3,4,5,6,7,8,9,10,11,12],n.yearArr=[];for(var d=c;d>=b;d--)n.yearArr.push(d)}},n.initBirthdayData()}angular.module("app").controller("ChangePasswordCtrl",["$scope","AccountService","$stateParams","$location","$sessionStorage","ngDialog","$state","$rootScope","AccountService","$sessionStorage","AuthService","$filter","CommonService",a])}(),function(){function a(a,b){a.state("change_password",{url:"/change_password?edit",templateUrl:"views/account/views/change_password/change_password.html",controller:"ChangePasswordCtrl",controllerAs:"changePassword",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",safety:"views/sideBox/views/safety/safety.html"}).state("change_password/:token",{url:"/change_password/:token",templateUrl:"views/account/views/change_password/change_password.html",controller:"ChangePasswordCtrl",controllerAs:"changePassword",pt:"views/sideBox/views/professional_trader/professional_trader.html",help:"views/sideBox/views/help/help.html",safety:"views/sideBox/views/safety/safety.html"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q){function r(){if(u.businessGroupId=u.businessGroupId||e.businessGroupId,f.step1Data&&f.step1Data.BusinessGroupId)u.businessGroupId=u.businessGroupId||f.step1Data.BusinessGroupId;else{var a=sessionStorage.getItem("step1Data");a&&(a=JSON.parse(a),a.AccountFormData&&(u.businessGroupId=e.businessGroupId=a.AccountFormData.BusinessGroupId))}}function s(){return e.WhiteLabelName||e.whiteLabelData&&e.whiteLabelData.Name}function t(){return f.step1Data||/(LoginToken).+(regType).+(CustomerId)/.test(window.location.href)}j.search().CName&&j.search().PID&&(e.promotionResponse={CName:j.search().CName,PID:j.search().PID
}),console.log("register");var u=this;a.termsAndCondistions=[TermsAndCondistions1=!1,TermsAndCondistions2=!1,TermsAndCondistions3=!1,TermsAndCondistions4=!1,TermsAndCondistions5=!1,TermsAndCondistions6=!1],a.ConflictOfInterest={flag:!1},d.isRegistrationHide=!1,b.getUrlQuery(),u.businessGroupId=e.businessGroupId,u.contentItemData={},u.dataObject||(u.dataObject={}),u.isOldProgressBarLogic=d.isOldProgressBarLogic=q.getIsADGM()||q.getIsFriedbergDirectAVA()||q.getIsAvaJapan()||q.getIsATrade(),void 0!=e.userProfile&&void 0!=e.businessGroupId&&j.$$path.contains("register")&&(u.checkOldCanadianUsers=q.checkOldCanadianUsers()),void 0!=e.showMeObj?u.showMeObj=e.showMeObj:(u.showMeObj={},e.showMeObj={}),a.$watch("self.dataObject",function(a,b){e.dataObject=u.dataObject}),u.checkTradingExperience=function(a){if(u.dataObject){if(1==u.dataObject.DoYouHaveTradingExperience&&(u.isFormSubmit=!1),void 0!=a){if(a.CategoryId==n.TradingExperience&&(0==d.IsATrade||void 0==d.IsATrade)&&1!=u.businessGroupId&&10!=u.businessGroupId&&11!=u.businessGroupId)return 2==u.dataObject.DoYouHaveTradingExperience?!0:(angular.forEach(a.Questions,function(a,b){angular.forEach(a,function(a,b){void 0!=u.dataObject&&delete u.dataObject[a.FieldName]})}),!1);if(a.CategoryId==n.TradingExperience&&1==d.IsATrade&&(u.dataObject.DoYouHaveTradingExperience=2),a.CategoryId==n.TradingExperience&&(1==u.businessGroupId||10==u.businessGroupId))return u.dataObject.DoYouHaveTradingExperience=1,!0}return!0}},d.Page={Title:""},a.setPageTitle=function(a,c,e,f){d.Page.Title=b.getPageTitle(a,c,e,f)},a.ShowErrorPopup=function(b,c,d){a.messageTitle=b,a.messageTxt=c,h.open({template:"views/popUp/message-alert.html",className:"ngdialog-theme-default ngdialog-theme-custom-width",scope:a,closeByDocument:!1,preCloseCallback:d})},u.groupErrMsg=!1,u.getRegisterationData=function(a){d.loadContentLoading=!0;s();r(),b.getRegisterationData(u.businessGroupId,"en").then(function(a){u.content=a.data,u.content=b.setStepsContent(u.content,u.businessGroupId),d.numOfSteps=u.numOfSteps=b.tempContent.numOfSteps,console.log(u.content),d.loadContentLoading=!1,d.$broadcast("scrollToTop")})},a.$on("loadContent",function(a,b){d.loadContentLoading||(u.businessGroupId=e.businessGroupId||u.businessGroupId,u.getRegisterationData(b),"friedbergdirectava"==e.WhiteLabelName.toLowerCase()&&x())}),a.$on("groupInvalid",function(b,c){u.dataObject&&2==u.dataObject.DoYouHaveTradingExperience?(u.isFormSubmit=!0,a.groupErrMsgF(c)):u.isFormSubmit=!1}),a.groupErrMsgF=function(a){var b=!1;if(void 0!=a.$error.checkboxGroupmin){for(var c=0;c<a.$error.checkboxGroupmin.length;c++)a.$error.checkboxGroupmin[c].$dirty&&(b=!0);if(void 0!=a.$error.checkboxGroupmin&&(b||u.isFormSubmit))return!0}},a.tcDialogs=[];var v=function(b){var c=h.open({template:"views/popUp/terms_and_conditions.html",className:"ngdialog-theme-default ngdialog-theme-tc ava-dialog",scope:a,closeByDocument:!1,preCloseCallback:y});a.tcDialogs.push(c),a.acceptTC=function(){var a=angular.element(document).find("[data-filename='"+b+"']").parents("label").prev();a.prop("checked")||a.click()}},w=function(){z();var b=h.open({template:"views/popUp/terms_and_conditions_inner.html",className:"ngdialog-theme-default ngdialog-theme-tc ava-dialog",scope:a,closeByDocument:!1,preCloseCallback:y});a.tcDialogs.push(b)},x=function(a){e.CountriesDialingCode?u.contentItemData.CountriesDialingCode=e.CountriesDialingCode:b.getCounrtiesDialingCode().success(function(a){angular.forEach(a,function(a,b){a.DialingCode<10&&(a.DialingCode="0"+a.DialingCode),a.DialingCode<100&&(a.DialingCode="0"+a.DialingCode)}),e.CountriesDialingCode=a,u.contentItemData.CountriesDialingCode=e.CountriesDialingCode})},y=function(){if(a.tcDialogs.length>1){var b=a.tcDialogs[a.tcDialogs.length-2];b&&angular.element("#"+b.id).css("display","block")}a.tcDialogs.pop()},z=function(){if(a.tcDialogs.length>0){var b=a.tcDialogs[a.tcDialogs.length-1];b&&angular.element("#"+b.id).css("display","none")}};if(a.opentTCInner=function(b,c,d){b.preventDefault(),a.tcInnerUrl=window.location.protocol+"//"+window.location.host+"/app/common/resources/tc/"+c.toLowerCase()+".html",a.showInnerTitle=d,w(c)},a.showMobileTCPopup=function(b,c,d){b.preventDefault(),a.tcurl=window.location.protocol+"//"+window.location.host+"/app/common/resources/tc/"+c.toLowerCase()+".html",a.showTitle=d,v(c)},a.$on("ClickEvent",function(b,c){var d=c.action&&c.action.match(/(\w+)\(?(\w+\-?\w+)?\)?/);d={action:d[1],arg:d[2]?d[2].replace(/\(|\)$/g,""):null},a[d.action](d.arg)}),u.fileChanged=function(a){u.dataObject[a]=document.getElementById(a).files[0]},a.removeFileFromQueue=function(a){u.dataObject[a.id]=null,document.getElementById(a).files[0]=null},a.GetTCPopup=function(b){var c=b?b:"atrade";c=c.match(/^(\w+)-?(\w+)?$/),c={raw:c[0],prefix:c[1],suffix:c[2]?c[2]:""},(1==u.dataObject["TermsAndConditions"+c.suffix]||1==e.dataObject.step3["TermsAndConditions"+c.suffix])&&h.open({template:"views/popUp/terms-and-condition-"+c.raw+".html",className:"ngdialog-theme-default ava-dialog "+c.prefix+"-dialog",scope:a,closeByDocument:!0,preCloseCallback:function(b){return 1==b?"atrade"==c.prefix?a.submitTermsAndConditions(c.suffix):!0:(u.dataObject["TermsAndConditions"+c.suffix]=!1,e.dataObject.step3&&e.dataObject.step3["TermsAndConditions"+c.suffix]&&(e.dataObject.step3["TermsAndConditions"+c.suffix]=!1),"$closeButton"==b&&a.$apply(),!0)}})},a.submitTermsAndConditions=function(b){b=b||"";var c=!0,d=!0;for(i=0;i<a.termsAndCondistions.length;i++)if(0==a.termsAndCondistions[i]){1==d&&(d=!1,p("termsAndCondistions["+i+"]")),c=!1;var e="#span"+i;angular.element(e).addClass("errorChecked")}else{var e="#span"+i;angular.element(e).removeClass("errorChecked")}return u.dataObject["TermsAndConditions"+b]=c,c?!0:!1},a.GetConflictPopup=function(){1==u.dataObject.ConflictOfInterest&&h.open({template:"views/popUp/conflict-of-interest-atrade.html",className:"ngdialog-theme-default ava-dialog ngdialog-theme-conflict",scope:a,closeByDocument:!0,preCloseCallback:function(b){return 1==b?a.submitConflict():(u.dataObject.ConflictOfInterest=!1,void("$closeButton"==b&&a.$apply()))}})},a.PrintTC_Atrade=function(){window.print()},a.SendEmailTC_Atrade=function(b){if(a.emailData={},e.userProfile)a.emailData.Email=e.userProfile.Email,a.emailData.LanguageCode=e.userProfile.LanguageCode;else if(sessionStorage.getItem("step1Data")){var c=JSON.parse(sessionStorage.getItem("step1Data"));a.emailData.Email=c.Contact.Email,a.emailData.LanguageCode=c.EnvironmentData.Language}else d.RegistrationUserData&&(a.emailData.Email=d.RegistrationUserData.Email,a.emailData.LanguageCode=d.RegistrationUserData.LanguageCode);q.getIsATrade()&&void 0==a.emailData.LanguageCode&&(a.emailData.LanguageCode="he"),a.emailData.TermsAndConditionsName=b,a.emailData.WhiteLabel=e.whiteLabelData.Name,h.open({template:"views/popUp/terms-and-condition-email-popup.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})},a.submitEmailTC=function(){b.SendTermsAndConditions(a.emailData)},a.submitConflict=function(){var b=!0;return 0==a.ConflictOfInterest.flag?(angular.element("#spanConflict").addClass("errorChecked"),b=!1):angular.element("#spanConflict").removeClass("errorChecked"),u.dataObject.ConflictOfInterest=b,b},void 0!=e.userProfile){var A="";e.whiteLabelData&&(A=e.whiteLabelData.Name),m.GetSupportNumber(e.userProfile.CountryID,A).success(function(a){e.contactPhone=a,d.$broadcast("updateContactNumber")}).error(function(a){console.log("error:"+a)})}switch(j.search().regType){case"1":d.registerTypOn=!0,e.registerTypOn=!0,l.setIsLoggedIn(!1),delete e.dataObject,delete e.shortRegAction,b.setCustomerData(j.search().CustomerId,j.search().RecordId,j.search().BusinessGroupId,j.search().CurrencyBase,null,j.search().presetPassword);var B=j.search().IsAbandoned?j.search().step:2;k.go("register.step"+B,{action:j.search().action});break;case"3":d.registerTypOn=!0,e.registerTypOn=!0,l.setIsLoggedIn(!1),delete e.dataObject,delete e.shortRegAction;var C={AccountFromData:{},RegistrationStep:3,Action:3,DateOfBirth:{month:"",year:"",day:""},Address:j.search().CountryName,Contact:{City:"",Address:""},Regulation:{BusinessGroup:j.search().BusinessGroupId}};b.setCustomerData(j.search().CustomerId,j.search().RecordId,j.search().BusinessGroupId,j.search().CurrencyBase,C);var B=j.search().IsAbandoned?j.search().step:3;k.go("register.step"+B);break;case"ShortToReal":e.shortTradingPlatform=j.search().TradingPlatform,d.registerTypOn=!0,e.registerTypOn=!0,l.setIsLoggedIn(o.myAccountOldNewFlag),!t()&&m.GetUserProfile(l.getToken()).then(function(a,c,d,f){e.userProfile=a,b.UpdateContactPhoneShortRegistretion()},function(a,b,c,d){console.log("GetUserProfile error")}),delete e.dataObject,e.shortRegAction=1,b.getRegistrationAction(l.getToken(),1).success(function(a){e.shortRegAction=a,k.go("register.step2")}).error(function(a){console.log("error response getting registration action",a),k.go("register.step2")});break;case"ShortToDemo":d.registerTypOn=!0,e.registerTypOn=!0,l.setIsLoggedIn(o.myAccountOldNewFlag),e.shortTradingPlatform=j.search().TradingPlatform,b.NavigateByAction(window.AccountType.ShortFromDemoToDemo);break;case"ShortRealToReal":d.registerTypOn=!0,e.registerTypOn=!0,l.setIsLoggedIn(o.myAccountOldNewFlag),e.shortTradingPlatform=j.search().TradingPlatform,b.NavigateByAction(window.AccountType.ShortFromRealToReal)}"undefined"==typeof j.search().key&&j.search(""),u.isPersonalInformation=function(a){return a==n.PersonalInformation||a==n.Password||a==n.PrimaryAccountHoldersPersonalInformation||a==n.SecondaryAccountHoldersPersonalInformation}}angular.module("app").controller("RegisterCtrl",["$scope","RegisterService","$stateParams","$rootScope","$sessionStorage","$localStorage","$sce","ngDialog","$location","$state","AuthService","AccountService","eRegisterCategories","MyAvaConfig","$anchorScroll","CommonService",d])}(window,document,"script"),function(a){function b(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){function v(a){if(a.IsComplete){var b={};window.sbidTracking&&window.sbidTracking.getData&&(b=window.sbidTracking.getData(),a.SmartBidTrackingData=b)}}function w(a){return a&&!/undefined|null|false|0/i.test(a)&&("string"==typeof a&&(a=a.replace(/^"(.*)"$/,"$1")),/^\d+$/.test(a)||"number"==typeof a)?a:null}function x(){if(document.querySelectorAll(".content-item .question checkboxgroup").length>0){var a=document.querySelectorAll(".content-item .question checkboxgroup .radio-list-item input:checked").length,b=document.querySelectorAll(".content-item .question checkboxgroup .checkbox-radio-list-items").length,c=document.querySelectorAll(".content-item .question checkboxgroup .checkbox-radio-list-items input:checked").length;return 0==a||b!==c}return!1}function y(){var a=document.querySelectorAll('.content-item .question:not(.ng-hide) [ng-model][validator=RequiredOnCondition][data-isactive="true"]:not(.notRealOne)');return[].slice.call(a).some(function(a){return""==a.value})}function z(){var a=document.querySelectorAll('.question:not(.ng-hide) [class*="birthday-date"]:not(.input-group1)[class*="birthday-date"] > select[name*="Day"]'),b=document.querySelectorAll('.question:not(.ng-hide) [class*="birthday-date"]:not(.input-group1)[class*="birthday-date"] > select[name*="Month"]'),c=document.querySelectorAll('.question:not(.ng-hide) [class*="birthday-date"]:not(.input-group1)[class*="birthday-date"] > select[name*="Year"]');if(a.length>0&&b.length>0&&c.length>0){var d=[].slice.call(a).some(function(a){return""===a.options[a.selectedIndex].value}),e=[].slice.call(b).some(function(a){return""===a.options[a.selectedIndex].value}),f=[].slice.call(c).some(function(a){return""===a.options[a.selectedIndex].value});return d||e||f}return!1}var A=this;A.CustomerId="",A.RecordId="",A.businessGroupId="",A.isEmailAlreadyExists=function(c){var d={InputServiceType:s.user,Email:encodeURIComponent(c)};return b.WhiteLabelName&&(d.WhiteLabelName=b.WhiteLabelName),a.post(window.webApidomain+"api/RegistrationValidation/InputValidator",d)};var B=function(a){var b=a||navigator.userAgent,c=/iPhone/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/Windows Phone/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,i=/(BlackBerry|BB10)/i,j=/Opera Mini/i,k=/(CriOS|Chrome)(?=.*\bMobile\b)/i,l=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,m=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(navigator.userAgent||navigator.vendor||window.opera)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test((navigator.userAgent||navigator.vendor||window.opera).substr(0,4));this.apple={phone:c.test(b),tablet:!c.test(b)&&d.test(b),any:c.test(b)||d.test(b)},this.android={phone:e.test(b),tablet:!e.test(b)&&f.test(b),any:e.test(b)||f.test(b)},this.windows={phone:g.test(b),tablet:h.test(b),any:g.test(b)||h.test(b)},this.other={opera:j.test(b),chrome:k.test(b),firefox:l.test(b),any:j.test(b)||k.test(b)||l.test(b)||m},this.blackberry=i.test(b),this.any=this.apple.any||this.android.any||this.windows.any||this.blackberry||this.other.any,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet},C=new B;A.isMobile={Android:function(){return C.android.any},BlackBerry:function(){return C.blackberry},iPhone:function(){return C.apple.phone},iPad:function(){return C.apple.tablet},Windows:function(){return C.windows.any},any:function(){return C.any},phone:function(){return C.phone},tablet:function(){return C.tablet}},A.UpdateMigertedUser=function(c){var d={};return d.WhiteLabelName=b.WhiteLabelName,d.BusinessGroupId=c,a.post(webApidomain+"api/AccountInfo/UpdateMigertedUser",JSON.stringify(d))},A.GetTYPTexts=function(a,b){var c=n.TradingPlatform.AvaTrader,d=n.TradingPlatform.MetaTrader4,e=n.TradingPlatform.MetaTrader4MT3,f=n.TradingPlatform.MetaTrader4MT1,g=n.TradingPlatform.MirrorTrader,h=n.TradingPlatform.FloatingSpread,i=n.TradingPlatform.MT4SpreadBetting,j=n.TradingPlatform.AvaOptions,k=n.TradingPlatform.MT4LimitedRisk,l={};switch(l.IsOption=!1,l.IsMirror=!1,a){case f:case i:case h:case e:case d:case k:l.userNameTitle="mTYWUserNameMeta",l.serverNameTitle="mTYWServerNameMeta";break;case j:l.userNameTitle="mTYWUserName",l.serverNameTitle=void 0,l.IsOption=!0;break;case c:l.userNameTitle="mTYWUserName",l.serverNameTitle="mTYWServerNameAct",1==b&&(l.userNameTitle="mTYWUserName",l.serverNameTitle=void 0,l.IsMirror=!0);break;case g:l.userNameTitle="mTYWUserName",l.serverNameTitle=void 0,l.IsMirror=!0;break;default:l.userNameTitle="mTYWUserNameMeta",l.serverNameTitle="mTYWServerNameMeta"}return l},A.GetPlatformTranslationKey=function(a){var b={};switch(a){case 1:b="platformAvaTrader";break;case 2:b="platformMetaTrader";break;case 5:b="platformMirrorTrader";break;case 6:b="platformFloatingSpread";break;case 7:b="platformSpreadBetting";break;case 8:b="platformAvaOptions"}return b},A.RemoveNoneRelevantQuestions=function(a){var b=[21,47,43,44,45,100];return a.Questions=a.Questions.filter(function(a){return-1!=b.indexOf(a[0].QuestionId)}),a},A.getTranslation=function(a){var b=$q.defer();return p([a]).then(function(c){b.resolve(c[a])}),b.promise},A.GetEmail=function(){var a=sessionStorage.getItem("step1Data");return a=a?JSON.parse(a):null,a?a.Contact.Email:b.userProfile?b.userProfile.Email:void 0},A.isGDPRRelevant=function(a){var c=sessionStorage.getItem("step1Data");c=c?JSON.parse(c):null;var d=b.userProfile&&b.userProfile.BusinessGroupId||c&&c.AccountFormData.BusinessGroupId||b.businessGroupId,e={NewsLetter:b.userProfile&&b.userProfile.Newsletter||c&&c.AccountFormData.NewsLetter||b.NewsLetter,TermsAndConditions:b.userProfile&&b.userProfile.TermsAndConditionsAccepted||c&&c.AccountFormData.TermsAndConditionsGDPR||b.TCGDPR};return a?(1==d||11==d)&&!e[a]:!(1!=d&&11!=d||e.NewsLetter&&e.TermsAndConditions)},A.setStepsContent=function(a,b){switch(A.tempContent={numOfSteps:a.length+1},a.map(function(a,b){A.tempContent["step"+a.Step]=a.CategoryRegulationQuestionsList,a.CategoryRegulationQuestionsList.filter(function(a){return 4==a.CategoryId}).map(function(a,b){A.termsAndConditions=a,A.tempContent.shortReg=A.termsAndConditions}),a.CategoryRegulationQuestionsList.filter(function(a){return 1==a.CategoryId}).map(function(a,b){A.personalInformation=a})}),b.toString()){case"1":A.isGDPRRelevant("NewsLetter")||(A.termsAndConditions.Questions=A.termsAndConditions.Questions.filter(function(a){return!/newsLetter/i.test(a[0].FieldName)})),A.isGDPRRelevant("TermsAndConditions")||(A.termsAndConditions.Questions=A.termsAndConditions.Questions.filter(function(a){return!/TermsAndConditions/i.test(a[0].FieldName)}));break;case"4":var c=h.IsCorporate;A.tempContent.step2=A.tempContent.step2.filter(function(a){return void 0!==a}),A.getTranslation("Corporate").then(function(a){A.tempContent.step2=A.tempContent.step2.map(function(b){return 2==b.CategoryId&&c&&-1==b.CategoryName.indexOf(a)&&(b.CategoryName=a+b.CategoryName),b})});break;case"11":A.isGDPRRelevant("NewsLetter")||(A.termsAndConditions.Questions=A.termsAndConditions.Questions.filter(function(a){return!/newsLetter/i.test(a[0].FieldName)}))}return console.log(A.tempContent),A.tempContent},A.silentLogIn=function(c){return A.method="JSONP",A.token=encodeURIComponent(c),A.url=window.AvaTradeDomain+"PopUpService.asmx/SilentLogin?token="+A.token+"&callback=JSON_CALLBACK",b.WhiteLabelName&&(A.url+="&wl="+b.WhiteLabelName),a({method:A.method,url:A.url,withCredentials:!0})},A.getRegisterationData=function(d,e){return d=d||b.businessGroupId,e=c.lang,A.getRegionalData().then(function(f){c.ipCountryCode=f&&f.data&&f.data.CountryCode?f.data.CountryCode:"",b.isMigrated||(b.isMigrated=!1);var g=window.webApidomain+"api/realregistrationcontent?lang="+e+"&businessGroupId="+d+"&domainName="+location.host+"&isMigrated="+b.isMigrated;return g+=b.WhiteLabelName?"&whiteLabelName="+b.whiteLabelData.Name:"",g+=void 0!=h.IsCorporate?"&isCorporate="+h.IsCorporate:"",g+=void 0!=h.IsJoint?"&isJoint="+h.IsJoint:"",void 0!=b.selectedCountryId?g+="&countryId="+b.selectedCountryId:b.userProfile&&b.userProfile.CountryID?g+="&countryId="+b.userProfile.CountryID:c&&c.step1Data&&c.step1Data.DefaultCountryId&&(g+="&countryId="+c.step1Data.DefaultCountryId),h.IsATrade&&void 0==sessionStorage.getItem("step1Data")&&A.GetRegistrationUserData(),b.atradeRegulation&&(g+="&atradeMigrated=true",void 0!=b.userProfile&&null!=b.userProfile&&(g+="&fullUser="+("full"==b.userProfile.State.toLowerCase()))),a.get(g)})},A.getGeneralQuestions=function(){var d=window.webApidomain+"api/realregistrationcontent?lang="+c.lang+"&businessgroupid=5&general=1&domainName="+location.host;return d+=b.WhiteLabelName?"&whiteLabelName="+b.WhiteLabelName:"",d+=void 0!=h.IsCorporate?"&isCorporate="+h.IsCorporate:"",d+=void 0!=h.IsJoint?"&isJoint="+h.IsJoint:"",void 0!=b.selectedCountryId?d+="&countryId="+b.selectedCountryId:b.userProfile&&b.userProfile.CountryID&&(d+="&countryId="+b.userProfile.CountryID),a.get(d)},A.uploadDocuments=function(a,b){var d=new o({url:window.webApidomain+"api/UploadFiles/UploadDocumentRegistration",headers:{token:c.token}});return d.onBeforeUploadItem=function(a){d._SetHeader("DocType",m[a._file.QuestionName]),d._SetHeader("IdentifierApplicationSource",A.GetAppSourceType())},angular.forEach(a,function(a,b){d.addToQueue(a)}),d.uploadAll()},A.SendTermsAndConditions=function(b){return a.post(webApidomain+"api/AcceptTermsAndConditions/SendTermsAndConditions",JSON.stringify(b))},A.shortRegistration=function(c){var d=b.WhiteLabelName;return d||(d=b.whiteLabelData.Name),a.post(window.webApidomain+"api/Registration/ShortRegistration_NewCRM?wl="+d,JSON.stringify(c))},A.GetStep1RegistraionTranslation=function(b){return a.get(window.myAvaDomain+"/app/languages/_widget/registrationWidget/"+b+".js")},A.RegistraionStep1=function(b){return a.post(webApidomain+"api/Registration/RegistrationStep1_NewCRM",JSON.stringify(b))},A.GetRegistrationUserData=function(){a.get(window.webApidomain+"api/AccountInfo/GetRegistrationUserData").success(function(a){h.RegistrationUserData=a})},A.RegistrationStep2=function(d){return d.EnvironmentData=d.EnvironmentData||{},d.EnvironmentData.fromMini=b.fromMini||c.step1Data&&c.step1Data.fromMini,D(b.userProfile,b.businessGroupId)?a.post(webApidomain+"api/Registration/RegistrationStep2N3Limited_NewCRM",JSON.stringify(d)):a.post(webApidomain+"api/Registration/RegistrationStep2N3_NewCRM",JSON.stringify(d))},A.getDateOfBirthScore=function(a){var b=(new Date).getFullYear()-a.getFullYear();console.log(A.personalInformation);var c=A.personalInformation.Questions.reduce(function(a,b){return a.concat(b)},[]).filter(function(a){return/dateofbirth/i.test(a.FieldName)}).shift();if(c=c&&c.Answers?c.Answers.shift():null){var d=parseInt(c.Value),e=parseInt(c.Score);if(b>d)return e}return 0},A.registerStep3=function(c){A.data=c;var d;return d=c.Action!=l.ShortFromDemoToReal?"api/Registration/RegistrationStep2N3_NewCRM":D(b.userProfile,b.businessGroupId)?"api/Registration/ShortRegistrationLimited_NewCRM":"api/Registration/ShortRegistration_NewCRM",a.post(window.webApidomain+d,A.data)},A.RegisterStep=function(c){return v(c),A.data=c,url="api/Registration/RegisterStep",a({url:window.webApidomain+url,method:"POST",data:A.data,transformResponse:appendTransform(a.defaults.transformResponse,function(a){return a.UserProfile&&Object.keys(a.UserProfile).length&&(b.userProfile=a.UserProfile,b.userProfile.TermsAndConditionsAccepted||(b.isPartialUserProfile=!0)),a})})};var D=function(a,b){var c=!1;if(b!==n.BusinessGroups.AvaCapital)return c;if(null==a||"undefined"===a)return c;var d=a.Accounts;return null==d||"undefined"===d?c:c=a.State.toLowerCase()==n.UserState.Limited&&0==d.filter(function(a){return a.IsReal}).length};A.insertRegulationQuestions=function(c){return a.post(window.webApidomain+"api/RegulationQuestions/InsertRegulationQuestions",c)+"&whiteLabelId="+b.WhiteLabelName},A.GetCustomerData=function(b,c){return a.get(window.webApidomain+"api/CustomerManager/GetCustomerData?action="+c)},A.setCustomerData=function(a,c,d,e,f,g){A.customerId=a,A.recordId=c,A.businessGroupId=d,b.customerData={customerId:a,recordId:c,businessGroupId:d,currencyBase:e,PresetPassword:g},b.businessGroupId=d||b.businessGroupId,f&&(b.dataObject=f)},A.setMobileCustomerData=function(a,c,d,e,f){A.customerId=a,A.recordId=c,A.businessGroupId=d,b.customerData={customerId:a,recordId:c,businessGroupId:d,currencyBase:e,defaultCountryId:f},b.businessGroupId=d},A.getCustomerId=function(){return A.customerId},A.getRecordId=function(a,b,c){return A.recordId},A.getGroupId=function(a,b,c){return A.businessGroupId},A.setGeneralQuestions=function(a){A.generalQuestions=a},A.getContentData=function(){return A.businessGroupId=b.businessGroupId,A.getRegisterationData(A.businessGroupId,c.lang).then(function(a){console.log("getRegisterationData response data",a.data),A.content=a.data,console.log("getRegisterationData questionItem",A.questionItem);for(var b=0;b<A.content.length;b++)"General Questions"!=A.content[b].CategoryName?"Password"!=A.content[b].CategoryName||(console.log(A.content[b].CategoryName),A.questionItem=A.content[b],delete A.content[b]):(console.log(A.content[b].CategoryName),A.generalQuestions=A.content[b],delete A.content[b])}),A.content},A.getQuestionItem=function(){return A.questionItem},A.checkCountryIdInStorage=function(){return b.userProfile&&b.userProfile.CountryID},A.addCountryId=function(a){return a=a||b.userProfile.CountryID,"&countryid="+a},A.addCountryIdToGetCountriesCurrencies=function(){if(A.checkCountryIdInStorage())return A.addCountryId();var a=sessionStorage.getItem("step1Data");return a=a?JSON.parse(a):null,a=a?a.Contact.Country:null,(a=a||b.selectedCountryId||c.step1Data&&c.step1Data.selectedCountryId)?A.addCountryId(a):""},A.getShortDataForRegistration=function(c){var d="",e=w(b.enforceBG);return null==e&&(e=null!=b.userProfile&&null!=b.userProfile.EnforceBusinessGroup?b.userProfile.EnforceBusinessGroup:null),null==e&&(e=null!=b.dataObj&&null!=b.dataObj.EnforceBusinessGroup?b.dataObj.EnforceBusinessGroup:null),b.enforceBG=e,d=e?window.webApidomain+"api/CountriesCurrencies/GetRegistrationCountries_NewCRM?lang="+c+"&enforceBG="+e:window.webApidomain+"api/CountriesCurrencies/GetRegistrationCountries_NewCRM?lang="+c,b.WhiteLabelName?d+="&whiteLabelName="+b.WhiteLabelName:b.whiteLabelData&&(d+="&whiteLabelName="+b.whiteLabelData.Name),d+=A.addCountryIdToGetCountriesCurrencies(),a.get(d)},A.GetUnsupportedCountriesCurrencies=function(b){return a.get(window.webApidomain+"api/CountriesCurrencies/GetUnsupportedCountriesCurrencies_NewCRM?appType="+b)},A.GetDataForRegistrationStep1=function(c){var d="";d=w(b.enforceBG)?window.webApidomain+"api/CountriesCurrencies/GetRegistrationCountries_NewCRM?lang="+c+"&enforceBG="+w(b.enforceBG):window.webApidomain+"api/CountriesCurrencies/GetRegistrationCountries_NewCRM?lang="+c;var e;b.WhiteLabelName&&(d+="&whiteLabelName="+b.WhiteLabelName,e=b.WhiteLabelName),d+=A.addCountryIdToGetCountriesCurrencies();d+=A.addCountryIdToGetCountriesCurrencies();var f=sessionStorage.getItem("CountriesFor"+e);return f?JSON.parse(f):a.get(d).success(function(a){e&&sessionStorage.setItem("CountriesFor"+e,JSON.stringify(a))})},A.getRegistrationAction=function(b,c){return a.get(window.webApidomain+"api/Registration/RegistrationAction_NewCRM?regAction="+c)},A.setRegRequest=function(a){b.regRequest=a},A.getRegRequest=function(){return void 0!=b.regRequest?b.regRequest:(A.regRequest={RegistrationStep:1,Action:2,Contact:{},EnvironmentData:{},AccountFormData:{},Regulation:{}},A.regRequest)},A.getPageTitle=function(a,b,c,d){switch(a){case window.RegistrationPages.registration_step3:return b?"mAlmostTYDemoTitle":"mAlmostRealTitle";case window.RegistrationPages.registration:return b?"mDemoTitle":"mRealTitle";case window.RegistrationPages.thankYouPage:return b?"mTYDemoTitle":"mTYRealTitle";case window.RegistrationPages.loginPage:return"mLoginPageTitle";case window.RegistrationPages.depositPage:return"mDeposit"}},A.getProgBarRegPercent=function(a){return A.tempContent&&(A.regPercent=100/A.tempContent.numOfSteps*(a-1)),A.regPercent},A.setHistory=function(a){window.history&&"function"==typeof window.history.pushState&&window.history.pushState(a,"no access",null)},A.setToken=function(a){},A.getCounrtiesDialingCode=function(){return a.get(window.webApidomain+"api/CountriesCurrencies/GetCountiesDialingCode_NewCrm")},A.goToMyAccount=function(){var a;b.retURL?a="http://"+b.retURL:(a=window.AvaTradeDomain+"common/my-account",b.WhiteLabelName&&b.WhiteLabelMode&&(a+="?wl="+b.WhiteLabelName+"&m="+b.WhiteLabelMode));var c=angular.copy(a);e.goStateUpdateSessions(),window.location.href=c},A.goToLoginPage=function(){var a=window.AvaTradeDomain+"common/redirect-login?referrer=common/my-account";b.WhiteLabelName&&b.WhiteLabelMode&&(a=window.AvaTradeDomain+"common/redirect-login-"+b.WhiteLabelName.toLowerCase()+"?referrer=common/my-account",a+="&wl="+b.WhiteLabelName+"&m="+b.WhiteLabelMode);var c=angular.copy(a);e.goStateUpdateSessions(),window.location.href=c},A.GetTradingPlatforms=function(d){var e=b.userProfile?b.userProfile.CountryID:c.step1Data?c.step1Data.selectedCountryId?c.step1Data.selectedCountryId:c.step1Data.DefaultCountryId:b.DefaultCountryId,f=b.userProfile?b.userProfile.BusinessGroupId:c.step1Data?c.step1Data.BusinessGroupId:b.businessGroupId,g="&whiteLabelName="+b.whiteLabelData.Name,h="wtdemo2real"==b.Asid?"webtrader":"";return"en"==c.lang.substring(0,2)&&(c.lang="en"),a.get(window.webApidomain+"api/CountriesCurrencies/GetTradingPlatforms_NewCRM?lang="+c.lang+"&countryId="+e+"&BGid="+f+g+"&registrationAction="+d+"&appSource="+h)},A.goToAvaTradeMain=function(){e.goStateUpdateSessions(),window.location.href=window.AvaTradeDomain},A.GetTermsAndConditionHtml=function(b){var c=window.location.protocol+"//"+window.location.host+"/app/common/resources/tc/"+b.toLowerCase()+".html";return a({url:c,method:"GET"})},A.FilterTradingPlatforms=function(a,c){return(/AvaJapan/i.test(b.WhiteLabelName)||h.IsAvaJapan)&&1==h.IsCorporate&&(a=a.filter(function(a){return 5!=a.Platform.Id})),a=a.filter(function(a){return!/^(1|5)$/.test(a.Platform.Id)}),(b.shortRegAction===window.AccountType.ShortFromRealToDemo||b.shortRegAction===window.AccountType.ShortFromDemoToDemo)&&c&&c.ChallengeEligable&&(a=a.filter(function(a){return 2==a.Platform.TradingPlatformFamily})),a},A.UpdateContactPhoneShortRegistretion=function(){void 0!=b.userProfile&&f.GetSupportNumber(b.userProfile.CountryID,i.Name).success(function(a){b.contactPhone=a,h.$broadcast("updateContactNumber")}).error(function(a){console.log("error:"+a)})},A.UpdateContactPhoneRegistretion=function(a){f.GetSupportNumber(a,i.Name).success(function(a){b.contactPhone=a,h.$broadcast("updateContactNumber")}).error(function(a){console.log("error:"+a)})},A.CollectGrymcoData=function(a){f.getTrackingParameters(e.getToken()).success(function(b){var c="4996757405",d="",e="en",f=b?b.Tag:void 0,g=b?b.Tag2:void 0;f&&(d=f),g&&(d+="_"+g);var h=void 0!=a?a.TPAccountID:"FailedToGetTp";A.sendGrymcoLead(c,d,h,e)}).error(function(a){console.log(a)})},A.convertPixelScript=function(a){if(a.indexOf("conversion.js")<0)return a;var b,c=/<script\b[^>]*>([\s\S]*?)<\/script>/gm;b=c.exec(a);var d=[];if(d.push(A.extractVarValue(b[1],"google_conversion_id","int")),d.push(A.extractVarValue(b[1],"google_conversion_language")),d.push(A.extractVarValue(b[1],"google_conversion_format","int")),d.push(A.extractVarValue(b[1],"google_conversion_color")),d.push(A.extractVarValue(b[1],"google_conversion_label")),d.push(A.extractVarValue(b[1],"google_conversion_value","float")),d.push(A.extractVarValue(b[1],"google_conversion_currency")),d.push(A.extractVarValue(b[1],"google_remarketing_only","bool")),d=d.filter(function(a){return null!=a&&""!=a}),d.length>0){var e='<script type="text/javascript">/* <![CDATA[ */window.google_trackConversion({'+d.join(",")+" });/* ]]> */</script>";return e}return a},A.sendGrymcoLead=function(a,b,c,d){var e=document.createElement("iframe");return e.frameBorder=0,e.width="0px",e.height="0px",e.id="gryframe",e.setAttribute("src","//c.grymco.com/assets/html/TIDIframe.html?aid="+a+"&cid="+b+"&lid="+c+"&lang="+d+"&url="+encodeURIComponent(window.location.href)),
e.setAttribute("style","visibility:hidden;display:none"),e.setAttribute("sandbox","allow-scripts allow-same-origin"),document.body.firstChild?void document.body.insertBefore(e,document.body.firstChild):void document.body.appendChild(e)},A.deleteRegSessionData=function(){delete b.serverName,delete b.dealtype,delete b.fromSocial},A.goState=function(a){A.deleteRegSessionData(),e.setIsLoggedIn(!0),j.isLanguageSuported()&&k.myAccountOldNewFlag?(h.registerTypOn=!0,b.registerTypOn=!0,g.go(a)):A.silentLogIn(e.getToken()).success(function(a,b){0==a.Code?A.goToMyAccount():A.goToLoginPage()}).error(function(a,b){A.goToLoginPage()})},A.getUrlQuery=function(){var a=A.getQueryStringParameters(window.location.href);a&&(c.step1Data=a),a&&a.cfa&&(c.cfa=!0),(d.search().BusinessGroupId||d.search().bg)&&(b.businessGroupId=null==d.search().bg?d.search().BusinessGroupId:d.search().bg),(d.search().ServerName||d.search().sn)&&(b.serverName=null==d.search().sn?d.search().ServerName:d.search().sn),(d.search().selectedPlatformId||d.search().sp)&&(b.selectedPlatformId=null==d.search().sp?d.search().selectedPlatformId:d.search().sp),d.search().p&&(b.platformName=d.search().p),(d.search().Asid||d.search().asid)&&(b.Asid=null==d.search().asid?d.search().Asid:d.search().asid),d.search().isMigrated&&"true"==d.search().isMigrated&&(b.isMigrated=!0),(d.search().DefaultCountryId||d.search().dc)&&(b.defaultCountryId=null==d.search().dc?d.search().DefaultCountryId:d.search().dc),d.search().LoginToken&&d.search().LoginToken!=e.getToken()&&e.setToken(A.getQueryStringParameterByName("LoginToken",!1)),d.search().step1ShowSocial&&(b.step1ShowSocial="true"==d.search().step1ShowSocial),d.search().step1ShowPC&&(b.step1ShowPartnerCode="true"==d.search().step1ShowPC),d.search().retURL&&(b.retURL=d.search().retURL),(d.search().typRedirectUrl||d.search().postRegistrationRedirectUrl||d.search().incompletedStep1)&&(b.typRedirectUrl=d.search().typRedirectUrl||d.search().postRegistrationRedirectUrl,b.step1ShowSocial=!1,b.step1ShowPartnerCode=!1,h.MyAvaMode=h.MyAvaMode||"",h.MyAvaMode+=" ava-mode--lead",b.step1Preset=b.step1Preset||{},d.search().fn&&(b.step1Preset.name=d.search().fn),d.search().ln&&(b.step1Preset.lastName=d.search().ln),d.search().em&&(b.step1Preset.email=d.search().em),d.search().pn&&(b.step1Preset.phoneNumber=d.search().pn),d.search().DefaultCountryId&&(b.step1Preset.countryId=d.search().DefaultCountryId),d.search().incompletedStep1&&(b.step1Preset.incompletedStep1=d.search().incompletedStep1),d.search().presetPass&&(b.step1Preset.presetPassword=d.search().presetPass),d.search().IsCorporate&&(b.step1Preset.isCorporate=d.search().IsCorporate,b.step1Preset.companyNamePronoun=d.search().corpName),b.step1Preset.registrationToken=e.getToken()),(d.search().WhiteLabelMode||d.search().wm)&&(b.WhiteLabelMode=null==d.search().wm?d.search().WhiteLabelMode:d.search().wm,h.MyAvaMode=h.MyAvaMode||"",h.MyAvaMode+=" ava-mode-"+b.WhiteLabelMode),d.search().WhiteLabelName||d.search().wl?b.WhiteLabelName=null==d.search().wl?d.search().WhiteLabelName:d.search().wl:b.whiteLabelData&&b.whiteLabelData.Name?b.WhiteLabelName=b.whiteLabelData.Name:b.WhiteLabelName=null,d.search().AccountId&&"null"!=d.search().AccountId&&/native/i.test(b.WhiteLabelMode)&&(b.AccountId=d.search().AccountId),d.search().fromSocial&&(b.fromSocial=d.search().fromSocial),d.search().tp&&(b.TPAccountID=d.search().tp),d.search().fromMini?b.fromMini=JSON.parse(d.search().fromMini):b.fromMini=!1,d.search().email&&(b.email=d.search().email),d.search().selectedCountryId&&(b.selectedCountryId=d.search().selectedCountryId),d.search().IsJoint&&(b.AvaCanada=b.AvaCanada||{},b.AvaCanada.IsJoint=d.search().IsJoint),d.search().IsCorporate&&(b.AvaJapan=b.AvaJapan||{},b.AvaJapan.IsCorporate=d.search().IsCorporate),d.search().IsFromStep1?b.IsFromStep1=JSON.parse(d.search().IsFromStep1):b.IsFromStep1=!1,d.search().isChatShared&&(b.isChatShared=d.search().isChatShared),d.search().ipCountryCode&&(c.ipCountryCode=d.search().ipCountryCode),d.search().enforceBG&&(b.enforceBG=parseInt(d.search().enforceBG)||null),d.search().TCGDPR&&(b.TCGDPR="true"==d.search().TCGDPR?!0:!1),d.search().NewsLetter&&(b.NewsLetter="true"==d.search().NewsLetter?!0:!1),d.search().tc&&(b.TagSource=d.search().tc)},A.extractVarValue=function(a,b,c){var d=b+"\\s?\\=\\s?\\\"?\\'?([A-Za-z0-9!#@_-]*)\\\"?\\'?",e=new RegExp(d),f=e.exec(a);if(!f||!RegExp.$1)return"";switch(c){case"int":f=parseInt(RegExp.$1);break;case"float":f=parseFloat(RegExp.$1);break;case"bool":f="true"==RegExp.$1.toLocaleLowerCase();break;default:f='"'+RegExp.$1+'"'}return b+":"+f},A.createAccountByRegType=function(a){A.getRegistrationAction(e.getToken(),a).success(function(a){A.NavigateByAction(a)}).error(function(a){console.log("getRegistrationAction err")})},A.GetTYPUrl=function(a,b){var c="typ/FullReal";switch(a){case l.Real:b&&(c="typ/FullDemo");break;case l.ShortFromDemoToReal:case l.ShortFromForceDemoToReal:b&&(c="typ/ShortDemo")}return c},A.NavigateByAction=function(a){switch(a){case l.ShortFromDemoToReal:case l.ShortFromForceDemoToReal:b.shortRegAction=a,g.go("register.step2");break;case l.ShortFromRealToDemo:case l.ShortFromDemoToDemo:b.shortRegAction=l.ShortFromDemoToDemo,g.go("register.short_registration",{token:e.getToken(),lang:b.lang});break;case l.ShortFromRealToReal:b.shortRegAction=l.ShortFromRealToReal,g.go("register.short_registration",{token:e.getToken(),lang:b.lang})}},A.registrationStarted=function(){h.$broadcast("registrationStarted")},A.registrationFinished=function(){h.$broadcast("registrationFinished")},A.checkIfRegistrationState=function(a){switch(a){case"register.short_registration":case"register.step1":case"register.step2":case"register.step3":return!0}},A.getBusinessGroup=function(){return a.get(window.webApidomain+"api/PlatformsServices/GetBusinessGroup_NewCrm")},A.handleRegistrationErrorMessage=function(a,b){var c="MssE";return a.indexOf("ErrorMaximumNumberOfAccountsReached")>-1&&(c="MssE_LimitAccounts"+(b?"Real":"Demo")),a.indexOf("identical")>-1&&(c="MssE_IntervalIdenticalAccounts"),c},A.isRegisterationPage=function(a){return a.indexOf("register")>-1&&!(a.indexOf("short")<-1)},A.isFullRegisterationPage=function(a){return a.indexOf("register")>-1&&!(a.indexOf("short")>-1)},A.isRegisterationPageShortDemo=function(a){return a.indexOf("register")>-1&&!(a.indexOf("short")<-1)&&(4==b.shortRegAction||5==b.shortRegAction)},A.isRegistrationInProgress=function(a){return A.isRegisterationPage(a)&&!/step1/i.test(a)},A.isRegistrationStep=function(a){return!/step/i.test(a)},A.isTypPage=function(a){return a.indexOf("/typ/")>-1},A.fullRegToShort=function(a,b){b.preventDefault(),A.createAccountByRegType(a)},A.getQueryStringParameterByName=function(a,b){b=void 0!=b?b:!0,a=a.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var c=new RegExp("[\\?&]"+a+"=([^&#]*)"),d=c.exec(location.search);return null===d?"":b?decodeURIComponent(d[1].replace(/\+/g," ")):d[1]},A.getQueryStringParameters=function(a){var b=a.match(/([?&])([^=\n]+)\=([^&\n]+)/g);if(b)return b=b.map(function(a){a=a.replace(/^[?|&]/,"");var b=a.match(/^(.+)\=(.+)$/),c={};return c[b[1]]=b[2],a=c}).reduce(function(a,b){var c=Object.keys(b).shift();return a[c]=/undefined|null/.test(b[c])?null:/true|false/.test(b[c])?JSON.parse(b[c]):b[c],a},{})},A.prepareAndRegisterReal=function(){r.showLoading(!0);var a=b.step3RegRequest;a.Regulation.RiskTermsAndConditions=!0,A.registerStep3(a).then(function(a){r.showLoading(!1),e.setToken(a.data.LoginToken),b.regServerData=a.data,delete b.dataObject,delete b.step3RegRequest;var c="typ/FullReal";A.openAppInFullMode(c)},function(a){r.showLoading(!1),r.ShowErrorPopup("Error","MssE")})},A.prepareAndRegisterShortDemo=function(){r.showLoading(!0);var a={RegistrationStep:1,Contact:{},EnvironmentData:{},AccountFormData:{},Regulation:{}};a.Contact.Country=c.step1Data&&c.step1Data.selectedCountryId,a.EnvironmentData.Language=c.lang,a.EnvironmentData.TogglePageId="new";var d=A.isMobile.any()?"MyAvaWebMobile":"MyAvaWebSite";a.EnvironmentData.IdentifierApplicationSource=d,a.EnvironmentData.CreatedAtDomain=location.hostname,a.EnvironmentData.Agent=navigator.userAgent,a.AccountFormData={TradingPlatform:b.dataObject.step2.AccountFormData.TradingPlatform,CurrencyBase:b.dataObject.step2.AccountFormData.CurrencyBase,ServerName:b.dataObject.step2.AccountFormData.ServerName,DealType:b.dataObject.step2.AccountFormData.DealType,IsMirriorTrader:b.dataObject.step2.AccountFormData.IsMirriorTrader,SubTradingPlatform:b.dataObject.step2.AccountFormData.SubTradingPlatform,Password:b.dataObject.step2.Password},a.Action=1,a.RegistrationStep=3,a.WhiteLabelName=b.dataObject.WhiteLabelName,a=b.step3RegRequest,a.EuRegulationDemo=!0,A.registerStep3(a,e.getToken()).then(function(a){r.showLoading(!1);var c=a.data;e.setToken(c.LoginToken),b.regServerData=c,b.selectedPlatformId=b.dataObject.step2.AccountFormData.TradingPlatform,b.shortRegAction=window.AccountType.ShortFromDemoToDemo,A.setCustomerData(c.CustomerId,null,b.businessGroupId,b.dataObject.step2.AccountFormData.CurrencyBase),e.setIsLoggedIn(k.myAccountOldNewFlag),delete b.dataObject;var d="typ/ShortDemo";A.openAppInFullMode(d)},function(a){r.showLoading(!1);var b=a.data.Message,c=A.handleRegistrationErrorMessage(b,A.isReal);r.ShowErrorPopup("Error",c)})},A.checkRegisterResponseStatus=function(a){if(a.data&&(2==a.data.RegistrationStatus||a.data.Popup)){var b=a.data.ErrorMessage||a.data.Popup.PopupContent.PopupName;if(b){if(b.indexOf("FailedRegulationQuestionsMedScoreEU")>-1)return 2;if(b.indexOf("FailedRegulationQuestionsLowScoreEU")>-1)return 3;if(b.indexOf("FailedRegulationQuestionsLowScoreATRADE")>-1)return 4;if(b.indexOf("FailedRegulationQuestionsMedScoreADGM")>-1)return 5}}return 1},A.showEULowScorePopUp=function(a){h.$broadcast("lowScore"),q.open({template:"views/popUp/eu-score/eu-low-score/eu-low-score.html",className:"ngdialog-theme-default eu-low-score",closeByDocument:!1,showClose:!1,preCloseCallback:a})},A.showEUMedScorePopUp=function(a,b){h.$broadcast("mediumScore"),q.open({template:"views/popUp/eu-score/eu-med-score/eu-med-score.html",className:"ngdialog-theme-default eu-med-score",controller:"EuMedScoreCtrl",data:{businessGroupId:b},closeByDocument:!1,showClose:!1,preCloseCallback:a})},A.getRegionalData=function(){return a.get(window.webApidomain+"api/marketdata/GetRegionalData")},A.calcScoreSum=function(a){a=a||{};var b=0;return angular.forEach(a.scores,function(c,d){switch(d){case"Commodity":a.selectedPlatformId!=n.TradingPlatform.AvaOptions&&(b+=c);break;default:b+=c}}),b},A.fillCustomerAnswers=function(a,c){var d,e=[],f=b.dataObject["step"+c];return angular.forEach(f,function(b,c){for(var f=0;f<a.length;f++)for(var g=0;g<a[f].Questions.length;g++)if(c==a[f].Questions[g][0].FieldName&&null!=a[f].Questions[g][0].CrmType){switch(b){case!0:case 1:d="Yes";break;case!1:case 2:d="No";break;default:/^[0-5]{1}$/.test(b)&&(d=b)}e.push({Question:c,Answer:d,QuestionType:a[f].Questions[g][0].CrmType})}}),e},A.openAppInFullMode=function(a){var c=b.Theme&&b.Theme.toLowerCase().charAt(0).toUpperCase()+b.Theme.toLowerCase().slice(1);document.getElementById("theme"+c)&&(document.getElementById("theme"+c).disabled=!0),delete b.Theme,"iframe"===b.WhiteLabelMode||b.typRedirectUrl?("iframe"===b.WhiteLabelMode&&delete b.WhiteLabelMode,b.typRedirectUrl&&(a=b.typRedirectUrl,delete b.typRedirectUrl),window.open(a,"_parent")):g.go(a)},A.isFormInvalid=function(a){if(document.getElementsByName(a)[0]){document.querySelectorAll(".content-item .question checkboxgroup")[0]&&document.querySelectorAll(".content-item .question checkboxgroup")[0].closest(".content-item .question").classList.remove("has-success--item");var b=document.querySelectorAll(".content-item .question:not(.auto-complete-cnt):not(.ng-hide) > div:not(.checkbox-radio-list-items) [ng-model][validator]:not([validator=RequiredOnCondition]):not([validator^=customregex]):not(.notRealOne)").length,c=document.querySelectorAll(".content-item .question:not(.auto-complete-cnt).has-success--item:not(.ng-hide) [validator]:not([validator=RequiredOnCondition]):not([validator^=customregex]):not(.notRealOne)").length;return isDateNotValid=z(),isDependencyNotValid=y(),isCheckTradingExperienceValid=x(),document.getElementsByName(a)[0].querySelectorAll(".has-error").length>0||b!=c||isDateNotValid||isDependencyNotValid||isCheckTradingExperienceValid}},A.GetAppSourceType=function(){return null!==b.Asid&&""!=b.Asid?b.Asid:b.AppType?b.WhiteLabelName&&b.WhiteLabelName.toLowerCase()==n.HostsWhiteLabels.ATrade.toLowerCase()?n.AppType.AtradeGo:b.AppType||n.AppType.AvaTradeGo:h.mobileConfig.isMobile?"MyAvaWebMobile":"MyAvaWebSite"}}angular.module("app").service("RegisterService",["$http","$sessionStorage","$localStorage","$location","AuthService","AccountService","$state","$rootScope","whiteLabelData","LanguageService","MyAvaConfig","eRegistrationAction","eDocumentType","MyAvaConsts","FileUploader","$translate","ngDialog","CommonUiService","InputServiceType","eBusinessGroup","authenticationService",b])}(window),function(a){function b(){function a(a){return a.day<10&&(a.day="0"+a.day),a.month<10&&(a.month="0"+a.month),a.day+"/"+a.month+"/"+a.year}function b(a){return new Date(Date.UTC(a.year,a.month-1,a.day))}function c(a){return Object.values(a).join("")}function d(a,b){for(var c=a,d=0;d<b.length&&(c=c[b[d]],c);d++);return c}function e(a,b){var c=b.FieldName.split("."),e=d(a,c);return e&&"function"==typeof g[b.QuestionId]?g[b.QuestionId](e):e}var f=this,g={1:b,178:c,187:b,135:b,66:a,114:a,115:a};f.convertRegulationsQuestions=function(a,b){var c=new Object;return b.forEach(function(b){b.Questions.forEach(function(b){a[b[0].FieldName]instanceof File||b.forEach(function(b){var d=e(a,b);c[b.QuestionId]=d})})}),c}}angular.module("app").service("ProcessingAnswersService",[b])}(window),function(){function a(a,b){var c=this;c.GetIsOptionOrIsMirror=function(c,d){var e={IsOption:!1,IsMirror:!1,IsACT:!1,IsMT4:!1,IsMT5:!1,IsMT4DupliTrade:!1};switch(c){case a.TradingPlatform.AvaOptions:e.IsOption=!0;break;case a.TradingPlatform.AvaTrader:1==d?e.IsMirror=!0:e.IsACT=!0;break;case a.TradingPlatform.MirrorTrader:e.IsMirror=!0;break;case a.TradingPlatform.MetaTrader5:e.IsMT5=!0;break;case a.TradingPlatform.MT4DupliTrade:b.defaultWhiteLabelName&&"AvaJapan"===b.defaultWhiteLabelName||whiteLabelData&&"AvaJapan"===whiteLabelData.Name?e.IsMT4DupliTrade=!1:e.IsMT4DupliTrade=!0;break;default:e.IsMT4=!0}return e}}angular.module("app").service("TypService",["MyAvaConsts","MyAvaConfig",a])}(),function(){function a(a,b){a.state("register",{url:"/register",templateUrl:"views/register/views/register.html",controller:"RegisterCtrl",controllerAs:"register",help:"views/sideBox/views/help/help.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step1",{url:"/step1/:action",templateUrl:"views/register/views/step1/step1.html",controller:"step1Ctrl",controllerAs:"step1",help:"views/sideBox/views/help/help.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step2",{url:"/step2",templateUrl:"views/register/views/step2/step2.html",controller:"step2Ctrl",controllerAs:"step2",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step2/:action",{url:"/step2/:action",templateUrl:"views/register/views/step2/step2.html",controller:"step2Ctrl",controllerAs:"step2",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step2/:action/:token",{url:"/step2/:action/:token",templateUrl:"views/register/views/step2/step2.html",controller:"step2Ctrl",controllerAs:"step2",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step2/:businessGroupId/:serverName",{url:"/step2/:businessGroupId/:serverName",templateUrl:"views/register/views/step2/step2.html",controller:"step2Ctrl",controllerAs:"step2",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step3",{url:"/step3",templateUrl:"views/register/views/step3/step3.html",controller:"step3Ctrl",controllerAs:"step3",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step4",{url:"/step4",templateUrl:"views/register/views/step4/step4.html",controller:"step4Ctrl",controllerAs:"step4",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step5",{url:"/step5",templateUrl:"views/register/views/step5/step5.html",controller:"step5Ctrl",controllerAs:"step5",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step6",{url:"/step6",templateUrl:"views/register/views/step6/step6.html",controller:"step6Ctrl",controllerAs:"step6",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.short_registration",{url:"/short_registration/:action",templateUrl:"views/register/views/short_registration/short_registration.html",controller:"shortRegistrationCtrl",controllerAs:"shortRegistrationCtrl",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.short_registration/:action/:token",{url:"/short_registration/:action/:token",templateUrl:"views/register/views/short_registration/short_registration.html",controller:"shortRegistrationCtrl",controllerAs:"shortRegistrationCtrl",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("register.step1/:action/:appType/:lang",{url:"/step1/:action/:appType/:lang",templateUrl:"views/register/views/step1/step1.html",controller:"step1Ctrl",controllerAs:"step1Ctrl"}).state("register.step1/:action/:appType/:pname/:lang",{url:"/step1/:action/:appType/:pname/:lang",templateUrl:"views/register/views/step1/step1.html",controller:"step1Ctrl",controllerAs:"step1Ctrl"}).state("register.step1/:action/:appType/:tradingplatform/:dealtype/:mtsrv/:lang",{url:"/step1/:action/:appType/:tradingplatform/:dealtype/:mtsrv/:lang",templateUrl:"views/register/views/step1/step1.html",controller:"step1Ctrl",controllerAs:"step1Ctrl"}).state("register.step2/:action/:appType/:token/:lang",{url:"/step2/:action/:appType/:token/:lang",templateUrl:"views/register/views/step2/step2.html",controller:"step2Ctrl",controllerAs:"step2"}).state("register.thankYouPage",{url:"/thankYouPage/:action/:appType/:token/:lang",templateUrl:"views/register/views/thankYouPage/thankYouPage.html",controller:"thankYouPageCtrl",controllerAs:"thankYouPage"}).state("typ/FullDemo",{url:"/typ/FullDemo",templateUrl:"views/popUp/typ.html",controller:"fullDemoCtrl",controllerAs:"fullDemo",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("typ/FullReal",{url:"/typ/FullReal",templateUrl:"views/popUp/typ.html",controller:"fullRealCtrl",controllerAs:"fullReal",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("typ/ShortDemo",{url:"/typ/ShortDemo",templateUrl:"views/popUp/typ.html",controller:"shortDemoCtrl",controllerAs:"shortDemo",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("typ/ShortReal",{url:"/typ/ShortReal",templateUrl:"views/popUp/typ.html",controller:"shortRealCtrl",controllerAs:"shortReal",help:"views/sideBox/views/help/help.html",bonus:"views/sideBox/views/bonus/bonus.html",safety:"views/sideBox/views/safety/safety.html"}).state("typ/FullReal/webTraderTyp",{url:"/typ/FullReal/webTraderTyp",templateUrl:"views/register/views/webTraderTyp/webTraderTyp.html",controller:"webTraderTypCtrl",controllerAs:"webTraderTyp"}).state("typ/ShortReal/webTraderTyp",{url:"/typ/ShortReal/webTraderTyp",templateUrl:"views/register/views/webTraderTyp/webTraderTyp.html",controller:"webTraderTypCtrl",controllerAs:"webTraderTyp"}).state("typ/FullDemo/webTraderTyp",{url:"/typ/FullDemo/webTraderTyp",templateUrl:"views/register/views/webTraderTyp/webTraderTyp.html",controller:"webTraderTypCtrl",controllerAs:"webTraderTyp"})}angular.module("app").config(["$stateProvider","$urlRouterProvider",a])}(),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,i,k,l,m){function n(){var a=i.version?i.version.replace(/^(.+)$/g,"?v=$1"):"",b=document.createElement("script"),c=document.getElementsByTagName("script")[0];b.src=(h.isProdEnv()?i.cdnResourcesDomain:window.location.origin+"/")+"Widgets/MyAvaRegistration/scripts/myAvaRegData.js"+a,c.parentNode.insertBefore(b,c)}function o(){var a=e.trackingParameter||"";a&&a.length>0&&($myava.TrackingParameters&&$myava.TrackingParameters.length>0?a.map(function(a){$myava.TrackingParameters.push(a)}):$myava.TrackingParameters=a),e.CampaignName&&($myava.CampaignName=e.CampaignName),e.PromotionID&&($myava.PromotionID=e.PromotionID),"undefined"!=typeof $AvaCookie&&$AvaCookie.action.getCookie("AVAaclid")&&($myava.Aclid=$AvaCookie.action.getCookie("AVAaclid"))}function p(){return!0}function q(){return!h.IsChinaDomain()&&!a.isAvaJapan&&!a.IsCrypto&&e.step1ShowSocial!==!1}function r(){return!a.isAvaJapan&&!a.isATrade&&!a.IsCrypto&&e.step1ShowPartnerCode!==!1}function s(){var a={security:{licenseKey:"00000-0000-6PZQ-45678-GO71JZ"},regType:t.action,layout:{settings:{Width:"100%",ForColor:"",BackColor:"",Lang:f.lang,Style:"Style.css",Mini:p(),"Show-Social":q(),SocialStyle:"light"}},regWidget:{configs:{servicesDomain:i.servicesDomain,myAvaWebroot:i.myAvaWebroot,cdnResourcesDomain:i.cdnResourcesDomain,myAvaDomain:i.myAvaDomain,OldCrmMyAvaDomain:i.OldCrmMyAvaDomain,ShowPartnerCode:r(),version:i.version,whiteLabel:{name:i.defaultWhiteLabelName?i.defaultWhiteLabelName:k.Name},ClientLoggerURL:i.ClientLoggerURL,ClientLogEnabled:i.ClientLogEnabled}},WhiteLabel:{name:i.defaultWhiteLabelName?i.defaultWhiteLabelName:k.Name},widgetReady:function(){},selectedCountryBGChange:function(a){e.businessGroupId=a,d.$broadcast("BGUpdate")},postRegistrationRedirectUrl:e.typRedirectUrl||null,preset:e.step1Preset||null};e.whiteLabelData.WhiteLabelDataExtension&&e.whiteLabelData.WhiteLabelDataExtension.customStyles&&(a.layout.settings.customStyles=e.whiteLabelData.WhiteLabelDataExtension.customStyles),window.$myava=Object.assign({},window.$myava,a),e.regType=t.action,d.$broadcast("updateRegType")}var t=this;t.action=b.action,console.log("step1 - action:"+t.action),d.typOn=!1,a.isAvaJapan=m.getIsAvaJapan(),a.isATrade=m.getIsATrade(),s(),n(),o()}angular.module("app").controller("step1Ctrl",["$scope","$stateParams","$state","$rootScope","$sessionStorage","$localStorage","AuthService","DomainService","MyAvaConfig","$timeout","MyAvaConfig","whiteLabelData","$location","CommonService",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){return new Promise(function(a){f.$broadcast("loadContent")})}function q(){p().then(function(a){C.regPercent=b.getProgBarRegPercent(C.stepNumber),f.regPercent=C.regPercent})}function r(){g.customerData?(C.customerData=g.customerData,f.$broadcast("customerDataUpdate")):C.customerData={}}function s(){C.jsonObject={},void 0!=g.dataObject?(a.$parent.register.dataObject=g.dataObject,g.dataObject.step2&&(a.step2DataObject=g.dataObject.step2)):(a.$parent.register.dataObject=C.jsonObject,g.dataObject=C.jsonObject,g.dataObject.AccountFormData={})}function t(a){var b=JSON.parse(JSON.stringify(a));return Object.keys(b).forEach(function(a){b[a]=parseInt(b[a])}),b&&new Date(Date.UTC(b.year,b.month-1,b.day,0,0,0,0))}function u(){var c=g.dataObject?g.dataObject.step2:null,d={AccountFormData:{},Contact:{},EnvironmentData:{},Regulation:{}};if(!c)return d;if(g.businessGroupId=g.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:2),d.IsMigrated=C.isMigrated,d.InForceMT4ServerName=C.InForceMT4ServerName,d.EnvironmentData={TrackingParams:[],Language:h.lang},d.AccountFormData={DateOfBirth:c.DateOfBirth?t(c.DateOfBirth):void 0,Password:B()?null:c.Password,TradingScore:c.TradingScore||0},d.Contact={Country:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId,Street:c.Street,Flat:c.Flat,City:c.City,BuildingNumber:c.BuildingNumber,OccupationOrBusiness:c.OccupationOrBusiness,DriverLicenseOrPassport:c.DriverLicenseOrPassport,StateOrProvince:c.StateOrProvince,ZipCode:c.ZipCode,Gender:null!=c.Gender?b.tempContent.step2[0].Questions.filter(function(a){return"Gender"==a[0].FieldName})[0][0].Answers[c.Gender].Text:void 0,Address:c.Address?c.Address.toString():c.BuildingNumber+" "+c.Street+", "+c.City,SecondaryTelephone:c.SecondaryTelephone?c.SecondaryTelephone.dialingCode+c.SecondaryTelephone.phone:void 0,MonthsAtResidence:c.MonthsAtResidence?b.tempContent.step2[0].Questions.filter(function(a){return"MonthsAtResidence"==a[0].FieldName})[0][0].Answers[c.MonthsAtResidence-1].Text:"",YearsAtResidence:c.YearsAtResidence?b.tempContent.step2[0].Questions.filter(function(a){return"YearsAtResidence"==a[0].FieldName})[0][0].Answers[c.YearsAtResidence-1].Text:"",SocialInsuranceNum:c.SocialInsuranceNum,NumOfDependents:c.NumOfDependents?b.tempContent.step2[0].Questions.filter(function(a){return"NumOfDependents"==a[0].FieldName})[0][0].Answers[c.NumOfDependents-1].Text:void 0,MartialStatus:c.MartialStatus?b.tempContent.step2[0].Questions.filter(function(a){return"MartialStatus"==a[0].FieldName})[0][0].Answers[c.MartialStatus-1].Text:void 0,CountryOfResidence:c.CountryOfResidence?c.CountryOfResidence:void 0,Citizenship:c.Citizenship?c.Citizenship:void 0},d.Regulation={BusinessGroup:parseInt(g.businessGroupId),Commodity:c.Commodity,DemoExperienceOrForexCfdEducation:void 0!==c.DemoExperienceOrForexCfdEducation?c.DemoExperienceOrForexCfdEducation:void 0,DoYouHaveTradingExperience:void 0!==c.DoYouHaveTradingExperience?+(2===c.DoYouHaveTradingExperience):void 0,Future:c.Future,NumOfTimesTradedinForexCfds3Years:c.NumOfTimesTradedinForexCfds3Years,NumOfTimesTradedinForexCfds:c.NumOfTimesTradedinForexCfds,Options:c.Options,Security:c.Security,WhatWasTheAverageSizeOfTrades:c.WhatWasTheAverageSizeOfTrades,TradingWithLeverageMaximumPosition:c.TradingWithLeverageMaximumPosition,TradingWithLeverageApplies:c.TradingWithLeverageApplies,OpenPositionAutomaticallyClose:c.OpenPositionAutomaticallyClose,CustomerAnswers:c.CustomerAnswers,Identity1:c.Identity1,Identity2:c.Identity2,IDNumber:c.IDNumber,ChineseName:c.ChineseName,WeChatID:c.WeChatID,scores:c.scores,Currency:c.Currency},C.selectedPlatform||(C.selectedPlatform=g.selectedPlatform),a.regAction!==l.ShortFromDemoToReal&&h.step1Data&&h.step1Data.fromMini&&(a.regAction=1),(a.regAction==l.ShortFromDemoToReal||h.step1Data&&(h.step1Data.fromMini||h.step1Data.IsAbandoned))&&(d.AccountFormData.TradingPlatform=C.selectedPlatform.Platform.Id||g.selectedPlatformId,d.AccountFormData.CurrencyBase=C.selectedCurrency.Id||g.selectedCurrencyId,d.AccountFormData.ServerName=g.serverName||C.selectedPlatform.Platform.MtServer,d.AccountFormData.DealType=C.selectedPlatform.Platform.DealType,d.AccountFormData.IsMirriorTrader=+(C.selectedPlatform.Platform.Id===n.TradingPlatform.MirrorTrader),d.AccountFormData.SubTradingPlatform=C.selectedPlatform.Platform.SubTradingPlatform,g.dataObject.step2.AccountFormData=d.AccountFormData,d.AccountFormData.HowDidYouHear=c.HowDidYouHear,d.Regulation.SourceOfTradeFunds=c.SourceOfTradeFunds,d.Regulation.EstimatedNetWorth=c.EstimatedNetWorth,d.Regulation.EstimatedAnnualIncome=c.EstimatedAnnualIncome,d.Regulation.TermsAndConditions=c.TermsAndConditions,d.Regulation.IsIslamic=c.IsIslamic,d.Regulation.NoUsaCitizenship=c.NoUsaCitizenship,g.serverName=d.AccountFormData.ServerName,g.selectedPlatformId=d.AccountFormData.TradingPlatform,C.customerData.currencyBase=d.AccountFormData.CurrencyBase,g.customerData=C.customerData),C.isMigrated&&(a.regAction=8),null!=f.IsCorporate)if(d.Contact.IsCorporate=f.IsCorporate,d.Contact.SalesAcceptance=h.step1Data.SalesAcceptance||!0,d.Contact.BuildingName=c.BuildingName,d.Contact.City=c.City,d.Contact.Address=c.Address,d.Contact.ZipCode=c.ZipCode,d.CorporateAdditionalInfo=c.Corporate?JSON.parse(JSON.stringify(c.Corporate)):{},d.Contact.IsCorporate){if(d.CorporateAdditionalInfo.DateOfEstablishment=t(c.Corporate.DateOfEstablishment),d.CorporateAdditionalInfo.CompanyRepresentative=c.Representative,d.AccountFormData.DateOfBirth=d.Contact.DateOfBirth=d.CorporateAdditionalInfo.CompanyRepresentativeDateOfBirth=t(c.Representative.RepresentativeDate),d.CorporateAdditionalInfo.PresenceOrAbsenceOfSubstantialRulers=1==c.ConcerningMatters.PresenceOfSubstantialRulers?0:1,d.CorporateAdditionalInfo.ConcerningMattersConcerningCorporation=c.ConcerningMatters,c.ConcerningMatters.ConcerningDate&&(d.CorporateAdditionalInfo.ConcerningMattersConcerningCorporationDateOfEstablishment=t(c.ConcerningMatters.ConcerningDate)),d.CorporateAdditionalInfo.ContactPersonLastName=c.Contact.LastName,d.CorporateAdditionalInfo.ContactPersonFirstName=c.Contact.FirstName,d.Contact.PronouncedLastName=d.CorporateAdditionalInfo.ContactPersonLastNamePronounce=c.Contact.LastNamePronounce,d.Contact.PronouncedFirstName=d.CorporateAdditionalInfo.ContactPersonFirstNamePronounce=c.Contact.FirstNamePronounce,c.MobilePhone){var e=g.userProfile?g.userProfile.PhoneNumber.match(/^(\d{1,3})-\d{7,25}$/)[1]:"81";d.Contact.MobilePhone=d.CorporateAdditionalInfo.ContactPersonPhone=JSON.parse(JSON.stringify(e+"-"+c.MobilePhone))}d.Regulation.MainSourceOfIncome=d.CorporateAdditionalInfo.Industry}else d.Contact.PronouncedLastName=c.LastNamePronounce,d.Contact.PronouncedFirstName=c.FirstNamePronounce;return d.RegistrationStep=g.dataObject.RegistrationStep,d.WhiteLabelName=g.whiteLabelData.Name,d.RecordId=g.dataObject.RecordId,d.TP=g.dataObject.TP,d.CustomerId=g.dataObject.CustomerId,d.Action=a.regAction,d.AccountFormData.TradingScore=C.calcScoreSum(d),5==C.customerData.businessGroupId&&(C.content=angular.copy(a.$parent.register.content),d.Regulation.customerAnswers=b.fillCustomerAnswers(C.content.step2,2)),d}function v(){var b=g.dataObject?JSON.parse(JSON.stringify(g.dataObject.step2)):null,c={EnvironmentData:{},RegulationQuestions:{}};return b?(a.regAction=a.regAction||g.dataObject.Action,a.regAction!==l.ShortFromDemoToReal&&h.step1Data&&h.step1Data.fromMini&&(a.regAction=1),c={CountryId:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId||g.defaultCountryId,LanguageCode:h.lang,BusinessGroup:g.isMigrated?m.Canada:parseInt(g.businessGroupId),EnforceBusinessGroup:null!=g.enforceBG,WhiteLabel:g.whiteLabelData.Name,Action:a.regAction,Step:2,IsComplete:!1,IsCorporate:f.IsCorporate,IsMigrated:g.isMigrated||g.atradeRegulation,EnvironmentData:{},RegulationQuestions:new Object,TradingPlatformInfo:C.isATrade?null:{}},c.EnvironmentData={TrackingParams:[],Language:h.lang},C.isFriedbergDirectAVA&&(c.IsJoint=h.step1Data.IsJoint),C.isMigrated||C.isATrade||(c.TradingPlatformInfo={TradingPlatform:C.selectedPlatform.Platform.Id?C.selectedPlatform.Platform.Id:g.selectedPlatformId,CurrencyBase:C.selectedCurrency.Id?C.selectedCurrency.Id:g.selectedCurrencyId,ServerName:g.serverName?g.serverName:C.selectedPlatform.Platform.MtServer,DealType:C.selectedPlatform.Platform.DealType,SubTradingPlatform:C.selectedPlatform.Platform.SubTradingPlatform,InForceMT4ServerName:h.step1Data&&h.step1Data.InForceMT4ServerName?h.step1Data.InForceMT4ServerName:!1}),B()&&delete b.Password,c.RegulationQuestions=o.convertRegulationsQuestions(b,a.register.content.step2),C.isATrade||(g.selectedPlatformId=c.TradingPlatformInfo.TradingPlatform,
C.customerData.currencyBase=c.TradingPlatformInfo.CurrencyBase),g.customerData=C.customerData,console.log("step 2 RegulationQuestions : ",c),c):c}function w(){try{var c=g.userProfile||null;a.user=JSON.parse(JSON.stringify(c)),!c&&h.step1Data&&(c={CountryID:h.step1Data.selectedCountryId?h.step1Data.selectedCountryId:h.step1Data.DefaultCountryId,BusinessGroupId:h.step1Data.BusinessGroupId}),a.selectedCountry=a.countries.filter(function(a){return a.Id==c.CountryID}).shift(),a.selectedCountry.PlatformsList=a.selectedCountry.PlatformsList||[],g.selectedCountryCode=a.selectedCountry.Code,g.businessGroupId=c.BusinessGroupId,f.$broadcast("customerDataUpdate"),C.customerData.businessGroupId=c.BusinessGroupId||a.selectedCountry.BusinessGroupId[0],C.regPercent=b.getProgBarRegPercent(C.stepNumber),f.regPercent=C.regPercent}catch(d){a.selectedCountry=null,console.log("error loading countries")}}function x(c){1!=C.HiddenPlatform&&(C.isATrade||b.GetTradingPlatforms(a.regAction).then(function(d){C.PlatformsList=b.FilterTradingPlatforms(d.data);try{c&&C.HidenPlatformsList.length&&(C.PlatformsList=C.PlatformsList.concat(C.HidenPlatformsList),a.$evalAsync(),angular.element($element[0].querySelector('select[data-ng-model="selectedPlatform"]')).controller("ngModel").$render(),g.platformName?C.HidenPlatformsList.filter(function(a){return a.Platform.Name.toLowerCase().replace(/\s/g,"")==g.platformName.toLowerCase()}).map(function(a){g.selectedPlatformId=a.Platform.Id,g.serverName=a.Platform.MtServer}):g.tradingplatform=C.HidenPlatformsList.shift().Platform.Id);var e=parseInt(g.selectedPlatformId)||C.PlatformsList[0].Platform.DefaultTradingPlatformId,f=i("filter")(C.PlatformsList,{Platform:{Id:e}},!0);f.length>0?C.selectedPlatform=f[0]:C.selectedPlatform=C.PlatformsList[0],y()}catch(h){C.selectedPlatform=C.PlatformsList[0]}}))}function y(){try{var b=i("filter")(C.selectedPlatform.Currencies,{Id:a.selectedCountry.DefaultCurrencyId},!0);b.length>0?C.selectedCurrency=b[0]:C.selectedCurrency=C.selectedPlatform.Currencies&&C.selectedPlatform.Currencies[0]}catch(c){C.selectedCurrency=C.selectedPlatform.Currencies&&C.selectedPlatform.Currencies[0]}g.selectedCurrencyId=C.selectedCurrency?C.selectedCurrency.Id:null}function z(){a.InitFormData=function(){w(),b.UpdateContactPhoneRegistretion(a.selectedCountry.Id),C.isMigrated||x(),y()},g.dataObject.Action=a.regAction;var c=sessionStorage.getItem("CountriesFor"+g.WhiteLabelName);c?A(JSON.parse(c)):b.getShortDataForRegistration(h.lang).success(function(a){g.WhiteLabelName&&sessionStorage.setItem("CountriesFor"+g.WhiteLabelName,JSON.stringify(a)),A(a)})}function A(b){console.log(b),g.dataObj&&g.dataObj.CountryId?g.defaultCountryId=g.dataObj.CountryId:g.selectedCountryId?g.defaultCountryId=g.selectedCountryId:h.step1Data&&h.step1Data.DefaultCountryId?g.defaultCountryId=h.step1Data.DefaultCountryId:g.defaultCountryId=b.DefaultCountryId,a.countries=b.Countries,void 0==g.userProfile?a.InitFormData():(a.InitFormData(),f.$broadcast("authLoaded"))}function B(){return g.step1Preset&&Boolean(g.step1Preset.presetPassword)}var C=this;k.showLoading(!1),console.log("step2"),C.isLoggedIn=j.getIsLoggedIn(),f.currentStep=C.stepNumber=2,C.showStep2=!1,C.showShort=!1,C.isAvaJapan=k.getIsAvaJapan(),C.isATrade=k.getIsATrade(),C.isFriedbergDirectAVA=k.getIsFriedbergDirectAVA(),C.HiddenPlatform=!1,C.showSelectCurrencies=!C.isAvaJapan,C.selectedPlatform={},C.url=e.current.url,C.InForceMT4ServerName=h.step1Data&&h.step1Data.InForceMT4ServerName?h.step1Data.InForceMT4ServerName:!1,C.isJoint=f.IsJoint,C.isMigrated=getParameterByName("isMigrated")||h.step1Data?h.step1Data.isMigrated:null,C.loginToken=getParameterByName("LoginToken"),C.BusinessGroupId=getParameterByName("businessGroupId"),C.fixedTradingPlatform="wtdemo2real"==g.Asid||"wtiframe"==g.WhiteLabelMode,g.loginToken=C.loginToken,g.businessGroupId=C.BusinessGroupId||g.businessGroupId,g.isMigrated=C.isMigrated,C.theme=g.Theme,q(),f.$broadcast("loadContent",function(){C.regPercent=b.getProgBarRegPercent(C.stepNumber),f.regPercent=C.regPercent,console.log(C.regPercent)}),f.typOn=!1,a.step2DataObject={},r(),s(),g.dataObject.RegistrationStep=2,g.dataObject.RecordId=c.RecordId||(h.step1Data?h.step1Data.RecordId:null),g.dataObject.TP=null,g.dataObject.CustomerId=c.CustomerId||(h.step1Data?h.step1Data.CustomerId:null),C.businessGroupId=c.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:null),g.dataObject.Action=1,a.$watchCollection("step2DataObject",function(c,d){g.dataObject.step2=a.step2DataObject,a.$parent.register.dataObject.DoYouHaveTradingExperience=g.dataObject.step2.DoYouHaveTradingExperience,C.regPercent=b.getProgBarRegPercent(C.stepNumber),f.regPercent=C.regPercent}),a.$on("$stateChangeStart",function(a,c,d,e,f){C.isLoggedIn||(b.setHistory(e),"/step3"!==c.url&&a.preventDefault())}),a.$watchCollection("$parent.register.dataObject",function(b,c){C.ieIssueAction=g.dataObject.Action,g.dataObject=a.$parent.register.dataObject,g.dataObject.Action=C.ieIssueAction}),C.isInvalid=function(){return b.isFormInvalid("step2Form")},C.regPathHandler=function(c){switch(c){case 7:a.regAction=c,C.showShort=!0,z();break;case 6:e.go("register.short_registration",{action:2});break;default:a.regAction=c||1,(g.fromMini||h.step1Data&&h.step1Data.fromMini||!g.IsFromStep1||C.isAvaJapan)&&(C.showShort=!0,z()),f.$broadcast("loadContent"),C.regPercent=b.getProgBarRegPercent(C.stepNumber),f.regPercent=C.regPercent}},void 0==g.shortRegAction||1!=g.shortRegAction&&2!=g.shortRegAction?C.regPathHandler(g.shortRegAction):b.getRegistrationAction(j.getToken(),g.shortRegAction).success(function(b){a.regAction=b,C.regPathHandler(a.regAction)},function(a){consoel.log("getRegistrationAction error")}),C.checkScore=function(){var c=0;if(a.selectedPlatformId=7==a.regAction?C.selectedPlatform.Platform.Id:g.selectedPlatformId,angular.forEach(g.dataObject.step2.scores,function(b,d){switch(d){case"Commodity":a.selectedPlatformId!=n.TradingPlatform.AvaOptions&&(c+=b);break;default:c+=b}}),g.dataObject.step2.TradingScore=c,!(4>=c)){k.showLoading(!0);var f=u();return b.RegistrationStep2(f).success(function(a){g.dataObject.step2.TradingScore=a.TradingScore,k.showLoading(!1),j.setToken(a.LoginToken),e.go("register.step3")}).error(function(a){k.showLoading(!1),console.error(a.Message)}),C.isFormSubmit=!0,!1}return d.open({template:"views/popUp/scorePopup.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1}),!0},C.submit=function(c){k.showLoading(!0),f.$broadcast("formSubmission","#registrationStep2");var d=v();b.RegisterStep(d).success(function(a,b,c,d){k.showLoading(!1),j.setToken(d.headers.token||a.LoginToken),e.go("register.step3"),delete g.showMeObj}).error(function(b){k.showLoading(!1),C.isFormSubmit=!0,console.error(b.Message),a.$parent.ShowErrorPopup("Error","MssE")}),delete g.showMeObj},a.scoreOk=function(){k.showLoading(!0);var a=u();b.RegistrationStep2(a).success(function(a){g.dataObject.step2.TradingScore=a.TradingScore,k.showLoading(!1),j.setToken(a.LoginToken),e.go("register.step3")}).error(function(a){k.showLoading(!1),console.error(a.Message)}),C.isFormSubmit=!0},a.onCountryChange=function(){x(),y()},C.onPlatformChange=function(){C.InForceMT4ServerName=!1,g.selectedPlatform=C.selectedPlatform,g.selectedPlatformId=C.selectedPlatform.Platform.Id,g.serverName=C.selectedPlatform.Platform.MtServer,y()},C.calcScoreSum=function(c){a.selectedPlatformId=7==a.regAction?C.selectedPlatform.Platform.Id:g.selectedPlatformId;var d=1==g.businessGroupId,e=c.AccountFormData.DateOfBirth;if(void 0!=e){var f;f=e.date?new Date(e.date):new Date(e),f.setMinutes(f.getMinutes()-f.getTimezoneOffset()),console.log(f),d&&c.Regulation.scores&&void 0==c.Regulation.scores.DateOfBirth&&(c.Regulation.scores.DateOfBirth=b.getDateOfBirthScore(f)),c.AccountFormData.DateOfBirth="/Date("+f.getTime()+")/",delete e}return b.calcScoreSum({scores:c.Regulation.scores,selectedPlatformId:a.selectedPlatformId})}}angular.module("app").controller("step2Ctrl",["$scope","RegisterService","$stateParams","ngDialog","$state","$rootScope","$sessionStorage","$localStorage","$filter","AuthService","CommonService","eRegistrationAction","eBusinessGroup","MyAvaConsts","ProcessingAnswersService",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){self.jsonObject=self.jsonObject||{EnvironmentData:{Agent:"",ClientIpAddress:"",Language:g.lang,InviteId:0,TrackingParams:null,TogglePageId:"new",InitialPreference:null,Authority:null,PromotionID:0,IdentifierApplicationSource:B},AccountFormData:{DateOfBirth:"",Password:"",TradingScore:0,HowDidYouHear:"",NewsLetter:""},Contact:{Address:"",City:"",OccupationOrBusiness:""},Regulation:{}},f.customerData=f.customerData||{},f.customerData.businessGroupId=f.customerData.businessGroupId||(g.step1Data?g.step1Data.BusinessGroupId:"2"),f.customerData.serverName=f.customerData.serverName||(g.step1Data?g.step1Data.ServerName:""),f.customerData.recordId=f.customerData.recordId||"",f.customerData.customerId=f.customerData.customerId||(g.step1Data?g.step1Data.CustomerId:""),f.customerData.currencyBase=f.customerData.currencyBase||(g.step1Data?g.step1Data.CurrencyBase:""),self.customerData=f.customerData,void 0!=f.dataObject?(a.regAction=a.regAction||f.dataObject.Action,a.$parent.register.dataObject=f.dataObject,f.dataObject.step3&&(a.step3DataObject=f.dataObject.step3)):(a.$parent.register.dataObject=self.jsonObject,f.dataObject=self.jsonObject,f.dataObject.AccountFormData={})}function q(c){1!=self.HiddenPlatform&&b.GetTradingPlatforms(a.regAction).then(function(d){self.PlatformsList=b.FilterTradingPlatforms(d.data);try{c&&self.HidenPlatformsList.length&&(self.PlatformsList=self.PlatformsList.concat(self.HidenPlatformsList),a.$evalAsync(),angular.element($element[0].querySelector('select[data-ng-model="selectedPlatform"]')).controller("ngModel").$render(),f.platformName?self.HidenPlatformsList.filter(function(a){return a.Platform.Name.toLowerCase().replace(/\s/g,"")==f.platformName.toLowerCase()}).map(function(a){f.selectedPlatformId=a.Platform.Id,f.serverName=a.Platform.MtServer}):f.tradingplatform=self.HidenPlatformsList.shift().Platform.Id);var e=parseInt(f.selectedPlatformId)||self.PlatformsList[0].Platform.DefaultTradingPlatformId,g=h("filter")(self.PlatformsList,{Platform:{Id:e}},!0);g.length>0?self.selectedPlatform=g[0]:self.selectedPlatform=self.PlatformsList[0],r()}catch(i){self.selectedPlatform=self.PlatformsList[0]}})}function r(){try{var b=h("filter")(self.selectedPlatform.Currencies,{Id:a.selectedCountry.DefaultCurrencyId},!0);b.length>0?self.selectedCurrency=b[0]:self.selectedCurrency=self.selectedPlatform.Currencies&&self.selectedPlatform.Currencies[0]}catch(c){self.selectedCurrency=self.selectedPlatform.Currencies&&self.selectedPlatform.Currencies[0]}f.selectedCurrencyId=self.selectedCurrency?self.selectedCurrency.Id:null}function s(){return f.dataObj?f.dataObj.CountryId:a.selectedCountry?a.selectedCountry.Id:f.selectedCountryId||f.defaultCountryId}function t(){var b=f.dataObject?f.dataObject.step3:null,c={Environment:{},RegulationQuestions:{}};if(!b)return c;f.businessGroupId=f.businessGroupId||(g.step1Data?g.step1Data.BusinessGroupId:2),a.regAction!==n.ShortFromDemoToReal&&g.step1Data&&g.step1Data.fromMini&&(a.regAction=1),a.regAction||(a.regAction=1);var d=s();return c={CountryId:d,defaultCountryId:d,LanguageCode:g.lang,BusinessGroup:f.isMigrated?o.Canada:parseInt(f.businessGroupId),EnforceBusinessGroup:null!=f.enforceBG?!0:null!=f.dataObj&&null!=f.dataObj.EnforceBusinessGroup?!0:!1,WhiteLabel:f.whiteLabelData.Name,Action:a.regAction,Step:3,IsComplete:!(f.isMigrated||f.businessGroupId==o.Canada||f.businessGroupId==o.ADGM),IsCorporate:i.IsCorporate,IsMigrated:f.isMigrated||f.atradeRegulation,Environment:{},RegulationQuestions:new Object,TradingPlatformInfo:self.HiddenPlatform?null:{},OverrideStartPage:f.overrideStartPage},c.Environment={TrackingParams:[],Language:g.lang,OriginUrl:window.location.origin},self.isFriedbergDirectAVA&&(c.IsJoint=g.step1Data.IsJoint),l.getIsATrade()&&!f.atradeRegulation&&(c.TradingPlatformInfo={TradingPlatform:self.selectedPlatform.Platform.Id?self.selectedPlatform.Platform.Id:f.selectedPlatformId,CurrencyBase:self.selectedCurrency.Id?self.selectedCurrency.Id:f.selectedCurrencyId,ServerName:f.serverName?f.serverName:self.selectedPlatform.Platform.MtServer,DealType:self.selectedPlatform.Platform.DealType,SubTradingPlatform:self.selectedPlatform.Platform.SubTradingPlatform,InForceMT4ServerName:!1}),c.RegulationQuestions=m.convertRegulationsQuestions(b,a.register.content.step3),console.log("step 3 RegulationQuestions : ",c),c}function u(c){b.RegisterStep(c).then(function(a){z(a,v,w)},function(b){l.showLoading(!1),console.log(b),a.$parent.ShowErrorPopup("Error","MssE"),self.errMsg=!0})}function v(b){var c=f.step3RegRequest;1==b?(l.showLoading(!0),c.RegulationQuestions&&(self.Score&&(c.RegulationQuestions[self.Score.Questions[0].QuestionId]=!0),u(c))):2==b?(l.showLoading(!0),c.ForceDemo=a.ForceDemo=!0,u(c)):3==b&&f.atradeRegulation&&(delete f.atradeRegulation,self.atradeLowScore?c.ContinueLowScorePopup=!0:c.RegulationQuestions[self.Score.Questions[0].QuestionId]=!0,u(c),window.open("my_account","_parent"))}function w(b){l.showLoading(!0);var c=f.step3RegRequest;c.ForceDemo=a.ForceDemo=!0,u(c)}function x(a,c,d){var e=b.checkRegisterResponseStatus(a);switch(e){case 1:return!1;case 2:b.showEUMedScorePopUp(c);break;case 3:f.atradeRegulation?y(c):b.showEULowScorePopUp(d)}return self.Score=a.data?a.data.Popup:null,l.showLoading(!1),!0}function y(a){self.atradeLowScore=!0,b.showEUMedScorePopUp(a)}function z(c,h,m){if(f.atradeRegulation&&delete f.WhiteLabelMode,self.customerData.businessGroupId!=o.Capital&&self.customerData.businessGroupId!=o.Atrade||!x(c,h,m)){if(f.atradeRegulation)return delete f.atradeRegulation,void window.open("my_account","_parent");console.log(c.data),c.data.LoginToken&&k.setToken(c.data.LoginToken),self.regServerData=c.data,f.regServerData=c.data,c.data.IsWTServiceDown&&(f.IsWTSreviceDown=!0),f.regServerData.WebTraderUrl&&(A(f.regServerData),c.config.data.Action==n.ShortFromDemoToReal?window.parent.postMessage('{ "type": "UPGRADE_ACCOUNT", "payload": {"url": "'+f.regServerData.WebTraderUrl+'", "number":"'+f.regServerData.TpAccountId+'"}}',"*"):f.typRedirectUrl=f.regServerData.WebTraderUrl),self.customerData.businessGroupId||self.isMigrated?(self.customerData.businessGroupId==o.Canada||self.isMigrated||self.customerData.businessGroupId==o.ADGM?url="register.step4":(delete f.dataObject,delete g.step1Data,url=b.GetTYPUrl(a.regAction,a.ForceDemo)),b.openAppInFullMode(url)):j.getTYPServerName(k.getToken(),f.serverName,f.selectedPlatformId.toString(),"1",f.customerData.currencyBase.toString(),self.regServerData.TPAccountID,f.whiteLabelData.Name,self.regServerData.AccountId).success(function(b,c,g,h){b.TPAccountID=self.regServerData.TPAccountID,a.typData=b,a.typData.btnText="toContinue",a.typData.stateName="register.step4",a.typData.total=75,a.typData.isCompleteText="almostReady",console.log(b),i.typOn=!1,f.typData=a.typData,f.customerData.businessGroupId==o.Canada||f.customerData.businessGroupId==o.ADGM?(l.showLoading(!1),k.setToken(response.LoginToken),e.go("register.step4")):d.open({template:"views/popUp/typ.html",className:"ngdialog-theme-default typ-dialog",scope:a,closeByDocument:!1,showClose:!1})}).error(function(a,b,c,d){console.log(a)}),i.regPercent=0}}function A(a){try{var b=ga.getAll()[0].get("linkerParam");null!==b&&""!==b&&(a.WebTraderUrl+="&"+b)}catch(c){console.log(c)}}self=this,i.currentStep=self.stepNumber=3,f.shortRegAction&&(a.regAction=f.shortRegAction),self.isJoint=i.IsJoint,self.isMigrated=f.isMigrated,self.isLoggedIn=k.getIsLoggedIn(),a.termsAndCondistions=[TermsAndCondistions1=!1,TermsAndCondistions2=!1,TermsAndCondistions3=!1,TermsAndCondistions4=!1,TermsAndCondistions5=!1,TermsAndCondistions6=!1],a.step3DataObject={},self.HiddenPlatform=!l.getIsATrade()||f.atradeRegulation,self.isFriedbergDirectAVA=l.getIsFriedbergDirectAVA();var B=(i.mobileConfig.isMobile&&i.mobileConfig.isNativeMobile||i.mobileConfig.isMobile&&i.mobileConfig.screenWidth<=1200?"MyAvaWebMobile":"MyAvaWebSite")+(f.fromSocial?"  Social Registration":f.fromMini?"  Mini Widget":"");a.ConflictOfInterest={flag:!1},i.typOn=!1,self.isInvalid=function(){return b.isFormInvalid("step3Form")},p(),q(),a.$watchCollection("$parent.register.dataObject",function(a,b){}),a.$watchCollection("step3DataObject",function(b,c){f.dataObject.step3=a.step3DataObject,a.$parent.register.dataObject=a.step3DataObject}),a.$on("$stateChangeStart",function(a,c,d,e,f){self.isLoggedIn||(b.setHistory(e),"/typ/FullReal"!=c.url&&"/step4"!=c.url)}),void 0!=f.customerData?(self.customerData=f.customerData,i.$broadcast("customerDataUpdate")):self.customerData={},console.log("step3"),"undefined"==typeof a.$parent.register.content&&i.$broadcast("loadContent"),f.promotionResponse&&(self.jsonObject.PromotionId=f.promotionResponse.PID?f.promotionResponse.PID:"",self.jsonObject.CampaignName=f.promotionResponse.CName?f.promotionResponse.CName:""),self.regPercent=b.getProgBarRegPercent(self.stepNumber),i.regPercent=self.regPercent,self.jsonObject.RegistrationStep=self.stepNumber,self.jsonObject.RecordId=self.customerData.recordId,self.jsonObject.TP=null,self.jsonObject.CustomerId=self.customerData.customerId,self.jsonObject.Action=1,self.submit=function(){l.showLoading(!0),i.$broadcast("formSubmission","#registrationStep3"),self.content=angular.copy(a.$parent.register.content),self.termsAndConditions=angular.copy(a.$parent.register.termsAndConditions);var b=t();f.step3RegRequest=b,u(b)},self.createCustomerAnswers=function(){return self.jsonObject.Regulation.customerAnswers=[],self.fillCustomerAnswers(self.content.step3,3),self.jsonObject.Regulation.customerAnswers},self.fillCustomerAnswers=function(a,b){var c,d=f.dataObject["step"+b];angular.forEach(d,function(b,d){for(var e=0;e<a.length;e++)for(var f=0;f<a[e].Questions.length;f++)if(d==a[e].Questions[f][0].FieldName&&null!=a[e].Questions[f][0].CrmType){switch(delete self.jsonObject.Regulation[d],b){case!0:case 1:c="Yes";break;case!1:case 2:c="No";break;default:/^[0-5]{1}$/.test(b)&&(c=b)}self.jsonObject.Regulation.customerAnswers.push({Question:d,Answer:c,QuestionType:a[e].Questions[f][0].CrmType})}})}}angular.module("app").controller("step3Ctrl",["$scope","RegisterService","$stateParams","ngDialog","$state","$sessionStorage","$localStorage","$filter","$rootScope","AccountService","AuthService","CommonService","ProcessingAnswersService","eRegistrationAction","eBusinessGroup",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){function q(){g.customerData?(z.customerData=g.customerData,f.$broadcast("customerDataUpdate")):z.customerData={}}function r(){z.jsonObject=z.jsonObject||{EnvironmentData:{Language:h.lang,TrackingParams:null},Regulation:{"":null,"":null,"":null,"":null}},void 0!=g.dataObject?(a.$parent.register.dataObject=g.dataObject,g.dataObject.step4&&(a.step4DataObject=g.dataObject.step4)):(a.$parent.register.dataObject=z.jsonObject,g.dataObject=z.jsonObject,g.dataObject.AccountFormData={})}function s(a){1===a?(l.showLoading(!0),z.submitProssesing()):(z.AppropriateProductNotice=null,l.showLoading(!1))}function t(){var b=g.dataObject?JSON.parse(JSON.stringify(g.dataObject.step4)):{AnotherPersonAuthorizedTheAccount:9,UsingBorrowedFundsText:"dsdf",UsingBorrowedMoneyToFund:0,UsingBorrowedMoneyToFundHowMuch:5},c={EnvironmentData:{},RegulationQuestions:{}};return b?(g.businessGroupId=g.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:2),a.regAction=a.regAction||g.dataObject.Action,a.regAction!==n.ShortFromDemoToReal&&h.step1Data&&h.step1Data.fromMini&&(a.regAction=1),c={CountryId:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId||g.defaultCountryId,defaultCountryId:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId||g.defaultCountryId,LanguageCode:h.lang,BusinessGroup:g.isMigrated?o.Canada:parseInt(g.businessGroupId),EnforceBusinessGroup:!1,WhiteLabel:g.WhiteLabelName,Action:a.regAction,Step:4,IsComplete:f.IsJoint?!1:!0,IsMigrated:g.isMigrated,Environment:{},EnvironmentData:{},RegulationQuestions:new Object},c.Environment={TrackingParams:[],Language:h.lang,OriginUrl:window.location.origin},z.isFriedbergDirectAVA&&(c.IsJoint=h.step1Data.IsJoint),c.RegulationQuestions=m.convertRegulationsQuestions(b,a.register.content.step4),"object"==typeof z.AppropriateProductNotice&&(c.RegulationQuestions[z.AppropriateProductNotice.QuestionId]=!0),c):c}function u(){return z.riskDisclosureAgree||f.IsJoint||10!=g.businessGroupId?!1:(f.$broadcast("canadaRiskDisclosurePopup"),d.open({template:"views/popUp/risk-disclosure-notice.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1}),!0)}function v(c){return null!=c.Popup&&"FailedRegulationQuestionsLowScoreCANADA"==c.Popup.PopupContent.PopupName?(z.AppropriateProductNotice=c.Popup.Questions[0],d.open({template:"views/popUp/canada_low_score.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1,preCloseCallback:s}),!0):null!=c.Popup&&"FailedRegulationQuestionsMedScoreADGM"==c.Popup.PopupContent.PopupName?(b.showEUMedScorePopUp(w,o.ADGM),z.Score=c?c.Popup:null,l.showLoading(!1),!0):!1}function w(b){var c=g.step4RegRequest;1==b?(l.showLoading(!0),c.RegulationQuestions&&(z.Score&&(c.RegulationQuestions[z.Score.Questions[0].QuestionId]=!0),y(c))):2==b&&(l.showLoading(!0),c.ForceDemo=a.ForceDemo=!0,y(c))}function x(a){try{var b=ga.getAll()[0].get("linkerParam");null!==b&&""!==b&&(a.WebTraderUrl+="&"+b)}catch(c){console.log(c)}}function y(c){b.RegisterStep(c).success(function(c,d,k,m){if(!v(c))if(g.isMigrated)j.setToken(c.LoginToken),i.GetUserProfile(j.getToken()).then(function(a){l.showLoading(!1),j.setIsLoggedIn(!0),f.registerTypOn=!0,g.registerTypOn=!0,g.isMigrated=!1,delete g.dataObject,delete h.step1Data,e.go("my_account")});else{l.showLoading(!1),g.regServerData=m.data,z.regServerData=m.data,g.regServerData=m.data,c.IsWTServiceDown&&(g.IsWTSreviceDown=!0),c.WebTraderUrl&&(x(g.regServerData),m.data.Action==n.ShortFromDemoToReal?window.parent.postMessage('{ "type": "UPGRADE_ACCOUNT", "payload": {"url": "'+c.WebTraderUrl+'", "number":"'+c.TpAccountId+'"}}',"*"):g.typRedirectUrl=c.WebTraderUrl);var o="";f.IsJoint?(o="register.step5",j.setToken(m.headers.token),e.go(o)):(delete g.dataObject,delete h.step1Data,o=b.GetTYPUrl(a.regAction,a.ForceDemo),j.setToken(c.LoginToken),b.openAppInFullMode(o))}}).error(function(b){l.showLoading(!1),z.isFormSubmit=!0;var c=JSON.parse(b.Message);null!==c&&"object"==typeof c?"undefined"!=typeof c.Popups&&c.Popups.length>0?(j.setToken(c.LoginToken),z.regServerData=g.regServerData,d.open({template:"views/popUp/"+c.Popups[0]+".html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})):(console.log(c),a.$parent.ShowErrorPopup("Error","MssE")):a.$parent.ShowErrorPopup("Error","MssE")})}var z=this;l.showLoading(!1),console.log("step4"),z.isFinished=!1,z.isLoggedIn=j.getIsLoggedIn(),f.currentStep=z.stepNumber=4,g.shortRegAction&&(a.regAction=g.shortRegAction),z.riskDisclosureAgree=!1,z.showstep4=!1,z.showShort=!1,z.url=e.current.url,z.InForceMT4ServerName=h.step1Data&&h.step1Data.InForceMT4ServerName?h.step1Data.InForceMT4ServerName:!1,z.isJoint=f.IsJoint,f.typOn=!1,a.step4DataObject={},z.isFriedbergDirectAVA=l.getIsFriedbergDirectAVA(),z.isInvalid=function(){return b.isFormInvalid("step4Form")},"undefined"==typeof a.$parent.register.content&&f.$broadcast("loadContent"),q(),r(),g.dataObject.RegistrationStep=4,g.dataObject.RecordId=c.RecordId||(h.step1Data?h.step1Data.RecordId:null),g.dataObject.TP=null,g.dataObject.CustomerId=c.CustomerId||(h.step1Data?h.step1Data.CustomerId:null),z.businessGroupId=c.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:null),g.dataObject.Action=1,a.$watchCollection("step4DataObject",function(b,c){g.dataObject.step4=a.step4DataObject,a.$parent.register.dataObject=a.step4DataObject}),a.$on("$stateChangeStart",function(a,c,d,e,f){z.isLoggedIn||(b.setHistory(e),"/step5"!=c.url&&"/typ/FullReal"!=c.url)}),z.submit=function(a){f.$broadcast("formSubmission","#registrationStep4"),u()||(f.IsJoint||l.showLoading(!0),z.submitProssesing())},a.AgreeRiskDisclosure=function(){z.riskDisclosureAgree=!0,z.submitProssesing()},z.submitProssesing=function(){l.showLoading(!0);var c=t();g.step4RegRequest=c,b.RegisterStep(c).success(function(a,c,d,k){if(!v(a))if(g.isMigrated)j.setToken(a.LoginToken),i.GetUserProfile(j.getToken()).then(function(a){l.showLoading(!1),j.setIsLoggedIn(!0),f.registerTypOn=!0,g.registerTypOn=!0,g.isMigrated=!1,delete g.dataObject,delete h.step1Data,e.go("my_account")});else{l.showLoading(!1),g.regServerData=k.data,z.regServerData=k.data,g.regServerData=k.data,a.IsWTServiceDown&&(g.IsWTSreviceDown=!0),a.WebTraderUrl&&(x(g.regServerData),k.data.Action==n.ShortFromDemoToReal?window.parent.postMessage('{ "type": "UPGRADE_ACCOUNT", "payload": {"url": "'+a.WebTraderUrl+'", "number":"'+a.TpAccountId+'"}}',"*"):g.typRedirectUrl=a.WebTraderUrl);var m="";f.IsJoint?(m="register.step5",j.setToken(k.headers.token),e.go(m)):(delete g.dataObject,delete h.step1Data,m="typ/FullReal",j.setToken(a.LoginToken),b.openAppInFullMode(m))}}).error(function(b){l.showLoading(!1),z.isFormSubmit=!0;var c=JSON.parse(b.Message);null!==c&&"object"==typeof c?"undefined"!=typeof c.Popups&&c.Popups.length>0?(j.setToken(c.LoginToken),z.regServerData=g.regServerData,d.open({template:"views/popUp/"+c.Popups[0]+".html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})):(console.log(c),a.$parent.ShowErrorPopup("Error","MssE")):a.$parent.ShowErrorPopup("Error","MssE")})}}angular.module("app").controller("step4Ctrl",["$scope","RegisterService","$stateParams","ngDialog","$state","$rootScope","$sessionStorage","$localStorage","UserProfileService","AuthService","$timeout","CommonService","ProcessingAnswersService","eRegistrationAction","eBusinessGroup","MyAvaConsts",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){function r(){g.customerData?(u.customerData=g.customerData,f.$broadcast("customerDataUpdate")):u.customerData={}}function s(){u.jsonObject=u.jsonObject||{EnvironmentData:{Language:h.lang,TrackingParams:null},Regulation:{"":null,"":null,"":null,"":null}},void 0!=g.dataObject?(a.$parent.register.dataObject=g.dataObject,g.dataObject.step5&&(a.step5DataObject=g.dataObject.step5)):(a.$parent.register.dataObject=u.jsonObject,g.dataObject=u.jsonObject,g.dataObject.AccountFormData={})}function t(){var b=g.dataObject?g.dataObject.step5:{AnotherPersonAuthorizedTheAccount:9,UsingBorrowedFundsText:"dsdf",UsingBorrowedMoneyToFund:0,UsingBorrowedMoneyToFundHowMuch:5},c={EnvironmentData:{},RegulationQuestions:{}};return b?(g.businessGroupId=g.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:2),a.regAction=a.regAction||g.dataObject.Action,a.regAction!==o.ShortFromDemoToReal&&h.step1Data&&h.step1Data.fromMini&&(a.regAction=1),c={CountryId:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId||g.defaultCountryId,LanguageCode:h.lang,BusinessGroup:parseInt(g.businessGroupId),WhiteLabel:g.WhiteLabelName,Action:a.regAction,Step:5,IsComplete:f.IsJoint?!1:!0,EnvironmentData:{},RegulationQuestions:new Object},c.EnvironmentData={TrackingParams:[],Language:h.lang},u.isFriedbergDirectAVA&&(c.IsJoint=h.step1Data.IsJoint),a.register.content.step5.forEach(function(a){a.Questions.forEach(function(a){c.RegulationQuestions[a[0].QuestionId]=b[a[0].FieldName]})}),c):c}var u=this;n.showLoading(!1),console.log("step5"),u.isLoggedIn=l.getIsLoggedIn(),f.currentStep=u.stepNumber=5,u.showstep5=!1,u.showShort=!1,u.url=e.current.url,u.InForceMT4ServerName=h.step1Data&&h.step1Data.InForceMT4ServerName?h.step1Data.InForceMT4ServerName:!1,u.isJoint=f.IsJoint,u.isFriedbergDirectAVA=n.getIsFriedbergDirectAVA(),f.typOn=!1,a.step5DataObject={},"undefined"==typeof a.$parent.register.content&&f.$broadcast("loadContent"),u.isInvalid=function(){return b.isFormInvalid("step5Form")},r(),s(),g.dataObject.RegistrationStep=5,g.dataObject.RecordId=c.RecordId||(h.step1Data?h.step1Data.RecordId:null),g.dataObject.TP=null,g.dataObject.CustomerId=c.CustomerId||(h.step1Data?h.step1Data.CustomerId:null),u.businessGroupId=c.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:null),g.dataObject.Action=1,a.$watchCollection("step5DataObject",function(b,c){g.dataObject.step5=a.step5DataObject,a.$parent.register.dataObject=a.step5DataObject}),a.$on("$stateChangeStart",function(a,c,d,e,f){u.isLoggedIn||(b.setHistory(e),"/step5"!=c.url&&"/typ/FullReal"!=c.url)}),a.$watchCollection("$parent.register.dataObject",function(a,b){}),u.submit=function(c){f.$broadcast("formSubmission","#registrationStep5"),n.showLoading(!0);var d=t();b.RegisterStep(d).success(function(a,b,c,d){n.showLoading(!1),l.setToken(d.headers.token),u.regServerData=g.regServerData;var f="register.step6";e.go(f)}).error(function(b){n.showLoading(!1),u.isFormSubmit=!0,a.$parent.ShowErrorPopup("Error","MssE")})}}angular.module("app").controller("step5Ctrl",["$scope","RegisterService","$stateParams","ngDialog","$state","$rootScope","$sessionStorage","$localStorage","$filter","AccountService","$translate","AuthService","$timeout","CommonService","eRegistrationAction","eBusinessGroup","MyAvaConsts",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){function p(){g.customerData?(v.customerData=g.customerData,f.$broadcast("customerDataUpdate")):v.customerData={}}function q(){v.jsonObject=v.jsonObject||{EnvironmentData:{Language:h.lang,TrackingParams:null},Regulation:{"":null,"":null,"":null,"":null}},void 0!=g.dataObject?(a.$parent.register.dataObject=g.dataObject,g.dataObject.step6&&(a.step6DataObject=g.dataObject.step6)):(a.$parent.register.dataObject=v.jsonObject,g.dataObject=v.jsonObject,g.dataObject.AccountFormData={})}function r(a){1===a?(k.showLoading(!0),v.submitProssesing()):(v.AppropriateProductNotice=null,k.showLoading(!1))}function s(){var b=g.dataObject?g.dataObject.step6:{AnotherPersonAuthorizedTheAccount:9,UsingBorrowedFundsText:"dsdf",UsingBorrowedMoneyToFund:0,UsingBorrowedMoneyToFundHowMuch:5},c={EnvironmentData:{},RegulationQuestions:{}};return b?(g.businessGroupId=g.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:2),a.regAction=a.regAction||g.dataObject.Action,a.regAction!==m.ShortFromDemoToReal&&h.step1Data&&h.step1Data.fromMini&&(a.regAction=1),c={CountryId:a.selectedCountry?a.selectedCountry.Id:g.selectedCountryId||g.defaultCountryId,LanguageCode:h.lang,BusinessGroup:parseInt(g.businessGroupId),WhiteLabel:g.WhiteLabelName,Action:a.regAction,Step:6,IsComplete:!0,EnvironmentData:{},RegulationQuestions:new Object},c.EnvironmentData={TrackingParams:[],Language:h.lang},v.isFriedbergDirectAVA&&(c.IsJoint=h.step1Data.IsJoint),c.RegulationQuestions=l.convertRegulationsQuestions(b,a.register.content.step6),"object"==typeof v.AppropriateProductNotice&&(c.RegulationQuestions[v.AppropriateProductNotice.QuestionId]=!0),c):c}function t(){return v.riskDisclosureAgree?!1:(f.$broadcast("canadaRiskDisclosurePopup"),d.open({template:"views/popUp/risk-disclosure-notice.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1}),!0)}function u(b){return null!=b.Popup&&"FailedRegulationQuestionsLowScoreCANADA"==b.Popup.PopupContent.PopupName?(v.AppropriateProductNotice=b.Popup.Questions[0],d.open({template:"views/popUp/canada_low_score.html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1,preCloseCallback:r}),!0):!1}var v=this;k.showLoading(!1),console.log("step6"),v.riskDisclosureAgree=!1,v.isLoggedIn=j.getIsLoggedIn(),f.currentStep=v.stepNumber=6,v.showstep6=!1,v.showShort=!1,v.url=e.current.url,v.InForceMT4ServerName=h.step1Data&&h.step1Data.InForceMT4ServerName?h.step1Data.InForceMT4ServerName:!1,v.isJoint=f.IsJoint,v.isFriedbergDirectAVA=k.getIsFriedbergDirectAVA(),f.typOn=!1,a.step6DataObject={},
v.isInvalid=function(){return b.isFormInvalid("step6Form")},"undefined"==typeof a.$parent.register.content&&f.$broadcast("loadContent"),p(),q(),g.dataObject.RegistrationStep=6,g.dataObject.RecordId=c.RecordId||(h.step1Data?h.step1Data.RecordId:null),g.dataObject.TP=null,g.dataObject.CustomerId=c.CustomerId||(h.step1Data?h.step1Data.CustomerId:null),v.businessGroupId=c.businessGroupId||(h.step1Data?h.step1Data.BusinessGroupId:null),g.dataObject.Action=1,a.$watchCollection("step6DataObject",function(b,c){g.dataObject.step6=a.step6DataObject,a.$parent.register.dataObject=a.step6DataObject}),a.$on("$stateChangeStart",function(a,c,d,e,f){v.isLoggedIn||(b.setHistory(e),"/step6"!=c.url&&"/typ/FullReal"!=c.url)}),a.AgreeRiskDisclosure=function(){v.riskDisclosureAgree=!0,v.submitProssesing()},v.submit=function(){f.$broadcast("formSubmission","#registrationStep6"),t()||(f.IsJoint||k.showLoading(!0),v.submitProssesing())},v.submitProssesing=function(){k.showLoading(!0);var c=s();b.RegisterStep(c).success(function(a,c,d,e){if(!u(a)){k.showLoading(!1),j.setToken(a.LoginToken),v.regServerData=g.regServerData;var f="";delete g.dataObject,delete h.step1Data,f="typ/FullReal",b.openAppInFullMode(f)}}).error(function(b){k.showLoading(!1),v.isFormSubmit=!0;var c=JSON.parse(b.Message);null!==c&&"object"==typeof c?"undefined"!=typeof c.Popups&&c.Popups.length>0?(j.setToken(c.LoginToken),d.open({template:"views/popUp/"+c.Popups[0]+".html",className:"ngdialog-theme-default",scope:a,closeByDocument:!1})):(console.log(c),a.$parent.ShowErrorPopup("Error","MssE")):a.$parent.ShowErrorPopup("Error","MssE")})}}angular.module("app").controller("step6Ctrl",["$scope","RegisterService","$stateParams","ngDialog","$state","$rootScope","$sessionStorage","$localStorage","$timeout","AuthService","CommonService","ProcessingAnswersService","eRegistrationAction","eBusinessGroup","MyAvaConsts",d])}(window,document,"script"),function(a){function b(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){function t(){e.token&&q.setToken(e.token),!q.getToken()&&console.log("token is missing")}function u(){return b.action=b.action||k.shortRegAction,!(b.action==window.AccountType.ShortFromRealToDemo||b.action==window.AccountType.ShortFromDemoToDemo)}function v(){K.businessGroupId=k.businessGroupId,f.getRegisterationData(K.businessGroupId,"en").then(function(a){K.content=a.data,K.content=f.setStepsContent(K.content,K.businessGroupId),b.shortReg=f.RemoveNoneRelevantQuestions(K.content.shortReg),console.log(K.content)})}function w(){console.log("shortRegistrationCtrl InitForm"),b.appType=e.appType,o.showLoading(!1),b.action=k.shortRegAction,b.InitFormData=function(){x()};var a=sessionStorage.getItem("CountriesFor"+k.WhiteLabelName);a?(response=JSON.parse(a),b.defaultCountryId=response.DefaultCountryId,b.countries=response.Countries,A(),(i.IsATrade||i.IsAvaJapan||b.isGDPRRelevant)&&v(),i.$broadcast("authLoaded")):f.getShortDataForRegistration(l.lang).success(function(a){k.WhiteLabelName&&sessionStorage.setItem("CountriesFor"+k.WhiteLabelName,JSON.stringify(a)),b.defaultCountryId=a.DefaultCountryId,b.countries=a.Countries,A(),(i.IsATrade||i.IsAvaJapan||b.isGDPRRelevant)&&v(),i.$broadcast("authLoaded")}),I()}function x(){try{var a=k.userProfile;b.user=a,b.selectedCountry=d("filter")(b.countries,{Id:a.CountryID},!0)[0],b.selectedCountry.PlatformsList=b.selectedCountry.PlatformsList||[],f.GetTradingPlatforms(b.action).then(function(a){if(b.selectedCountry.PlatformsList=f.FilterTradingPlatforms(a.data,b.user),isWebTrader())if(k.selectedPlatformId)b.selectedCountry.PlatformsList=b.selectedCountry.PlatformsList.filter(function(a){return a.Platform.Id==k.selectedPlatformId});else{const c=l.step1Data&&l.step1Data.TP||new URL(location.href).searchParams.get("TP"),e=b.user.Accounts.filter(function(a){return a.TPAccountID==c})[0];b.selectedCountry.PlatformsList=b.selectedCountry.PlatformsList.filter(function(a){return a.Platform.Id==(e.Platform||b.user.Accounts[0].Platform)})}var g=a.data[0].Platform.DefaultTradingPlatformId,h=d("filter")(b.selectedCountry.PlatformsList,{Platform:{Id:g}},!0);b.selectedPlatform=h.length?h[0]:b.selectedCountry.PlatformsList[0],z()}),k.businessGroupId=a.BusinessGroupId,i.$broadcast("customerDataUpdate")}catch(c){b.selectedCountry=null,console.log("error loading countries")}}function y(a){if(!K.HiddenPlatform)try{a&&K.HidenPlatformsList.length&&(b.selectedCountry.PlatformsList=b.selectedCountry.PlatformsList.concat(K.HidenPlatformsList),b.$evalAsync(),angular.element(r[0].querySelector('select[data-ng-model="selectedPlatform"]')).controller("ngModel").$render(),k.platformName?K.HidenPlatformsList.filter(function(a){return a.Platform.Name.toLowerCase().replace(/\s/g,"")==k.platformName.toLowerCase()}).map(function(a){k.tradingplatform=a.Platform.Id}):k.tradingplatform=K.HidenPlatformsList.shift().Platform.Id);var c=b.selectedCountry.DefaultPlatformId;k.tradingplatform&&(c=parseInt(k.tradingplatform));var e;k.shortTradingPlatform?(angular.forEach(b.selectedCountry.PlatformsList,function(a){a.Platform.Name.toLowerCase().replace(/ /g,"")==k.shortTradingPlatform.toLowerCase().replace(/ /g,"")&&(e=a)}),e?b.selectedPlatform=e:b.selectedPlatform=b.selectedCountry.PlatformsList[0]):(e=d("filter")(b.selectedCountry.PlatformsList,{Platform:{Id:c}},!0),e.length>0?(k.serverName&&(e[0].Platform.MtServer=k.serverName),k.dealtype&&(e[0].Platform.DealType=k.dealtype),b.selectedPlatform=e[0]):b.selectedPlatform=b.selectedCountry.PlatformsList[0])}catch(f){b.selectedPlatform=b.selectedCountry.PlatformsList[0]}}function z(){if(b.selectedPlatform)try{var a=d("filter")(b.selectedPlatform.Currencies,{Id:b.selectedCountry.DefaultCurrencyId},!0);a.length>0?b.selectedCurrency=a[0]:b.selectedCurrency=b.selectedPlatform.Currencies[0]}catch(c){b.selectedCurrency=b.selectedPlatform.Currencies[0]}}function A(){void 0==k.userProfile?g.GetUserProfile(m.getToken()).then(function(a){k.userProfile=a.data,b.user=k.userProfile,b.InitFormData()}):b.InitFormData()}function B(){if(i.$broadcast("formSubmission","#shortContainer"),void 0!=m.getToken()&&b.isFormValid()){if(b.riskWarningApproved||C(),K.isReal=u(),o.getIsATrade()&&!b.riskWarningApproved&&K.isReal)return void j.open({template:"views/popUp/atrade/risk-warning.html",className:"ngdialog-theme-default",scope:b,closeByDocument:!1,showClose:!1,preCloseCallback:function(a){a&&(b.riskWarningApproved=!0,b.regRequest.AtradeRiskWarning=b.riskWarningApproved,B())}});if(b.submitted=!0,b.disableSubmit=!0,o.showLoading(!0),b.regRequest.WhiteLabelName=k.WhiteLabelName,K.isReal){var a=G();f.RegisterStep(a).success(function(a){k.isRefreshed=!1,k.regServerData=a,k.selectedPlatformId=b.selectedPlatform.Platform.Id,f.setCustomerData(b.user.CustomerID,null,b.selectedCountry.BusinessGroupId,b.selectedCurrency.Id),a.WebTraderUrl&&a.TpAccountId&&setTimeout(function(){window.parent.postMessage('{ "type": "UPGRADE_ACCOUNT", "payload": {"url": "'+a.WebTraderUrl+'", "number":"'+a.TpAccountId+'"}}',"*")},5e3),K.isReal?h.go("typ/ShortReal"):h.go("typ/ShortDemo"),b.disableSubmit=!1}).error(function(a){var c=JSON.parse(a.Message);c.LoginToken&&m.setToken(c.LoginToken),b.errMsg=c.Error;var d=f.handleRegistrationErrorMessage(b.errMsg,K.isReal);b.$parent.ShowErrorPopup("Error",d),K.errMsg=!0,o.showLoading(!1),b.submitted=!1,b.disableSubmit=!1})}else f.shortRegistration(b.regRequest,m.getToken()).then(function(a){var c=a.data;k.regServerData=c,k.selectedPlatformId=b.selectedPlatform.Platform.Id,f.setCustomerData(b.user.CustomerID,null,b.selectedCountry.BusinessGroupId,b.selectedCurrency.Id),K.isReal?h.go("typ/ShortReal"):h.go("typ/ShortDemo"),b.disableSubmit=!1},function(a){b.errMsg=a.data.Message;var c=f.handleRegistrationErrorMessage(b.errMsg,K.isReal);b.$parent.ShowErrorPopup("Error",c),K.errMsg=!0,o.showLoading(!1),b.submitted=!1,b.disableSubmit=!1})}}function C(){b.regRequest={RegistrationStep:1,Contact:{},EnvironmentData:{},AccountFormData:{},Regulation:{}},b.regRequest.Action=b.action,D(),E(),F(),H()}function D(){b.regRequest.AccountFormData={BusinessGroupId:b.user.BusinessGroupId,TradingPlatform:b.selectedPlatform.Platform.Id,CurrencyBase:b.selectedCurrency.Id,ServerName:b.selectedPlatform.Platform.MtServer,DealType:b.selectedPlatform.Platform.DealType,IsMirriorTrader:5==b.selectedPlatform.Platform.Id?1:0,SubTradingPlatform:b.selectedPlatform.Platform.SubTradingPlatform}}function E(){b.regRequest.Contact={Country:b.selectedCountry.Id}}function F(){b.regRequest.EnvironmentData.Language=l.lang,b.regRequest.EnvironmentData.TogglePageId="new";var a=f.isMobile.any()?"MyAvaWebMobile":"MyAvaWebSite";b.regRequest.EnvironmentData.IdentifierApplicationSource=a,b.regRequest.EnvironmentData.CreatedAtDomain=location.hostname,b.regRequest.EnvironmentData.Agent=navigator.userAgent,b.regRequest.EnvironmentData.TrackingParams=[],u()&&(b.regRequest.EnvironmentData.IPCountry=b.defaultCountryId)}function G(){var a={};return a={CountryId:b.selectedCountry?b.selectedCountry.Id:k.selectedCountryId||k.defaultCountryId,LanguageCode:l.lang,BusinessGroup:parseInt(k.businessGroupId),WhiteLabel:k.WhiteLabelName,Action:b.action,Step:1,IsComplete:!0,IsMigrated:k.isMigrated,EnvironmentData:{},RegulationQuestions:new Object,TradingPlatformInfo:{}},a.EnvironmentData={TrackingParams:[],Language:l.lang},a.TradingPlatformInfo={TradingPlatform:b.selectedPlatform.Platform.Id?b.selectedPlatform.Platform.Id:k.selectedPlatformId,CurrencyBase:b.selectedCurrency.Id?b.selectedCurrency.Id:k.selectedCurrencyId,ServerName:b.selectedPlatform.Platform.MtServer,DealType:b.selectedPlatform.Platform.DealType,SubTradingPlatform:b.selectedPlatform.Platform.SubTradingPlatform},b.shortReg&&b.shortReg.Questions&&b.shortReg.Questions.forEach(function(c){null!=b.regRequest.Regulation[c[0].FieldName]&&(a.RegulationQuestions[c[0].QuestionId]=b.regRequest.Regulation[c[0].FieldName])}),a}function H(){(b.IsATrade||b.isAvaJapan||b.isGDPRRelevant)&&(b.regRequest.Regulation=Object.assign({},b.regRequest.Regulation,b.$parent.register.dataObject)),b.regRequest.Regulation.BusinessGroup=parseInt(k.businessGroupId)}function I(){k.userProfile&&k.userProfile.ChallengeEligable?a.challengeWidgetObj&&a.challengeWidgetObj.challengeData&&J(a.challengeWidgetObj.challengeData):J()}function J(a){var c={demoAmount:"$100,000",demoExpiary:"21"};a&&(c={demoAmount:a.currencySymbol+a.initialAmount,demoExpiary:a.expirationDays}),s("masterTradingSkills",c).then(function(a){b.demoAccountHeader=a})}var K=this;b.$on("$stateChangeStart",function(a,b,c,d,e){console.log(d),("typ/ShortDemo"==b.name||"typ/ShortReal"==b.name||"typ/FullReal"==b)&&(f.setHistory(d),"/register"==b.url&&a.preventDefault())}),console.log("short reg"),t(),w(),i.typOn=!1,b.termsAndCondistions=[TermsAndCondistions1=!1,TermsAndCondistions2=!1,TermsAndCondistions3=!1,TermsAndCondistions4=!1,TermsAndCondistions5=!1,TermsAndCondistions6=!1],b.ConflictOfInterest={flag:!1},b.IsATrade=i.IsATrade,b.isAvaJapan=o.getIsAvaJapan(),K.HiddenPlatform=!1,b.disableSubmit=!1,b.isGDPRRelevant=f.isGDPRRelevant(),b.isFormValid=function(){return b.selectedCurrency&&b.selectedPlatform&&b.isTermsValid()||!1},b.isTermsValid=function(){var a=6,c=b.$parent.register.dataObject;return f.isGDPRRelevant("TermsAndConditions")?c.TermsAndConditions:b.IsATrade&&b.action==a?c.ConflictOfInterest&&c.TermsAndConditions:!0},b.onCountryChange=function(){y(K.HiddenPlatform),z()},b.onPlatformChange=function(){z()},b.riskWarningApproved=!1,b.onClickRegister=function(){B()},i.$on("challengeObjReady",function(a,b){J(b)})}angular.module("app").controller("shortRegistrationCtrl",["$scope","$http","$filter","$stateParams","RegisterService","AccountService","$state","$rootScope","ngDialog","$sessionStorage","$localStorage","AuthService","$location","CommonService","$anchorScroll","authenticationService","$element","$translate",b])}(window),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){if(self=this,a.$on("$locationChangeStart",function(a,b,c){c=c.split("?")[0],i.setHistory(c),i.deleteRegSessionData()}),a.setReady=function(b){a.show=b,n.showLoading(!b)},a.setReady(!1),a.IsOption=!1,a.IsMirror=!1,console.log(document.referrer),i.getUrlQuery(),i.setCustomerData(f.search().CustomerId,f.search().RecordId,f.search().BusinessGroupId,f.search().CurrencyBase),(!g.customerRegData||f.search().AccountId&&g.customerRegData.AccountId!=f.search().AccountId)&&(g.customerRegData={TPAccountID:f.search().TPAccountID,selectedPlatformId:f.search().selectedPlatformId,currencyBase:f.search().CurrencyBase,AccountId:f.search().AccountId}),g.customerRegData||(k.location.href=l.avaTradeDomain),e.IsChDomain=b.IsChinaDomain(),g.Theme){var t=g.Theme.toLowerCase().charAt(0).toUpperCase()+g.Theme.toLowerCase().slice(1);$("link[href*=theme"+t+"]").remove()}c.GetUserProfile(g.token),a.GetIsOption=function(){switch(a.typData.TradingPlatform){case p.TradingPlatform.AvaOptions:a.IsOption=!0;break;default:a.IsOption=!1}},a.$on("userProfileUpdated",function(b){var d=c.getUserAccountByIdFromUserProfile(g.customerRegData.AccountId);if(!g.customerRegData.isRefreshed){"undefined"!=typeof $AvaTracker&&$AvaTracker.TrackerEvents.onConvertion(!1);var f={type:"Demo",registrationType:"FullDemo",customerId:d.CustomerID,tpNumber:d.TPAccountID,email:d.Email};e.$broadcast("signupSuccess",f),g.customerRegData.isRefreshed=!0}if(a.typData=self.typData=d,!a.typData)return n.showLoading(!1),void n.openOopsPopUp();a.downloadLink=e.mobileConfig.isMobile?o.DownloadApp(a.typData):a.typData.TPDownloadLink,c.getPixelTracking(j.getToken(),"Demo").success(function(b){"https:"==location.protocol&&b.match("http://")?b=b.replace("http://","https://"):"http:"==location.protocol&&b.match("https://")&&(b=b.replace("https://","http://")),a.typData.trackingPixel=i.convertPixelScript(b)}).error(function(a){console.error(a.Message||"error whilte getting pixel")}),i.CollectGrymcoData(a.typData),self.userProfile=b,a.showPassword=a.typData.Password,a.translationData={email:self.typData.Email,platformName:self.typData.TradingPlatformName},a.typData.Texts=i.GetTYPTexts(self.typData.TradingPlatform,self.typData.IsMirriorTrader),a.typData.PageTitle="mTYWDemoTitle",a.typData.stateName="my_account",a.typData.btnText="toContinue",a.typData.total=100,a.typData.isCompleteText="readyNow",a.IsDemo=!0,e.$broadcast("refreshChallengeWidget"),e.$broadcast("registrationFinished_ST"),a.doNotShowDownloadLink=5==a.typData.TradingPlatform,e.$broadcast("authLoaded"),g.isLoggedIn=!0,j.setIsLoggedIn(!0),e.$broadcast("updateLeftSideMenu");var h=r.GetIsOptionOrIsMirror(a.typData.TradingPlatform,a.typData.IsMirriorTrader);a.IsOption=h.IsOption,a.IsMirror=h.IsMirror,a.IsMT4=h.IsMT4,a.IsMT4DupliTrade=h.IsMT4DupliTrade,a.setReady(!0),i.UpdateContactPhoneRegistretion(g.selectedCountryId)}),f.search(""),a.googleEventData=n.getGoogleAnalyticsEventObj(g.customerRegData.TPAccountID,a.IsDemo,g.selectedPlatformId),a.googleEventData.type="DemoAccount",a.IsAtrade=function(){return e.IsATrade},a.dupliTradeClick=function(){return q.post(window.webApidomain+"api/DupliTrade/DupliTradeAction?accountId="+self.typData.AccountId).then(function(a){var b=a.data;b?(k.open(b,"_blank"),c.GetUserProfile(j.getToken()),e.$broadcast("DupliTradeThankYouConnect")):s.ShowErrorPopup("sorry","duplitrade_error")})["catch"](function(a){s.ShowErrorPopup("sorry","duplitrade_error")})}}angular.module("app").controller("fullDemoCtrl",["$scope","DomainService","AccountService","ngDialog","$rootScope","$location","$sessionStorage","$state","RegisterService","AuthService","$window","MyAvaConfig","$timeout","CommonService","MobileService","MyAvaConsts","$http","TypService","CommonUiService",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){self=this,self.counter=0,f.currentStep=null,a.$on("$locationChangeStart",function(a,b,c){k.setHistory(c),k.deleteRegSessionData(),/typ\//.test(c)&&/register\//.test(b)&&a.preventDefault()}),a.setReady=function(b){a.show=b,q.showLoading(!b)},angular.element(document).ready(function(){1!=i.businessGroupId&&c.GetUserProfile(l.getToken())}),a.IsOption=!1,a.IsMirror=!1,self.isAvaJapan=q.getIsAvaJapan(),a.setReady(!1),i.customerData||(m.location.href=n.avaTradeDomain),f.IsChDomain=b.IsChinaDomain(),self.regServerData=i.regServerData,delete i.dataObject,self.avaJapanAffiliateConversionTag=function(){a.fireGGJPixel=!1,a.fireTCSPixel=!1,a.fireInterspacePixel=!1;try{var b=JSON.parse(sessionStorage.getItem("step1Data")),c=b&&b.EnvironmentData.PartnerCodeTag?b.EnvironmentData.PartnerCodeTag.Tag:null,d=h.absUrl().contains("https://myvip.avatrademt5.jp/");if(d&&(a.fireInterspacePixel=!0,c))if("114174"==c)a.fireGGJPixel=!0;else if("114172"==c){a.fireTCSPixel=!0;var e=new Date;const f="https://www.tcs-asp.net/tcsresultnd.js?LC=AVA3&NK="+e.getFullYear()+("0"+(e.getMonth()+1)).slice(-2)+("0"+e.getDate()).slice(-2)+("0"+e.getHours()).slice(-2)+("0"+e.getMinutes()).slice(-2)+("0"+e.getSeconds()).slice(-2);$("<script>").attr({src:f}).appendTo("body")}}catch(g){console.error(g)}},self.onProfileReceived=function(b){self.avaJapanAffiliateConversionTag();var d=c.getUserAccountByIdFromUserProfile(i.regServerData.AccountId);if(!i.regServerData.isRefreshed){"undefined"!=typeof $AvaTracker&&(7===i.shortRegAction?$AvaTracker.TrackerEvents.onAdditionalAccount(!0,!0):$AvaTracker.TrackerEvents.onConvertion(!0));var e={type:"Real",registrationType:"FullReal",customerId:d.CustomerID,tpNumber:d.TPAccountID,email:d.Email};f.$broadcast("signupSuccess",e),i.regServerData.isRefreshed=!0}if(b&&(b.TPAccountID=self.regServerData.TPAccountID),a.typData=self.typData=d,!a.typData)return q.showLoading(!1),void q.openOopsPopUp();a.downloadLink=f.mobileConfig.isMobile?s.DownloadApp(a.typData):a.typData.AccountLinks.DownloadLink,a.translationData={email:self.typData.Email,platformName:self.typData.TradingPlatformName},a.typData.Texts=k.GetTYPTexts(self.typData.TradingPlatform,self.typData.IsMirriorTrader),a.typData.PageTitle=i.avaproTyp?"pt_typTitle":"mTYWRealTitle",a.typData.btnText="continueToDeposit",a.typData.stateName="my_account",a.typData.total=100,a.typData.isCompleteText="nowComplete",a.IsDemo=!1,f.$broadcast("refreshChallengeWidget"),f.$broadcast("shortDemoToRealregFinished","fromFullRealTyp"),f.$broadcast("registrationFinished_ST"),r.setSelectedAccount(a.typData),c.getPixelTracking(l.getToken(),"Real").success(function(b){a.typData.trackingPixel=k.convertPixelScript(b)}).error(function(a){console.error(a.Message||"error whilte getting pixel")}),k.CollectGrymcoData(b),i.goToAvaTrade=!0,a.typData.isShowFundSentence=q.checkDepoitBonusAllowance(),f.$broadcast("authLoaded"),i.isLoggedIn=!0,l.setIsLoggedIn(!0),f.$broadcast("updateLeftSideMenu");var g=u.GetIsOptionOrIsMirror(a.typData.TradingPlatform,a.typData.IsMirriorTrader);a.IsOption=g.IsOption,a.IsMirror=g.IsMirror,a.IsMT4=g.IsMT4,a.IsMT4DupliTrade=g.IsMT4DupliTrade,1==i.businessGroupId?p(function(){a.setReady(!0),a.show=!1,j.go("my_account")},0):a.setReady(!0)},null!=i.step3RegRequest&&(a.isPartOfChinaCountry=q.isPartOfChinaCountry(parseInt(i.step3RegRequest.CountryId))),self.onProfileReceived(),a.goToDeposit=function(){k.goState("deposit")},a.goToUploadDocument=function(){k.goState("upload_document")},a.googleEventData=q.getGoogleAnalyticsEventObj(self.regServerData.TPAccountID,a.IsDemo,i.selectedPlatformId),a.googleEventData.type="RealAccount",a.IsAtrade=function(){return f.IsATrade},a.dupliTradeClick=function(){return v.post(window.webApidomain+"api/DupliTrade/DupliTradeAction?accountId="+self.regServerData.AccountId).then(function(a){var b=a.data;b?(m.open(b,"_blank"),c.GetUserProfile(l.getToken()),f.$broadcast("DupliTradeThankYouConnect")):x.ShowErrorPopup("sorry","duplitrade_error")})["catch"](function(a){x.ShowErrorPopup("sorry","duplitrade_error")})}}angular.module("app").controller("fullRealCtrl",["$scope","DomainService","AccountService","$stateParams","ngDialog","$rootScope","MainService","$location","$sessionStorage","$state","RegisterService","AuthService","$window","MyAvaConfig","$localStorage","$timeout","CommonService","DepositService","MobileService","MyAvaConsts","TypService","$http","ProfessionalTraderService","CommonUiService",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){self=this,a.$on("$locationChangeStart",function(a,b,c){k.setHistory(c),k.deleteRegSessionData(),/typ\//.test(c)&&/register\//.test(b)&&a.preventDefault()}),a.setReady=function(b){a.show=b,q.showLoading(!b)},a.setReady(!1),a.IsOption=!1,a.IsMirror=!1,f.IsChDomain=b.IsChinaDomain(),c.GetUserProfile(),a.$on("userProfileUpdated",function(b){var d=c.getUserAccountByIdFromUserProfile(i.regServerData.AccountId);if(!i.regServerData.isRefreshed){"undefined"!=typeof $AvaTracker&&$AvaTracker.TrackerEvents.onAdditionalAccount(!0,!1);var e={type:"Demo",registrationType:"ShortDemo",customerId:d.CustomerID,tpNumber:d.TPAccountID,email:d.Email};f.$broadcast("signupSuccess",e),i.regServerData.isRefreshed=!0}if(a.typData=self.typData=d,!a.typData)return q.showLoading(!1),void q.openOopsPopUp();a.downloadLink=f.mobileConfig.isMobile?r.DownloadApp(a.typData):a.typData.TPDownloadLink,a.IsDemo=!0,a.typData.Texts=k.GetTYPTexts(self.typData.TradingPlatform,self.typData.IsMirriorTrader),a.typData.PageTitle="mTYWDemoTitle",a.typData.btnText="toContinue",a.typData.stateName="my_account",a.typData.total=100,a.typData.isCompleteText="readyNow",a.translationData={email:self.typData.Email,platformName:self.typData.TradingPlatformName},f.typOn=!0;var g=u.GetIsOptionOrIsMirror(a.typData.TradingPlatform,a.typData.IsMirriorTrader);a.IsOption=g.IsOption,a.IsMirror=g.IsMirror,a.IsMT4=g.IsMT4,a.IsMT4DupliTrade=g.IsMT4DupliTrade,f.$broadcast("refreshChallengeWidget"),a.doNotShowDownloadLink=a.typData.TradingPlatform===s.TradingPlatform.MirrorTrader,a.setReady(!0),c.getPixelTracking(l.getToken(),"Demo").success(function(b){a.typData.trackingPixel=k.convertPixelScript(b)}).error(function(a){console.error(a.Message||"error whilte getting pixel")}),k.CollectGrymcoData()}),a.googleEventData=q.getGoogleAnalyticsEventObj(i.regServerData.TPAccountID,a.IsDemo,i.selectedPlatformId),a.googleEventData.type="DemoAccount",a.IsAtrade=function(){return f.IsATrade},a.dupliTradeClick=function(){return t.post(window.webApidomain+"api/DupliTrade/DupliTradeAction?accountId="+i.regServerData.AccountId).then(function(a){var b=a.data;b?(m.open(b,"_blank"),c.GetUserProfile(l.getToken()),f.$broadcast("DupliTradeThankYouConnect")):v.ShowErrorPopup("sorry","duplitrade_error")})["catch"](function(a){v.ShowErrorPopup("sorry","duplitrade_error")})}}angular.module("app").controller("shortDemoCtrl",["$scope","DomainService","AccountService","$stateParams","ngDialog","$rootScope","MainService","$location","$sessionStorage","$state","RegisterService","AuthService","$window","MyAvaConfig","$localStorage","$timeout","CommonService","MobileService","MyAvaConsts","$http","TypService","CommonUiService",d])}(window,document,"script"),function(a,b,c){function d(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){self=this,self.counter=0,f.currentStep=null,a.$on("$locationChangeStart",function(a,b,c){k.setHistory(c),k.deleteRegSessionData(),/typ\//.test(c)&&/register\//.test(b)&&a.preventDefault()}),a.setReady=function(b){a.show=b,q.showLoading(!b)},a.setReady(!1),a.IsOption=!1,a.IsMirror=!1,self.isAvaJapan=q.getIsAvaJapan(),f.IsChDomain=b.IsChinaDomain(),c.GetUserProfile(),a.$on("userProfileUpdated",function(b){var d=c.getUserAccountByIdFromUserProfile(i.regServerData.AccountId);if(!i.isRefreshed){"undefined"!=typeof $AvaTracker&&$AvaTracker.TrackerEvents.onAdditionalAccount(!0,!1);var e={type:"Real",registrationType:"ShortReal",customerId:d.CustomerID,tpNumber:d.TPAccountID,email:d.Email};f.$broadcast("signupSuccess",e),i.isRefreshed=!0}if(a.typData=self.typData=d,!a.typData)return q.showLoading(!1),void q.openOopsPopUp();a.downloadLink=f.mobileConfig.isMobile?s.DownloadApp(a.typData):a.typData.TPDownloadLink,r.setSelectedAccount(a.typData),a.typData.isShowFundSentence=q.checkDepoitBonusAllowance(),a.typData.Texts=k.GetTYPTexts(self.typData.TradingPlatform,self.typData.IsMirriorTrader),a.translationData={email:self.typData.Email,platformName:self.typData.TradingPlatformName},a.typData.PageTitle="mTYWRealTitle",a.typData.btnText="toContinue",a.typData.stateName="my_account",a.typData.total=100,a.typData.isCompleteText="readyNow",a.IsDemo=!1,f.typOn=!0;var g=v.GetIsOptionOrIsMirror(a.typData.TradingPlatform,a.typData.IsMirriorTrader);a.IsOption=g.IsOption,a.IsMirror=g.IsMirror,a.IsMT4=g.IsMT4,a.IsMT4DupliTrade=g.IsMT4DupliTrade,f.$broadcast("refreshChallengeWidget"),f.$broadcast("shortDemoToRealregFinished","fromShortRealTyp"),1!=i.businessGroupId||isWebTrader()?a.setReady(!0):p(function(){a.setReady(!0),a.show=!1,j.go("my_account")},2e3),c.getPixelTracking(l.getToken(),i.shortRegAction,i.customerData.currencyBase.toString()).success(function(b){a.typData.trackingPixel=k.convertPixelScript(b)}).error(function(a,b,c,d){console.log("error getPixelTracking: "+a)}),k.CollectGrymcoData()}),a.goToDeposit=function(){k.goState("deposit")},a.goToUploadDocument=function(){k.goState("upload_document")},a.googleEventData=q.getGoogleAnalyticsEventObj(i.regServerData.TPAccountID,a.IsDemo,i.selectedPlatformId),a.googleEventData.type="RealAccount",a.IsAtrade=function(){return f.IsATrade},a.dupliTradeClick=function(){return u.post(window.webApidomain+"api/DupliTrade/DupliTradeAction?accountId="+i.regServerData.AccountId).then(function(a){var b=a.data;b?(m.open(b,"_blank"),c.GetUserProfile(l.getToken()),f.$broadcast("DupliTradeThankYouConnect")):w.ShowErrorPopup("sorry","duplitrade_error")})["catch"](function(a){w.ShowErrorPopup("sorry","duplitrade_error")})}}angular.module("app").controller("shortRealCtrl",["$scope","DomainService","AccountService","$stateParams","ngDialog","$rootScope","MainService","$location","$sessionStorage","$state","RegisterService","AuthService","$window","MyAvaConfig","$localStorage","$timeout","CommonService","DepositService","MobileService","MyAvaConsts","$http","TypService","CommonUiService",d])}(window,document,"script"),function(){function a(a,b,c,d,e){var f=this,g=e.getLocalUserProfile();(void 0==g||null==g)&&(g=e.GetUserProfile(c.token));var h=function(){if(g.Accounts){g.Accounts=g.Accounts.sort(function(a,b){return a=new Date(a.CreatedOn),b=new Date(b.CreatedOn),a>b?-1:b>a?1:0});var b=g.Accounts[0];f.typData=b,callGoogleAnalyticsEvent(b);var c=1==b.IsReal?{type:"Real",registrationType:"WebTraderReal"}:{type:"Demo",registrationType:"WebTraderDemo"},d={type:c.type,registrationType:c.registrationType,customerId:g.CustomerID,tpNumber:b.TPAccountID,email:b.Email};a.$broadcast("signupSuccess",d)}f.firstName=g.FirstName};f.fundAccountClick=function(){window.parent.postMessage('{"type":"REDIRECT_TO_CRM_DEPOSIT"}',"*")},f.closePopup=function(){window.parent.postMessage('{"type":"CLOSE"}',"*")},callGoogleAnalyticsEvent=function(a){b.googleEventData=d.getGoogleAnalyticsEventObj(a.TPAccountID,!a.IsReal,a.Platform),b.googleEventData.type=1==a.IsReal?"RealAccount":"DemoAccount"},h()}angular.module("app").controller("webTraderTypCtrl",["$rootScope","$scope","$sessionStorage","CommonService","AccountService",a])}();var sideMenuCmp=["$scope","MyAvaConfig","whiteLabelData","CommonService","$attrs","RegisterService","SideMenuService","AccountService","$sessionStorage","$localStorage","$state","$rootScope","AuthObject","AuthService","$filter","$timeout","MyAvaConsts","ngDialog","DecibelService",function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){var t=this;t.mobileConfig=l.mobileConfig,t.isIndicator=!0,t.userProfile=h.getLocalUserProfile(),t.parentWithSubMenus=!1,t.IsATrade=d.getIsATrade(),t.progressCounter=0,t.isDemoExpired=function(){return d.checkDemoAccountExpiration(t.userProfile)&&!d.hasRealAccount()&&!d.hasActiveDemoAccount()},window.oncontextmenu=function(){return!(sessionStorage.LossLimitDataPopup&&"None"!==sessionStorage.LossLimitDataPopup)},a.$on("userProfileUpdated",function(a,b){p(function(){t.userProfile=h.getLocalUserProfile(),t.getMenuItems()},0)}),a.ShowLiveChat=!d.getIsLiveChatDisabled();var u=null;t.getActiveSubMenuItem=function(a){var b=o("filter")(t.menuItems,{SubMenuItems:{URL:a}});if(!b.length)return null;var c=o("filter")(b[0].SubMenuItems,{URL:a}),d=t.menuItems.indexOf(b[0]);if(t.menuItems[d].subMenuActive=!0,d<t.menuItems.length-1){t.menuItems[d+1].previousMenuActive=!0;var e=t.menuItems.length>d?angular.element(document.querySelector("#sideMenu"+t.menuItems[d+1].Id)):null;null==e||t.mobileConfig.isMobile||e[0].classList.add("menuTop")}return null!=c?c[0]:null},t.activeItem=function(a,b){const c=window.location.pathname.split("/"),d=c[c.length-1]?c[c.length-1]:c[c.length-2];if(t.menuItems){var e=o("filter")(t.menuItems,{URL:a?a:d})[0];if(e)t.activeItemId=e.Id;else{var f=t.getActiveSubMenuItem(a);f?t.activeItemId=f.Id:t.activeItemId=-1}var g=e||f||{};/MSIE|Trident/gi.test(navigator.userAgent)?l.activeRouteVueAva=!1:l.activeRouteVueAva=g.IsNewClient&&g.URL,l.activeRouteVueAvaLoading=!1}},a.$on("withdrawlPermissionsLoaded",function(a,b){t.sideMenuDisable=!1}),a.$on("withdrawlPermissionsRequested",function(){t.sideMenuDisable=!0}),t.updateUrls=function(a){return angular.forEach(a,function(a,b){/domainName/i.test(a.URL)&&(a.URL=a.URL.replace("domainName/",window.AvaTradeDomain))}),a},t.getConditionFromUserProfile=function(){return t.hasRealAccount?t.userProfile?t.userProfile.ProfessionalTrader.Status:i.userProfile.ProfessionalTrader.Status:10},t.updateOverrideFields=function(a){return angular.forEach(a,function(a){angular.forEach(a.FieldOverride,function(b){b.ConditionId==t.conditionId&&(a[b.Key]=b.Value)})}),a},t.updateOverrideTranslations=function(a){return angular.forEach(a,function(a){angular.forEach(a.TranslationOverride,function(b){b.ConditionId==t.conditionId&&(b.IsSubtitle?a.Subtitle=b.Translation:a.Name=b.Translation)})}),a},t.removeInactiveMenuItems=function(a){var c=a.filter(function(a){return"0"!==a.Active});return b.ProTraderDisable&&(c=c.filter(function(a){return"Professional Trader"!=a.Name})),c},t.RemoveURLWhenNotMobile=function(a){if(!t.mobileConfig.isMobile){var b=o("filter")(a,{SubMenuItems:{URL:"deposit"}});a[a.indexOf(b[0])].URL="";var c=o("filter")(a,{SubMenuItems:{URL:"withdrawl_funds"}});a[a.indexOf(c[0])].URL=""}return a},t.removeNewClientMenuItemsIE=function(a){if(!/MSIE|Trident/gi.test(navigator.userAgent))return a;const b=a.filter(function(a){return"account_info"!==a.URL});return b},t.checkReferFriendShow=function(a){l.referFriendExist=a.filter(function(a){return l.$broadcast("ReferFriendDeposit"),"Refer a friend"==a.Name})},t.getMenuItems=function(){t.progressCounter++,t.progressCounter>1||g.getMenuItems().then(function(a){t.progressCounter--,t.hasRealAccount=d.hasRealAccount(),t.conditionId=t.getConditionFromUserProfile(),a.data=t.updateUrls(a.data),a.data=t.updateOverrideFields(a.data),a.data=t.updateOverrideTranslations(a.data),a.data=t.removeInactiveMenuItems(a.data),a.data=t.RemoveURLWhenNotMobile(a.data),a.data=t.removeNewClientMenuItemsIE(a.data),t.checkReferFriendShow(a.data),t.menuItems=a.data,t.activeItem(t.stateName),c&&c.SharpTraderLink&&(t.educationItem={li_id:"sideMenu"+(t.menuItems.length+1),a_id:"menuItem"+(t.menuItems.length+1),a_link:c.SharpTraderLink,img_path:"education.png"})})},t.checkSubMenu=function(a,b){null==b&&t.menuItems[a].SubMenuItems.length>0?(t.menuItems[a].subMenuActive=!t.menuItems[a].subMenuActive,t.parentWithSubMenus=!0,t.mobileConfig.isMobile||t.nextMenuItem(a)):null!=b?(t.activeItemId="withdrawl_funds"==t.menuItems[b].SubMenuItems[a].URL?t.withdrawlFundsAllow?t.menuItems[b].SubMenuItems[a].Id:t.activeItemId:t.menuItems[b].SubMenuItems[a].Id,t.parentWithSubMenus=!1):null==b&&0==t.menuItems[a].SubMenuItems.length&&(t.parentWithSubMenus=!1),s.sideMenuNavigation(t.menuItems[a].URL)},t.nextMenuItem=function(a){var b=null;b=a<t.menuItems.length-1?angular.element(document.querySelector("#sideMenu"+t.menuItems[a+1].Id)):null,
null==b&&t.IsATrade&&(b=angular.element(document.querySelector("#sideMenu"+(t.menuItems.length+1)))),null!=b?t.menuItems[a].subMenuActive?b[0].classList.add("menuTop"):b[0].classList.remove("menuTop"):t.menuItems[a].subMenuActive?angular.element(document.querySelector("#marginMenu").classList.remove("menuNoneblock")):angular.element(document.querySelector("#marginMenu").classList.add("menuNoneblock"))},l.$on("$stateChangeSuccess",function(a,b,c,d,e){t.stateName=b.name,t.activeItem(t.stateName,d.name),t.activeItem(b.name),""==d.name&&checkWithdrawalFundsAllowance(b)}),l.$on("$stateChangeStart",function(a,b,c,d,e){return"/upload_document"==k.current.url?void l.$broadcast("upload-document-check-status",{isLogOut:!1,toState:b,event:a,fromState:d}):void t.stateChangeStart(a,b,c,d,e)}),t.stateChangeStart=function(a,b,c,e,f){if(t.menuItems){var g=o("filter")(t.menuItems,{URL:b.name})[0];if(!g){var h=o("filter")(t.menuItems,{SubMenuItems:{URL:b.name}});g=o("filter")(h[0].SubMenuItems,{URL:b.name})[0]}g&&b&&g.RequireUpgradeAccount&&!u&&(u=d.checkUpgradeAccountPopup(e.state)),u||!t.isDemoExpired()||v(b)||(-1===b.name.indexOf("my_account")?u=d.checkUpgradeAccountPopup(e.state):a.preventDefault()),u?a.preventDefault():t.withdrawlFundsAllow=!1}};var v=function(a){return-1!==a.name.indexOf("register")||-1!==a.name.indexOf("home")||-1!==a.name.indexOf("typ")};a.$on("upload-document-status",function(a,b){t.stateChangeStart(b.event,b.toState,b.toParams,b.fromState,b.fromParams)}),l.$on("dialogClosed",function(){u=null}),a.$on("loggedIn",function(a,b){t.menuItems||t.getMenuItems()}),a.$on("sideMenuDisable",function(a,b){t.sideMenuDisable=!0}),a.$on("sideMenuEnable",function(a,b){t.sideMenuDisable=!1}),l.$on("updateLeftSideMenu",function(a,b){t.getMenuItems()}),n.getIsLoggedIn()&&t.getMenuItems(),l.$on("updateBonusBannerVisibility",function(b,c){c&&void 0!=c.visible?a.showDepositBonusSideBox=l.showDepositBonusSideBox=c.visible:a.showDepositBonusSideBox=l.showDepositBonusSideBox=d.checkDepoitBonusAllowance()}),a.showDepositBonusSideBox=l.showDepositBonusSideBox=d.checkDepoitBonusAllowance(),t.openWlecomBonus=function(){a.showDepositBonusSideBox&&(d.hasRealAccountDepositBonus()?r.open({template:"components/deposit_bonus/deposit_bonus.html",className:"ngdialog-theme-default ngdialog-bonus",controller:"DepositBonusCtrl",controllerAs:"bonus"}):d.openUpgradeAccountDialog())},t.logOut=function(){l.$broadcast("logOut")},t.updateIsShowHamburger=function(){l.$broadcast("updateIsShowHamburger",{IsParent:t.parentWithSubMenus})},t.isLeftOrRightDirection=function(){t.isLeftOrRight=l.direction},l.$on("langDirectionUpdated",function(a,b){t.isLeftOrRightDirection()}),t.isLeftOrRightDirection()}];angular.module("app").component("sideMenuCmp",{bindings:{langDirection:"=",isAtrade:"="},templateUrl:"components/side-menu/side-menu-cmp.html",controller:sideMenuCmp}),function(a){function b(a,b,c,d,e,f){var g=this;g.getMenuItems=function(){var e=Object.assign({},f,d.userProfile);if(angular.module("app").constant("UserProfile",e),!c.isLoggedIn||!e||!e.Accounts){var g=a.defer();return g.reject(),g.promise}var h=e?e.CountryID:d.selectedCountryId,i=d.WhiteLabelName||d.whiteLabelData.Name,j=e?e.BusinessGroupId:d.businessGroupId,k=window.webApidomain+"api/DynamicContent/GetMenuItems_NewCrm?lang="+c.lang+(h?"&countryId="+h:"")+(i?"&WhiteLabel="+i:"")+(j?"&businessGroupId="+j:"");return b.get(k)}}angular.module("app").service("SideMenuService",["$q","$http","$localStorage","$sessionStorage","$rootScope","UserProfile",b])}(window),angular.module("app").component("sideMenuMobileLoginCmp",{bindings:{langDirection:"="},templateUrl:"components/side-menu-mobile-logout/side-menu-mobile-logout-cmp.html"}),function(){function a(a,b,c,d,e,f,g,h,i){var j=this;a.$on("userProfileUpdated",function(a,b){j.userProfile=e.getLocalUserProfile()});var k=function(a){var b=g.isNativeMobile();return b?a.replace(/<a\b[^>]*>/gi,"").replace(/<\/a>/gi,""):a},l=function(a){return f.IsChinaDomain()&&(a=a.replace("common/full-risk-disclaimer","common/full-risk-disclaimer.pdf")),a},m=function(){j.cnAppendix=null,location.hostname.endsWith(".cn")&&(j.cnAppendix="footer_cnAppendix")};b.$on("$stateChangeStart",function(a,b,d,e,f){10==c.businessGroupId&&("account_statement"==b.name?j.disclaimer=h("translate")("canada_accountStatement_footer"):"account_statement"==e.name&&j.GetDisclaimer())}),b.$on("$stateChangeSuccess",function(a,b,c,d,e){i.search().AppName&&i.search().AppName.toLowerCase(),i.search().asid&&i.search().asid.toLowerCase()}),j.GetDisclaimer=function(){d.GetDisclaimer().then(function(a){j.disclaimer=l(a.data),o(),j.disclaimer=k(j.disclaimer),m()})},b.$on("customerDataUpdate",function(a,b){console.log("1"),j.GetDisclaimer()}),b.$on("BGUpdate",function(a,b){console.log("2"),j.GetDisclaimer()});var n;j.userProfile=e.getLocalUserProfile(),n=j.userProfile&&j.userProfile.BusinessGroupId?j.userProfile.BusinessGroupId:c.businessGroupId,n?(console.log("3"),j.GetDisclaimer()):d.GetDefaultDisclaimer().then(function(a){j.disclaimer=a.data,o(),m()});var o=function(){"sentry"!=c.whiteLabelData.CompanyName.toLowerCase()&&"sentry derivatives"!=c.whiteLabelData.CompanyName.toLowerCase()&&"crypto-x"!=c.whiteLabelData.CompanyName.toLowerCase()&&"friedbergdirectava"!=c.whiteLabelData.CompanyName.toLowerCase()||!j.disclaimer.includes("{{companyName}}")||(j.disclaimer=j.disclaimer.replace(/{{companyName}}/g,"AvaTrade"))}}angular.module("app").controller("FooterCtrl",["$scope","$rootScope","$sessionStorage","FooterService","AccountService","DomainService","CommonService","$filter","$location",a])}(),function(){function a(a,b,c,d){var e=this;e.GetDisclaimer=function(){var f,g;return e.userProfile=d.getLocalUserProfile(),e.userProfile&&e.userProfile.BusinessGroupId?(f=e.userProfile.BusinessGroupId,g=e.userProfile.WhiteLabelName):f=b.businessGroupId,g||(g=b.WhiteLabelName||b.whiteLabelData.Name),a.get(window.webApidomain+"api/Disclaimer/GetDisclaimer_NewCrm?lang="+c.lang+"&businessGroupId="+f+"&whiteLabelName="+g)},e.GetDefaultDisclaimer=function(){var d;return d=b.WhiteLabelName?b.WhiteLabelName:b.whiteLabelData.Name,a.get(window.webApidomain+"api/Disclaimer/GetDisclaimer_NewCrm?lang="+c.lang+"&whiteLabelName="+d)}}angular.module("app").service("FooterService",["$http","$sessionStorage","$localStorage","AccountService",a])}(),function(){function a(a,b,c,d,e){var f=this;a.disableMe=!1,a.isAtradeRegulation=c.atradeRegulation||"atrade"===c.WhiteLabelName.toLowerCase(),f.sharpTraderSupportedLanguages=["fr","de","it","es","zh-hans","ar","pl"],f.selectedLang=d.getSelectedLang(),f.sharpTraderLang="",-1!==f.sharpTraderSupportedLanguages.indexOf(f.selectedLang)&&(f.sharpTraderLang=f.selectedLang),a.sharpTraderLink='<a href="http://www.sharptrader.com/'+f.sharpTraderLang+'" target="_blank" class="sharpTraderLink">',a.showMey=!1,b("eu_medium_score_based_information_sharptrader",{sharpTraderLink:a.sharpTraderLink}).then(function(b){a.eu_medium_score_based_information_sharptrader=b})}angular.module("app").controller("EuMedScoreCtrl",["$scope","$translate","$sessionStorage","LanguageService","CommonService",a])}();var headerBalance=["$scope","AccountService","$sessionStorage","$rootScope","AuthService","$filter","$timeout",function(a,b,c,d,e,f,g){var h=this;whereToShowTimer=["deposit/typ"],a.$on("loggedIn",function(a,b){h.isLoggedIn=e.getIsLoggedIn()}),a.$on("loggedOut",function(a,b){h.isLoggedIn=e.getIsLoggedIn()}),a.$on("$locationChangeSuccess",function(a,b,c){h.ifShowTimer=whereToShowTimer.some(function(a){return b.indexOf(a)>-1})}),h.isLoggedIn=e.getIsLoggedIn(),h.sumBalance=function(a){var b=0;return angular.forEach(a,function(a,c){b+=a.Equity}),b},h.refreshEquity=function(){b.refreshEquity().then(function(){a.$apply(function(){b.SetIsBalanceLoading(!1)})})},h.updateBalance=function(){h.accountsBalances=b.getLocalAccountsBalances(),h.accountsBalances&&(h.realAccountsList=f("filter")(h.accountsBalances,{IsReal:!0}),h.tempCurrencyGroups=f("groupBy")(h.realAccountsList,"Currency"),h.CurrencyGroups=[],angular.forEach(h.tempCurrencyGroups,function(a,b){h.sum=h.sumBalance(a),h.CurrencyGroups.push({currencyName:b,sum:h.sum})}),0==h.CurrencyGroups.length&&(h.CurrencyGroups=void 0),c.CurrencyGroups=h.CurrencyGroups)},a.$on("accountsBalancesUpdated",function(a,b){h.updateBalance(),d.$broadcast("updateChallengeWidgetEquity")}),h.CurrencyGroups||h.updateBalance()}];angular.module("app").component("headerBalance",{bindings:{isMobile:"="},templateUrl:"components/header-balance/header-balance.html",controller:headerBalance});var realDemoAccountsNavBtns=["$scope","$rootScope","CommonService","$sessionStorage",function(a,b,c,d){var e=this;a.$evalAsync(function(){e.showNavBtns=!0,e.isRealSelected=!0,e.isWebtrader=!1,(d.WhiteLabelMode&&"wtiframe"==d.WhiteLabelMode||JSON.parse(userProfile)&&JSON.parse(userProfile).Tags.indexOf("Webtrader")>-1)&&(e.isWebtrader=!0)}),e.setRealSelected=function(a){b.$broadcast("setIsRealSelected",{isRealSelected:a})},b.$on("setIsRealSelected",function(a,b){e.isRealSelected=b.isRealSelected,b.isRealEmpty&&(e.showReal=!b.isRealEmpty),b.isDemoEmpty&&(e.showDemo=!b.isDemoEmpty)})}];angular.module("app").component("realDemoAccountsNavBtns",{bindings:{showReal:"=",showDemo:"="},templateUrl:"components/real-demo-accounts-nav-btns/real-demo-accounts-nav-btns.html",controller:realDemoAccountsNavBtns}),function(a){var b=function(b,c,d,e,f,g,h){function i(a){var b=a.Accounts.filter(function(a){return a.Challenge&&a.Challenge.Id});return b=b&&b.shift()}function j(a){var b=e.getLocalAccountsBalances();if(b){var c=b.filter(function(b){return b.AccountId==a.AccountId});if(c&&c.length>0)return c[0].Equity}return a.AccountBalance.Equity}function k(a){return a?{equity:j(a),rank:a.Challenge.Rank,tp:a.TPAccountID}:null}function l(a,b){var d=/localhost/.test(window.location.hostname)?f.myAvaWebroot:"";return{topN:5,showRegButton:!0,tp:a&&a.TPAccountID||void 0,fixed:!0,lang:c.lang||"en",whiteLabel:b&&b.Name||"AvaTrade",servicesDomain:f.servicesDomain,myAvaDomain:f.myAvaDomain,myAvaWebroot:f.myAvaWebroot,joinUrl:f.myAvaDomain+d+"register/short_registration/2",token:c.token,relevantUser:k(a),cbChallengeReady:function(a){h.$broadcast("challengeObjReady",a)}}}function m(){var c=d.getLocalUserProfile();if(c){var e=i(c),f=b.whiteLabelData,g=l(e,f),h=document.createElement("div");h.setAttribute("id","challengeWidget"),document.getElementsByTagName("body")[0].appendChild(h),(c.ChallengeEligable||e)&&(a.challengeWidgetObj=new a.challengeWidget(h,e&&e.Challenge.Id||0,g))}}function n(){var a=document.getElementById("challengeWidget");a&&document.getElementsByTagName("body")[0].removeChild(a)}function o(){if(a.challengeWidgetObj){var b=d.getLocalUserProfile();if(b){var c=i(b);if(c){var e=j(c);a.challengeWidgetObj.updateEquity(e)}}}}m(),g.$on("refreshChallengeWidget",function(a,b){n(),e.GetAccountsBalances(),m()}),g.$on("killChallengeWidget",function(a,b){n()}),g.$on("updateChallengeWidgetEquity",function(a,b){o()})};angular.module("app").component("challengeWidgetCmp",{bindings:{},controller:["$sessionStorage","$localStorage","UserProfileService","AccountService","MyAvaConfig","$scope","$rootScope",b]})}(window),$(document).ready(function(){function a(){getParameterByName("LoginToken")?($("#loading_PreparingAccount").removeClass("hide"),$("#loading_PreparingAccount").addClass("show")):($("#loading_PreparingAccount").removeClass("show"),$("#loading_PreparingAccount").addClass("hide"))}a()});